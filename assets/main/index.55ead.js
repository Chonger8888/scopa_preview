window.__require=function t(e,n,o){function i(a,s){if(!n[a]){if(!e[a]){var c=a.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){return i(e[a][1][t]||t)},u,u.exports,t,e,n,o)}return n[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(t,e,n){var o=n;o.bignum=t("bn.js"),o.define=t("./asn1/api").define,o.base=t("./asn1/base"),o.constants=t("./asn1/constants"),o.decoders=t("./asn1/decoders"),o.encoders=t("./asn1/encoders")},{"./asn1/api":2,"./asn1/base":4,"./asn1/constants":8,"./asn1/decoders":10,"./asn1/encoders":13,"bn.js":15}],2:[function(t,e,n){var o=t("../asn1"),i=t("inherits");function r(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}n.define=function(t,e){return new r(t,e)},r.prototype._createNamed=function(e){var n;try{n=t("vm").runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(o){n=function(t){this._initNamed(t)}}return i(n,e),n.prototype._initNamed=function(t){e.call(this,t)},new n(this)},r.prototype._getDecoder=function(t){return t=t||"der",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(o.decoders[t])),this.decoders[t]},r.prototype.decode=function(t,e,n){return this._getDecoder(e).decode(t,n)},r.prototype._getEncoder=function(t){return t=t||"der",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(o.encoders[t])),this.encoders[t]},r.prototype.encode=function(t,e,n){return this._getEncoder(e).encode(t,n)}},{"../asn1":1,inherits:140,vm:197}],3:[function(t,e,n){var o=t("inherits"),i=t("../base").Reporter,r=t("buffer").Buffer;function a(t,e){i.call(this,e),r.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error("Input not Buffer")}function s(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(t){return t instanceof s||(t=new s(t,e)),this.length+=t.length,t},this);else if("number"==typeof t){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if("string"==typeof t)this.value=t,this.length=r.byteLength(t);else{if(!r.isBuffer(t))return e.error("Unsupported type: "+typeof t);this.value=t,this.length=t.length}}o(a,i),n.DecoderBuffer=a,a.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},a.prototype.restore=function(t){var e=new a(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,i.prototype.restore.call(this,t.reporter),e},a.prototype.isEmpty=function(){return this.offset===this.length},a.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},a.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||"DecoderBuffer overrun");var n=new a(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+t,this.offset+=t,n},a.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},n.EncoderBuffer=s,s.prototype.join=function(t,e){return t||(t=new r(this.length)),e||(e=0),0===this.length?t:(Array.isArray(this.value)?this.value.forEach(function(n){n.join(t,e),e+=n.length}):("number"==typeof this.value?t[e]=this.value:"string"==typeof this.value?t.write(this.value,e):r.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length),t)}},{"../base":4,buffer:66,inherits:140}],4:[function(t,e,n){var o=n;o.Reporter=t("./reporter").Reporter,o.DecoderBuffer=t("./buffer").DecoderBuffer,o.EncoderBuffer=t("./buffer").EncoderBuffer,o.Node=t("./node")},{"./buffer":3,"./node":5,"./reporter":6}],5:[function(t,e){var n=t("../base").Reporter,o=t("../base").EncoderBuffer,i=t("../base").DecoderBuffer,r=t("minimalistic-assert"),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],s=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function c(t,e){var n={};this._baseState=n,n.enc=t,n.parent=e||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}e.exports=c;var l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];c.prototype.clone=function(){var t=this._baseState,e={};l.forEach(function(n){e[n]=t[n]});var n=new this.constructor(e.parent);return n._baseState=e,n},c.prototype._wrap=function(){var t=this._baseState;s.forEach(function(e){this[e]=function(){var n=new this.constructor(this);return t.children.push(n),n[e].apply(n,arguments)}},this)},c.prototype._init=function(t){var e=this._baseState;r(null===e.parent),t.call(this),e.children=e.children.filter(function(t){return t._baseState.parent===this},this),r.equal(e.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(t){var e=this._baseState,n=t.filter(function(t){return t instanceof this.constructor},this);t=t.filter(function(t){return!(t instanceof this.constructor)},this),0!==n.length&&(r(null===e.children),e.children=n,n.forEach(function(t){t._baseState.parent=this},this)),0!==t.length&&(r(null===e.args),e.args=t,e.reverseArgs=t.map(function(t){if("object"!=typeof t||t.constructor!==Object)return t;var e={};return Object.keys(t).forEach(function(n){n==(0|n)&&(n|=0);var o=t[n];e[o]=n}),e}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(t){c.prototype[t]=function(){var e=this._baseState;throw new Error(t+" not implemented for encoding: "+e.enc)}}),a.forEach(function(t){c.prototype[t]=function(){var e=this._baseState,n=Array.prototype.slice.call(arguments);return r(null===e.tag),e.tag=t,this._useArgs(n),this}}),c.prototype.use=function(t){r(t);var e=this._baseState;return r(null===e.use),e.use=t,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(t){var e=this._baseState;return r(null===e.default),e.default=t,e.optional=!0,this},c.prototype.explicit=function(t){var e=this._baseState;return r(null===e.explicit&&null===e.implicit),e.explicit=t,this},c.prototype.implicit=function(t){var e=this._baseState;return r(null===e.explicit&&null===e.implicit),e.implicit=t,this},c.prototype.obj=function(){var t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},c.prototype.key=function(t){var e=this._baseState;return r(null===e.key),e.key=t,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(t){var e=this._baseState;return r(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map(function(e){return t[e]})),this},c.prototype.contains=function(t){var e=this._baseState;return r(null===e.use),e.contains=t,this},c.prototype._decode=function(t,e){var n=this._baseState;if(null===n.parent)return t.wrapResult(n.children[0]._decode(t,e));var o,r=n.default,a=!0,s=null;if(null!==n.key&&(s=t.enterKey(n.key)),n.optional){var c=null;if(null!==n.explicit?c=n.explicit:null!==n.implicit?c=n.implicit:null!==n.tag&&(c=n.tag),null!==c||n.any){if(a=this._peekTag(t,c,n.any),t.isError(a))return a}else{var l=t.save();try{null===n.choice?this._decodeGeneric(n.tag,t,e):this._decodeChoice(t,e),a=!0}catch(f){a=!1}t.restore(l)}}if(n.obj&&a&&(o=t.enterObject()),a){if(null!==n.explicit){var u=this._decodeTag(t,n.explicit);if(t.isError(u))return u;t=u}var d=t.offset;if(null===n.use&&null===n.choice){n.any&&(l=t.save());var p=this._decodeTag(t,null!==n.implicit?n.implicit:n.tag,n.any);if(t.isError(p))return p;n.any?r=t.raw(l):t=p}if(e&&e.track&&null!==n.tag&&e.track(t.path(),d,t.length,"tagged"),e&&e.track&&null!==n.tag&&e.track(t.path(),t.offset,t.length,"content"),r=n.any?r:null===n.choice?this._decodeGeneric(n.tag,t,e):this._decodeChoice(t,e),t.isError(r))return r;if(n.any||null!==n.choice||null===n.children||n.children.forEach(function(n){n._decode(t,e)}),n.contains&&("octstr"===n.tag||"bitstr"===n.tag)){var h=new i(r);r=this._getUse(n.contains,t._reporterState.obj)._decode(h,e)}}return n.obj&&a&&(r=t.leaveObject(o)),null===n.key||null===r&&!0!==a?null!==s&&t.exitKey(s):t.leaveKey(s,n.key,r),r},c.prototype._decodeGeneric=function(t,e,n){var o=this._baseState;return"seq"===t||"set"===t?null:"seqof"===t||"setof"===t?this._decodeList(e,t,o.args[0],n):/str$/.test(t)?this._decodeStr(e,t,n):"objid"===t&&o.args?this._decodeObjid(e,o.args[0],o.args[1],n):"objid"===t?this._decodeObjid(e,null,null,n):"gentime"===t||"utctime"===t?this._decodeTime(e,t,n):"null_"===t?this._decodeNull(e,n):"bool"===t?this._decodeBool(e,n):"objDesc"===t?this._decodeStr(e,t,n):"int"===t||"enum"===t?this._decodeInt(e,o.args&&o.args[0],n):null!==o.use?this._getUse(o.use,e._reporterState.obj)._decode(e,n):e.error("unknown tag: "+t)},c.prototype._getUse=function(t,e){var n=this._baseState;return n.useDecoder=this._use(t,e),r(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},c.prototype._decodeChoice=function(t,e){var n=this._baseState,o=null,i=!1;return Object.keys(n.choice).some(function(r){var a=t.save(),s=n.choice[r];try{var c=s._decode(t,e);if(t.isError(c))return!1;o={type:r,value:c},i=!0}catch(l){return t.restore(a),!1}return!0},this),i?o:t.error("Choice not matched")},c.prototype._createEncoderBuffer=function(t){return new o(t,this.reporter)},c.prototype._encode=function(t,e,n){var o=this._baseState;if(null===o.default||o.default!==t){var i=this._encodeValue(t,e,n);if(void 0!==i&&!this._skipDefault(i,e,n))return i}},c.prototype._encodeValue=function(t,e,o){var i=this._baseState;if(null===i.parent)return i.children[0]._encode(t,e||new n);var r=null;if(this.reporter=e,i.optional&&void 0===t){if(null===i.default)return;t=i.default}var a=null,s=!1;if(i.any)r=this._createEncoderBuffer(t);else if(i.choice)r=this._encodeChoice(t,e);else if(i.contains)a=this._getUse(i.contains,o)._encode(t,e),s=!0;else if(i.children)a=i.children.map(function(n){if("null_"===n._baseState.tag)return n._encode(null,e,t);if(null===n._baseState.key)return e.error("Child should have a key");var o=e.enterKey(n._baseState.key);if("object"!=typeof t)return e.error("Child expected, but input is not object");var i=n._encode(t[n._baseState.key],e,t);return e.leaveKey(o),i},this).filter(function(t){return t}),a=this._createEncoderBuffer(a);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return e.error("Too many args for : "+i.tag);if(!Array.isArray(t))return e.error("seqof/setof, but data is not Array");var c=this.clone();c._baseState.implicit=null,a=this._createEncoderBuffer(t.map(function(n){var o=this._baseState;return this._getUse(o.args[0],t)._encode(n,e)},c))}else null!==i.use?r=this._getUse(i.use,o)._encode(t,e):(a=this._encodePrimitive(i.tag,t),s=!0);if(!i.any&&null===i.choice){var l=null!==i.implicit?i.implicit:i.tag,u=null===i.implicit?"universal":"context";null===l?null===i.use&&e.error("Tag could be omitted only for .use()"):null===i.use&&(r=this._encodeComposite(l,s,u,a))}return null!==i.explicit&&(r=this._encodeComposite(i.explicit,!1,"context",r)),r},c.prototype._encodeChoice=function(t,e){var n=this._baseState,o=n.choice[t.type];return o||r(!1,t.type+" not found in "+JSON.stringify(Object.keys(n.choice))),o._encode(t.value,e)},c.prototype._encodePrimitive=function(t,e){var n=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if("objid"===t&&n.args)return this._encodeObjid(e,n.reverseArgs[0],n.args[1]);if("objid"===t)return this._encodeObjid(e,null,null);if("gentime"===t||"utctime"===t)return this._encodeTime(e,t);if("null_"===t)return this._encodeNull();if("int"===t||"enum"===t)return this._encodeInt(e,n.args&&n.reverseArgs[0]);if("bool"===t)return this._encodeBool(e);if("objDesc"===t)return this._encodeStr(e,t);throw new Error("Unsupported tag: "+t)},c.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},c.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(t)}},{"../base":4,"minimalistic-assert":145}],6:[function(t,e,n){var o=t("inherits");function i(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function r(t,e){this.path=t,this.rethrow(e)}n.Reporter=i,i.prototype.isError=function(t){return t instanceof r},i.prototype.save=function(){var t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},i.prototype.restore=function(t){var e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},i.prototype.enterKey=function(t){return this._reporterState.path.push(t)},i.prototype.exitKey=function(t){var e=this._reporterState;e.path=e.path.slice(0,t-1)},i.prototype.leaveKey=function(t,e,n){var o=this._reporterState;this.exitKey(t),null!==o.obj&&(o.obj[e]=n)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){var t=this._reporterState,e=t.obj;return t.obj={},e},i.prototype.leaveObject=function(t){var e=this._reporterState,n=e.obj;return e.obj=t,n},i.prototype.error=function(t){var e,n=this._reporterState,o=t instanceof r;if(e=o?t:new r(n.path.map(function(t){return"["+JSON.stringify(t)+"]"}).join(""),t.message||t,t.stack),!n.options.partial)throw e;return o||n.errors.push(e),e},i.prototype.wrapResult=function(t){var e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},o(r,Error),r.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,r),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},{inherits:140}],7:[function(t,e,n){var o=t("../constants");n.tagClass={0:"universal",1:"application",2:"context",3:"private"},n.tagClassByName=o._reverse(n.tagClass),n.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},n.tagByName=o._reverse(n.tag)},{"../constants":8}],8:[function(t,e,n){var o=n;o._reverse=function(t){var e={};return Object.keys(t).forEach(function(n){(0|n)==n&&(n|=0);var o=t[n];e[o]=n}),e},o.der=t("./der")},{"./der":7}],9:[function(t,e){var n=t("inherits"),o=t("../../asn1"),i=o.base,r=o.bignum,a=o.constants.der;function s(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){i.Node.call(this,"der",t)}function l(t,e){var n=t.readUInt8(e);if(t.isError(n))return n;var o=a.tagClass[n>>6],i=0==(32&n);if(31==(31&n)){var r=n;for(n=0;128==(128&r);){if(r=t.readUInt8(e),t.isError(r))return r;n<<=7,n|=127&r}}else n&=31;return{cls:o,primitive:i,tag:n,tagStr:a.tag[n]}}function u(t,e,n){var o=t.readUInt8(n);if(t.isError(o))return o;if(!e&&128===o)return null;if(0==(128&o))return o;var i=127&o;if(i>4)return t.error("length octect is too long");o=0;for(var r=0;r<i;r++){o<<=8;var a=t.readUInt8(n);if(t.isError(a))return a;o|=a}return o}e.exports=s,s.prototype.decode=function(t,e){return t instanceof i.DecoderBuffer||(t=new i.DecoderBuffer(t,e)),this.tree._decode(t,e)},n(c,i.Node),c.prototype._peekTag=function(t,e,n){if(t.isEmpty())return!1;var o=t.save(),i=l(t,'Failed to peek tag: "'+e+'"');return t.isError(i)?i:(t.restore(o),i.tag===e||i.tagStr===e||i.tagStr+"of"===e||n)},c.prototype._decodeTag=function(t,e,n){var o=l(t,'Failed to decode tag of "'+e+'"');if(t.isError(o))return o;var i=u(t,o.primitive,'Failed to get length of "'+e+'"');if(t.isError(i))return i;if(!n&&o.tag!==e&&o.tagStr!==e&&o.tagStr+"of"!==e)return t.error('Failed to match tag: "'+e+'"');if(o.primitive||null!==i)return t.skip(i,'Failed to match body of: "'+e+'"');var r=t.save(),a=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(a)?a:(i=t.offset-r.offset,t.restore(r),t.skip(i,'Failed to match body of: "'+e+'"'))},c.prototype._skipUntilEnd=function(t,e){for(;;){var n=l(t,e);if(t.isError(n))return n;var o,i=u(t,n.primitive,e);if(t.isError(i))return i;if(o=n.primitive||null!==i?t.skip(i):this._skipUntilEnd(t,e),t.isError(o))return o;if("end"===n.tagStr)break}},c.prototype._decodeList=function(t,e,n,o){for(var i=[];!t.isEmpty();){var r=this._peekTag(t,"end");if(t.isError(r))return r;var a=n.decode(t,"der",o);if(t.isError(a)&&r)break;i.push(a)}return i},c.prototype._decodeStr=function(t,e){if("bitstr"===e){var n=t.readUInt8();return t.isError(n)?n:{unused:n,data:t.raw()}}if("bmpstr"===e){var o=t.raw();if(o.length%2==1)return t.error("Decoding of string type: bmpstr length mismatch");for(var i="",r=0;r<o.length/2;r++)i+=String.fromCharCode(o.readUInt16BE(2*r));return i}if("numstr"===e){var a=t.raw().toString("ascii");return this._isNumstr(a)?a:t.error("Decoding of string type: numstr unsupported characters")}if("octstr"===e)return t.raw();if("objDesc"===e)return t.raw();if("printstr"===e){var s=t.raw().toString("ascii");return this._isPrintstr(s)?s:t.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(e)?t.raw().toString():t.error("Decoding of string type: "+e+" unsupported")},c.prototype._decodeObjid=function(t,e,n){for(var o,i=[],r=0;!t.isEmpty();){var a=t.readUInt8();r<<=7,r|=127&a,0==(128&a)&&(i.push(r),r=0)}128&a&&i.push(r);var s=i[0]/40|0,c=i[0]%40;if(o=n?i:[s,c].concat(i.slice(1)),e){var l=e[o.join(" ")];void 0===l&&(l=e[o.join(".")]),void 0!==l&&(o=l)}return o},c.prototype._decodeTime=function(t,e){var n=t.raw().toString();if("gentime"===e)var o=0|n.slice(0,4),i=0|n.slice(4,6),r=0|n.slice(6,8),a=0|n.slice(8,10),s=0|n.slice(10,12),c=0|n.slice(12,14);else{if("utctime"!==e)return t.error("Decoding "+e+" time is not supported yet");o=0|n.slice(0,2),i=0|n.slice(2,4),r=0|n.slice(4,6),a=0|n.slice(6,8),s=0|n.slice(8,10),c=0|n.slice(10,12),o=o<70?2e3+o:1900+o}return Date.UTC(o,i-1,r,a,s,c,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(t){var e=t.readUInt8();return t.isError(e)?e:0!==e},c.prototype._decodeInt=function(t,e){var n=t.raw(),o=new r(n);return e&&(o=e[o.toString(10)]||o),o},c.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getDecoder("der").tree}},{"../../asn1":1,inherits:140}],10:[function(t,e,n){var o=n;o.der=t("./der"),o.pem=t("./pem")},{"./der":9,"./pem":11}],11:[function(t,e){var n=t("inherits"),o=t("buffer").Buffer,i=t("./der");function r(t){i.call(this,t),this.enc="pem"}n(r,i),e.exports=r,r.prototype.decode=function(t,e){for(var n=t.toString().split(/[\r\n]+/g),r=e.label.toUpperCase(),a=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,c=-1,l=0;l<n.length;l++){var u=n[l].match(a);if(null!==u&&u[2]===r){if(-1!==s){if("END"!==u[1])break;c=l;break}if("BEGIN"!==u[1])break;s=l}}if(-1===s||-1===c)throw new Error("PEM section not found for: "+r);var d=n.slice(s+1,c).join("");d.replace(/[^a-z0-9\+\/=]+/gi,"");var p=new o(d,"base64");return i.prototype.decode.call(this,p,e)}},{"./der":9,buffer:66,inherits:140}],12:[function(t,e){var n=t("inherits"),o=t("buffer").Buffer,i=t("../../asn1"),r=i.base,a=i.constants.der;function s(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){r.Node.call(this,"der",t)}function l(t){return t<10?"0"+t:t}function u(t,e,n,o){var i;if("seqof"===t?t="seq":"setof"===t&&(t="set"),a.tagByName.hasOwnProperty(t))i=a.tagByName[t];else{if("number"!=typeof t||(0|t)!==t)return o.error("Unknown tag: "+t);i=t}return i>=31?o.error("Multi-octet tag encoding unsupported"):(e||(i|=32),i|=a.tagClassByName[n||"universal"]<<6)}e.exports=s,s.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},n(c,r.Node),c.prototype._encodeComposite=function(t,e,n,i){var r,a=u(t,e,n,this.reporter);if(i.length<128)return(r=new o(2))[0]=a,r[1]=i.length,this._createEncoderBuffer([r,i]);for(var s=1,c=i.length;c>=256;c>>=8)s++;(r=new o(2+s))[0]=a,r[1]=128|s,c=1+s;for(var l=i.length;l>0;c--,l>>=8)r[c]=255&l;return this._createEncoderBuffer([r,i])},c.prototype._encodeStr=function(t,e){if("bitstr"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if("bmpstr"===e){for(var n=new o(2*t.length),i=0;i<t.length;i++)n.writeUInt16BE(t.charCodeAt(i),2*i);return this._createEncoderBuffer(n)}return"numstr"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(e)?this._createEncoderBuffer(t):"objDesc"===e?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+e+" unsupported")},c.prototype._encodeObjid=function(t,e,n){if("string"==typeof t){if(!e)return this.reporter.error("string objid given, but no values map found");if(!e.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=e[t].split(/[\s\.]+/g);for(var i=0;i<t.length;i++)t[i]|=0}else if(Array.isArray(t))for(t=t.slice(),i=0;i<t.length;i++)t[i]|=0;if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!n){if(t[1]>=40)return this.reporter.error("Second objid identifier OOB");t.splice(0,2,40*t[0]+t[1])}var r=0;for(i=0;i<t.length;i++){var a=t[i];for(r++;a>=128;a>>=7)r++}var s=new o(r),c=s.length-1;for(i=t.length-1;i>=0;i--)for(a=t[i],s[c--]=127&a;(a>>=7)>0;)s[c--]=128|127&a;return this._createEncoderBuffer(s)},c.prototype._encodeTime=function(t,e){var n,o=new Date(t);return"gentime"===e?n=[l(o.getFullYear()),l(o.getUTCMonth()+1),l(o.getUTCDate()),l(o.getUTCHours()),l(o.getUTCMinutes()),l(o.getUTCSeconds()),"Z"].join(""):"utctime"===e?n=[l(o.getFullYear()%100),l(o.getUTCMonth()+1),l(o.getUTCDate()),l(o.getUTCHours()),l(o.getUTCMinutes()),l(o.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+e+" time is not supported yet"),this._encodeStr(n,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(t,e){if("string"==typeof t){if(!e)return this.reporter.error("String int or enum given, but no values map");if(!e.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=e[t]}if("number"!=typeof t&&!o.isBuffer(t)){var n=t.toArray();!t.sign&&128&n[0]&&n.unshift(0),t=new o(n)}if(o.isBuffer(t)){var i=t.length;0===t.length&&i++;var r=new o(i);return t.copy(r),0===t.length&&(r[0]=0),this._createEncoderBuffer(r)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);i=1;for(var a=t;a>=256;a>>=8)i++;for(a=(r=new Array(i)).length-1;a>=0;a--)r[a]=255&t,t>>=8;return 128&r[0]&&r.unshift(0),this._createEncoderBuffer(new o(r))},c.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},c.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getEncoder("der").tree},c.prototype._skipDefault=function(t,e,n){var o,i=this._baseState;if(null===i.default)return!1;var r=t.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,e,n).join()),r.length!==i.defaultBuffer.length)return!1;for(o=0;o<r.length;o++)if(r[o]!==i.defaultBuffer[o])return!1;return!0}},{"../../asn1":1,buffer:66,inherits:140}],13:[function(t,e,n){var o=n;o.der=t("./der"),o.pem=t("./pem")},{"./der":12,"./pem":14}],14:[function(t,e){var n=t("inherits"),o=t("./der");function i(t){o.call(this,t),this.enc="pem"}n(i,o),e.exports=i,i.prototype.encode=function(t,e){for(var n=o.prototype.encode.call(this,t).toString("base64"),i=["-----BEGIN "+e.label+"-----"],r=0;r<n.length;r+=64)i.push(n.slice(r,r+64));return i.push("-----END "+e.label+"-----"),i.join("\n")}},{"./der":12,inherits:140}],15:[function(t,e){(function(e,n){"use strict";function o(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function r(t,e,n){if(r.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var a;"object"==typeof e?e.exports=r:n.BN=r,r.BN=r,r.wordSize=26;try{a=t("buffer").Buffer}catch(L){}function s(t,e,n){for(var o=0,i=Math.min(t.length,n),r=e;r<i;r++){var a=t.charCodeAt(r)-48;o<<=4,o|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return o}function c(t,e,n,o){for(var i=0,r=Math.min(t.length,n),a=e;a<r;a++){var s=t.charCodeAt(a)-48;i*=o,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}r.isBN=function(t){return t instanceof r||null!==t&&"object"==typeof t&&t.constructor.wordSize===r.wordSize&&Array.isArray(t.words)},r.max=function(t,e){return t.cmp(e)>0?t:e},r.min=function(t,e){return t.cmp(e)<0?t:e},r.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),o(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),e,n)},r.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(o(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},r.prototype._initArray=function(t,e,n){if(o("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,a,s=0;if("be"===n)for(i=t.length-1,r=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[r]|=a<<s&67108863,this.words[r+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,r++);else if("le"===n)for(i=0,r=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[r]|=a<<s&67108863,this.words[r+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,r++);return this.strip()},r.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,i,r=0;for(n=t.length-6,o=0;n>=e;n-=6)i=s(t,n,n+6),this.words[o]|=i<<r&67108863,this.words[o+1]|=i>>>26-r&4194303,(r+=24)>=26&&(r-=26,o++);n+6!==e&&(i=s(t,e,n+6),this.words[o]|=i<<r&67108863,this.words[o+1]|=i>>>26-r&4194303),this.strip()},r.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var o=0,i=1;i<=67108863;i*=e)o++;o--,i=i/e|0;for(var r=t.length-n,a=r%o,s=Math.min(r,r-a)+n,l=0,u=n;u<s;u+=o)l=c(t,u,u+o,e),this.imuln(i),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==a){var d=1;for(l=c(t,u,t.length,e),u=0;u<a;u++)d*=e;this.imuln(d),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}},r.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},r.prototype.clone=function(){var t=new r(null);return this.copy(t),t},r.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},r.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},r.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},r.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function p(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var o=n/26|0,i=n%26;e[n]=(t.words[o]&1<<i)>>>i}return e}function h(t,e,n){n.negative=e.negative^t.negative;var o=t.length+e.length|0;n.length=o,o=o-1|0;var i=0|t.words[0],r=0|e.words[0],a=i*r,s=67108863&a,c=a/67108864|0;n.words[0]=s;for(var l=1;l<o;l++){for(var u=c>>>26,d=67108863&c,p=Math.min(l,e.length-1),h=Math.max(0,l-t.length+1);h<=p;h++){var f=l-h|0;u+=(a=(i=0|t.words[f])*(r=0|e.words[h])+d)/67108864|0,d=67108863&a}n.words[l]=0|d,c=0|u}return 0!==c?n.words[l]=0|c:n.length--,n.strip()}r.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,r=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<i|r)).toString(16);n=0!=(r=s>>>24-i&16777215)||a!==this.length-1?l[6-c.length]+c+n:c+n,(i+=2)>=26&&(i-=26,a--)}for(0!==r&&(n=r.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var p=u[t],h=d[t];n="";var f=this.clone();for(f.negative=0;!f.isZero();){var g=f.modn(h).toString(t);n=(f=f.idivn(h)).isZero()?g+n:l[p-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}o(!1,"Base should be between 2 and 36")},r.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},r.prototype.toJSON=function(){return this.toString(16)},r.prototype.toBuffer=function(t,e){return o(void 0!==a),this.toArrayLike(a,t,e)},r.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},r.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),r=n||Math.max(1,i);o(i<=r,"byte array longer than desired length"),o(r>0,"Requested array length <= 0"),this.strip();var a,s,c="le"===e,l=new t(r),u=this.clone();if(c){for(s=0;!u.isZero();s++)a=u.andln(255),u.iushrn(8),l[s]=a;for(;s<r;s++)l[s]=0}else{for(s=0;s<r-i;s++)l[s]=0;for(s=0;!u.isZero();s++)a=u.andln(255),u.iushrn(8),l[r-s-1]=a}return l},Math.clz32?r.prototype._countBits=function(t){return 32-Math.clz32(t)}:r.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},r.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0==(8191&e)&&(n+=13,e>>>=13),0==(127&e)&&(n+=7,e>>>=7),0==(15&e)&&(n+=4,e>>>=4),0==(3&e)&&(n+=2,e>>>=2),0==(1&e)&&n++,n},r.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},r.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},r.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},r.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},r.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},r.prototype.isNeg=function(){return 0!==this.negative},r.prototype.neg=function(){return this.clone().ineg()},r.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},r.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},r.prototype.ior=function(t){return o(0==(this.negative|t.negative)),this.iuor(t)},r.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},r.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},r.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},r.prototype.iand=function(t){return o(0==(this.negative|t.negative)),this.iuand(t)},r.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},r.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},r.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var o=0;o<n.length;o++)this.words[o]=e.words[o]^n.words[o];if(this!==e)for(;o<e.length;o++)this.words[o]=e.words[o];return this.length=e.length,this.strip()},r.prototype.ixor=function(t){return o(0==(this.negative|t.negative)),this.iuxor(t)},r.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},r.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},r.prototype.inotn=function(t){o("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},r.prototype.notn=function(t){return this.clone().inotn(t)},r.prototype.setn=function(t,e){o("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},r.prototype.iadd=function(t){var e,n,o;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,o=t):(n=t,o=this);for(var i=0,r=0;r<o.length;r++)e=(0|n.words[r])+(0|o.words[r])+i,this.words[r]=67108863&e,i=e>>>26;for(;0!==i&&r<n.length;r++)e=(0|n.words[r])+i,this.words[r]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;r<n.length;r++)this.words[r]=n.words[r];return this},r.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},r.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,o,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,o=t):(n=t,o=this);for(var r=0,a=0;a<o.length;a++)r=(e=(0|n.words[a])-(0|o.words[a])+r)>>26,this.words[a]=67108863&e;for(;0!==r&&a<n.length;a++)r=(e=(0|n.words[a])+r)>>26,this.words[a]=67108863&e;if(0===r&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},r.prototype.sub=function(t){return this.clone().isub(t)};var f=function(t,e,n){var o,i,r,a=t.words,s=e.words,c=n.words,l=0,u=0|a[0],d=8191&u,p=u>>>13,h=0|a[1],f=8191&h,g=h>>>13,_=0|a[2],y=8191&_,m=_>>>13,b=0|a[3],v=8191&b,S=b>>>13,w=0|a[4],C=8191&w,I=w>>>13,D=0|a[5],L=8191&D,R=D>>>13,P=0|a[6],T=8191&P,E=P>>>13,A=0|a[7],N=8191&A,G=A>>>13,M=0|a[8],O=8191&M,k=M>>>13,U=0|a[9],B=8191&U,x=U>>>13,F=0|s[0],H=8191&F,j=F>>>13,V=0|s[1],W=8191&V,K=V>>>13,Y=0|s[2],z=8191&Y,q=Y>>>13,J=0|s[3],Q=8191&J,X=J>>>13,Z=0|s[4],$=8191&Z,tt=Z>>>13,et=0|s[5],nt=8191&et,ot=et>>>13,it=0|s[6],rt=8191&it,at=it>>>13,st=0|s[7],ct=8191&st,lt=st>>>13,ut=0|s[8],dt=8191&ut,pt=ut>>>13,ht=0|s[9],ft=8191&ht,gt=ht>>>13;n.negative=t.negative^e.negative,n.length=19;var _t=(l+(o=Math.imul(d,H))|0)+((8191&(i=(i=Math.imul(d,j))+Math.imul(p,H)|0))<<13)|0;l=((r=Math.imul(p,j))+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,o=Math.imul(f,H),i=(i=Math.imul(f,j))+Math.imul(g,H)|0,r=Math.imul(g,j);var yt=(l+(o=o+Math.imul(d,W)|0)|0)+((8191&(i=(i=i+Math.imul(d,K)|0)+Math.imul(p,W)|0))<<13)|0;l=((r=r+Math.imul(p,K)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,o=Math.imul(y,H),i=(i=Math.imul(y,j))+Math.imul(m,H)|0,r=Math.imul(m,j),o=o+Math.imul(f,W)|0,i=(i=i+Math.imul(f,K)|0)+Math.imul(g,W)|0,r=r+Math.imul(g,K)|0;var mt=(l+(o=o+Math.imul(d,z)|0)|0)+((8191&(i=(i=i+Math.imul(d,q)|0)+Math.imul(p,z)|0))<<13)|0;l=((r=r+Math.imul(p,q)|0)+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,o=Math.imul(v,H),i=(i=Math.imul(v,j))+Math.imul(S,H)|0,r=Math.imul(S,j),o=o+Math.imul(y,W)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(m,W)|0,r=r+Math.imul(m,K)|0,o=o+Math.imul(f,z)|0,i=(i=i+Math.imul(f,q)|0)+Math.imul(g,z)|0,r=r+Math.imul(g,q)|0;var bt=(l+(o=o+Math.imul(d,Q)|0)|0)+((8191&(i=(i=i+Math.imul(d,X)|0)+Math.imul(p,Q)|0))<<13)|0;l=((r=r+Math.imul(p,X)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,o=Math.imul(C,H),i=(i=Math.imul(C,j))+Math.imul(I,H)|0,r=Math.imul(I,j),o=o+Math.imul(v,W)|0,i=(i=i+Math.imul(v,K)|0)+Math.imul(S,W)|0,r=r+Math.imul(S,K)|0,o=o+Math.imul(y,z)|0,i=(i=i+Math.imul(y,q)|0)+Math.imul(m,z)|0,r=r+Math.imul(m,q)|0,o=o+Math.imul(f,Q)|0,i=(i=i+Math.imul(f,X)|0)+Math.imul(g,Q)|0,r=r+Math.imul(g,X)|0;var vt=(l+(o=o+Math.imul(d,$)|0)|0)+((8191&(i=(i=i+Math.imul(d,tt)|0)+Math.imul(p,$)|0))<<13)|0;l=((r=r+Math.imul(p,tt)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,o=Math.imul(L,H),i=(i=Math.imul(L,j))+Math.imul(R,H)|0,r=Math.imul(R,j),o=o+Math.imul(C,W)|0,i=(i=i+Math.imul(C,K)|0)+Math.imul(I,W)|0,r=r+Math.imul(I,K)|0,o=o+Math.imul(v,z)|0,i=(i=i+Math.imul(v,q)|0)+Math.imul(S,z)|0,r=r+Math.imul(S,q)|0,o=o+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(m,Q)|0,r=r+Math.imul(m,X)|0,o=o+Math.imul(f,$)|0,i=(i=i+Math.imul(f,tt)|0)+Math.imul(g,$)|0,r=r+Math.imul(g,tt)|0;var St=(l+(o=o+Math.imul(d,nt)|0)|0)+((8191&(i=(i=i+Math.imul(d,ot)|0)+Math.imul(p,nt)|0))<<13)|0;l=((r=r+Math.imul(p,ot)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,o=Math.imul(T,H),i=(i=Math.imul(T,j))+Math.imul(E,H)|0,r=Math.imul(E,j),o=o+Math.imul(L,W)|0,i=(i=i+Math.imul(L,K)|0)+Math.imul(R,W)|0,r=r+Math.imul(R,K)|0,o=o+Math.imul(C,z)|0,i=(i=i+Math.imul(C,q)|0)+Math.imul(I,z)|0,r=r+Math.imul(I,q)|0,o=o+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,X)|0)+Math.imul(S,Q)|0,r=r+Math.imul(S,X)|0,o=o+Math.imul(y,$)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(m,$)|0,r=r+Math.imul(m,tt)|0,o=o+Math.imul(f,nt)|0,i=(i=i+Math.imul(f,ot)|0)+Math.imul(g,nt)|0,r=r+Math.imul(g,ot)|0;var wt=(l+(o=o+Math.imul(d,rt)|0)|0)+((8191&(i=(i=i+Math.imul(d,at)|0)+Math.imul(p,rt)|0))<<13)|0;l=((r=r+Math.imul(p,at)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,o=Math.imul(N,H),i=(i=Math.imul(N,j))+Math.imul(G,H)|0,r=Math.imul(G,j),o=o+Math.imul(T,W)|0,i=(i=i+Math.imul(T,K)|0)+Math.imul(E,W)|0,r=r+Math.imul(E,K)|0,o=o+Math.imul(L,z)|0,i=(i=i+Math.imul(L,q)|0)+Math.imul(R,z)|0,r=r+Math.imul(R,q)|0,o=o+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,X)|0)+Math.imul(I,Q)|0,r=r+Math.imul(I,X)|0,o=o+Math.imul(v,$)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(S,$)|0,r=r+Math.imul(S,tt)|0,o=o+Math.imul(y,nt)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(m,nt)|0,r=r+Math.imul(m,ot)|0,o=o+Math.imul(f,rt)|0,i=(i=i+Math.imul(f,at)|0)+Math.imul(g,rt)|0,r=r+Math.imul(g,at)|0;var Ct=(l+(o=o+Math.imul(d,ct)|0)|0)+((8191&(i=(i=i+Math.imul(d,lt)|0)+Math.imul(p,ct)|0))<<13)|0;l=((r=r+Math.imul(p,lt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,o=Math.imul(O,H),i=(i=Math.imul(O,j))+Math.imul(k,H)|0,r=Math.imul(k,j),o=o+Math.imul(N,W)|0,i=(i=i+Math.imul(N,K)|0)+Math.imul(G,W)|0,r=r+Math.imul(G,K)|0,o=o+Math.imul(T,z)|0,i=(i=i+Math.imul(T,q)|0)+Math.imul(E,z)|0,r=r+Math.imul(E,q)|0,o=o+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,X)|0)+Math.imul(R,Q)|0,r=r+Math.imul(R,X)|0,o=o+Math.imul(C,$)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(I,$)|0,r=r+Math.imul(I,tt)|0,o=o+Math.imul(v,nt)|0,i=(i=i+Math.imul(v,ot)|0)+Math.imul(S,nt)|0,r=r+Math.imul(S,ot)|0,o=o+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,at)|0)+Math.imul(m,rt)|0,r=r+Math.imul(m,at)|0,o=o+Math.imul(f,ct)|0,i=(i=i+Math.imul(f,lt)|0)+Math.imul(g,ct)|0,r=r+Math.imul(g,lt)|0;var It=(l+(o=o+Math.imul(d,dt)|0)|0)+((8191&(i=(i=i+Math.imul(d,pt)|0)+Math.imul(p,dt)|0))<<13)|0;l=((r=r+Math.imul(p,pt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,o=Math.imul(B,H),i=(i=Math.imul(B,j))+Math.imul(x,H)|0,r=Math.imul(x,j),o=o+Math.imul(O,W)|0,i=(i=i+Math.imul(O,K)|0)+Math.imul(k,W)|0,r=r+Math.imul(k,K)|0,o=o+Math.imul(N,z)|0,i=(i=i+Math.imul(N,q)|0)+Math.imul(G,z)|0,r=r+Math.imul(G,q)|0,o=o+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,X)|0)+Math.imul(E,Q)|0,r=r+Math.imul(E,X)|0,o=o+Math.imul(L,$)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(R,$)|0,r=r+Math.imul(R,tt)|0,o=o+Math.imul(C,nt)|0,i=(i=i+Math.imul(C,ot)|0)+Math.imul(I,nt)|0,r=r+Math.imul(I,ot)|0,o=o+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,at)|0)+Math.imul(S,rt)|0,r=r+Math.imul(S,at)|0,o=o+Math.imul(y,ct)|0,i=(i=i+Math.imul(y,lt)|0)+Math.imul(m,ct)|0,r=r+Math.imul(m,lt)|0,o=o+Math.imul(f,dt)|0,i=(i=i+Math.imul(f,pt)|0)+Math.imul(g,dt)|0,r=r+Math.imul(g,pt)|0;var Dt=(l+(o=o+Math.imul(d,ft)|0)|0)+((8191&(i=(i=i+Math.imul(d,gt)|0)+Math.imul(p,ft)|0))<<13)|0;l=((r=r+Math.imul(p,gt)|0)+(i>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,o=Math.imul(B,W),i=(i=Math.imul(B,K))+Math.imul(x,W)|0,r=Math.imul(x,K),o=o+Math.imul(O,z)|0,i=(i=i+Math.imul(O,q)|0)+Math.imul(k,z)|0,r=r+Math.imul(k,q)|0,o=o+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,X)|0)+Math.imul(G,Q)|0,r=r+Math.imul(G,X)|0,o=o+Math.imul(T,$)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(E,$)|0,r=r+Math.imul(E,tt)|0,o=o+Math.imul(L,nt)|0,i=(i=i+Math.imul(L,ot)|0)+Math.imul(R,nt)|0,r=r+Math.imul(R,ot)|0,o=o+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,at)|0)+Math.imul(I,rt)|0,r=r+Math.imul(I,at)|0,o=o+Math.imul(v,ct)|0,i=(i=i+Math.imul(v,lt)|0)+Math.imul(S,ct)|0,r=r+Math.imul(S,lt)|0,o=o+Math.imul(y,dt)|0,i=(i=i+Math.imul(y,pt)|0)+Math.imul(m,dt)|0,r=r+Math.imul(m,pt)|0;var Lt=(l+(o=o+Math.imul(f,ft)|0)|0)+((8191&(i=(i=i+Math.imul(f,gt)|0)+Math.imul(g,ft)|0))<<13)|0;l=((r=r+Math.imul(g,gt)|0)+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,o=Math.imul(B,z),i=(i=Math.imul(B,q))+Math.imul(x,z)|0,r=Math.imul(x,q),o=o+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,X)|0)+Math.imul(k,Q)|0,r=r+Math.imul(k,X)|0,o=o+Math.imul(N,$)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(G,$)|0,r=r+Math.imul(G,tt)|0,o=o+Math.imul(T,nt)|0,i=(i=i+Math.imul(T,ot)|0)+Math.imul(E,nt)|0,r=r+Math.imul(E,ot)|0,o=o+Math.imul(L,rt)|0,i=(i=i+Math.imul(L,at)|0)+Math.imul(R,rt)|0,r=r+Math.imul(R,at)|0,o=o+Math.imul(C,ct)|0,i=(i=i+Math.imul(C,lt)|0)+Math.imul(I,ct)|0,r=r+Math.imul(I,lt)|0,o=o+Math.imul(v,dt)|0,i=(i=i+Math.imul(v,pt)|0)+Math.imul(S,dt)|0,r=r+Math.imul(S,pt)|0;var Rt=(l+(o=o+Math.imul(y,ft)|0)|0)+((8191&(i=(i=i+Math.imul(y,gt)|0)+Math.imul(m,ft)|0))<<13)|0;l=((r=r+Math.imul(m,gt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,o=Math.imul(B,Q),i=(i=Math.imul(B,X))+Math.imul(x,Q)|0,r=Math.imul(x,X),o=o+Math.imul(O,$)|0,i=(i=i+Math.imul(O,tt)|0)+Math.imul(k,$)|0,r=r+Math.imul(k,tt)|0,o=o+Math.imul(N,nt)|0,i=(i=i+Math.imul(N,ot)|0)+Math.imul(G,nt)|0,r=r+Math.imul(G,ot)|0,o=o+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,at)|0)+Math.imul(E,rt)|0,r=r+Math.imul(E,at)|0,o=o+Math.imul(L,ct)|0,i=(i=i+Math.imul(L,lt)|0)+Math.imul(R,ct)|0,r=r+Math.imul(R,lt)|0,o=o+Math.imul(C,dt)|0,i=(i=i+Math.imul(C,pt)|0)+Math.imul(I,dt)|0,r=r+Math.imul(I,pt)|0;var Pt=(l+(o=o+Math.imul(v,ft)|0)|0)+((8191&(i=(i=i+Math.imul(v,gt)|0)+Math.imul(S,ft)|0))<<13)|0;l=((r=r+Math.imul(S,gt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,o=Math.imul(B,$),i=(i=Math.imul(B,tt))+Math.imul(x,$)|0,r=Math.imul(x,tt),o=o+Math.imul(O,nt)|0,i=(i=i+Math.imul(O,ot)|0)+Math.imul(k,nt)|0,r=r+Math.imul(k,ot)|0,o=o+Math.imul(N,rt)|0,i=(i=i+Math.imul(N,at)|0)+Math.imul(G,rt)|0,r=r+Math.imul(G,at)|0,o=o+Math.imul(T,ct)|0,i=(i=i+Math.imul(T,lt)|0)+Math.imul(E,ct)|0,r=r+Math.imul(E,lt)|0,o=o+Math.imul(L,dt)|0,i=(i=i+Math.imul(L,pt)|0)+Math.imul(R,dt)|0,r=r+Math.imul(R,pt)|0;var Tt=(l+(o=o+Math.imul(C,ft)|0)|0)+((8191&(i=(i=i+Math.imul(C,gt)|0)+Math.imul(I,ft)|0))<<13)|0;l=((r=r+Math.imul(I,gt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,o=Math.imul(B,nt),i=(i=Math.imul(B,ot))+Math.imul(x,nt)|0,r=Math.imul(x,ot),o=o+Math.imul(O,rt)|0,i=(i=i+Math.imul(O,at)|0)+Math.imul(k,rt)|0,r=r+Math.imul(k,at)|0,o=o+Math.imul(N,ct)|0,i=(i=i+Math.imul(N,lt)|0)+Math.imul(G,ct)|0,r=r+Math.imul(G,lt)|0,o=o+Math.imul(T,dt)|0,i=(i=i+Math.imul(T,pt)|0)+Math.imul(E,dt)|0,r=r+Math.imul(E,pt)|0;var Et=(l+(o=o+Math.imul(L,ft)|0)|0)+((8191&(i=(i=i+Math.imul(L,gt)|0)+Math.imul(R,ft)|0))<<13)|0;l=((r=r+Math.imul(R,gt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,o=Math.imul(B,rt),i=(i=Math.imul(B,at))+Math.imul(x,rt)|0,r=Math.imul(x,at),o=o+Math.imul(O,ct)|0,i=(i=i+Math.imul(O,lt)|0)+Math.imul(k,ct)|0,r=r+Math.imul(k,lt)|0,o=o+Math.imul(N,dt)|0,i=(i=i+Math.imul(N,pt)|0)+Math.imul(G,dt)|0,r=r+Math.imul(G,pt)|0;var At=(l+(o=o+Math.imul(T,ft)|0)|0)+((8191&(i=(i=i+Math.imul(T,gt)|0)+Math.imul(E,ft)|0))<<13)|0;l=((r=r+Math.imul(E,gt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,o=Math.imul(B,ct),i=(i=Math.imul(B,lt))+Math.imul(x,ct)|0,r=Math.imul(x,lt),o=o+Math.imul(O,dt)|0,i=(i=i+Math.imul(O,pt)|0)+Math.imul(k,dt)|0,r=r+Math.imul(k,pt)|0;var Nt=(l+(o=o+Math.imul(N,ft)|0)|0)+((8191&(i=(i=i+Math.imul(N,gt)|0)+Math.imul(G,ft)|0))<<13)|0;l=((r=r+Math.imul(G,gt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,o=Math.imul(B,dt),i=(i=Math.imul(B,pt))+Math.imul(x,dt)|0,r=Math.imul(x,pt);var Gt=(l+(o=o+Math.imul(O,ft)|0)|0)+((8191&(i=(i=i+Math.imul(O,gt)|0)+Math.imul(k,ft)|0))<<13)|0;l=((r=r+Math.imul(k,gt)|0)+(i>>>13)|0)+(Gt>>>26)|0,Gt&=67108863;var Mt=(l+(o=Math.imul(B,ft))|0)+((8191&(i=(i=Math.imul(B,gt))+Math.imul(x,ft)|0))<<13)|0;return l=((r=Math.imul(x,gt))+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,c[0]=_t,c[1]=yt,c[2]=mt,c[3]=bt,c[4]=vt,c[5]=St,c[6]=wt,c[7]=Ct,c[8]=It,c[9]=Dt,c[10]=Lt,c[11]=Rt,c[12]=Pt,c[13]=Tt,c[14]=Et,c[15]=At,c[16]=Nt,c[17]=Gt,c[18]=Mt,0!==l&&(c[19]=l,n.length++),n};function g(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var o=0,i=0,r=0;r<n.length-1;r++){var a=i;i=0;for(var s=67108863&o,c=Math.min(r,e.length-1),l=Math.max(0,r-t.length+1);l<=c;l++){var u=r-l,d=(0|t.words[u])*(0|e.words[l]),p=67108863&d;s=67108863&(p=p+s|0),i+=(a=(a=a+(d/67108864|0)|0)+(p>>>26)|0)>>>26,a&=67108863}n.words[r]=s,o=a,a=i}return 0!==o?n.words[r]=o:n.length--,n.strip()}function _(t,e,n){return(new y).mulp(t,e,n)}function y(t,e){this.x=t,this.y=e}Math.imul||(f=h),r.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?f(this,t,e):n<63?h(this,t,e):n<1024?g(this,t,e):_(this,t,e)},y.prototype.makeRBT=function(t){for(var e=new Array(t),n=r.prototype._countBits(t)-1,o=0;o<t;o++)e[o]=this.revBin(o,n,t);return e},y.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var o=0,i=0;i<e;i++)o|=(1&t)<<e-i-1,t>>=1;return o},y.prototype.permute=function(t,e,n,o,i,r){for(var a=0;a<r;a++)o[a]=e[t[a]],i[a]=n[t[a]]},y.prototype.transform=function(t,e,n,o,i,r){this.permute(r,t,e,n,o,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),u=0;u<i;u+=s)for(var d=c,p=l,h=0;h<a;h++){var f=n[u+h],g=o[u+h],_=n[u+h+a],y=o[u+h+a],m=d*_-p*y;y=d*y+p*_,_=m,n[u+h]=f+_,o[u+h]=g+y,n[u+h+a]=f-_,o[u+h+a]=g-y,h!==s&&(m=c*d-l*p,p=c*p+l*d,d=m)}},y.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),o=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+o},y.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var o=0;o<n/2;o++){var i=t[o];t[o]=t[n-o-1],t[n-o-1]=i,i=e[o],e[o]=-e[n-o-1],e[n-o-1]=-i}},y.prototype.normalize13b=function(t,e){for(var n=0,o=0;o<e/2;o++){var i=8192*Math.round(t[2*o+1]/e)+Math.round(t[2*o]/e)+n;t[o]=67108863&i,n=i<67108864?0:i/67108864|0}return t},y.prototype.convert13b=function(t,e,n,i){for(var r=0,a=0;a<e;a++)r+=0|t[a],n[2*a]=8191&r,r>>>=13,n[2*a+1]=8191&r,r>>>=13;for(a=2*e;a<i;++a)n[a]=0;o(0===r),o(0==(-8192&r))},y.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},y.prototype.mulp=function(t,e,n){var o=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(o),r=this.stub(o),a=new Array(o),s=new Array(o),c=new Array(o),l=new Array(o),u=new Array(o),d=new Array(o),p=n.words;p.length=o,this.convert13b(t.words,t.length,a,o),this.convert13b(e.words,e.length,l,o),this.transform(a,r,s,c,o,i),this.transform(l,r,u,d,o,i);for(var h=0;h<o;h++){var f=s[h]*u[h]-c[h]*d[h];c[h]=s[h]*d[h]+c[h]*u[h],s[h]=f}return this.conjugate(s,c,o),this.transform(s,c,p,r,o,i),this.conjugate(p,r,o),this.normalize13b(p,o),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},r.prototype.mul=function(t){var e=new r(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},r.prototype.mulf=function(t){var e=new r(null);return e.words=new Array(this.length+t.length),_(this,t,e)},r.prototype.imul=function(t){return this.clone().mulTo(t,this)},r.prototype.imuln=function(t){o("number"==typeof t),o(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,r=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=r>>>26,this.words[n]=67108863&r}return 0!==e&&(this.words[n]=e,this.length++),this},r.prototype.muln=function(t){return this.clone().imuln(t)},r.prototype.sqr=function(){return this.mul(this)},r.prototype.isqr=function(){return this.imul(this.clone())},r.prototype.pow=function(t){var e=p(t);if(0===e.length)return new r(1);for(var n=this,o=0;o<e.length&&0===e[o];o++,n=n.sqr());if(++o<e.length)for(var i=n.sqr();o<e.length;o++,i=i.sqr())0!==e[o]&&(n=n.mul(i));return n},r.prototype.iushln=function(t){o("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,r=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&r,c=(0|this.words[e])-s<<n;this.words[e]=c|a,a=s>>>26-n}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},r.prototype.ishln=function(t){return o(0===this.negative),this.iushln(t)},r.prototype.iushrn=function(t,e,n){var i;o("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var r=t%26,a=Math.min((t-r)/26,this.length),s=67108863^67108863>>>r<<r,c=n;if(i-=a,i=Math.max(0,i),c){for(var l=0;l<a;l++)c.words[l]=this.words[l];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=i);l--){var d=0|this.words[l];this.words[l]=u<<26-r|d>>>r,u=d&s}return c&&0!==u&&(c.words[c.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},r.prototype.ishrn=function(t,e,n){return o(0===this.negative),this.iushrn(t,e,n)},r.prototype.shln=function(t){return this.clone().ishln(t)},r.prototype.ushln=function(t){return this.clone().iushln(t)},r.prototype.shrn=function(t){return this.clone().ishrn(t)},r.prototype.ushrn=function(t){return this.clone().iushrn(t)},r.prototype.testn=function(t){o("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n||!(this.words[n]&i))},r.prototype.imaskn=function(t){o("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(o(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},r.prototype.maskn=function(t){return this.clone().imaskn(t)},r.prototype.iaddn=function(t){return o("number"==typeof t),o(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},r.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},r.prototype.isubn=function(t){if(o("number"==typeof t),o(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},r.prototype.addn=function(t){return this.clone().iaddn(t)},r.prototype.subn=function(t){return this.clone().isubn(t)},r.prototype.iabs=function(){return this.negative=0,this},r.prototype.abs=function(){return this.clone().iabs()},r.prototype._ishlnsubmul=function(t,e,n){var i,r,a=t.length+n;this._expand(a);var s=0;for(i=0;i<t.length;i++){r=(0|this.words[i+n])+s;var c=(0|t.words[i])*e;s=((r-=67108863&c)>>26)-(c/67108864|0),this.words[i+n]=67108863&r}for(;i<this.length-n;i++)s=(r=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&r;if(0===s)return this.strip();for(o(-1===s),s=0,i=0;i<this.length;i++)s=(r=-(0|this.words[i])+s)>>26,this.words[i]=67108863&r;return this.negative=1,this.strip()},r.prototype._wordDiv=function(t,e){var n=(this.length,t.length),o=this.clone(),i=t,a=0|i.words[i.length-1];0!=(n=26-this._countBits(a))&&(i=i.ushln(n),o.iushln(n),a=0|i.words[i.length-1]);var s,c=o.length-i.length;if("mod"!==e){(s=new r(null)).length=c+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var u=o.clone()._ishlnsubmul(i,1,c);0===u.negative&&(o=u,s&&(s.words[c]=1));for(var d=c-1;d>=0;d--){var p=67108864*(0|o.words[i.length+d])+(0|o.words[i.length+d-1]);for(p=Math.min(p/a|0,67108863),o._ishlnsubmul(i,p,d);0!==o.negative;)p--,o.negative=0,o._ishlnsubmul(i,1,d),o.isZero()||(o.negative^=1);s&&(s.words[d]=p)}return s&&s.strip(),o.strip(),"div"!==e&&0!==n&&o.iushrn(n),{div:s||null,mod:o}},r.prototype.divmod=function(t,e,n){return o(!t.isZero()),this.isZero()?{div:new r(0),mod:new r(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new r(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new r(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new r(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},r.prototype.div=function(t){return this.divmod(t,"div",!1).div},r.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},r.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},r.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,o=t.ushrn(1),i=t.andln(1),r=n.cmp(o);return r<0||1===i&&0===r?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},r.prototype.modn=function(t){o(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},r.prototype.idivn=function(t){o(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},r.prototype.divn=function(t){return this.clone().idivn(t)},r.prototype.egcd=function(t){o(0===t.negative),o(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new r(1),a=new r(0),s=new r(0),c=new r(1),l=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++l;for(var u=n.clone(),d=e.clone();!e.isZero();){for(var p=0,h=1;0==(e.words[0]&h)&&p<26;++p,h<<=1);if(p>0)for(e.iushrn(p);p-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(u),a.isub(d)),i.iushrn(1),a.iushrn(1);for(var f=0,g=1;0==(n.words[0]&g)&&f<26;++f,g<<=1);if(f>0)for(n.iushrn(f);f-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(u),c.isub(d)),s.iushrn(1),c.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(s),a.isub(c)):(n.isub(e),s.isub(i),c.isub(a))}return{a:s,b:c,gcd:n.iushln(l)}},r.prototype._invmp=function(t){o(0===t.negative),o(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new r(1),s=new r(0),c=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,u=1;0==(e.words[0]&u)&&l<26;++l,u<<=1);if(l>0)for(e.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var d=0,p=1;0==(n.words[0]&p)&&d<26;++d,p<<=1);if(d>0)for(n.iushrn(d);d-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);e.cmp(n)>=0?(e.isub(n),a.isub(s)):(n.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},r.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var o=0;e.isEven()&&n.isEven();o++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var r=e;e=n,n=r}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(o)},r.prototype.invm=function(t){return this.egcd(t).a.umod(t)},r.prototype.isEven=function(){return 0==(1&this.words[0])},r.prototype.isOdd=function(){return 1==(1&this.words[0])},r.prototype.andln=function(t){return this.words[0]&t},r.prototype.bincn=function(t){o("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var r=i,a=n;0!==r&&a<this.length;a++){var s=0|this.words[a];r=(s+=r)>>>26,s&=67108863,this.words[a]=s}return 0!==r&&(this.words[a]=r,this.length++),this},r.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},r.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),o(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},r.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},r.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var o=0|this.words[n],i=0|t.words[n];if(o!==i){o<i?e=-1:o>i&&(e=1);break}}return e},r.prototype.gtn=function(t){return 1===this.cmpn(t)},r.prototype.gt=function(t){return 1===this.cmp(t)},r.prototype.gten=function(t){return this.cmpn(t)>=0},r.prototype.gte=function(t){return this.cmp(t)>=0},r.prototype.ltn=function(t){return-1===this.cmpn(t)},r.prototype.lt=function(t){return-1===this.cmp(t)},r.prototype.lten=function(t){return this.cmpn(t)<=0},r.prototype.lte=function(t){return this.cmp(t)<=0},r.prototype.eqn=function(t){return 0===this.cmpn(t)},r.prototype.eq=function(t){return 0===this.cmp(t)},r.red=function(t){return new I(t)},r.prototype.toRed=function(t){return o(!this.red,"Already a number in reduction context"),o(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},r.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},r.prototype._forceRed=function(t){return this.red=t,this},r.prototype.forceRed=function(t){return o(!this.red,"Already a number in reduction context"),this._forceRed(t)},r.prototype.redAdd=function(t){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},r.prototype.redIAdd=function(t){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},r.prototype.redSub=function(t){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},r.prototype.redISub=function(t){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},r.prototype.redShl=function(t){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},r.prototype.redMul=function(t){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},r.prototype.redIMul=function(t){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},r.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},r.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},r.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},r.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},r.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},r.prototype.redPow=function(t){return o(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var m={k256:null,p224:null,p192:null,p25519:null};function b(t,e){this.name=t,this.p=new r(e,16),this.n=this.p.bitLength(),this.k=new r(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function S(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function C(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function I(t){if("string"==typeof t){var e=r._prime(t);this.m=e.p,this.prime=e}else o(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function D(t){I.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new r(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var t=new r(null);return t.words=new Array(Math.ceil(this.n/13)),t},b.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var o=e<this.n?-1:n.ucmp(this.p);return 0===o?(n.words[0]=0,n.length=1):o>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},b.prototype.split=function(t,e){t.iushrn(this.n,0,e)},b.prototype.imulK=function(t){return t.imul(this.k)},i(v,b),v.prototype.split=function(t,e){for(var n=Math.min(t.length,9),o=0;o<n;o++)e.words[o]=t.words[o];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,o=10;o<t.length;o++){var r=0|t.words[o];t.words[o-10]=(4194303&r)<<4|i>>>22,i=r}i>>>=22,t.words[o-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var o=0|t.words[n];e+=977*o,t.words[n]=67108863&e,e=64*o+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(S,b),i(w,b),i(C,b),C.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var o=19*(0|t.words[n])+e,i=67108863&o;o>>>=26,t.words[n]=i,e=o}return 0!==e&&(t.words[t.length++]=e),t},r._prime=function(t){if(m[t])return m[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new S;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new C}return m[t]=e,e},I.prototype._verify1=function(t){o(0===t.negative,"red works only with positives"),o(t.red,"red works only with red numbers")},I.prototype._verify2=function(t,e){o(0==(t.negative|e.negative),"red works only with positives"),o(t.red&&t.red===e.red,"red works only with red numbers")},I.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},I.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},I.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},I.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},I.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},I.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},I.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},I.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},I.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},I.prototype.isqr=function(t){return this.imul(t,t.clone())},I.prototype.sqr=function(t){return this.mul(t,t)},I.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(o(e%2==1),3===e){var n=this.m.add(new r(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);o(!i.isZero());var s=new r(1).toRed(this),c=s.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new r(2*u*u).toRed(this);0!==this.pow(u,l).cmp(c);)u.redIAdd(c);for(var d=this.pow(u,i),p=this.pow(t,i.addn(1).iushrn(1)),h=this.pow(t,i),f=a;0!==h.cmp(s);){for(var g=h,_=0;0!==g.cmp(s);_++)g=g.redSqr();o(_<f);var y=this.pow(d,new r(1).iushln(f-_-1));p=p.redMul(y),d=y.redSqr(),h=h.redMul(d),f=_}return p},I.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},I.prototype.pow=function(t,e){if(e.isZero())return new r(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new r(1).toRed(this),n[1]=t;for(var o=2;o<n.length;o++)n[o]=this.mul(n[o-1],t);var i=n[0],a=0,s=0,c=e.bitLength()%26;for(0===c&&(c=26),o=e.length-1;o>=0;o--){for(var l=e.words[o],u=c-1;u>=0;u--){var d=l>>u&1;i!==n[0]&&(i=this.sqr(i)),0!==d||0!==a?(a<<=1,a|=d,(4==++s||0===o&&0===u)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}c=26}return i},I.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},I.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},r.mont=function(t){return new D(t)},i(D,I),D.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},D.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},D.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),o=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(o).iushrn(this.shift),r=i;return i.cmp(this.m)>=0?r=i.isub(this.m):i.cmpn(0)<0&&(r=i.iadd(this.m)),r._forceRed(this)},D.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new r(0)._forceRed(this);var n=t.mul(e),o=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(o).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},D.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}})(void 0===e||e,this)},{buffer:19}],16:[function(t,e,n){"use strict";n.byteLength=function(t){var e=l(t),n=e[0],o=e[1];return 3*(n+o)/4-o},n.toByteArray=function(t){var e,n,o=l(t),a=o[0],s=o[1],c=new r(u(0,a,s)),d=0,p=s>0?a-4:a;for(n=0;n<p;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],c[d++]=e>>16&255,c[d++]=e>>8&255,c[d++]=255&e;return 2===s&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,c[d++]=255&e),1===s&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,c[d++]=e>>8&255,c[d++]=255&e),c},n.fromByteArray=function(t){for(var e,n=t.length,i=n%3,r=[],a=0,s=n-i;a<s;a+=16383)r.push(d(t,a,a+16383>s?s:a+16383));return 1===i?(e=t[n-1],r.push(o[e>>2]+o[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],r.push(o[e>>10]+o[e>>4&63]+o[e<<2&63]+"=")),r.join("")};for(var o=[],i=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)o[s]=a[s],i[a.charCodeAt(s)]=s;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(t,e,n){return 3*(e+n)/4-n}function d(t,e,n){for(var i,r,a=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(o[(r=i)>>18&63]+o[r>>12&63]+o[r>>6&63]+o[63&r]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],17:[function(t,e){(function(e,n){"use strict";function o(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function r(t,e,n){if(r.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var a;"object"==typeof e?e.exports=r:n.BN=r,r.BN=r,r.wordSize=26;try{a=t("buffer").Buffer}catch(T){}function s(t,e,n){for(var i=0,r=Math.min(t.length,n),a=0,s=e;s<r;s++){var c,l=t.charCodeAt(s)-48;i<<=4,i|=c=l>=49&&l<=54?l-49+10:l>=17&&l<=22?l-17+10:l,a|=c}return o(!(240&a),"Invalid character in "+t),i}function c(t,e,n,i){for(var r=0,a=0,s=Math.min(t.length,n),c=e;c<s;c++){var l=t.charCodeAt(c)-48;r*=i,a=l>=49?l-49+10:l>=17?l-17+10:l,o(l>=0&&a<i,"Invalid character"),r+=a}return r}function l(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}r.isBN=function(t){return t instanceof r||null!==t&&"object"==typeof t&&t.constructor.wordSize===r.wordSize&&Array.isArray(t.words)},r.max=function(t,e){return t.cmp(e)>0?t:e},r.min=function(t,e){return t.cmp(e)<0?t:e},r.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),o(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.negative=1),this._strip(),"le"===n&&this._initArray(this.toArray(),e,n)},r.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(o(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},r.prototype._initArray=function(t,e,n){if(o("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,a,s=0;if("be"===n)for(i=t.length-1,r=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[r]|=a<<s&67108863,this.words[r+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,r++);else if("le"===n)for(i=0,r=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[r]|=a<<s&67108863,this.words[r+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,r++);return this._strip()},r.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,i,r=0;for(n=t.length-6,o=0;n>=e;n-=6)i=s(t,n,n+6),this.words[o]|=i<<r&67108863,this.words[o+1]|=i>>>26-r&4194303,(r+=24)>=26&&(r-=26,o++);n+6!==e&&(i=s(t,e,n+6),this.words[o]|=i<<r&67108863,this.words[o+1]|=i>>>26-r&4194303),this._strip()},r.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var o=0,i=1;i<=67108863;i*=e)o++;o--,i=i/e|0;for(var r=t.length-n,a=r%o,s=Math.min(r,r-a)+n,l=0,u=n;u<s;u+=o)l=c(t,u,u+o,e),this.imuln(i),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==a){var d=1;for(l=c(t,u,t.length,e),u=0;u<a;u++)d*=e;this.imuln(d),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}},r.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},r.prototype._move=function(t){l(t,this)},r.prototype.clone=function(){var t=new r(null);return this.copy(t),t},r.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},r.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},r.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for?r.prototype[Symbol.for("nodejs.util.inspect.custom")]=u:r.prototype.inspect=u;var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];r.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,r=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<i|r)).toString(16);n=0!=(r=s>>>24-i&16777215)||a!==this.length-1?d[6-c.length]+c+n:c+n,(i+=2)>=26&&(i-=26,a--)}for(0!==r&&(n=r.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var l=p[t],u=h[t];n="";var f=this.clone();for(f.negative=0;!f.isZero();){var g=f.modrn(u).toString(t);n=(f=f.idivn(u)).isZero()?g+n:d[l-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}o(!1,"Base should be between 2 and 36")},r.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},r.prototype.toJSON=function(){return this.toString(16,2)},a&&(r.prototype.toBuffer=function(t,e){return this.toArrayLike(a,t,e)}),r.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};var f=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)};function g(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var o=n/26|0,i=n%26;e[n]=t.words[o]>>>i&1}return e}function _(t,e,n){n.negative=e.negative^t.negative;var o=t.length+e.length|0;n.length=o,o=o-1|0;var i=0|t.words[0],r=0|e.words[0],a=i*r,s=67108863&a,c=a/67108864|0;n.words[0]=s;for(var l=1;l<o;l++){for(var u=c>>>26,d=67108863&c,p=Math.min(l,e.length-1),h=Math.max(0,l-t.length+1);h<=p;h++){var f=l-h|0;u+=(a=(i=0|t.words[f])*(r=0|e.words[h])+d)/67108864|0,d=67108863&a}n.words[l]=0|d,c=0|u}return 0!==c?n.words[l]=0|c:n.length--,n._strip()}r.prototype.toArrayLike=function(t,e,n){this._strip();var i=this.byteLength(),r=n||Math.max(1,i);o(i<=r,"byte array longer than desired length"),o(r>0,"Requested array length <= 0");var a=f(t,r);return this["_toArrayLike"+("le"===e?"LE":"BE")](a,i),a},r.prototype._toArrayLikeLE=function(t){for(var e=0,n=0,o=0,i=0;o<this.length;o++){var r=this.words[o]<<i|n;t[e++]=255&r,e<t.length&&(t[e++]=r>>8&255),e<t.length&&(t[e++]=r>>16&255),6===i?(e<t.length&&(t[e++]=r>>24&255),n=0,i=0):(n=r>>>24,i+=2)}if(e<t.length)for(t[e++]=n;e<t.length;)t[e++]=0},r.prototype._toArrayLikeBE=function(t){for(var e=t.length-1,n=0,o=0,i=0;o<this.length;o++){var r=this.words[o]<<i|n;t[e--]=255&r,e>=0&&(t[e--]=r>>8&255),e>=0&&(t[e--]=r>>16&255),6===i?(e>=0&&(t[e--]=r>>24&255),n=0,i=0):(n=r>>>24,i+=2)}if(e>=0)for(t[e--]=n;e>=0;)t[e--]=0},Math.clz32?r.prototype._countBits=function(t){return 32-Math.clz32(t)}:r.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},r.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0==(8191&e)&&(n+=13,e>>>=13),0==(127&e)&&(n+=7,e>>>=7),0==(15&e)&&(n+=4,e>>>=4),0==(3&e)&&(n+=2,e>>>=2),0==(1&e)&&n++,n},r.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},r.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},r.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},r.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},r.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},r.prototype.isNeg=function(){return 0!==this.negative},r.prototype.neg=function(){return this.clone().ineg()},r.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},r.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},r.prototype.ior=function(t){return o(0==(this.negative|t.negative)),this.iuor(t)},r.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},r.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},r.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this._strip()},r.prototype.iand=function(t){return o(0==(this.negative|t.negative)),this.iuand(t)},r.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},r.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},r.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var o=0;o<n.length;o++)this.words[o]=e.words[o]^n.words[o];if(this!==e)for(;o<e.length;o++)this.words[o]=e.words[o];return this.length=e.length,this._strip()},r.prototype.ixor=function(t){return o(0==(this.negative|t.negative)),this.iuxor(t)},r.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},r.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},r.prototype.inotn=function(t){o("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},r.prototype.notn=function(t){return this.clone().inotn(t)},r.prototype.setn=function(t,e){o("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},r.prototype.iadd=function(t){var e,n,o;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,o=t):(n=t,o=this);for(var i=0,r=0;r<o.length;r++)e=(0|n.words[r])+(0|o.words[r])+i,this.words[r]=67108863&e,i=e>>>26;for(;0!==i&&r<n.length;r++)e=(0|n.words[r])+i,this.words[r]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;r<n.length;r++)this.words[r]=n.words[r];return this},r.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},r.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,o,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,o=t):(n=t,o=this);for(var r=0,a=0;a<o.length;a++)r=(e=(0|n.words[a])-(0|o.words[a])+r)>>26,this.words[a]=67108863&e;for(;0!==r&&a<n.length;a++)r=(e=(0|n.words[a])+r)>>26,this.words[a]=67108863&e;if(0===r&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this._strip()},r.prototype.sub=function(t){return this.clone().isub(t)};var y=function(t,e,n){var o,i,r,a=t.words,s=e.words,c=n.words,l=0,u=0|a[0],d=8191&u,p=u>>>13,h=0|a[1],f=8191&h,g=h>>>13,_=0|a[2],y=8191&_,m=_>>>13,b=0|a[3],v=8191&b,S=b>>>13,w=0|a[4],C=8191&w,I=w>>>13,D=0|a[5],L=8191&D,R=D>>>13,P=0|a[6],T=8191&P,E=P>>>13,A=0|a[7],N=8191&A,G=A>>>13,M=0|a[8],O=8191&M,k=M>>>13,U=0|a[9],B=8191&U,x=U>>>13,F=0|s[0],H=8191&F,j=F>>>13,V=0|s[1],W=8191&V,K=V>>>13,Y=0|s[2],z=8191&Y,q=Y>>>13,J=0|s[3],Q=8191&J,X=J>>>13,Z=0|s[4],$=8191&Z,tt=Z>>>13,et=0|s[5],nt=8191&et,ot=et>>>13,it=0|s[6],rt=8191&it,at=it>>>13,st=0|s[7],ct=8191&st,lt=st>>>13,ut=0|s[8],dt=8191&ut,pt=ut>>>13,ht=0|s[9],ft=8191&ht,gt=ht>>>13;n.negative=t.negative^e.negative,n.length=19;var _t=(l+(o=Math.imul(d,H))|0)+((8191&(i=(i=Math.imul(d,j))+Math.imul(p,H)|0))<<13)|0;l=((r=Math.imul(p,j))+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,o=Math.imul(f,H),i=(i=Math.imul(f,j))+Math.imul(g,H)|0,r=Math.imul(g,j);var yt=(l+(o=o+Math.imul(d,W)|0)|0)+((8191&(i=(i=i+Math.imul(d,K)|0)+Math.imul(p,W)|0))<<13)|0;l=((r=r+Math.imul(p,K)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,o=Math.imul(y,H),i=(i=Math.imul(y,j))+Math.imul(m,H)|0,r=Math.imul(m,j),o=o+Math.imul(f,W)|0,i=(i=i+Math.imul(f,K)|0)+Math.imul(g,W)|0,r=r+Math.imul(g,K)|0;var mt=(l+(o=o+Math.imul(d,z)|0)|0)+((8191&(i=(i=i+Math.imul(d,q)|0)+Math.imul(p,z)|0))<<13)|0;l=((r=r+Math.imul(p,q)|0)+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,o=Math.imul(v,H),i=(i=Math.imul(v,j))+Math.imul(S,H)|0,r=Math.imul(S,j),o=o+Math.imul(y,W)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(m,W)|0,r=r+Math.imul(m,K)|0,o=o+Math.imul(f,z)|0,i=(i=i+Math.imul(f,q)|0)+Math.imul(g,z)|0,r=r+Math.imul(g,q)|0;var bt=(l+(o=o+Math.imul(d,Q)|0)|0)+((8191&(i=(i=i+Math.imul(d,X)|0)+Math.imul(p,Q)|0))<<13)|0;l=((r=r+Math.imul(p,X)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,o=Math.imul(C,H),i=(i=Math.imul(C,j))+Math.imul(I,H)|0,r=Math.imul(I,j),o=o+Math.imul(v,W)|0,i=(i=i+Math.imul(v,K)|0)+Math.imul(S,W)|0,r=r+Math.imul(S,K)|0,o=o+Math.imul(y,z)|0,i=(i=i+Math.imul(y,q)|0)+Math.imul(m,z)|0,r=r+Math.imul(m,q)|0,o=o+Math.imul(f,Q)|0,i=(i=i+Math.imul(f,X)|0)+Math.imul(g,Q)|0,r=r+Math.imul(g,X)|0;var vt=(l+(o=o+Math.imul(d,$)|0)|0)+((8191&(i=(i=i+Math.imul(d,tt)|0)+Math.imul(p,$)|0))<<13)|0;l=((r=r+Math.imul(p,tt)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,o=Math.imul(L,H),i=(i=Math.imul(L,j))+Math.imul(R,H)|0,r=Math.imul(R,j),o=o+Math.imul(C,W)|0,i=(i=i+Math.imul(C,K)|0)+Math.imul(I,W)|0,r=r+Math.imul(I,K)|0,o=o+Math.imul(v,z)|0,i=(i=i+Math.imul(v,q)|0)+Math.imul(S,z)|0,r=r+Math.imul(S,q)|0,o=o+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(m,Q)|0,r=r+Math.imul(m,X)|0,o=o+Math.imul(f,$)|0,i=(i=i+Math.imul(f,tt)|0)+Math.imul(g,$)|0,r=r+Math.imul(g,tt)|0;var St=(l+(o=o+Math.imul(d,nt)|0)|0)+((8191&(i=(i=i+Math.imul(d,ot)|0)+Math.imul(p,nt)|0))<<13)|0;l=((r=r+Math.imul(p,ot)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,o=Math.imul(T,H),i=(i=Math.imul(T,j))+Math.imul(E,H)|0,r=Math.imul(E,j),o=o+Math.imul(L,W)|0,i=(i=i+Math.imul(L,K)|0)+Math.imul(R,W)|0,r=r+Math.imul(R,K)|0,o=o+Math.imul(C,z)|0,i=(i=i+Math.imul(C,q)|0)+Math.imul(I,z)|0,r=r+Math.imul(I,q)|0,o=o+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,X)|0)+Math.imul(S,Q)|0,r=r+Math.imul(S,X)|0,o=o+Math.imul(y,$)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(m,$)|0,r=r+Math.imul(m,tt)|0,o=o+Math.imul(f,nt)|0,i=(i=i+Math.imul(f,ot)|0)+Math.imul(g,nt)|0,r=r+Math.imul(g,ot)|0;var wt=(l+(o=o+Math.imul(d,rt)|0)|0)+((8191&(i=(i=i+Math.imul(d,at)|0)+Math.imul(p,rt)|0))<<13)|0;l=((r=r+Math.imul(p,at)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,o=Math.imul(N,H),i=(i=Math.imul(N,j))+Math.imul(G,H)|0,r=Math.imul(G,j),o=o+Math.imul(T,W)|0,i=(i=i+Math.imul(T,K)|0)+Math.imul(E,W)|0,r=r+Math.imul(E,K)|0,o=o+Math.imul(L,z)|0,i=(i=i+Math.imul(L,q)|0)+Math.imul(R,z)|0,r=r+Math.imul(R,q)|0,o=o+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,X)|0)+Math.imul(I,Q)|0,r=r+Math.imul(I,X)|0,o=o+Math.imul(v,$)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(S,$)|0,r=r+Math.imul(S,tt)|0,o=o+Math.imul(y,nt)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(m,nt)|0,r=r+Math.imul(m,ot)|0,o=o+Math.imul(f,rt)|0,i=(i=i+Math.imul(f,at)|0)+Math.imul(g,rt)|0,r=r+Math.imul(g,at)|0;var Ct=(l+(o=o+Math.imul(d,ct)|0)|0)+((8191&(i=(i=i+Math.imul(d,lt)|0)+Math.imul(p,ct)|0))<<13)|0;l=((r=r+Math.imul(p,lt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,o=Math.imul(O,H),i=(i=Math.imul(O,j))+Math.imul(k,H)|0,r=Math.imul(k,j),o=o+Math.imul(N,W)|0,i=(i=i+Math.imul(N,K)|0)+Math.imul(G,W)|0,r=r+Math.imul(G,K)|0,o=o+Math.imul(T,z)|0,i=(i=i+Math.imul(T,q)|0)+Math.imul(E,z)|0,r=r+Math.imul(E,q)|0,o=o+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,X)|0)+Math.imul(R,Q)|0,r=r+Math.imul(R,X)|0,o=o+Math.imul(C,$)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(I,$)|0,r=r+Math.imul(I,tt)|0,o=o+Math.imul(v,nt)|0,i=(i=i+Math.imul(v,ot)|0)+Math.imul(S,nt)|0,r=r+Math.imul(S,ot)|0,o=o+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,at)|0)+Math.imul(m,rt)|0,r=r+Math.imul(m,at)|0,o=o+Math.imul(f,ct)|0,i=(i=i+Math.imul(f,lt)|0)+Math.imul(g,ct)|0,r=r+Math.imul(g,lt)|0;var It=(l+(o=o+Math.imul(d,dt)|0)|0)+((8191&(i=(i=i+Math.imul(d,pt)|0)+Math.imul(p,dt)|0))<<13)|0;l=((r=r+Math.imul(p,pt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,o=Math.imul(B,H),i=(i=Math.imul(B,j))+Math.imul(x,H)|0,r=Math.imul(x,j),o=o+Math.imul(O,W)|0,i=(i=i+Math.imul(O,K)|0)+Math.imul(k,W)|0,r=r+Math.imul(k,K)|0,o=o+Math.imul(N,z)|0,i=(i=i+Math.imul(N,q)|0)+Math.imul(G,z)|0,r=r+Math.imul(G,q)|0,o=o+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,X)|0)+Math.imul(E,Q)|0,r=r+Math.imul(E,X)|0,o=o+Math.imul(L,$)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(R,$)|0,r=r+Math.imul(R,tt)|0,o=o+Math.imul(C,nt)|0,i=(i=i+Math.imul(C,ot)|0)+Math.imul(I,nt)|0,r=r+Math.imul(I,ot)|0,o=o+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,at)|0)+Math.imul(S,rt)|0,r=r+Math.imul(S,at)|0,o=o+Math.imul(y,ct)|0,i=(i=i+Math.imul(y,lt)|0)+Math.imul(m,ct)|0,r=r+Math.imul(m,lt)|0,o=o+Math.imul(f,dt)|0,i=(i=i+Math.imul(f,pt)|0)+Math.imul(g,dt)|0,r=r+Math.imul(g,pt)|0;var Dt=(l+(o=o+Math.imul(d,ft)|0)|0)+((8191&(i=(i=i+Math.imul(d,gt)|0)+Math.imul(p,ft)|0))<<13)|0;l=((r=r+Math.imul(p,gt)|0)+(i>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,o=Math.imul(B,W),i=(i=Math.imul(B,K))+Math.imul(x,W)|0,r=Math.imul(x,K),o=o+Math.imul(O,z)|0,i=(i=i+Math.imul(O,q)|0)+Math.imul(k,z)|0,r=r+Math.imul(k,q)|0,o=o+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,X)|0)+Math.imul(G,Q)|0,r=r+Math.imul(G,X)|0,o=o+Math.imul(T,$)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(E,$)|0,r=r+Math.imul(E,tt)|0,o=o+Math.imul(L,nt)|0,i=(i=i+Math.imul(L,ot)|0)+Math.imul(R,nt)|0,r=r+Math.imul(R,ot)|0,o=o+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,at)|0)+Math.imul(I,rt)|0,r=r+Math.imul(I,at)|0,o=o+Math.imul(v,ct)|0,i=(i=i+Math.imul(v,lt)|0)+Math.imul(S,ct)|0,r=r+Math.imul(S,lt)|0,o=o+Math.imul(y,dt)|0,i=(i=i+Math.imul(y,pt)|0)+Math.imul(m,dt)|0,r=r+Math.imul(m,pt)|0;var Lt=(l+(o=o+Math.imul(f,ft)|0)|0)+((8191&(i=(i=i+Math.imul(f,gt)|0)+Math.imul(g,ft)|0))<<13)|0;l=((r=r+Math.imul(g,gt)|0)+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,o=Math.imul(B,z),i=(i=Math.imul(B,q))+Math.imul(x,z)|0,r=Math.imul(x,q),o=o+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,X)|0)+Math.imul(k,Q)|0,r=r+Math.imul(k,X)|0,o=o+Math.imul(N,$)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(G,$)|0,r=r+Math.imul(G,tt)|0,o=o+Math.imul(T,nt)|0,i=(i=i+Math.imul(T,ot)|0)+Math.imul(E,nt)|0,r=r+Math.imul(E,ot)|0,o=o+Math.imul(L,rt)|0,i=(i=i+Math.imul(L,at)|0)+Math.imul(R,rt)|0,r=r+Math.imul(R,at)|0,o=o+Math.imul(C,ct)|0,i=(i=i+Math.imul(C,lt)|0)+Math.imul(I,ct)|0,r=r+Math.imul(I,lt)|0,o=o+Math.imul(v,dt)|0,i=(i=i+Math.imul(v,pt)|0)+Math.imul(S,dt)|0,r=r+Math.imul(S,pt)|0;var Rt=(l+(o=o+Math.imul(y,ft)|0)|0)+((8191&(i=(i=i+Math.imul(y,gt)|0)+Math.imul(m,ft)|0))<<13)|0;l=((r=r+Math.imul(m,gt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,o=Math.imul(B,Q),i=(i=Math.imul(B,X))+Math.imul(x,Q)|0,r=Math.imul(x,X),o=o+Math.imul(O,$)|0,i=(i=i+Math.imul(O,tt)|0)+Math.imul(k,$)|0,r=r+Math.imul(k,tt)|0,o=o+Math.imul(N,nt)|0,i=(i=i+Math.imul(N,ot)|0)+Math.imul(G,nt)|0,r=r+Math.imul(G,ot)|0,o=o+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,at)|0)+Math.imul(E,rt)|0,r=r+Math.imul(E,at)|0,o=o+Math.imul(L,ct)|0,i=(i=i+Math.imul(L,lt)|0)+Math.imul(R,ct)|0,r=r+Math.imul(R,lt)|0,o=o+Math.imul(C,dt)|0,i=(i=i+Math.imul(C,pt)|0)+Math.imul(I,dt)|0,r=r+Math.imul(I,pt)|0;var Pt=(l+(o=o+Math.imul(v,ft)|0)|0)+((8191&(i=(i=i+Math.imul(v,gt)|0)+Math.imul(S,ft)|0))<<13)|0;l=((r=r+Math.imul(S,gt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,o=Math.imul(B,$),i=(i=Math.imul(B,tt))+Math.imul(x,$)|0,r=Math.imul(x,tt),o=o+Math.imul(O,nt)|0,i=(i=i+Math.imul(O,ot)|0)+Math.imul(k,nt)|0,r=r+Math.imul(k,ot)|0,o=o+Math.imul(N,rt)|0,i=(i=i+Math.imul(N,at)|0)+Math.imul(G,rt)|0,r=r+Math.imul(G,at)|0,o=o+Math.imul(T,ct)|0,i=(i=i+Math.imul(T,lt)|0)+Math.imul(E,ct)|0,r=r+Math.imul(E,lt)|0,o=o+Math.imul(L,dt)|0,i=(i=i+Math.imul(L,pt)|0)+Math.imul(R,dt)|0,r=r+Math.imul(R,pt)|0;var Tt=(l+(o=o+Math.imul(C,ft)|0)|0)+((8191&(i=(i=i+Math.imul(C,gt)|0)+Math.imul(I,ft)|0))<<13)|0;l=((r=r+Math.imul(I,gt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,o=Math.imul(B,nt),i=(i=Math.imul(B,ot))+Math.imul(x,nt)|0,r=Math.imul(x,ot),o=o+Math.imul(O,rt)|0,i=(i=i+Math.imul(O,at)|0)+Math.imul(k,rt)|0,r=r+Math.imul(k,at)|0,o=o+Math.imul(N,ct)|0,i=(i=i+Math.imul(N,lt)|0)+Math.imul(G,ct)|0,r=r+Math.imul(G,lt)|0,o=o+Math.imul(T,dt)|0,i=(i=i+Math.imul(T,pt)|0)+Math.imul(E,dt)|0,r=r+Math.imul(E,pt)|0;var Et=(l+(o=o+Math.imul(L,ft)|0)|0)+((8191&(i=(i=i+Math.imul(L,gt)|0)+Math.imul(R,ft)|0))<<13)|0;l=((r=r+Math.imul(R,gt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,o=Math.imul(B,rt),i=(i=Math.imul(B,at))+Math.imul(x,rt)|0,r=Math.imul(x,at),o=o+Math.imul(O,ct)|0,i=(i=i+Math.imul(O,lt)|0)+Math.imul(k,ct)|0,r=r+Math.imul(k,lt)|0,o=o+Math.imul(N,dt)|0,i=(i=i+Math.imul(N,pt)|0)+Math.imul(G,dt)|0,r=r+Math.imul(G,pt)|0;var At=(l+(o=o+Math.imul(T,ft)|0)|0)+((8191&(i=(i=i+Math.imul(T,gt)|0)+Math.imul(E,ft)|0))<<13)|0;l=((r=r+Math.imul(E,gt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,o=Math.imul(B,ct),i=(i=Math.imul(B,lt))+Math.imul(x,ct)|0,r=Math.imul(x,lt),o=o+Math.imul(O,dt)|0,i=(i=i+Math.imul(O,pt)|0)+Math.imul(k,dt)|0,r=r+Math.imul(k,pt)|0;var Nt=(l+(o=o+Math.imul(N,ft)|0)|0)+((8191&(i=(i=i+Math.imul(N,gt)|0)+Math.imul(G,ft)|0))<<13)|0;l=((r=r+Math.imul(G,gt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,o=Math.imul(B,dt),i=(i=Math.imul(B,pt))+Math.imul(x,dt)|0,r=Math.imul(x,pt);var Gt=(l+(o=o+Math.imul(O,ft)|0)|0)+((8191&(i=(i=i+Math.imul(O,gt)|0)+Math.imul(k,ft)|0))<<13)|0;l=((r=r+Math.imul(k,gt)|0)+(i>>>13)|0)+(Gt>>>26)|0,Gt&=67108863;var Mt=(l+(o=Math.imul(B,ft))|0)+((8191&(i=(i=Math.imul(B,gt))+Math.imul(x,ft)|0))<<13)|0;return l=((r=Math.imul(x,gt))+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,c[0]=_t,c[1]=yt,c[2]=mt,c[3]=bt,c[4]=vt,c[5]=St,c[6]=wt,c[7]=Ct,c[8]=It,c[9]=Dt,c[10]=Lt,c[11]=Rt,c[12]=Pt,c[13]=Tt,c[14]=Et,c[15]=At,c[16]=Nt,c[17]=Gt,c[18]=Mt,0!==l&&(c[19]=l,n.length++),n};function m(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var o=0,i=0,r=0;r<n.length-1;r++){var a=i;i=0;for(var s=67108863&o,c=Math.min(r,e.length-1),l=Math.max(0,r-t.length+1);l<=c;l++){var u=r-l,d=(0|t.words[u])*(0|e.words[l]),p=67108863&d;s=67108863&(p=p+s|0),i+=(a=(a=a+(d/67108864|0)|0)+(p>>>26)|0)>>>26,a&=67108863}n.words[r]=s,o=a,a=i}return 0!==o?n.words[r]=o:n.length--,n._strip()}function b(t,e,n){return m(t,e,n)}function v(t,e){this.x=t,this.y=e}Math.imul||(y=_),r.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?y(this,t,e):n<63?_(this,t,e):n<1024?m(this,t,e):b(this,t,e)},v.prototype.makeRBT=function(t){for(var e=new Array(t),n=r.prototype._countBits(t)-1,o=0;o<t;o++)e[o]=this.revBin(o,n,t);return e},v.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var o=0,i=0;i<e;i++)o|=(1&t)<<e-i-1,t>>=1;return o},v.prototype.permute=function(t,e,n,o,i,r){for(var a=0;a<r;a++)o[a]=e[t[a]],i[a]=n[t[a]]},v.prototype.transform=function(t,e,n,o,i,r){this.permute(r,t,e,n,o,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),u=0;u<i;u+=s)for(var d=c,p=l,h=0;h<a;h++){var f=n[u+h],g=o[u+h],_=n[u+h+a],y=o[u+h+a],m=d*_-p*y;y=d*y+p*_,_=m,n[u+h]=f+_,o[u+h]=g+y,n[u+h+a]=f-_,o[u+h+a]=g-y,h!==s&&(m=c*d-l*p,p=c*p+l*d,d=m)}},v.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),o=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+o},v.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var o=0;o<n/2;o++){var i=t[o];t[o]=t[n-o-1],t[n-o-1]=i,i=e[o],e[o]=-e[n-o-1],e[n-o-1]=-i}},v.prototype.normalize13b=function(t,e){for(var n=0,o=0;o<e/2;o++){var i=8192*Math.round(t[2*o+1]/e)+Math.round(t[2*o]/e)+n;t[o]=67108863&i,n=i<67108864?0:i/67108864|0}return t},v.prototype.convert13b=function(t,e,n,i){for(var r=0,a=0;a<e;a++)r+=0|t[a],n[2*a]=8191&r,r>>>=13,n[2*a+1]=8191&r,r>>>=13;for(a=2*e;a<i;++a)n[a]=0;o(0===r),o(0==(-8192&r))},v.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},v.prototype.mulp=function(t,e,n){var o=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(o),r=this.stub(o),a=new Array(o),s=new Array(o),c=new Array(o),l=new Array(o),u=new Array(o),d=new Array(o),p=n.words;p.length=o,this.convert13b(t.words,t.length,a,o),this.convert13b(e.words,e.length,l,o),this.transform(a,r,s,c,o,i),this.transform(l,r,u,d,o,i);for(var h=0;h<o;h++){var f=s[h]*u[h]-c[h]*d[h];c[h]=s[h]*d[h]+c[h]*u[h],s[h]=f}return this.conjugate(s,c,o),this.transform(s,c,p,r,o,i),this.conjugate(p,r,o),this.normalize13b(p,o),n.negative=t.negative^e.negative,n.length=t.length+e.length,n._strip()},r.prototype.mul=function(t){var e=new r(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},r.prototype.mulf=function(t){var e=new r(null);return e.words=new Array(this.length+t.length),b(this,t,e)},r.prototype.imul=function(t){return this.clone().mulTo(t,this)},r.prototype.imuln=function(t){var e=t<0;e&&(t=-t),o("number"==typeof t),o(t<67108864);for(var n=0,i=0;i<this.length;i++){var r=(0|this.words[i])*t,a=(67108863&r)+(67108863&n);n>>=26,n+=r/67108864|0,n+=a>>>26,this.words[i]=67108863&a}return 0!==n&&(this.words[i]=n,this.length++),e?this.ineg():this},r.prototype.muln=function(t){return this.clone().imuln(t)},r.prototype.sqr=function(){return this.mul(this)},r.prototype.isqr=function(){return this.imul(this.clone())},r.prototype.pow=function(t){var e=g(t);if(0===e.length)return new r(1);for(var n=this,o=0;o<e.length&&0===e[o];o++,n=n.sqr());if(++o<e.length)for(var i=n.sqr();o<e.length;o++,i=i.sqr())0!==e[o]&&(n=n.mul(i));return n},r.prototype.iushln=function(t){o("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,r=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&r,c=(0|this.words[e])-s<<n;this.words[e]=c|a,a=s>>>26-n}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},r.prototype.ishln=function(t){return o(0===this.negative),this.iushln(t)},r.prototype.iushrn=function(t,e,n){var i;o("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var r=t%26,a=Math.min((t-r)/26,this.length),s=67108863^67108863>>>r<<r,c=n;if(i-=a,i=Math.max(0,i),c){for(var l=0;l<a;l++)c.words[l]=this.words[l];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=i);l--){var d=0|this.words[l];this.words[l]=u<<26-r|d>>>r,u=d&s}return c&&0!==u&&(c.words[c.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},r.prototype.ishrn=function(t,e,n){return o(0===this.negative),this.iushrn(t,e,n)},r.prototype.shln=function(t){return this.clone().ishln(t)},r.prototype.ushln=function(t){return this.clone().iushln(t)},r.prototype.shrn=function(t){return this.clone().ishrn(t)},r.prototype.ushrn=function(t){return this.clone().iushrn(t)},r.prototype.testn=function(t){o("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n||!(this.words[n]&i))},r.prototype.imaskn=function(t){o("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(o(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},r.prototype.maskn=function(t){return this.clone().imaskn(t)},r.prototype.iaddn=function(t){return o("number"==typeof t),o(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},r.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},r.prototype.isubn=function(t){if(o("number"==typeof t),o(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},r.prototype.addn=function(t){return this.clone().iaddn(t)},r.prototype.subn=function(t){return this.clone().isubn(t)},r.prototype.iabs=function(){return this.negative=0,this},r.prototype.abs=function(){return this.clone().iabs()},r.prototype._ishlnsubmul=function(t,e,n){var i,r,a=t.length+n;this._expand(a);var s=0;for(i=0;i<t.length;i++){r=(0|this.words[i+n])+s;var c=(0|t.words[i])*e;s=((r-=67108863&c)>>26)-(c/67108864|0),this.words[i+n]=67108863&r}for(;i<this.length-n;i++)s=(r=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&r;if(0===s)return this._strip();for(o(-1===s),s=0,i=0;i<this.length;i++)s=(r=-(0|this.words[i])+s)>>26,this.words[i]=67108863&r;return this.negative=1,this._strip()},r.prototype._wordDiv=function(t,e){var n=(this.length,t.length),o=this.clone(),i=t,a=0|i.words[i.length-1];0!=(n=26-this._countBits(a))&&(i=i.ushln(n),o.iushln(n),a=0|i.words[i.length-1]);var s,c=o.length-i.length;if("mod"!==e){(s=new r(null)).length=c+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var u=o.clone()._ishlnsubmul(i,1,c);0===u.negative&&(o=u,s&&(s.words[c]=1));for(var d=c-1;d>=0;d--){var p=67108864*(0|o.words[i.length+d])+(0|o.words[i.length+d-1]);for(p=Math.min(p/a|0,67108863),o._ishlnsubmul(i,p,d);0!==o.negative;)p--,o.negative=0,o._ishlnsubmul(i,1,d),o.isZero()||(o.negative^=1);s&&(s.words[d]=p)}return s&&s._strip(),o._strip(),"div"!==e&&0!==n&&o.iushrn(n),{div:s||null,mod:o}},r.prototype.divmod=function(t,e,n){return o(!t.isZero()),this.isZero()?{div:new r(0),mod:new r(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new r(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new r(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new r(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},r.prototype.div=function(t){return this.divmod(t,"div",!1).div},r.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},r.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},r.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,o=t.ushrn(1),i=t.andln(1),r=n.cmp(o);return r<0||1===i&&0===r?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},r.prototype.modrn=function(t){var e=t<0;e&&(t=-t),o(t<=67108863);for(var n=(1<<26)%t,i=0,r=this.length-1;r>=0;r--)i=(n*i+(0|this.words[r]))%t;return e?-i:i},r.prototype.modn=function(t){return this.modrn(t)},r.prototype.idivn=function(t){var e=t<0;e&&(t=-t),o(t<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var r=(0|this.words[i])+67108864*n;this.words[i]=r/t|0,n=r%t}return this._strip(),e?this.ineg():this},r.prototype.divn=function(t){return this.clone().idivn(t)},r.prototype.egcd=function(t){o(0===t.negative),o(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new r(1),a=new r(0),s=new r(0),c=new r(1),l=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++l;for(var u=n.clone(),d=e.clone();!e.isZero();){for(var p=0,h=1;0==(e.words[0]&h)&&p<26;++p,h<<=1);if(p>0)for(e.iushrn(p);p-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(u),a.isub(d)),i.iushrn(1),a.iushrn(1);for(var f=0,g=1;0==(n.words[0]&g)&&f<26;++f,g<<=1);if(f>0)for(n.iushrn(f);f-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(u),c.isub(d)),s.iushrn(1),c.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(s),a.isub(c)):(n.isub(e),s.isub(i),c.isub(a))}return{a:s,b:c,gcd:n.iushln(l)}},r.prototype._invmp=function(t){o(0===t.negative),o(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new r(1),s=new r(0),c=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,u=1;0==(e.words[0]&u)&&l<26;++l,u<<=1);if(l>0)for(e.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var d=0,p=1;0==(n.words[0]&p)&&d<26;++d,p<<=1);if(d>0)for(n.iushrn(d);d-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);e.cmp(n)>=0?(e.isub(n),a.isub(s)):(n.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},r.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var o=0;e.isEven()&&n.isEven();o++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var r=e;e=n,n=r}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(o)},r.prototype.invm=function(t){return this.egcd(t).a.umod(t)},r.prototype.isEven=function(){return 0==(1&this.words[0])},r.prototype.isOdd=function(){return 1==(1&this.words[0])},r.prototype.andln=function(t){return this.words[0]&t},r.prototype.bincn=function(t){o("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var r=i,a=n;0!==r&&a<this.length;a++){var s=0|this.words[a];r=(s+=r)>>>26,s&=67108863,this.words[a]=s}return 0!==r&&(this.words[a]=r,this.length++),this},r.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},r.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)e=1;else{n&&(t=-t),o(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},r.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},r.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var o=0|this.words[n],i=0|t.words[n];if(o!==i){o<i?e=-1:o>i&&(e=1);break}}return e},r.prototype.gtn=function(t){return 1===this.cmpn(t)},r.prototype.gt=function(t){return 1===this.cmp(t)},r.prototype.gten=function(t){return this.cmpn(t)>=0},r.prototype.gte=function(t){return this.cmp(t)>=0},r.prototype.ltn=function(t){return-1===this.cmpn(t)},r.prototype.lt=function(t){return-1===this.cmp(t)},r.prototype.lten=function(t){return this.cmpn(t)<=0},r.prototype.lte=function(t){return this.cmp(t)<=0},r.prototype.eqn=function(t){return 0===this.cmpn(t)},r.prototype.eq=function(t){return 0===this.cmp(t)},r.red=function(t){return new R(t)},r.prototype.toRed=function(t){return o(!this.red,"Already a number in reduction context"),o(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},r.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},r.prototype._forceRed=function(t){return this.red=t,this},r.prototype.forceRed=function(t){return o(!this.red,"Already a number in reduction context"),this._forceRed(t)},r.prototype.redAdd=function(t){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},r.prototype.redIAdd=function(t){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},r.prototype.redSub=function(t){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},r.prototype.redISub=function(t){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},r.prototype.redShl=function(t){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},r.prototype.redMul=function(t){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},r.prototype.redIMul=function(t){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},r.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},r.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},r.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},r.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},r.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},r.prototype.redPow=function(t){return o(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var S={k256:null,p224:null,p192:null,p25519:null};function w(t,e){this.name=t,this.p=new r(e,16),this.n=this.p.bitLength(),this.k=new r(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function C(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function I(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function D(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function L(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function R(t){if("string"==typeof t){var e=r._prime(t);this.m=e.p,this.prime=e}else o(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function P(t){R.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new r(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var t=new r(null);return t.words=new Array(Math.ceil(this.n/13)),t},w.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var o=e<this.n?-1:n.ucmp(this.p);return 0===o?(n.words[0]=0,n.length=1):o>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},w.prototype.split=function(t,e){t.iushrn(this.n,0,e)},w.prototype.imulK=function(t){return t.imul(this.k)},i(C,w),C.prototype.split=function(t,e){for(var n=Math.min(t.length,9),o=0;o<n;o++)e.words[o]=t.words[o];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,o=10;o<t.length;o++){var r=0|t.words[o];t.words[o-10]=(4194303&r)<<4|i>>>22,i=r}i>>>=22,t.words[o-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},C.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var o=0|t.words[n];e+=977*o,t.words[n]=67108863&e,e=64*o+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(I,w),i(D,w),i(L,w),L.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var o=19*(0|t.words[n])+e,i=67108863&o;o>>>=26,t.words[n]=i,e=o}return 0!==e&&(t.words[t.length++]=e),t},r._prime=function(t){if(S[t])return S[t];var e;if("k256"===t)e=new C;else if("p224"===t)e=new I;else if("p192"===t)e=new D;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new L}return S[t]=e,e},R.prototype._verify1=function(t){o(0===t.negative,"red works only with positives"),o(t.red,"red works only with red numbers")},R.prototype._verify2=function(t,e){o(0==(t.negative|e.negative),"red works only with positives"),o(t.red&&t.red===e.red,"red works only with red numbers")},R.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(l(t,t.umod(this.m)._forceRed(this)),t)},R.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},R.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},R.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},R.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},R.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},R.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},R.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},R.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},R.prototype.isqr=function(t){return this.imul(t,t.clone())},R.prototype.sqr=function(t){return this.mul(t,t)},R.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(o(e%2==1),3===e){var n=this.m.add(new r(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);o(!i.isZero());var s=new r(1).toRed(this),c=s.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new r(2*u*u).toRed(this);0!==this.pow(u,l).cmp(c);)u.redIAdd(c);for(var d=this.pow(u,i),p=this.pow(t,i.addn(1).iushrn(1)),h=this.pow(t,i),f=a;0!==h.cmp(s);){for(var g=h,_=0;0!==g.cmp(s);_++)g=g.redSqr();o(_<f);var y=this.pow(d,new r(1).iushln(f-_-1));p=p.redMul(y),d=y.redSqr(),h=h.redMul(d),f=_}return p},R.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},R.prototype.pow=function(t,e){if(e.isZero())return new r(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new r(1).toRed(this),n[1]=t;for(var o=2;o<n.length;o++)n[o]=this.mul(n[o-1],t);var i=n[0],a=0,s=0,c=e.bitLength()%26;for(0===c&&(c=26),o=e.length-1;o>=0;o--){for(var l=e.words[o],u=c-1;u>=0;u--){var d=l>>u&1;i!==n[0]&&(i=this.sqr(i)),0!==d||0!==a?(a<<=1,a|=d,(4==++s||0===o&&0===u)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}c=26}return i},R.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},R.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},r.mont=function(t){return new P(t)},i(P,R),P.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},P.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},P.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),o=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(o).iushrn(this.shift),r=i;return i.cmp(this.m)>=0?r=i.isub(this.m):i.cmpn(0)<0&&(r=i.iadd(this.m)),r._forceRed(this)},P.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new r(0)._forceRed(this);var n=t.mul(e),o=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(o).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},P.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}})(void 0===e||e,this)},{buffer:19}],18:[function(t,e){var n;function o(t){this.rand=t}if(e.exports=function(t){return n||(n=new o(null)),n.generate(t)},e.exports.Rand=o,o.prototype.generate=function(t){return this._rand(t)},o.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),n=0;n<e.length;n++)e[n]=this.rand.getByte();return e},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?o.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?o.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(o.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var i=t("crypto");if("function"!=typeof i.randomBytes)throw new Error("Not supported");o.prototype._rand=function(t){return i.randomBytes(t)}}catch(r){}},{crypto:19}],19:[function(){},{}],20:[function(t,e){var n=t("safe-buffer").Buffer;function o(t){n.isBuffer(t)||(t=n.from(t));for(var e=t.length/4|0,o=new Array(e),i=0;i<e;i++)o[i]=t.readUInt32BE(4*i);return o}function i(t){for(;0<t.length;t++)t[0]=0}function r(t,e,n,o,i){for(var r,a,s,c,l=n[0],u=n[1],d=n[2],p=n[3],h=t[0]^e[0],f=t[1]^e[1],g=t[2]^e[2],_=t[3]^e[3],y=4,m=1;m<i;m++)r=l[h>>>24]^u[f>>>16&255]^d[g>>>8&255]^p[255&_]^e[y++],a=l[f>>>24]^u[g>>>16&255]^d[_>>>8&255]^p[255&h]^e[y++],s=l[g>>>24]^u[_>>>16&255]^d[h>>>8&255]^p[255&f]^e[y++],c=l[_>>>24]^u[h>>>16&255]^d[f>>>8&255]^p[255&g]^e[y++],h=r,f=a,g=s,_=c;return r=(o[h>>>24]<<24|o[f>>>16&255]<<16|o[g>>>8&255]<<8|o[255&_])^e[y++],a=(o[f>>>24]<<24|o[g>>>16&255]<<16|o[_>>>8&255]<<8|o[255&h])^e[y++],s=(o[g>>>24]<<24|o[_>>>16&255]<<16|o[h>>>8&255]<<8|o[255&f])^e[y++],c=(o[_>>>24]<<24|o[h>>>16&255]<<16|o[f>>>8&255]<<8|o[255&g])^e[y++],[r>>>=0,a>>>=0,s>>>=0,c>>>=0]}var a=[0,1,2,4,8,16,32,64,128,27,54],s=function(){for(var t=new Array(256),e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;for(var n=[],o=[],i=[[],[],[],[]],r=[[],[],[],[]],a=0,s=0,c=0;c<256;++c){var l=s^s<<1^s<<2^s<<3^s<<4;l=l>>>8^255&l^99,n[a]=l,o[l]=a;var u=t[a],d=t[u],p=t[d],h=257*t[l]^16843008*l;i[0][a]=h<<24|h>>>8,i[1][a]=h<<16|h>>>16,i[2][a]=h<<8|h>>>24,i[3][a]=h,h=16843009*p^65537*d^257*u^16843008*a,r[0][l]=h<<24|h>>>8,r[1][l]=h<<16|h>>>16,r[2][l]=h<<8|h>>>24,r[3][l]=h,0===a?a=s=1:(a=u^t[t[t[p^u]]],s^=t[t[s]])}return{SBOX:n,INV_SBOX:o,SUB_MIX:i,INV_SUB_MIX:r}}();function c(t){this._key=o(t),this._reset()}c.blockSize=16,c.keySize=32,c.prototype.blockSize=c.blockSize,c.prototype.keySize=c.keySize,c.prototype._reset=function(){for(var t=this._key,e=t.length,n=e+6,o=4*(n+1),i=[],r=0;r<e;r++)i[r]=t[r];for(r=e;r<o;r++){var c=i[r-1];r%e==0?(c=c<<8|c>>>24,c=s.SBOX[c>>>24]<<24|s.SBOX[c>>>16&255]<<16|s.SBOX[c>>>8&255]<<8|s.SBOX[255&c],c^=a[r/e|0]<<24):e>6&&r%e==4&&(c=s.SBOX[c>>>24]<<24|s.SBOX[c>>>16&255]<<16|s.SBOX[c>>>8&255]<<8|s.SBOX[255&c]),i[r]=i[r-e]^c}for(var l=[],u=0;u<o;u++){var d=o-u,p=i[d-(u%4?0:4)];l[u]=u<4||d<=4?p:s.INV_SUB_MIX[0][s.SBOX[p>>>24]]^s.INV_SUB_MIX[1][s.SBOX[p>>>16&255]]^s.INV_SUB_MIX[2][s.SBOX[p>>>8&255]]^s.INV_SUB_MIX[3][s.SBOX[255&p]]}this._nRounds=n,this._keySchedule=i,this._invKeySchedule=l},c.prototype.encryptBlockRaw=function(t){return r(t=o(t),this._keySchedule,s.SUB_MIX,s.SBOX,this._nRounds)},c.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),o=n.allocUnsafe(16);return o.writeUInt32BE(e[0],0),o.writeUInt32BE(e[1],4),o.writeUInt32BE(e[2],8),o.writeUInt32BE(e[3],12),o},c.prototype.decryptBlock=function(t){var e=(t=o(t))[1];t[1]=t[3],t[3]=e;var i=r(t,this._invKeySchedule,s.INV_SUB_MIX,s.INV_SBOX,this._nRounds),a=n.allocUnsafe(16);return a.writeUInt32BE(i[0],0),a.writeUInt32BE(i[3],4),a.writeUInt32BE(i[2],8),a.writeUInt32BE(i[1],12),a},c.prototype.scrub=function(){i(this._keySchedule),i(this._invKeySchedule),i(this._key)},e.exports.AES=c},{"safe-buffer":185}],21:[function(t,e){var n=t("./aes"),o=t("safe-buffer").Buffer,i=t("cipher-base"),r=t("inherits"),a=t("./ghash"),s=t("buffer-xor"),c=t("./incr32");function l(t,e){var n=0;t.length!==e.length&&n++;for(var o=Math.min(t.length,e.length),i=0;i<o;++i)n+=t[i]^e[i];return n}function u(t,e,n){if(12===e.length)return t._finID=o.concat([e,o.from([0,0,0,1])]),o.concat([e,o.from([0,0,0,2])]);var i=new a(n),r=e.length,s=r%16;i.update(e),s&&(s=16-s,i.update(o.alloc(s,0))),i.update(o.alloc(8,0));var l=8*r,u=o.alloc(8);u.writeUIntBE(l,0,8),i.update(u),t._finID=i.state;var d=o.from(t._finID);return c(d),d}function d(t,e,r,s){i.call(this);var c=o.alloc(4,0);this._cipher=new n.AES(e);var l=this._cipher.encryptBlock(c);this._ghash=new a(l),r=u(this,r,l),this._prev=o.from(r),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=s,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}r(d,i),d.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=o.alloc(e,0),this._ghash.update(e))}this._called=!0;var n=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(n),this._len+=t.length,n},d.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=s(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&l(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()},d.prototype.getAuthTag=function(){if(this._decrypt||!o.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},d.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},d.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length},e.exports=d},{"./aes":20,"./ghash":25,"./incr32":26,"buffer-xor":65,"cipher-base":68,inherits:140,"safe-buffer":185}],22:[function(t,e,n){var o=t("./encrypter"),i=t("./decrypter"),r=t("./modes/list.json");n.createCipher=n.Cipher=o.createCipher,n.createCipheriv=n.Cipheriv=o.createCipheriv,n.createDecipher=n.Decipher=i.createDecipher,n.createDecipheriv=n.Decipheriv=i.createDecipheriv,n.listCiphers=n.getCiphers=function(){return Object.keys(r)}},{"./decrypter":23,"./encrypter":24,"./modes/list.json":34}],23:[function(t,e,n){var o=t("./authCipher"),i=t("safe-buffer").Buffer,r=t("./modes"),a=t("./streamCipher"),s=t("cipher-base"),c=t("./aes"),l=t("evp_bytestokey");function u(t,e,n){s.call(this),this._cache=new d,this._last=void 0,this._cipher=new c.AES(e),this._prev=i.from(n),this._mode=t,this._autopadding=!0}function d(){this.cache=i.allocUnsafe(0)}function p(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var n=-1;++n<e;)if(t[n+(16-e)]!==e)throw new Error("unable to decrypt data");if(16!==e)return t.slice(0,16-e)}function h(t,e,n){var s=r[t.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"==typeof n&&(n=i.from(n)),"GCM"!==s.mode&&n.length!==s.iv)throw new TypeError("invalid iv length "+n.length);if("string"==typeof e&&(e=i.from(e)),e.length!==s.key/8)throw new TypeError("invalid key length "+e.length);return"stream"===s.type?new a(s.module,e,n,!0):"auth"===s.type?new o(s.module,e,n,!0):new u(s.module,e,n)}t("inherits")(u,s),u.prototype._update=function(t){var e,n;this._cache.add(t);for(var o=[];e=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,e),o.push(n);return i.concat(o)},u.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return p(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")},u.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},d.prototype.add=function(t){this.cache=i.concat([this.cache,t])},d.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null},d.prototype.flush=function(){if(this.cache.length)return this.cache},n.createDecipher=function(t,e){var n=r[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var o=l(e,!1,n.key,n.iv);return h(t,o.key,o.iv)},n.createDecipheriv=h},{"./aes":20,"./authCipher":21,"./modes":33,"./streamCipher":36,"cipher-base":68,evp_bytestokey:106,inherits:140,"safe-buffer":185}],24:[function(t,e,n){var o=t("./modes"),i=t("./authCipher"),r=t("safe-buffer").Buffer,a=t("./streamCipher"),s=t("cipher-base"),c=t("./aes"),l=t("evp_bytestokey");function u(t,e,n){s.call(this),this._cache=new p,this._cipher=new c.AES(e),this._prev=r.from(n),this._mode=t,this._autopadding=!0}t("inherits")(u,s),u.prototype._update=function(t){var e,n;this._cache.add(t);for(var o=[];e=this._cache.get();)n=this._mode.encrypt(this,e),o.push(n);return r.concat(o)};var d=r.alloc(16,16);function p(){this.cache=r.allocUnsafe(0)}function h(t,e,n){var s=o[t.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"==typeof e&&(e=r.from(e)),e.length!==s.key/8)throw new TypeError("invalid key length "+e.length);if("string"==typeof n&&(n=r.from(n)),"GCM"!==s.mode&&n.length!==s.iv)throw new TypeError("invalid iv length "+n.length);return"stream"===s.type?new a(s.module,e,n):"auth"===s.type?new i(s.module,e,n):new u(s.module,e,n)}u.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(d))throw this._cipher.scrub(),new Error("data not multiple of block length")},u.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},p.prototype.add=function(t){this.cache=r.concat([this.cache,t])},p.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null},p.prototype.flush=function(){for(var t=16-this.cache.length,e=r.allocUnsafe(t),n=-1;++n<t;)e.writeUInt8(t,n);return r.concat([this.cache,e])},n.createCipheriv=h,n.createCipher=function(t,e){var n=o[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var i=l(e,!1,n.key,n.iv);return h(t,i.key,i.iv)}},{"./aes":20,"./authCipher":21,"./modes":33,"./streamCipher":36,"cipher-base":68,evp_bytestokey:106,inherits:140,"safe-buffer":185}],25:[function(t,e){var n=t("safe-buffer").Buffer,o=n.alloc(16,0);function i(t){var e=n.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function r(t){this.h=t,this.state=n.alloc(16,0),this.cache=n.allocUnsafe(0)}r.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()},r.prototype._multiply=function(){for(var t,e,n,o=[(t=this.h).readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)],r=[0,0,0,0],a=-1;++a<128;){for(0!=(this.state[~~(a/8)]&1<<7-a%8)&&(r[0]^=o[0],r[1]^=o[1],r[2]^=o[2],r[3]^=o[3]),n=0!=(1&o[3]),e=3;e>0;e--)o[e]=o[e]>>>1|(1&o[e-1])<<31;o[0]=o[0]>>>1,n&&(o[0]=o[0]^225<<24)}this.state=i(r)},r.prototype.update=function(t){var e;for(this.cache=n.concat([this.cache,t]);this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)},r.prototype.final=function(t,e){return this.cache.length&&this.ghash(n.concat([this.cache,o],16)),this.ghash(i([0,t,0,e])),this.state},e.exports=r},{"safe-buffer":185}],26:[function(t,e){e.exports=function(t){for(var e,n=t.length;n--;){if(255!==(e=t.readUInt8(n))){e++,t.writeUInt8(e,n);break}t.writeUInt8(0,n)}}},{}],27:[function(t,e,n){var o=t("buffer-xor");n.encrypt=function(t,e){var n=o(e,t._prev);return t._prev=t._cipher.encryptBlock(n),t._prev},n.decrypt=function(t,e){var n=t._prev;t._prev=e;var i=t._cipher.decryptBlock(e);return o(i,n)}},{"buffer-xor":65}],28:[function(t,e,n){var o=t("safe-buffer").Buffer,i=t("buffer-xor");function r(t,e,n){var r=e.length,a=i(e,t._cache);return t._cache=t._cache.slice(r),t._prev=o.concat([t._prev,n?e:a]),a}n.encrypt=function(t,e,n){for(var i,a=o.allocUnsafe(0);e.length;){if(0===t._cache.length&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=o.allocUnsafe(0)),!(t._cache.length<=e.length)){a=o.concat([a,r(t,e,n)]);break}i=t._cache.length,a=o.concat([a,r(t,e.slice(0,i),n)]),e=e.slice(i)}return a}},{"buffer-xor":65,"safe-buffer":185}],29:[function(t,e,n){var o=t("safe-buffer").Buffer;function i(t,e,n){for(var o,i,a=-1,s=0;++a<8;)o=e&1<<7-a?128:0,s+=(128&(i=t._cipher.encryptBlock(t._prev)[0]^o))>>a%8,t._prev=r(t._prev,n?o:i);return s}function r(t,e){var n=t.length,i=-1,r=o.allocUnsafe(t.length);for(t=o.concat([t,o.from([e])]);++i<n;)r[i]=t[i]<<1|t[i+1]>>7;return r}n.encrypt=function(t,e,n){for(var r=e.length,a=o.allocUnsafe(r),s=-1;++s<r;)a[s]=i(t,e[s],n);return a}},{"safe-buffer":185}],30:[function(t,e,n){var o=t("safe-buffer").Buffer;function i(t,e,n){var i=t._cipher.encryptBlock(t._prev)[0]^e;return t._prev=o.concat([t._prev.slice(1),o.from([n?e:i])]),i}n.encrypt=function(t,e,n){for(var r=e.length,a=o.allocUnsafe(r),s=-1;++s<r;)a[s]=i(t,e[s],n);return a}},{"safe-buffer":185}],31:[function(t,e,n){var o=t("buffer-xor"),i=t("safe-buffer").Buffer,r=t("../incr32");function a(t){var e=t._cipher.encryptBlockRaw(t._prev);return r(t._prev),e}n.encrypt=function(t,e){var n=Math.ceil(e.length/16),r=t._cache.length;t._cache=i.concat([t._cache,i.allocUnsafe(16*n)]);for(var s=0;s<n;s++){var c=a(t),l=r+16*s;t._cache.writeUInt32BE(c[0],l+0),t._cache.writeUInt32BE(c[1],l+4),t._cache.writeUInt32BE(c[2],l+8),t._cache.writeUInt32BE(c[3],l+12)}var u=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),o(e,u)}},{"../incr32":26,"buffer-xor":65,"safe-buffer":185}],32:[function(t,e,n){n.encrypt=function(t,e){return t._cipher.encryptBlock(e)},n.decrypt=function(t,e){return t._cipher.decryptBlock(e)}},{}],33:[function(t,e){var n={ECB:t("./ecb"),CBC:t("./cbc"),CFB:t("./cfb"),CFB8:t("./cfb8"),CFB1:t("./cfb1"),OFB:t("./ofb"),CTR:t("./ctr"),GCM:t("./ctr")},o=t("./list.json");for(var i in o)o[i].module=n[o[i].mode];e.exports=o},{"./cbc":27,"./cfb":28,"./cfb1":29,"./cfb8":30,"./ctr":31,"./ecb":32,"./list.json":34,"./ofb":35}],34:[function(t,e){e.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],35:[function(t,e,n){(function(e){var o=t("buffer-xor");function i(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}n.encrypt=function(t,n){for(;t._cache.length<n.length;)t._cache=e.concat([t._cache,i(t)]);var r=t._cache.slice(0,n.length);return t._cache=t._cache.slice(n.length),o(n,r)}}).call(this,t("buffer").Buffer)},{buffer:66,"buffer-xor":65}],36:[function(t,e){var n=t("./aes"),o=t("safe-buffer").Buffer,i=t("cipher-base");function r(t,e,r,a){i.call(this),this._cipher=new n.AES(e),this._prev=o.from(r),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=a,this._mode=t}t("inherits")(r,i),r.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)},r.prototype._final=function(){this._cipher.scrub()},e.exports=r},{"./aes":20,"cipher-base":68,inherits:140,"safe-buffer":185}],37:[function(t,e,n){var o=t("browserify-des"),i=t("browserify-aes/browser"),r=t("browserify-aes/modes"),a=t("browserify-des/modes"),s=t("evp_bytestokey");function c(t,e,n){if(t=t.toLowerCase(),r[t])return i.createCipheriv(t,e,n);if(a[t])return new o({key:e,iv:n,mode:t});throw new TypeError("invalid suite type")}function l(t,e,n){if(t=t.toLowerCase(),r[t])return i.createDecipheriv(t,e,n);if(a[t])return new o({key:e,iv:n,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}n.createCipher=n.Cipher=function(t,e){var n,o;if(t=t.toLowerCase(),r[t])n=r[t].key,o=r[t].iv;else{if(!a[t])throw new TypeError("invalid suite type");n=8*a[t].key,o=a[t].iv}var i=s(e,!1,n,o);return c(t,i.key,i.iv)},n.createCipheriv=n.Cipheriv=c,n.createDecipher=n.Decipher=function(t,e){var n,o;if(t=t.toLowerCase(),r[t])n=r[t].key,o=r[t].iv;else{if(!a[t])throw new TypeError("invalid suite type");n=8*a[t].key,o=a[t].iv}var i=s(e,!1,n,o);return l(t,i.key,i.iv)},n.createDecipheriv=n.Decipheriv=l,n.listCiphers=n.getCiphers=function(){return Object.keys(a).concat(i.getCiphers())}},{"browserify-aes/browser":22,"browserify-aes/modes":33,"browserify-des":38,"browserify-des/modes":39,evp_bytestokey:106}],38:[function(t,e){var n=t("cipher-base"),o=t("des.js"),i=t("inherits"),r=t("safe-buffer").Buffer,a={"des-ede3-cbc":o.CBC.instantiate(o.EDE),"des-ede3":o.EDE,"des-ede-cbc":o.CBC.instantiate(o.EDE),"des-ede":o.EDE,"des-cbc":o.CBC.instantiate(o.DES),"des-ecb":o.DES};function s(t){n.call(this);var e,o=t.mode.toLowerCase(),i=a[o];e=t.decrypt?"decrypt":"encrypt";var s=t.key;r.isBuffer(s)||(s=r.from(s)),"des-ede"!==o&&"des-ede-cbc"!==o||(s=r.concat([s,s.slice(0,8)]));var c=t.iv;r.isBuffer(c)||(c=r.from(c)),this._des=i.create({key:s,iv:c,type:e})}a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],e.exports=s,i(s,n),s.prototype._update=function(t){return r.from(this._des.update(t))},s.prototype._final=function(){return r.from(this._des.final())}},{"cipher-base":68,"des.js":77,inherits:140,"safe-buffer":185}],39:[function(t,e,n){n["des-ecb"]={key:8,iv:0},n["des-cbc"]=n.des={key:8,iv:8},n["des-ede3-cbc"]=n.des3={key:24,iv:8},n["des-ede3"]={key:24,iv:0},n["des-ede-cbc"]={key:16,iv:8},n["des-ede"]={key:16,iv:0}},{}],40:[function(t,e){(function(n){var o=t("bn.js"),i=t("randombytes");function r(t){var e=s(t);return{blinder:e.toRed(o.mont(t.modulus)).redPow(new o(t.publicExponent)).fromRed(),unblinder:e.invm(t.modulus)}}function a(t,e){var i=r(e),a=e.modulus.byteLength(),s=(o.mont(e.modulus),new o(t).mul(i.blinder).umod(e.modulus)),c=s.toRed(o.mont(e.prime1)),l=s.toRed(o.mont(e.prime2)),u=e.coefficient,d=e.prime1,p=e.prime2,h=c.redPow(e.exponent1),f=l.redPow(e.exponent2);h=h.fromRed(),f=f.fromRed();var g=h.isub(f).imul(u).umod(d);return g.imul(p),f.iadd(g),new n(f.imul(i.unblinder).umod(e.modulus).toArray(!1,a))}function s(t){for(var e=t.modulus.byteLength(),n=new o(i(e));n.cmp(t.modulus)>=0||!n.umod(t.prime1)||!n.umod(t.prime2);)n=new o(i(e));return n}e.exports=a,a.getr=s}).call(this,t("buffer").Buffer)},{"bn.js":41,buffer:66,randombytes:167}],41:[function(t,e,n){arguments[4][15][0].apply(n,arguments)},{buffer:19,dup:15}],42:[function(t,e){e.exports=t("./browser/algorithms.json")},{"./browser/algorithms.json":43}],43:[function(t,e){e.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],44:[function(t,e){e.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],45:[function(t,e){var n=t("safe-buffer").Buffer,o=t("create-hash"),i=t("readable-stream"),r=t("inherits"),a=t("./sign"),s=t("./verify"),c=t("./algorithms.json");function l(t){i.Writable.call(this);var e=c[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=o(e.hash),this._tag=e.id,this._signType=e.sign}function u(t){i.Writable.call(this);var e=c[t];if(!e)throw new Error("Unknown message digest");this._hash=o(e.hash),this._tag=e.id,this._signType=e.sign}function d(t){return new l(t)}function p(t){return new u(t)}Object.keys(c).forEach(function(t){c[t].id=n.from(c[t].id,"hex"),c[t.toLowerCase()]=c[t]}),r(l,i.Writable),l.prototype._write=function(t,e,n){this._hash.update(t),n()},l.prototype.update=function(t,e){return"string"==typeof t&&(t=n.from(t,e)),this._hash.update(t),this},l.prototype.sign=function(t,e){this.end();var n=this._hash.digest(),o=a(n,t,this._hashType,this._signType,this._tag);return e?o.toString(e):o},r(u,i.Writable),u.prototype._write=function(t,e,n){this._hash.update(t),n()},u.prototype.update=function(t,e){return"string"==typeof t&&(t=n.from(t,e)),this._hash.update(t),this},u.prototype.verify=function(t,e,o){"string"==typeof e&&(e=n.from(e,o)),this.end();var i=this._hash.digest();return s(e,i,t,this._signType,this._tag)},e.exports={Sign:d,Verify:p,createSign:d,createVerify:p}},{"./algorithms.json":43,"./sign":46,"./verify":47,"create-hash":72,inherits:140,"readable-stream":62,"safe-buffer":63}],46:[function(t,e){var n=t("safe-buffer").Buffer,o=t("create-hmac"),i=t("browserify-rsa"),r=t("elliptic").ec,a=t("bn.js"),s=t("parse-asn1"),c=t("./curves.json");function l(t,e){var o=c[e.curve.join(".")];if(!o)throw new Error("unknown curve "+e.curve.join("."));var i=new r(o).keyFromPrivate(e.privateKey).sign(t);return n.from(i.toDER())}function u(t,e,n){for(var o,i=e.params.priv_key,r=e.params.p,s=e.params.q,c=e.params.g,l=new a(0),u=h(t,s).mod(s),f=!1,y=p(i,s,t,n);!1===f;)l=_(c,o=g(s,y,n),r,s),0===(f=o.invm(s).imul(u.add(i.mul(l))).mod(s)).cmpn(0)&&(f=!1,l=new a(0));return d(l,f)}function d(t,e){t=t.toArray(),e=e.toArray(),128&t[0]&&(t=[0].concat(t)),128&e[0]&&(e=[0].concat(e));var o=[48,t.length+e.length+4,2,t.length];return o=o.concat(t,[2,e.length],e),n.from(o)}function p(t,e,i,r){if((t=n.from(t.toArray())).length<e.byteLength()){var a=n.alloc(e.byteLength()-t.length);t=n.concat([a,t])}var s=i.length,c=f(i,e),l=n.alloc(s);l.fill(1);var u=n.alloc(s);return u=o(r,u).update(l).update(n.from([0])).update(t).update(c).digest(),l=o(r,u).update(l).digest(),{k:u=o(r,u).update(l).update(n.from([1])).update(t).update(c).digest(),v:l=o(r,u).update(l).digest()}}function h(t,e){var n=new a(t),o=(t.length<<3)-e.bitLength();return o>0&&n.ishrn(o),n}function f(t,e){t=(t=h(t,e)).mod(e);var o=n.from(t.toArray());if(o.length<e.byteLength()){var i=n.alloc(e.byteLength()-o.length);o=n.concat([i,o])}return o}function g(t,e,i){var r,a;do{for(r=n.alloc(0);8*r.length<t.bitLength();)e.v=o(i,e.k).update(e.v).digest(),r=n.concat([r,e.v]);a=h(r,t),e.k=o(i,e.k).update(e.v).update(n.from([0])).digest(),e.v=o(i,e.k).update(e.v).digest()}while(-1!==a.cmp(t));return a}function _(t,e,n,o){return t.toRed(a.mont(n)).redPow(e).fromRed().mod(o)}e.exports=function(t,e,o,r,a){var c=s(e);if(c.curve){if("ecdsa"!==r&&"ecdsa/rsa"!==r)throw new Error("wrong private key type");return l(t,c)}if("dsa"===c.type){if("dsa"!==r)throw new Error("wrong private key type");return u(t,c,o)}if("rsa"!==r&&"ecdsa/rsa"!==r)throw new Error("wrong private key type");t=n.concat([a,t]);for(var d=c.modulus.byteLength(),p=[0,1];t.length+p.length+1<d;)p.push(255);p.push(0);for(var h=-1;++h<t.length;)p.push(t[h]);return i(p,c)},e.exports.getKey=p,e.exports.makeKey=g},{"./curves.json":44,"bn.js":17,"browserify-rsa":40,"create-hmac":74,elliptic:88,"parse-asn1":151,"safe-buffer":63}],47:[function(t,e){var n=t("safe-buffer").Buffer,o=t("bn.js"),i=t("elliptic").ec,r=t("parse-asn1"),a=t("./curves.json");function s(t,e,n){var o=a[n.data.algorithm.curve.join(".")];if(!o)throw new Error("unknown curve "+n.data.algorithm.curve.join("."));var r=new i(o),s=n.data.subjectPrivateKey.data;return r.verify(e,t,s)}function c(t,e,n){var i=n.data.p,a=n.data.q,s=n.data.g,c=n.data.pub_key,u=r.signature.decode(t,"der"),d=u.s,p=u.r;l(d,a),l(p,a);var h=o.mont(i),f=d.invm(a);return 0===s.toRed(h).redPow(new o(e).mul(f).mod(a)).fromRed().mul(c.toRed(h).redPow(p.mul(f).mod(a)).fromRed()).mod(i).mod(a).cmp(p)}function l(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=e)throw new Error("invalid sig")}e.exports=function(t,e,i,a,l){var u=r(i);if("ec"===u.type){if("ecdsa"!==a&&"ecdsa/rsa"!==a)throw new Error("wrong public key type");return s(t,e,u)}if("dsa"===u.type){if("dsa"!==a)throw new Error("wrong public key type");return c(t,e,u)}if("rsa"!==a&&"ecdsa/rsa"!==a)throw new Error("wrong public key type");e=n.concat([l,e]);for(var d=u.modulus.byteLength(),p=[1],h=0;e.length+p.length+2<d;)p.push(255),h++;p.push(0);for(var f=-1;++f<e.length;)p.push(e[f]);p=n.from(p);var g=o.mont(u.modulus);t=(t=new o(t).toRed(g)).redPow(new o(u.publicExponent)),t=n.from(t.fromRed().toArray());var _=h<8?1:0;for(d=Math.min(t.length,p.length),t.length!==p.length&&(_=1),f=-1;++f<d;)_|=t[f]^p[f];return 0===_}},{"./curves.json":44,"bn.js":17,elliptic:88,"parse-asn1":151,"safe-buffer":63}],48:[function(t,e){"use strict";var n={};function o(t,e,o){function i(t,n,o){return"string"==typeof e?e:e(t,n,o)}o||(o=Error);var r=function(t){var e,n;function o(e,n,o){return t.call(this,i(e,n,o))||this}return n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,o}(o);r.prototype.name=o.name,r.prototype.code=t,n[t]=r}function i(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map(function(t){return String(t)}),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:2===n?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}function r(t,e,n){return(void 0===n||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}function a(t,e,n){return"number"!=typeof n&&(n=0),!(n+e.length>t.length)&&-1!==t.indexOf(e,n)}o("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError),o("ERR_INVALID_ARG_TYPE",function(t,e,n){var o,s;if("string"==typeof e&&("not ","not "===e.substr(0,"not ".length))?(o="must not be",e=e.replace(/^not /,"")):o="must be",r(t," argument"))s="The ".concat(t," ").concat(o," ").concat(i(e,"type"));else{var c=a(t,".")?"property":"argument";s='The "'.concat(t,'" ').concat(c," ").concat(o," ").concat(i(e,"type"))}return s+". Received type ".concat(typeof n)},TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"}),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"}),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=n},{}],49:[function(t,e){(function(n){"use strict";var o=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};e.exports=l;var i=t("./_stream_readable"),r=t("./_stream_writable");t("inherits")(l,i);for(var a=o(r.prototype),s=0;s<a.length;s++){var c=a[s];l.prototype[c]||(l.prototype[c]=r.prototype[c])}function l(t){if(!(this instanceof l))return new l(t);i.call(this,t),r.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||n.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})}).call(this,t("_process"))},{"./_stream_readable":51,"./_stream_writable":53,_process:159,inherits:140}],50:[function(t,e){"use strict";e.exports=o;var n=t("./_stream_transform");function o(t){if(!(this instanceof o))return new o(t);n.call(this,t)}t("inherits")(o,n),o.prototype._transform=function(t,e,n){n(null,t)}},{"./_stream_transform":52,inherits:140}],51:[function(t,e){(function(n,o){"use strict";var i;e.exports=R,R.ReadableState=L,t("events").EventEmitter;var r=function(t,e){return t.listeners(e).length},a=t("./internal/streams/stream"),s=t("buffer").Buffer,c=o.Uint8Array||function(){};function l(t){return s.from(t)}var u,d=t("util");u=d&&d.debuglog?d.debuglog("stream"):function(){};var p,h,f,g=t("./internal/streams/buffer_list"),_=t("./internal/streams/destroy"),y=t("./internal/streams/state").getHighWaterMark,m=t("../errors").codes,b=m.ERR_INVALID_ARG_TYPE,v=m.ERR_STREAM_PUSH_AFTER_EOF,S=m.ERR_METHOD_NOT_IMPLEMENTED,w=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;t("inherits")(R,a);var C=_.errorOrDestroy,I=["error","close","destroy","pause","resume"];function D(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}function L(e,n,o){i=i||t("./_stream_duplex"),e=e||{},"boolean"!=typeof o&&(o=n instanceof i),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=y(this,e,"readableHighWaterMark",o),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=t("string_decoder/").StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function R(e){if(i=i||t("./_stream_duplex"),!(this instanceof R))return new R(e);var n=this instanceof i;this._readableState=new L(e,this,n),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function P(t,e,n,o,i){u("readableAddChunk",e);var r,a=t._readableState;if(null===e)a.reading=!1,M(t,a);else if(i||(r=E(a,e)),r)C(t,r);else if(a.objectMode||e&&e.length>0)if("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===s.prototype||(e=l(e)),o)a.endEmitted?C(t,new w):T(t,a,e,!0);else if(a.ended)C(t,new v);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?T(t,a,e,!1):U(t,a)):T(t,a,e,!1)}else o||(a.reading=!1,U(t,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function T(t,e,n,o){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",n)):(e.length+=e.objectMode?1:n.length,o?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&O(t)),U(t,e)}function E(t,e){var n,o;return o=e,s.isBuffer(o)||o instanceof c||"string"==typeof e||void 0===e||t.objectMode||(n=new b("chunk",["string","Buffer","Uint8Array"],e)),n}Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),R.prototype.destroy=_.destroy,R.prototype._undestroy=_.undestroy,R.prototype._destroy=function(t,e){e(t)},R.prototype.push=function(t,e){var n,o=this._readableState;return o.objectMode?n=!0:"string"==typeof t&&((e=e||o.defaultEncoding)!==o.encoding&&(t=s.from(t,e),e=""),n=!0),P(this,t,e,!1,n)},R.prototype.unshift=function(t){return P(this,t,null,!0,!1)},R.prototype.isPaused=function(){return!1===this._readableState.flowing},R.prototype.setEncoding=function(e){p||(p=t("string_decoder/").StringDecoder);var n=new p(e);this._readableState.decoder=n,this._readableState.encoding=this._readableState.decoder.encoding;for(var o=this._readableState.buffer.head,i="";null!==o;)i+=n.write(o.data),o=o.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var A=1073741824;function N(t){return t>=A?t=A:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function G(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=N(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function M(t,e){if(u("onEofChunk"),!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,e.sync?O(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,k(t)))}}function O(t){var e=t._readableState;u("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(u("emitReadable",e.flowing),e.emittedReadable=!0,n.nextTick(k,t))}function k(t){var e=t._readableState;u("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,W(t)}function U(t,e){e.readingMore||(e.readingMore=!0,n.nextTick(B,t,e))}function B(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var n=e.length;if(u("maybeReadMore read 0"),t.read(0),n===e.length)break}e.readingMore=!1}function x(t){return function(){var e=t._readableState;u("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&r(t,"data")&&(e.flowing=!0,W(t))}}function F(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function H(t){u("readable nexttick read 0"),t.read(0)}function j(t,e){e.resumeScheduled||(e.resumeScheduled=!0,n.nextTick(V,t,e))}function V(t,e){u("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),W(t),e.flowing&&!e.reading&&t.read(0)}function W(t){var e=t._readableState;for(u("flow",e.flowing);e.flowing&&null!==t.read(););}function K(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):n=e.buffer.consume(t,e.decoder),n);var n}function Y(t){var e=t._readableState;u("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,n.nextTick(z,e,t))}function z(t,e){if(u("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var n=e._writableState;(!n||n.autoDestroy&&n.finished)&&e.destroy()}}function q(t,e){for(var n=0,o=t.length;n<o;n++)if(t[n]===e)return n;return-1}R.prototype.read=function(t){u("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return u("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?Y(this):O(this),null;if(0===(t=G(t,e))&&e.ended)return 0===e.length&&Y(this),null;var o,i=e.needReadable;return u("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&u("length less than watermark",i=!0),e.ended||e.reading?u("reading or ended",i=!1):i&&(u("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=G(n,e))),null===(o=t>0?K(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&Y(this)),null!==o&&this.emit("data",o),o},R.prototype._read=function(){C(this,new S("_read()"))},R.prototype.pipe=function(t,e){var o=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t)}i.pipesCount+=1,u("pipe count=%d opts=%j",i.pipesCount,e);var a=e&&!1===e.end||t===n.stdout||t===n.stderr?_:c;function s(e,n){u("onunpipe"),e===o&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,u("cleanup"),t.removeListener("close",f),t.removeListener("finish",g),t.removeListener("drain",l),t.removeListener("error",h),t.removeListener("unpipe",s),o.removeListener("end",c),o.removeListener("end",_),o.removeListener("data",p),d=!0,!i.awaitDrain||t._writableState&&!t._writableState.needDrain||l())}function c(){u("onend"),t.end()}i.endEmitted?n.nextTick(a):o.once("end",a),t.on("unpipe",s);var l=x(o);t.on("drain",l);var d=!1;function p(e){u("ondata");var n=t.write(e);u("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===t||i.pipesCount>1&&-1!==q(i.pipes,t))&&!d&&(u("false write response, pause",i.awaitDrain),i.awaitDrain++),o.pause())}function h(e){u("onerror",e),_(),t.removeListener("error",h),0===r(t,"error")&&C(t,e)}function f(){t.removeListener("finish",g),_()}function g(){u("onfinish"),t.removeListener("close",f),_()}function _(){u("unpipe"),o.unpipe(t)}return o.on("data",p),D(t,"error",h),t.once("close",f),t.once("finish",g),t.emit("pipe",o),i.flowing||(u("pipe resume"),o.resume()),t},R.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var o=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var r=0;r<i;r++)o[r].emit("unpipe",this,{hasUnpiped:!1});return this}var a=q(e.pipes,t);return-1===a?this:(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},R.prototype.on=function(t,e){var o=a.prototype.on.call(this,t,e),i=this._readableState;return"data"===t?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===t&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,u("on readable",i.length,i.reading),i.length?O(this):i.reading||n.nextTick(H,this))),o},R.prototype.addListener=R.prototype.on,R.prototype.removeListener=function(t,e){var o=a.prototype.removeListener.call(this,t,e);return"readable"===t&&n.nextTick(F,this),o},R.prototype.removeAllListeners=function(t){var e=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||n.nextTick(F,this),e},R.prototype.resume=function(){var t=this._readableState;return t.flowing||(u("resume"),t.flowing=!t.readableListening,j(this,t)),t.paused=!1,this},R.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},R.prototype.wrap=function(t){var e=this,n=this._readableState,o=!1;for(var i in t.on("end",function(){if(u("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(i){u("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(e.push(i)||(o=!0,t.pause()))}),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var r=0;r<I.length;r++)t.on(I[r],this.emit.bind(this,I[r]));return this._read=function(e){u("wrapped _read",e),o&&(o=!1,t.resume())},this},"function"==typeof Symbol&&(R.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=t("./internal/streams/async_iterator")),h(this)}),Object.defineProperty(R.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(R.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(R.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),R._fromList=K,Object.defineProperty(R.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(R.from=function(e,n){return void 0===f&&(f=t("./internal/streams/from")),f(R,e,n)})}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":48,"./_stream_duplex":49,"./internal/streams/async_iterator":54,"./internal/streams/buffer_list":55,"./internal/streams/destroy":56,"./internal/streams/from":58,"./internal/streams/state":60,"./internal/streams/stream":61,_process:159,buffer:66,events:105,inherits:140,"string_decoder/":64,util:19}],52:[function(t,e){"use strict";e.exports=l;var n=t("../errors").codes,o=n.ERR_METHOD_NOT_IMPLEMENTED,i=n.ERR_MULTIPLE_CALLBACK,r=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,s=t("./_stream_duplex");function c(t,e){var n=this._transformState;n.transforming=!1;var o=n.writecb;if(null===o)return this.emit("error",new i);n.writechunk=null,n.writecb=null,null!=e&&this.push(e),o(t);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function l(t){if(!(this instanceof l))return new l(t);s.call(this,t),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",u)}function u(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush(function(e,n){d(t,e,n)})}function d(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new a;if(t._transformState.transforming)throw new r;return t.push(null)}t("inherits")(l,s),l.prototype.push=function(t,e){return this._transformState.needTransform=!1,s.prototype.push.call(this,t,e)},l.prototype._transform=function(t,e,n){n(new o("_transform()"))},l.prototype._write=function(t,e,n){var o=this._transformState;if(o.writecb=n,o.writechunk=t,o.writeencoding=e,!o.transforming){var i=this._readableState;(o.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(t,e){s.prototype._destroy.call(this,t,function(t){e(t)})}},{"../errors":48,"./_stream_duplex":49,inherits:140}],53:[function(t,e){(function(n,o){"use strict";function i(t){var e=this;this.next=null,this.entry=null,this.finish=function(){V(e,t)}}var r;e.exports=L,L.WritableState=D;var a={deprecate:t("util-deprecate")},s=t("./internal/streams/stream"),c=t("buffer").Buffer,l=o.Uint8Array||function(){};function u(t){return c.from(t)}var d,p=t("./internal/streams/destroy"),h=t("./internal/streams/state").getHighWaterMark,f=t("../errors").codes,g=f.ERR_INVALID_ARG_TYPE,_=f.ERR_METHOD_NOT_IMPLEMENTED,y=f.ERR_MULTIPLE_CALLBACK,m=f.ERR_STREAM_CANNOT_PIPE,b=f.ERR_STREAM_DESTROYED,v=f.ERR_STREAM_NULL_VALUES,S=f.ERR_STREAM_WRITE_AFTER_END,w=f.ERR_UNKNOWN_ENCODING,C=p.errorOrDestroy;function I(){}function D(e,n,o){r=r||t("./_stream_duplex"),e=e||{},"boolean"!=typeof o&&(o=n instanceof r),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=h(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){M(n,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function L(e){var n=this instanceof(r=r||t("./_stream_duplex"));if(!n&&!d.call(L,this))return new L(e);this._writableState=new D(e,this,n),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function R(t,e){var o=new S;C(t,o),n.nextTick(e,o)}function P(t,e,o,i){var r;return null===o?r=new v:"string"==typeof o||e.objectMode||(r=new g("chunk",["string","Buffer"],o)),!r||(C(t,r),n.nextTick(i,r),!1)}function T(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=c.from(e,n)),e}function E(t,e,n,o,i,r){if(!n){var a=T(e,o,i);o!==a&&(n=!0,i="buffer",o=a)}var s=e.objectMode?1:o.length;e.length+=s;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:o,encoding:i,isBuf:n,callback:r,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else A(t,e,!1,s,o,i,r);return c}function A(t,e,n,o,i,r,a){e.writelen=o,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new b("write")):n?t._writev(i,e.onwrite):t._write(i,r,e.onwrite),e.sync=!1}function N(t,e,o,i,r){--e.pendingcb,o?(n.nextTick(r,i),n.nextTick(H,t,e),t._writableState.errorEmitted=!0,C(t,i)):(r(i),t._writableState.errorEmitted=!0,C(t,i),H(t,e))}function G(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function M(t,e){var o=t._writableState,i=o.sync,r=o.writecb;if("function"!=typeof r)throw new y;if(G(o),e)N(t,o,i,e,r);else{var a=B(o)||t.destroyed;a||o.corked||o.bufferProcessing||!o.bufferedRequest||U(t,o),i?n.nextTick(O,t,o,a,r):O(t,o,a,r)}}function O(t,e,n,o){n||k(t,e),e.pendingcb--,o(),H(t,e)}function k(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function U(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var o=e.bufferedRequestCount,r=new Array(o),a=e.corkedRequestsFree;a.entry=n;for(var s=0,c=!0;n;)r[s]=n,n.isBuf||(c=!1),n=n.next,s+=1;r.allBuffers=c,A(t,e,!0,e.length,r,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new i(e),e.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,u=n.encoding,d=n.callback;if(A(t,e,!1,e.objectMode?1:l.length,l,u,d),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function B(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function x(t,e){t._final(function(n){e.pendingcb--,n&&C(t,n),e.prefinished=!0,t.emit("prefinish"),H(t,e)})}function F(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,n.nextTick(x,t,e)))}function H(t,e){var n=B(e);if(n&&(F(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var o=t._readableState;(!o||o.autoDestroy&&o.endEmitted)&&t.destroy()}return n}function j(t,e,o){e.ending=!0,H(t,e),o&&(e.finished?n.nextTick(o):t.once("finish",o)),e.ended=!0,t.writable=!1}function V(t,e,n){var o=t.entry;for(t.entry=null;o;){var i=o.callback;e.pendingcb--,i(n),o=o.next}e.corkedRequestsFree.next=t}t("inherits")(L,s),D.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(D.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(L,Symbol.hasInstance,{value:function(t){return!!d.call(this,t)||this===L&&t&&t._writableState instanceof D}})):d=function(t){return t instanceof this},L.prototype.pipe=function(){C(this,new m)},L.prototype.write=function(t,e,n){var o,i=this._writableState,r=!1,a=!i.objectMode&&(o=t,c.isBuffer(o)||o instanceof l);return a&&!c.isBuffer(t)&&(t=u(t)),"function"==typeof e&&(n=e,e=null),a?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof n&&(n=I),i.ending?R(this,n):(a||P(this,i,t,n))&&(i.pendingcb++,r=E(this,i,a,t,e,n)),r},L.prototype.cork=function(){this._writableState.corked++},L.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||U(this,t))},L.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new w(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(L.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(L.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),L.prototype._write=function(t,e,n){n(new _("_write()"))},L.prototype._writev=null,L.prototype.end=function(t,e,n){var o=this._writableState;return"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),o.corked&&(o.corked=1,this.uncork()),o.ending||j(this,o,n),this},Object.defineProperty(L.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(L.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),L.prototype.destroy=p.destroy,L.prototype._undestroy=p.undestroy,L.prototype._destroy=function(t,e){e(t)}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":48,"./_stream_duplex":49,"./internal/streams/destroy":56,"./internal/streams/state":60,"./internal/streams/stream":61,_process:159,buffer:66,inherits:140,"util-deprecate":196}],54:[function(t,e){(function(n){"use strict";var o;function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r=t("./end-of-stream"),a=Symbol("lastResolve"),s=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),u=Symbol("lastPromise"),d=Symbol("handlePromise"),p=Symbol("stream");function h(t,e){return{value:t,done:e}}function f(t){var e=t[a];if(null!==e){var n=t[p].read();null!==n&&(t[u]=null,t[a]=null,t[s]=null,e(h(n,!1)))}}function g(t){n.nextTick(f,t)}function _(t,e){return function(n,o){t.then(function(){e[l]?n(h(void 0,!0)):e[d](n,o)},o)}}var y=Object.getPrototypeOf(function(){}),m=Object.setPrototypeOf((i(o={get stream(){return this[p]},next:function(){var t=this,e=this[c];if(null!==e)return Promise.reject(e);if(this[l])return Promise.resolve(h(void 0,!0));if(this[p].destroyed)return new Promise(function(e,o){n.nextTick(function(){t[c]?o(t[c]):e(h(void 0,!0))})});var o,i=this[u];if(i)o=new Promise(_(i,this));else{var r=this[p].read();if(null!==r)return Promise.resolve(h(r,!1));o=new Promise(this[d])}return this[u]=o,o}},Symbol.asyncIterator,function(){return this}),i(o,"return",function(){var t=this;return new Promise(function(e,n){t[p].destroy(null,function(t){t?n(t):e(h(void 0,!0))})})}),o),y);e.exports=function(t){var e,n=Object.create(m,(i(e={},p,{value:t,writable:!0}),i(e,a,{value:null,writable:!0}),i(e,s,{value:null,writable:!0}),i(e,c,{value:null,writable:!0}),i(e,l,{value:t._readableState.endEmitted,writable:!0}),i(e,d,{value:function(t,e){var o=n[p].read();o?(n[u]=null,n[a]=null,n[s]=null,t(h(o,!1))):(n[a]=t,n[s]=e)},writable:!0}),e));return n[u]=null,r(t,function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=n[s];return null!==e&&(n[u]=null,n[a]=null,n[s]=null,e(t)),void(n[c]=t)}var o=n[a];null!==o&&(n[u]=null,n[a]=null,n[s]=null,o(h(void 0,!0))),n[l]=!0}),t.on("readable",g.bind(null,n)),n}}).call(this,t("_process"))},{"./end-of-stream":57,_process:159}],55:[function(t,e){"use strict";function n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function o(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?n(Object(o),!0).forEach(function(e){i(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=t("buffer").Buffer,c=t("util").inspect,l=c&&c.custom||"inspect";e.exports=function(){function t(){r(this,t),this.head=null,this.tail=null,this.length=0}var e,n;return e=t,(n=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n}},{key:"concat",value:function(t){if(0===this.length)return s.alloc(0);for(var e,n,o,i=s.allocUnsafe(t>>>0),r=this.head,a=0;r;)e=r.data,n=i,o=a,s.prototype.copy.call(e,n,o),a+=r.data.length,r=r.next;return i}},{key:"consume",value:function(t,e){var n;return t<this.head.data.length?(n=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):n=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,n=1,o=e.data;for(t-=o.length;e=e.next;){var i=e.data,r=t>i.length?i.length:t;if(r===i.length?o+=i:o+=i.slice(0,t),0==(t-=r)){r===i.length?(++n,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=i.slice(r));break}++n}return this.length-=n,o}},{key:"_getBuffer",value:function(t){var e=s.allocUnsafe(t),n=this.head,o=1;for(n.data.copy(e),t-=n.data.length;n=n.next;){var i=n.data,r=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,r),0==(t-=r)){r===i.length?(++o,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(r));break}++o}return this.length-=o,e}},{key:l,value:function(t,e){return c(this,o({},e,{depth:0,customInspect:!1}))}}])&&a(e.prototype,n),t}()},{buffer:66,util:19}],56:[function(t,e){(function(t){"use strict";function n(t,e){i(t,e),o(t)}function o(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function i(t,e){t.emit("error",e)}e.exports={destroy:function(e,r){var a=this,s=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return s||c?(r?r(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(i,this,e)):t.nextTick(i,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!r&&e?a._writableState?a._writableState.errorEmitted?t.nextTick(o,a):(a._writableState.errorEmitted=!0,t.nextTick(n,a,e)):t.nextTick(n,a,e):r?(t.nextTick(o,a),r(e)):t.nextTick(o,a)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var n=t._readableState,o=t._writableState;n&&n.autoDestroy||o&&o.autoDestroy?t.destroy(e):t.emit("error",e)}}}).call(this,t("_process"))},{_process:159}],57:[function(t,e){"use strict";var n=t("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function o(t){var e=!1;return function(){if(!e){e=!0;for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];t.apply(this,o)}}}function i(){}function r(t){return t.setHeader&&"function"==typeof t.abort}e.exports=function t(e,a,s){if("function"==typeof a)return t(e,null,a);a||(a={}),s=o(s||i);var c=a.readable||!1!==a.readable&&e.readable,l=a.writable||!1!==a.writable&&e.writable,u=function(){e.writable||p()},d=e._writableState&&e._writableState.finished,p=function(){l=!1,d=!0,c||s.call(e)},h=e._readableState&&e._readableState.endEmitted,f=function(){c=!1,h=!0,l||s.call(e)},g=function(t){s.call(e,t)},_=function(){var t;return c&&!h?(e._readableState&&e._readableState.ended||(t=new n),s.call(e,t)):l&&!d?(e._writableState&&e._writableState.ended||(t=new n),s.call(e,t)):void 0},y=function(){e.req.on("finish",p)};return r(e)?(e.on("complete",p),e.on("abort",_),e.req?y():e.on("request",y)):l&&!e._writableState&&(e.on("end",u),e.on("close",u)),e.on("end",f),e.on("finish",p),!1!==a.error&&e.on("error",g),e.on("close",_),function(){e.removeListener("complete",p),e.removeListener("abort",_),e.removeListener("request",y),e.req&&e.req.removeListener("finish",p),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",p),e.removeListener("end",f),e.removeListener("error",g),e.removeListener("close",_)}}},{"../../../errors":48}],58:[function(t,e){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],59:[function(t,e){"use strict";var n;function o(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var i=t("../../../errors").codes,r=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(t){if(t)throw t}function c(t){return t.setHeader&&"function"==typeof t.abort}function l(e,i,r,s){s=o(s);var l=!1;e.on("close",function(){l=!0}),void 0===n&&(n=t("./end-of-stream")),n(e,{readable:i,writable:r},function(t){if(t)return s(t);l=!0,s()});var u=!1;return function(t){if(!l&&!u)return u=!0,c(e)?e.abort():"function"==typeof e.destroy?e.destroy():void s(t||new a("pipe"))}}function u(t){t()}function d(t,e){return t.pipe(e)}function p(t){return t.length?"function"!=typeof t[t.length-1]?s:t.pop():s}e.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o,i=p(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new r("streams");var a=e.map(function(t,n){var r=n<e.length-1;return l(t,r,n>0,function(t){o||(o=t),t&&a.forEach(u),r||(a.forEach(u),i(o))})});return e.reduce(d)}},{"../../../errors":48,"./end-of-stream":57}],60:[function(t,e){"use strict";var n=t("../../../errors").codes.ERR_INVALID_OPT_VALUE;function o(t,e,n){return null!=t.highWaterMark?t.highWaterMark:e?t[n]:null}e.exports={getHighWaterMark:function(t,e,i,r){var a=o(e,r,i);if(null!=a){if(!isFinite(a)||Math.floor(a)!==a||a<0)throw new n(r?i:"highWaterMark",a);return Math.floor(a)}return t.objectMode?16:16384}}},{"../../../errors":48}],61:[function(t,e){e.exports=t("events").EventEmitter},{events:105}],62:[function(t,e,n){(n=e.exports=t("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=t("./lib/_stream_writable.js"),n.Duplex=t("./lib/_stream_duplex.js"),n.Transform=t("./lib/_stream_transform.js"),n.PassThrough=t("./lib/_stream_passthrough.js"),n.finished=t("./lib/internal/streams/end-of-stream.js"),n.pipeline=t("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":49,"./lib/_stream_passthrough.js":50,"./lib/_stream_readable.js":51,"./lib/_stream_transform.js":52,"./lib/_stream_writable.js":53,"./lib/internal/streams/end-of-stream.js":57,"./lib/internal/streams/pipeline.js":59}],63:[function(t,e,n){var o=t("buffer"),i=o.Buffer;function r(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=o:(r(o,n),n.Buffer=a),a.prototype=Object.create(i.prototype),r(i,a),a.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},a.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var o=i(t);return void 0!==e?"string"==typeof n?o.fill(e,n):o.fill(e):o.fill(0),o},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o.SlowBuffer(t)}},{buffer:66}],64:[function(t,e,n){"use strict";var o=t("safe-buffer").Buffer,i=o.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function a(t){var e=r(t);if("string"!=typeof e&&(o.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}function s(t){var e;switch(this.encoding=a(t),this.encoding){case"utf16le":this.text=p,this.end=h,e=4;break;case"utf8":this.fillLast=d,e=4;break;case"base64":this.text=f,this.end=g,e=3;break;default:return this.write=_,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=o.allocUnsafe(e)}function c(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function l(t,e,n){var o=e.length-1;if(o<n)return 0;var i=c(e[o]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--o<n||-2===i?0:(i=c(e[o]))>=0?(i>0&&(t.lastNeed=i-2),i):--o<n||-2===i?0:(i=c(e[o]))>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0}function u(t,e){if(128!=(192&e[0]))return t.lastNeed=0,"\ufffd";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"\ufffd";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"\ufffd"}}function d(t){var e=this.lastTotal-this.lastNeed,n=u(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function p(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var o=n.charCodeAt(n.length-1);if(o>=55296&&o<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function h(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function f(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function g(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function _(t){return t.toString(this.encoding)}function y(t){return t&&t.length?this.write(t):""}n.StringDecoder=s,s.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},s.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\ufffd":e},s.prototype.text=function(t,e){var n=l(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var o=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,o),t.toString("utf8",e,o)},s.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},{"safe-buffer":63}],65:[function(t,e){(function(t){e.exports=function(e,n){for(var o=Math.min(e.length,n.length),i=new t(o),r=0;r<o;++r)i[r]=e[r]^n[r];return i}}).call(this,t("buffer").Buffer)},{buffer:66}],66:[function(t,e,n){(function(e){"use strict";var o=t("base64-js"),i=t("ieee754"),r=t("isarray");function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return p(this,t)}return l(this,t,e,n)}function l(t,e,n,o){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?g(t,e,n,o):"string"==typeof e?h(t,e,n):_(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function d(t,e,n,o){return u(e),e<=0?s(t,e):void 0!==n?"string"==typeof o?s(t,e).fill(n,o):s(t,e).fill(n):s(t,e)}function p(t,e){if(u(e),t=s(t,e<0?0:0|y(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var o=0|m(e,n),i=(t=s(t,o)).write(e,n);return i!==o&&(t=t.slice(0,i)),t}function f(t,e){var n=e.length<0?0:0|y(e.length);t=s(t,n);for(var o=0;o<n;o+=1)t[o]=255&e[o];return t}function g(t,e,n,o){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(o||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===o?new Uint8Array(e):void 0===o?new Uint8Array(e,n):new Uint8Array(e,n,o),c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=f(t,e),t}function _(t,e){if(c.isBuffer(e)){var n=0|y(e.length);return 0===(t=s(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(o=e.length)!=o?s(t,0):f(t,e);if("Buffer"===e.type&&r(e.data))return f(t,e.data)}var o;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function m(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var o=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Q(t).length;default:if(o)return z(t).length;e=(""+e).toLowerCase(),o=!0}}function b(t,e,n){var o=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,n);case"utf8":case"utf-8":return E(this,e,n);case"ascii":return G(this,e,n);case"latin1":case"binary":return M(this,e,n);case"base64":return T(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,n);default:if(o)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),o=!0}}function v(t,e,n){var o=t[e];t[e]=t[n],t[n]=o}function S(t,e,n,o,i){if(0===t.length)return-1;if("string"==typeof n?(o=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=c.from(e,o)),c.isBuffer(e))return 0===e.length?-1:w(t,e,n,o,i);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):w(t,[e],n,o,i);throw new TypeError("val must be string, number or Buffer")}function w(t,e,n,o,i){var r,a=1,s=t.length,c=e.length;if(void 0!==o&&("ucs2"===(o=String(o).toLowerCase())||"ucs-2"===o||"utf16le"===o||"utf-16le"===o)){if(t.length<2||e.length<2)return-1;a=2,s/=2,c/=2,n/=2}function l(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var u=-1;for(r=n;r<s;r++)if(l(t,r)===l(e,-1===u?0:r-u)){if(-1===u&&(u=r),r-u+1===c)return u*a}else-1!==u&&(r-=r-u),u=-1}else for(n+c>s&&(n=s-c),r=n;r>=0;r--){for(var d=!0,p=0;p<c;p++)if(l(t,r+p)!==l(e,p)){d=!1;break}if(d)return r}return-1}function C(t,e,n,o){n=Number(n)||0;var i=t.length-n;o?(o=Number(o))>i&&(o=i):o=i;var r=e.length;if(r%2!=0)throw new TypeError("Invalid hex string");o>r/2&&(o=r/2);for(var a=0;a<o;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function I(t,e,n,o){return X(z(e,t.length-n),t,n,o)}function D(t,e,n,o){return X(q(e),t,n,o)}function L(t,e,n,o){return D(t,e,n,o)}function R(t,e,n,o){return X(Q(e),t,n,o)}function P(t,e,n,o){return X(J(e,t.length-n),t,n,o)}function T(t,e,n){return 0===e&&n===t.length?o.fromByteArray(t):o.fromByteArray(t.slice(e,n))}function E(t,e,n){n=Math.min(t.length,n);for(var o=[],i=e;i<n;){var r,a,s,c,l=t[i],u=null,d=l>239?4:l>223?3:l>191?2:1;if(i+d<=n)switch(d){case 1:l<128&&(u=l);break;case 2:128==(192&(r=t[i+1]))&&(c=(31&l)<<6|63&r)>127&&(u=c);break;case 3:r=t[i+1],a=t[i+2],128==(192&r)&&128==(192&a)&&(c=(15&l)<<12|(63&r)<<6|63&a)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:r=t[i+1],a=t[i+2],s=t[i+3],128==(192&r)&&128==(192&a)&&128==(192&s)&&(c=(15&l)<<18|(63&r)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,d=1):u>65535&&(u-=65536,o.push(u>>>10&1023|55296),u=56320|1023&u),o.push(u),i+=d}return N(o)}n.Buffer=c,n.SlowBuffer=function(t){return+t!=t&&(t=0),c.alloc(+t)},n.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),n.kMaxLength=a(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return l(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return d(null,t,e,n)},c.allocUnsafe=function(t){return p(null,t)},c.allocUnsafeSlow=function(t){return p(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,o=e.length,i=0,r=Math.min(n,o);i<r;++i)if(t[i]!==e[i]){n=t[i],o=e[i];break}return n<o?-1:o<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!r(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var o=c.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(o,i),i+=a.length}return o},c.byteLength=m,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)v(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?E(this,0,t):b.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,o,i){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===o&&(o=0),void 0===i&&(i=this.length),e<0||n>t.length||o<0||i>this.length)throw new RangeError("out of range index");if(o>=i&&e>=n)return 0;if(o>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var r=(i>>>=0)-(o>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(r,a),l=this.slice(o,i),u=t.slice(e,n),d=0;d<s;++d)if(l[d]!==u[d]){r=l[d],a=u[d];break}return r<a?-1:a<r?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return S(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return S(this,t,e,n,!1)},c.prototype.write=function(t,e,n,o){if(void 0===e)o="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)o=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===o&&(o="utf8")):(o=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");for(var r=!1;;)switch(o){case"hex":return C(this,t,e,n);case"utf8":case"utf-8":return I(this,t,e,n);case"ascii":return D(this,t,e,n);case"latin1":case"binary":return L(this,t,e,n);case"base64":return R(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,e,n);default:if(r)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),r=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function N(t){var e=t.length;if(e<=A)return String.fromCharCode.apply(String,t);for(var n="",o=0;o<e;)n+=String.fromCharCode.apply(String,t.slice(o,o+=A));return n}function G(t,e,n){var o="";n=Math.min(t.length,n);for(var i=e;i<n;++i)o+=String.fromCharCode(127&t[i]);return o}function M(t,e,n){var o="";n=Math.min(t.length,n);for(var i=e;i<n;++i)o+=String.fromCharCode(t[i]);return o}function O(t,e,n){var o,i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",a=e;a<n;++a)r+=(o=t[a])<16?"0"+o.toString(16):o.toString(16);return r}function k(t,e,n){for(var o=t.slice(e,n),i="",r=0;r<o.length;r+=2)i+=String.fromCharCode(o[r]+256*o[r+1]);return i}function U(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function B(t,e,n,o,i,r){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<r)throw new RangeError('"value" argument is out of bounds');if(n+o>t.length)throw new RangeError("Index out of range")}function x(t,e,n,o){e<0&&(e=65535+e+1);for(var i=0,r=Math.min(t.length-n,2);i<r;++i)t[n+i]=(e&255<<8*(o?i:1-i))>>>8*(o?i:1-i)}function F(t,e,n,o){e<0&&(e=4294967295+e+1);for(var i=0,r=Math.min(t.length-n,4);i<r;++i)t[n+i]=e>>>8*(o?i:3-i)&255}function H(t,e,n,o){if(n+o>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(t,e,n,o,r){return r||H(t,0,n,4),i.write(t,e,n,o,23,4),n+4}function V(t,e,n,o,r){return r||H(t,0,n,8),i.write(t,e,n,o,52,8),n+8}c.prototype.slice=function(t,e){var n,o=this.length;if((t=~~t)<0?(t+=o)<0&&(t=0):t>o&&(t=o),(e=void 0===e?o:~~e)<0?(e+=o)<0&&(e=0):e>o&&(e=o),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=c.prototype;else{var i=e-t;n=new c(i,void 0);for(var r=0;r<i;++r)n[r]=this[r+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||U(t,e,this.length);for(var o=this[t],i=1,r=0;++r<e&&(i*=256);)o+=this[t+r]*i;return o},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||U(t,e,this.length);for(var o=this[t+--e],i=1;e>0&&(i*=256);)o+=this[t+--e]*i;return o},c.prototype.readUInt8=function(t,e){return e||U(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||U(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||U(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||U(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||U(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||U(t,e,this.length);for(var o=this[t],i=1,r=0;++r<e&&(i*=256);)o+=this[t+r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||U(t,e,this.length);for(var o=e,i=1,r=this[t+--o];o>0&&(i*=256);)r+=this[t+--o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},c.prototype.readInt8=function(t,e){return e||U(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||U(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||U(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||U(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||U(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||U(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||U(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||U(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||U(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,o){t=+t,e|=0,n|=0,o||B(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,r=0;for(this[e]=255&t;++r<n&&(i*=256);)this[e+r]=t/i&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,o){t=+t,e|=0,n|=0,o||B(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,r=1;for(this[e+i]=255&t;--i>=0&&(r*=256);)this[e+i]=t/r&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):x(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):x(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):F(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,o){if(t=+t,e|=0,!o){var i=Math.pow(2,8*n-1);B(this,t,e,n,i-1,-i)}var r=0,a=1,s=0;for(this[e]=255&t;++r<n&&(a*=256);)t<0&&0===s&&0!==this[e+r-1]&&(s=1),this[e+r]=(t/a>>0)-s&255;return e+n},c.prototype.writeIntBE=function(t,e,n,o){if(t=+t,e|=0,!o){var i=Math.pow(2,8*n-1);B(this,t,e,n,i-1,-i)}var r=n-1,a=1,s=0;for(this[e+r]=255&t;--r>=0&&(a*=256);)t<0&&0===s&&0!==this[e+r+1]&&(s=1),this[e+r]=(t/a>>0)-s&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):x(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):x(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):F(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return j(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return j(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return V(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return V(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,o){if(n||(n=0),o||0===o||(o=this.length),e>=t.length&&(e=t.length),e||(e=0),o>0&&o<n&&(o=n),o===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),t.length-e<o-n&&(o=t.length-e+n);var i,r=o-n;if(this===t&&n<e&&e<o)for(i=r-1;i>=0;--i)t[i+e]=this[i+n];else if(r<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<r;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+r),e);return r},c.prototype.fill=function(t,e,n,o){if("string"==typeof t){if("string"==typeof e?(o=e,e=0,n=this.length):"string"==typeof n&&(o=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!c.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var r;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(r=e;r<n;++r)this[r]=t;else{var a=c.isBuffer(t)?t:z(new c(t,o).toString()),s=a.length;for(r=0;r<n-e;++r)this[r+e]=a[r%s]}return this};var W=/[^+\/0-9A-Za-z-_]/g;function K(t){if((t=Y(t).replace(W,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function Y(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function z(t,e){var n;e=e||1/0;for(var o=t.length,i=null,r=[],a=0;a<o;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&r.push(239,191,189);continue}if(a+1===o){(e-=3)>-1&&r.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&r.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&r.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;r.push(n)}else if(n<2048){if((e-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function q(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function J(t,e){for(var n,o,i,r=[],a=0;a<t.length&&!((e-=2)<0);++a)o=(n=t.charCodeAt(a))>>8,i=n%256,r.push(i),r.push(o);return r}function Q(t){return o.toByteArray(K(t))}function X(t,e,n,o){for(var i=0;i<o&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":16,ieee754:138,isarray:67}],67:[function(t,e){var n={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},{}],68:[function(t,e){var n=t("safe-buffer").Buffer,o=t("stream").Transform,i=t("string_decoder").StringDecoder;function r(t){o.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}t("inherits")(r,o),r.prototype.update=function(t,e,o){"string"==typeof t&&(t=n.from(t,e));var i=this._update(t);return this.hashMode?this:(o&&(i=this._toString(i,o)),i)},r.prototype.setAutoPadding=function(){},r.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},r.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},r.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},r.prototype._transform=function(t,e,n){var o;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(i){o=i}finally{n(o)}},r.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(n){e=n}t(e)},r.prototype._finalOrDigest=function(t){var e=this.__final()||n.alloc(0);return t&&(e=this._toString(e,t,!0)),e},r.prototype._toString=function(t,e,n){if(this._decoder||(this._decoder=new i(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var o=this._decoder.write(t);return n&&(o+=this._decoder.end()),o},e.exports=r},{inherits:140,"safe-buffer":185,stream:194,string_decoder:195}],69:[function(t,e,n){(function(t){function e(t){return Object.prototype.toString.call(t)}n.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===e(t)},n.isBoolean=function(t){return"boolean"==typeof t},n.isNull=function(t){return null===t},n.isNullOrUndefined=function(t){return null==t},n.isNumber=function(t){return"number"==typeof t},n.isString=function(t){return"string"==typeof t},n.isSymbol=function(t){return"symbol"==typeof t},n.isUndefined=function(t){return void 0===t},n.isRegExp=function(t){return"[object RegExp]"===e(t)},n.isObject=function(t){return"object"==typeof t&&null!==t},n.isDate=function(t){return"[object Date]"===e(t)},n.isError=function(t){return"[object Error]"===e(t)||t instanceof Error},n.isFunction=function(t){return"function"==typeof t},n.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},n.isBuffer=t.isBuffer}).call(this,{isBuffer:t("../../is-buffer/index.js")})},{"../../is-buffer/index.js":141}],70:[function(t,e){(function(n){var o=t("elliptic"),i=t("bn.js");e.exports=function(t){return new a(t)};var r={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(t){this.curveType=r[t],this.curveType||(this.curveType={name:t}),this.curve=new o.ec(this.curveType.name),this.keys=void 0}function s(t,e,o){Array.isArray(t)||(t=t.toArray());var i=new n(t);if(o&&i.length<o){var r=new n(o-i.length);r.fill(0),i=n.concat([r,i])}return e?i.toString(e):i}r.p224=r.secp224r1,r.p256=r.secp256r1=r.prime256v1,r.p192=r.secp192r1=r.prime192v1,r.p384=r.secp384r1,r.p521=r.secp521r1,a.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)},a.prototype.computeSecret=function(t,e,o){return e=e||"utf8",n.isBuffer(t)||(t=new n(t,e)),s(this.curve.keyFromPublic(t).getPublic().mul(this.keys.getPrivate()).getX(),o,this.curveType.byteLength)},a.prototype.getPublicKey=function(t,e){var n=this.keys.getPublic("compressed"===e,!0);return"hybrid"===e&&(n[n.length-1]%2?n[0]=7:n[0]=6),s(n,t)},a.prototype.getPrivateKey=function(t){return s(this.keys.getPrivate(),t)},a.prototype.setPublicKey=function(t,e){return e=e||"utf8",n.isBuffer(t)||(t=new n(t,e)),this.keys._importPublic(t),this},a.prototype.setPrivateKey=function(t,e){e=e||"utf8",n.isBuffer(t)||(t=new n(t,e));var o=new i(t);return o=o.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(o),this}}).call(this,t("buffer").Buffer)},{"bn.js":71,buffer:66,elliptic:88}],71:[function(t,e,n){arguments[4][15][0].apply(n,arguments)},{buffer:19,dup:15}],72:[function(t,e){"use strict";var n=t("inherits"),o=t("md5.js"),i=t("ripemd160"),r=t("sha.js"),a=t("cipher-base");function s(t){a.call(this,"digest"),this._hash=t}n(s,a),s.prototype._update=function(t){this._hash.update(t)},s.prototype._final=function(){return this._hash.digest()},e.exports=function(t){return"md5"===(t=t.toLowerCase())?new o:"rmd160"===t||"ripemd160"===t?new i:new s(r(t))}},{"cipher-base":68,inherits:140,"md5.js":142,ripemd160:184,"sha.js":187}],73:[function(t,e){var n=t("md5.js");e.exports=function(t){return(new n).update(t).digest()}},{"md5.js":142}],74:[function(t,e){"use strict";var n=t("inherits"),o=t("./legacy"),i=t("cipher-base"),r=t("safe-buffer").Buffer,a=t("create-hash/md5"),s=t("ripemd160"),c=t("sha.js"),l=r.alloc(128);function u(t,e){i.call(this,"digest"),"string"==typeof e&&(e=r.from(e));var n="sha512"===t||"sha384"===t?128:64;this._alg=t,this._key=e,e.length>n?e=("rmd160"===t?new s:c(t)).update(e).digest():e.length<n&&(e=r.concat([e,l],n));for(var o=this._ipad=r.allocUnsafe(n),a=this._opad=r.allocUnsafe(n),u=0;u<n;u++)o[u]=54^e[u],a[u]=92^e[u];this._hash="rmd160"===t?new s:c(t),this._hash.update(o)}n(u,i),u.prototype._update=function(t){this._hash.update(t)},u.prototype._final=function(){var t=this._hash.digest();return("rmd160"===this._alg?new s:c(this._alg)).update(this._opad).update(t).digest()},e.exports=function(t,e){return"rmd160"===(t=t.toLowerCase())||"ripemd160"===t?new u("rmd160",e):"md5"===t?new o(a,e):new u(t,e)}},{"./legacy":75,"cipher-base":68,"create-hash/md5":73,inherits:140,ripemd160:184,"safe-buffer":185,"sha.js":187}],75:[function(t,e){"use strict";var n=t("inherits"),o=t("safe-buffer").Buffer,i=t("cipher-base"),r=o.alloc(128),a=64;function s(t,e){i.call(this,"digest"),"string"==typeof e&&(e=o.from(e)),this._alg=t,this._key=e,e.length>a?e=t(e):e.length<a&&(e=o.concat([e,r],a));for(var n=this._ipad=o.allocUnsafe(a),s=this._opad=o.allocUnsafe(a),c=0;c<a;c++)n[c]=54^e[c],s[c]=92^e[c];this._hash=[n]}n(s,i),s.prototype._update=function(t){this._hash.push(t)},s.prototype._final=function(){var t=this._alg(o.concat(this._hash));return this._alg(o.concat([this._opad,t]))},e.exports=s},{"cipher-base":68,inherits:140,"safe-buffer":185}],76:[function(t,e,n){"use strict";n.randomBytes=n.rng=n.pseudoRandomBytes=n.prng=t("randombytes"),n.createHash=n.Hash=t("create-hash"),n.createHmac=n.Hmac=t("create-hmac");var o=t("browserify-sign/algos"),i=Object.keys(o),r=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);n.getHashes=function(){return r};var a=t("pbkdf2");n.pbkdf2=a.pbkdf2,n.pbkdf2Sync=a.pbkdf2Sync;var s=t("browserify-cipher");n.Cipher=s.Cipher,n.createCipher=s.createCipher,n.Cipheriv=s.Cipheriv,n.createCipheriv=s.createCipheriv,n.Decipher=s.Decipher,n.createDecipher=s.createDecipher,n.Decipheriv=s.Decipheriv,n.createDecipheriv=s.createDecipheriv,n.getCiphers=s.getCiphers,n.listCiphers=s.listCiphers;var c=t("diffie-hellman");n.DiffieHellmanGroup=c.DiffieHellmanGroup,n.createDiffieHellmanGroup=c.createDiffieHellmanGroup,n.getDiffieHellman=c.getDiffieHellman,n.createDiffieHellman=c.createDiffieHellman,n.DiffieHellman=c.DiffieHellman;var l=t("browserify-sign");n.createSign=l.createSign,n.Sign=l.Sign,n.createVerify=l.createVerify,n.Verify=l.Verify,n.createECDH=t("create-ecdh");var u=t("public-encrypt");n.publicEncrypt=u.publicEncrypt,n.privateEncrypt=u.privateEncrypt,n.publicDecrypt=u.publicDecrypt,n.privateDecrypt=u.privateDecrypt;var d=t("randomfill");n.randomFill=d.randomFill,n.randomFillSync=d.randomFillSync,n.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},n.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":37,"browserify-sign":45,"browserify-sign/algos":42,"create-ecdh":70,"create-hash":72,"create-hmac":74,"diffie-hellman":83,pbkdf2:152,"public-encrypt":160,randombytes:167,randomfill:168}],77:[function(t,e,n){"use strict";n.utils=t("./des/utils"),n.Cipher=t("./des/cipher"),n.DES=t("./des/des"),n.CBC=t("./des/cbc"),n.EDE=t("./des/ede")},{"./des/cbc":78,"./des/cipher":79,"./des/des":80,"./des/ede":81,"./des/utils":82}],78:[function(t,e,n){"use strict";var o=t("minimalistic-assert"),i=t("inherits"),r={};function a(t){o.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}n.instantiate=function(t){function e(e){t.call(this,e),this._cbcInit()}i(e,t);for(var n=Object.keys(r),o=0;o<n.length;o++){var a=n[o];e.prototype[a]=r[a]}return e.create=function(t){return new e(t)},e},r._cbcInit=function(){var t=new a(this.options.iv);this._cbcState=t},r._update=function(t,e,n,o){var i=this._cbcState,r=this.constructor.super_.prototype,a=i.iv;if("encrypt"===this.type){for(var s=0;s<this.blockSize;s++)a[s]^=t[e+s];for(r._update.call(this,a,0,n,o),s=0;s<this.blockSize;s++)a[s]=n[o+s]}else{for(r._update.call(this,t,e,n,o),s=0;s<this.blockSize;s++)n[o+s]^=a[s];for(s=0;s<this.blockSize;s++)a[s]=t[e+s]}}},{inherits:140,"minimalistic-assert":145}],79:[function(t,e){"use strict";var n=t("minimalistic-assert");function o(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}e.exports=o,o.prototype._init=function(){},o.prototype.update=function(t){return 0===t.length?[]:"decrypt"===this.type?this._updateDecrypt(t):this._updateEncrypt(t)},o.prototype._buffer=function(t,e){for(var n=Math.min(this.buffer.length-this.bufferOff,t.length-e),o=0;o<n;o++)this.buffer[this.bufferOff+o]=t[e+o];return this.bufferOff+=n,n},o.prototype._flushBuffer=function(t,e){return this._update(this.buffer,0,t,e),this.bufferOff=0,this.blockSize},o.prototype._updateEncrypt=function(t){var e=0,n=0,o=(this.bufferOff+t.length)/this.blockSize|0,i=new Array(o*this.blockSize);0!==this.bufferOff&&(e+=this._buffer(t,e),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(i,n)));for(var r=t.length-(t.length-e)%this.blockSize;e<r;e+=this.blockSize)this._update(t,e,i,n),n+=this.blockSize;for(;e<t.length;e++,this.bufferOff++)this.buffer[this.bufferOff]=t[e];return i},o.prototype._updateDecrypt=function(t){for(var e=0,n=0,o=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,i=new Array(o*this.blockSize);o>0;o--)e+=this._buffer(t,e),n+=this._flushBuffer(i,n);return e+=this._buffer(t,e),i},o.prototype.final=function(t){var e,n;return t&&(e=this.update(t)),n="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),e?e.concat(n):n},o.prototype._pad=function(t,e){if(0===e)return!1;for(;e<t.length;)t[e++]=0;return!0},o.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t},o.prototype._unpad=function(t){return t},o.prototype._finalDecrypt=function(){n.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)}},{"minimalistic-assert":145}],80:[function(t,e){"use strict";var n=t("minimalistic-assert"),o=t("inherits"),i=t("./utils"),r=t("./cipher");function a(){this.tmp=new Array(2),this.keys=null}function s(t){r.call(this,t);var e=new a;this._desState=e,this.deriveKeys(e,t.key)}o(s,r),e.exports=s,s.create=function(t){return new s(t)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];s.prototype.deriveKeys=function(t,e){t.keys=new Array(32),n.equal(e.length,this.blockSize,"Invalid key length");var o=i.readUInt32BE(e,0),r=i.readUInt32BE(e,4);i.pc1(o,r,t.tmp,0),o=t.tmp[0],r=t.tmp[1];for(var a=0;a<t.keys.length;a+=2){var s=c[a>>>1];o=i.r28shl(o,s),r=i.r28shl(r,s),i.pc2(o,r,t.keys,a)}},s.prototype._update=function(t,e,n,o){var r=this._desState,a=i.readUInt32BE(t,e),s=i.readUInt32BE(t,e+4);i.ip(a,s,r.tmp,0),a=r.tmp[0],s=r.tmp[1],"encrypt"===this.type?this._encrypt(r,a,s,r.tmp,0):this._decrypt(r,a,s,r.tmp,0),a=r.tmp[0],s=r.tmp[1],i.writeUInt32BE(n,a,o),i.writeUInt32BE(n,s,o+4)},s.prototype._pad=function(t,e){for(var n=t.length-e,o=e;o<t.length;o++)t[o]=n;return!0},s.prototype._unpad=function(t){for(var e=t[t.length-1],o=t.length-e;o<t.length;o++)n.equal(t[o],e);return t.slice(0,t.length-e)},s.prototype._encrypt=function(t,e,n,o,r){for(var a=e,s=n,c=0;c<t.keys.length;c+=2){var l=t.keys[c],u=t.keys[c+1];i.expand(s,t.tmp,0),l^=t.tmp[0],u^=t.tmp[1];var d=i.substitute(l,u),p=s;s=(a^i.permute(d))>>>0,a=p}i.rip(s,a,o,r)},s.prototype._decrypt=function(t,e,n,o,r){for(var a=n,s=e,c=t.keys.length-2;c>=0;c-=2){var l=t.keys[c],u=t.keys[c+1];i.expand(a,t.tmp,0),l^=t.tmp[0],u^=t.tmp[1];var d=i.substitute(l,u),p=a;a=(s^i.permute(d))>>>0,s=p}i.rip(a,s,o,r)}},{"./cipher":79,"./utils":82,inherits:140,"minimalistic-assert":145}],81:[function(t,e){"use strict";var n=t("minimalistic-assert"),o=t("inherits"),i=t("./cipher"),r=t("./des");function a(t,e){n.equal(e.length,24,"Invalid key length");var o=e.slice(0,8),i=e.slice(8,16),a=e.slice(16,24);this.ciphers="encrypt"===t?[r.create({type:"encrypt",key:o}),r.create({type:"decrypt",key:i}),r.create({type:"encrypt",key:a})]:[r.create({type:"decrypt",key:a}),r.create({type:"encrypt",key:i}),r.create({type:"decrypt",key:o})]}function s(t){i.call(this,t);var e=new a(this.type,this.options.key);this._edeState=e}o(s,i),e.exports=s,s.create=function(t){return new s(t)},s.prototype._update=function(t,e,n,o){var i=this._edeState;i.ciphers[0]._update(t,e,n,o),i.ciphers[1]._update(n,o,n,o),i.ciphers[2]._update(n,o,n,o)},s.prototype._pad=r.prototype._pad,s.prototype._unpad=r.prototype._unpad},{"./cipher":79,"./des":80,inherits:140,"minimalistic-assert":145}],82:[function(t,e,n){"use strict";n.readUInt32BE=function(t,e){return(t[0+e]<<24|t[1+e]<<16|t[2+e]<<8|t[3+e])>>>0},n.writeUInt32BE=function(t,e,n){t[0+n]=e>>>24,t[1+n]=e>>>16&255,t[2+n]=e>>>8&255,t[3+n]=255&e},n.ip=function(t,e,n,o){for(var i=0,r=0,a=6;a>=0;a-=2){for(var s=0;s<=24;s+=8)i<<=1,i|=e>>>s+a&1;for(s=0;s<=24;s+=8)i<<=1,i|=t>>>s+a&1}for(a=6;a>=0;a-=2){for(s=1;s<=25;s+=8)r<<=1,r|=e>>>s+a&1;for(s=1;s<=25;s+=8)r<<=1,r|=t>>>s+a&1}n[o+0]=i>>>0,n[o+1]=r>>>0},n.rip=function(t,e,n,o){for(var i=0,r=0,a=0;a<4;a++)for(var s=24;s>=0;s-=8)i<<=1,i|=e>>>s+a&1,i<<=1,i|=t>>>s+a&1;for(a=4;a<8;a++)for(s=24;s>=0;s-=8)r<<=1,r|=e>>>s+a&1,r<<=1,r|=t>>>s+a&1;n[o+0]=i>>>0,n[o+1]=r>>>0},n.pc1=function(t,e,n,o){for(var i=0,r=0,a=7;a>=5;a--){for(var s=0;s<=24;s+=8)i<<=1,i|=e>>s+a&1;for(s=0;s<=24;s+=8)i<<=1,i|=t>>s+a&1}for(s=0;s<=24;s+=8)i<<=1,i|=e>>s+a&1;for(a=1;a<=3;a++){for(s=0;s<=24;s+=8)r<<=1,r|=e>>s+a&1;for(s=0;s<=24;s+=8)r<<=1,r|=t>>s+a&1}for(s=0;s<=24;s+=8)r<<=1,r|=t>>s+a&1;n[o+0]=i>>>0,n[o+1]=r>>>0},n.r28shl=function(t,e){return t<<e&268435455|t>>>28-e};var o=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];n.pc2=function(t,e,n,i){for(var r=0,a=0,s=o.length>>>1,c=0;c<s;c++)r<<=1,r|=t>>>o[c]&1;for(c=s;c<o.length;c++)a<<=1,a|=e>>>o[c]&1;n[i+0]=r>>>0,n[i+1]=a>>>0},n.expand=function(t,e,n){var o=0,i=0;o=(1&t)<<5|t>>>27;for(var r=23;r>=15;r-=4)o<<=6,o|=t>>>r&63;for(r=11;r>=3;r-=4)i|=t>>>r&63,i<<=6;i|=(31&t)<<1|t>>>31,e[n+0]=o>>>0,e[n+1]=i>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];n.substitute=function(t,e){for(var n=0,o=0;o<4;o++)n<<=4,n|=i[64*o+(t>>>18-6*o&63)];for(o=0;o<4;o++)n<<=4,n|=i[256+64*o+(e>>>18-6*o&63)];return n>>>0};var r=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];n.permute=function(t){for(var e=0,n=0;n<r.length;n++)e<<=1,e|=t>>>r[n]&1;return e>>>0},n.padSplit=function(t,e,n){for(var o=t.toString(2);o.length<e;)o="0"+o;for(var i=[],r=0;r<e;r+=n)i.push(o.slice(r,r+n));return i.join(" ")}},{}],83:[function(t,e,n){(function(e){var o=t("./lib/generatePrime"),i=t("./lib/primes.json"),r=t("./lib/dh"),a={binary:!0,hex:!0,base64:!0};n.DiffieHellmanGroup=n.createDiffieHellmanGroup=n.getDiffieHellman=function(t){var n=new e(i[t].prime,"hex"),o=new e(i[t].gen,"hex");return new r(n,o)},n.createDiffieHellman=n.DiffieHellman=function t(n,i,s,c){return e.isBuffer(i)||void 0===a[i]?t(n,"binary",i,s):(i=i||"binary",c=c||"binary",s=s||new e([2]),e.isBuffer(s)||(s=new e(s,c)),"number"==typeof n?new r(o(n,s),s,!0):(e.isBuffer(n)||(n=new e(n,i)),new r(n,s,!0)))}}).call(this,t("buffer").Buffer)},{"./lib/dh":84,"./lib/generatePrime":85,"./lib/primes.json":86,buffer:66}],84:[function(t,e){(function(n){var o=t("bn.js"),i=new(t("miller-rabin")),r=new o(24),a=new o(11),s=new o(10),c=new o(3),l=new o(7),u=t("./generatePrime"),d=t("randombytes");function p(t,e){return e=e||"utf8",n.isBuffer(t)||(t=new n(t,e)),this._pub=new o(t),this}function h(t,e){return e=e||"utf8",n.isBuffer(t)||(t=new n(t,e)),this._priv=new o(t),this}e.exports=_;var f={};function g(t,e){var n=e.toString("hex"),o=[n,t.toString(16)].join("_");if(o in f)return f[o];var d,p=0;if(t.isEven()||!u.simpleSieve||!u.fermatTest(t)||!i.test(t))return p+=1,p+="02"===n||"05"===n?8:4,f[o]=p,p;switch(i.test(t.shrn(1))||(p+=2),n){case"02":t.mod(r).cmp(a)&&(p+=8);break;case"05":(d=t.mod(s)).cmp(c)&&d.cmp(l)&&(p+=8);break;default:p+=4}return f[o]=p,p}function _(t,e,n){this.setGenerator(e),this.__prime=new o(t),this._prime=o.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,n?(this.setPublicKey=p,this.setPrivateKey=h):this._primeCode=8}function y(t,e){var o=new n(t.toArray());return e?o.toString(e):o}Object.defineProperty(_.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=g(this.__prime,this.__gen)),this._primeCode}}),_.prototype.generateKeys=function(){return this._priv||(this._priv=new o(d(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},_.prototype.computeSecret=function(t){var e=(t=(t=new o(t)).toRed(this._prime)).redPow(this._priv).fromRed(),i=new n(e.toArray()),r=this.getPrime();if(i.length<r.length){var a=new n(r.length-i.length);a.fill(0),i=n.concat([a,i])}return i},_.prototype.getPublicKey=function(t){return y(this._pub,t)},_.prototype.getPrivateKey=function(t){return y(this._priv,t)},_.prototype.getPrime=function(t){return y(this.__prime,t)},_.prototype.getGenerator=function(t){return y(this._gen,t)},_.prototype.setGenerator=function(t,e){return e=e||"utf8",n.isBuffer(t)||(t=new n(t,e)),this.__gen=t,this._gen=new o(t),this}}).call(this,t("buffer").Buffer)},{"./generatePrime":85,"bn.js":87,buffer:66,"miller-rabin":143,randombytes:167}],85:[function(t,e){var n=t("randombytes");e.exports=y,y.simpleSieve=g,y.fermatTest=_;var o=t("bn.js"),i=new o(24),r=new(t("miller-rabin")),a=new o(1),s=new o(2),c=new o(5),l=(new o(16),new o(8),new o(10)),u=new o(3),d=(new o(7),new o(11)),p=new o(4),h=(new o(12),null);function f(){if(null!==h)return h;var t=[];t[0]=2;for(var e=1,n=3;n<1048576;n+=2){for(var o=Math.ceil(Math.sqrt(n)),i=0;i<e&&t[i]<=o&&n%t[i]!=0;i++);e!==i&&t[i]<=o||(t[e++]=n)}return h=t,t}function g(t){for(var e=f(),n=0;n<e.length;n++)if(0===t.modn(e[n]))return 0===t.cmpn(e[n]);return!0}function _(t){var e=o.mont(t);return 0===s.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)}function y(t,e){if(t<16)return new o(2===e||5===e?[140,123]:[140,39]);var h,f;for(e=new o(e);;){for(h=new o(n(Math.ceil(t/8)));h.bitLength()>t;)h.ishrn(1);if(h.isEven()&&h.iadd(a),h.testn(1)||h.iadd(s),e.cmp(s)){if(!e.cmp(c))for(;h.mod(l).cmp(u);)h.iadd(p)}else for(;h.mod(i).cmp(d);)h.iadd(p);if(g(f=h.shrn(1))&&g(h)&&_(f)&&_(h)&&r.test(f)&&r.test(h))return h}}},{"bn.js":87,"miller-rabin":143,randombytes:167}],86:[function(t,e){e.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],87:[function(t,e,n){arguments[4][15][0].apply(n,arguments)},{buffer:19,dup:15}],88:[function(t,e,n){"use strict";var o=n;o.version=t("../package.json").version,o.utils=t("./elliptic/utils"),o.rand=t("brorand"),o.curve=t("./elliptic/curve"),o.curves=t("./elliptic/curves"),o.ec=t("./elliptic/ec"),o.eddsa=t("./elliptic/eddsa")},{"../package.json":104,"./elliptic/curve":91,"./elliptic/curves":94,"./elliptic/ec":95,"./elliptic/eddsa":98,"./elliptic/utils":102,brorand:18}],89:[function(t,e){"use strict";var n=t("bn.js"),o=t("../utils"),i=o.getNAF,r=o.getJSF,a=o.assert;function s(t,e){this.type=t,this.p=new n(e.p,16),this.red=e.prime?n.red(e.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=e.n&&new n(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var o=this.n&&this.p.div(this.n);!o||o.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function c(t,e){this.curve=t,this.type=e,this.precomputed=null}e.exports=s,s.prototype.point=function(){throw new Error("Not implemented")},s.prototype.validate=function(){throw new Error("Not implemented")},s.prototype._fixedNafMul=function(t,e){a(t.precomputed);var n=t._getDoubles(),o=i(e,1,this._bitLength),r=(1<<n.step+1)-(n.step%2==0?2:1);r/=3;for(var s=[],c=0;c<o.length;c+=n.step){var l=0;for(e=c+n.step-1;e>=c;e--)l=(l<<1)+o[e];s.push(l)}for(var u=this.jpoint(null,null,null),d=this.jpoint(null,null,null),p=r;p>0;p--){for(c=0;c<s.length;c++)(l=s[c])===p?d=d.mixedAdd(n.points[c]):l===-p&&(d=d.mixedAdd(n.points[c].neg()));u=u.add(d)}return u.toP()},s.prototype._wnafMul=function(t,e){var n=4,o=t._getNAFPoints(n);n=o.wnd;for(var r=o.points,s=i(e,n,this._bitLength),c=this.jpoint(null,null,null),l=s.length-1;l>=0;l--){for(e=0;l>=0&&0===s[l];l--)e++;if(l>=0&&e++,c=c.dblp(e),l<0)break;var u=s[l];a(0!==u),c="affine"===t.type?u>0?c.mixedAdd(r[u-1>>1]):c.mixedAdd(r[-u-1>>1].neg()):u>0?c.add(r[u-1>>1]):c.add(r[-u-1>>1].neg())}return"affine"===t.type?c.toP():c},s.prototype._wnafMulAdd=function(t,e,n,o,a){for(var s=this._wnafT1,c=this._wnafT2,l=this._wnafT3,u=0,d=0;d<o;d++){var p=(D=e[d])._getNAFPoints(t);s[d]=p.wnd,c[d]=p.points}for(d=o-1;d>=1;d-=2){var h=d-1,f=d;if(1===s[h]&&1===s[f]){var g=[e[h],null,null,e[f]];0===e[h].y.cmp(e[f].y)?(g[1]=e[h].add(e[f]),g[2]=e[h].toJ().mixedAdd(e[f].neg())):0===e[h].y.cmp(e[f].y.redNeg())?(g[1]=e[h].toJ().mixedAdd(e[f]),g[2]=e[h].add(e[f].neg())):(g[1]=e[h].toJ().mixedAdd(e[f]),g[2]=e[h].toJ().mixedAdd(e[f].neg()));var _=[-3,-1,-5,-7,0,7,5,1,3],y=r(n[h],n[f]);u=Math.max(y[0].length,u),l[h]=new Array(u),l[f]=new Array(u);for(var m=0;m<u;m++){var b=0|y[0][m],v=0|y[1][m];l[h][m]=_[3*(b+1)+(v+1)],l[f][m]=0,c[h]=g}}else l[h]=i(n[h],s[h],this._bitLength),l[f]=i(n[f],s[f],this._bitLength),u=Math.max(l[h].length,u),u=Math.max(l[f].length,u)}var S=this.jpoint(null,null,null),w=this._wnafT4;for(d=u;d>=0;d--){for(var C=0;d>=0;){var I=!0;for(m=0;m<o;m++)w[m]=0|l[m][d],0!==w[m]&&(I=!1);if(!I)break;C++,d--}if(d>=0&&C++,S=S.dblp(C),d<0)break;for(m=0;m<o;m++){var D,L=w[m];0!==L&&(L>0?D=c[m][L-1>>1]:L<0&&(D=c[m][-L-1>>1].neg()),S="affine"===D.type?S.mixedAdd(D):S.add(D))}}for(d=0;d<o;d++)c[d]=null;return a?S:S.toP()},s.BasePoint=c,c.prototype.eq=function(){throw new Error("Not implemented")},c.prototype.validate=function(){return this.curve.validate(this)},s.prototype.decodePoint=function(t,e){t=o.toArray(t,e);var n=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*n)return 6===t[0]?a(t[t.length-1]%2==0):7===t[0]&&a(t[t.length-1]%2==1),this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));if((2===t[0]||3===t[0])&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),3===t[0]);throw new Error("Unknown point format")},c.prototype.encodeCompressed=function(t){return this.encode(t,!0)},c.prototype._encode=function(t){var e=this.curve.p.byteLength(),n=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",e))},c.prototype.encode=function(t,e){return o.encode(this._encode(e),t)},c.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},c.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},c.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],o=this,i=0;i<e;i+=t){for(var r=0;r<t;r++)o=o.dbl();n.push(o)}return{step:t,points:n}},c.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],n=(1<<t)-1,o=1===n?null:this.dbl(),i=1;i<n;i++)e[i]=e[i-1].add(o);return{wnd:t,points:e}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(t){for(var e=this,n=0;n<t;n++)e=e.dbl();return e}},{"../utils":102,"bn.js":103}],90:[function(t,e){"use strict";var n=t("../utils"),o=t("bn.js"),i=t("inherits"),r=t("./base"),a=n.assert;function s(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,r.call(this,"edwards",t),this.a=new o(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new o(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new o(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}function c(t,e,n,i,a){r.BasePoint.call(this,t,"projective"),null===e&&null===n&&null===i?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new o(e,16),this.y=new o(n,16),this.z=i?new o(i,16):this.curve.one,this.t=a&&new o(a,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}i(s,r),e.exports=s,s.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},s.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},s.prototype.jpoint=function(t,e,n,o){return this.point(t,e,n,o)},s.prototype.pointFromX=function(t,e){(t=new o(t,16)).red||(t=t.toRed(this.red));var n=t.redSqr(),i=this.c2.redSub(this.a.redMul(n)),r=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=i.redMul(r.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var c=s.fromRed().isOdd();return(e&&!c||!e&&c)&&(s=s.redNeg()),this.point(t,s)},s.prototype.pointFromY=function(t,e){(t=new o(t,16)).red||(t=t.toRed(this.red));var n=t.redSqr(),i=n.redSub(this.c2),r=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=i.redMul(r.redInvm());if(0===a.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==e&&(s=s.redNeg()),this.point(s,t)},s.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),n=t.y.redSqr(),o=e.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(n)));return 0===o.cmp(i)},i(c,r.BasePoint),s.prototype.pointFromJSON=function(t){return c.fromJSON(this,t)},s.prototype.point=function(t,e,n,o){return new c(this,t,e,n,o)},c.fromJSON=function(t,e){return new c(t,e[0],e[1],e[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},c.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var o=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),r=o.redAdd(e),a=r.redSub(n),s=o.redSub(e),c=i.redMul(a),l=r.redMul(s),u=i.redMul(s),d=a.redMul(r);return this.curve.point(c,l,d,u)},c.prototype._projDbl=function(){var t,e,n,o=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),r=this.y.redSqr();if(this.curve.twisted){var a=(l=this.curve._mulA(i)).redAdd(r);if(this.zOne)t=o.redSub(i).redSub(r).redMul(a.redSub(this.curve.two)),e=a.redMul(l.redSub(r)),n=a.redSqr().redSub(a).redSub(a);else{var s=this.z.redSqr(),c=a.redSub(s).redISub(s);t=o.redSub(i).redISub(r).redMul(c),e=a.redMul(l.redSub(r)),n=a.redMul(c)}}else{var l=i.redAdd(r);s=this.curve._mulC(this.z).redSqr(),c=l.redSub(s).redSub(s),t=this.curve._mulC(o.redISub(l)).redMul(c),e=this.curve._mulC(l).redMul(i.redISub(r)),n=l.redMul(c)}return this.curve.point(t,e,n)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),n=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),o=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),r=n.redSub(e),a=i.redSub(o),s=i.redAdd(o),c=n.redAdd(e),l=r.redMul(a),u=s.redMul(c),d=r.redMul(c),p=a.redMul(s);return this.curve.point(l,u,p,d)},c.prototype._projAdd=function(t){var e,n,o=this.z.redMul(t.z),i=o.redSqr(),r=this.x.redMul(t.x),a=this.y.redMul(t.y),s=this.curve.d.redMul(r).redMul(a),c=i.redSub(s),l=i.redAdd(s),u=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(r).redISub(a),d=o.redMul(c).redMul(u);return this.curve.twisted?(e=o.redMul(l).redMul(a.redSub(this.curve._mulA(r))),n=c.redMul(l)):(e=o.redMul(l).redMul(a.redSub(r)),n=this.curve._mulC(c).redMul(l)),this.curve.point(d,e,n)},c.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},c.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},c.prototype.mulAdd=function(t,e,n){return this.curve._wnafMulAdd(1,[this,e],[t,n],2,!1)},c.prototype.jmulAdd=function(t,e,n){return this.curve._wnafMulAdd(1,[this,e],[t,n],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},c.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var n=t.clone(),o=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(o),0===this.x.cmp(e))return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add},{"../utils":102,"./base":89,"bn.js":103,inherits:140}],91:[function(t,e,n){"use strict";var o=n;o.base=t("./base"),o.short=t("./short"),o.mont=t("./mont"),o.edwards=t("./edwards")},{"./base":89,"./edwards":90,"./mont":92,"./short":93}],92:[function(t,e){"use strict";var n=t("bn.js"),o=t("inherits"),i=t("./base"),r=t("../utils");function a(t){i.call(this,"mont",t),this.a=new n(t.a,16).toRed(this.red),this.b=new n(t.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function s(t,e,o){i.BasePoint.call(this,t,"projective"),null===e&&null===o?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(e,16),this.z=new n(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}o(a,i),e.exports=a,a.prototype.validate=function(t){var e=t.normalize().x,n=e.redSqr(),o=n.redMul(e).redAdd(n.redMul(this.a)).redAdd(e);return 0===o.redSqrt().redSqr().cmp(o)},o(s,i.BasePoint),a.prototype.decodePoint=function(t,e){return this.point(r.toArray(t,e),1)},a.prototype.point=function(t,e){return new s(this,t,e)},a.prototype.pointFromJSON=function(t){return s.fromJSON(this,t)},s.prototype.precompute=function(){},s.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},s.fromJSON=function(t,e){return new s(t,e[0],e[1]||t.one)},s.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},s.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},s.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),n=t.redSub(e),o=t.redMul(e),i=n.redMul(e.redAdd(this.curve.a24.redMul(n)));return this.curve.point(o,i)},s.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.diffAdd=function(t,e){var n=this.x.redAdd(this.z),o=this.x.redSub(this.z),i=t.x.redAdd(t.z),r=t.x.redSub(t.z).redMul(n),a=i.redMul(o),s=e.z.redMul(r.redAdd(a).redSqr()),c=e.x.redMul(r.redISub(a).redSqr());return this.curve.point(s,c)},s.prototype.mul=function(t){for(var e=t.clone(),n=this,o=this.curve.point(null,null),i=[];0!==e.cmpn(0);e.iushrn(1))i.push(e.andln(1));for(var r=i.length-1;r>=0;r--)0===i[r]?(n=n.diffAdd(o,this),o=o.dbl()):(o=n.diffAdd(o,this),n=n.dbl());return o},s.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},s.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},s.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":102,"./base":89,"bn.js":103,inherits:140}],93:[function(t,e){"use strict";var n=t("../utils"),o=t("bn.js"),i=t("inherits"),r=t("./base"),a=n.assert;function s(t){r.call(this,"short",t),this.a=new o(t.a,16).toRed(this.red),this.b=new o(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function c(t,e,n,i){r.BasePoint.call(this,t,"affine"),null===e&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new o(e,16),this.y=new o(n,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function l(t,e,n,i){r.BasePoint.call(this,t,"jacobian"),null===e&&null===n&&null===i?(this.x=this.curve.one,this.y=this.curve.one,this.z=new o(0)):(this.x=new o(e,16),this.y=new o(n,16),this.z=new o(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}i(s,r),e.exports=s,s.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,n;if(t.beta)e=new o(t.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);e=(e=i[0].cmp(i[1])<0?i[0]:i[1]).toRed(this.red)}if(t.lambda)n=new o(t.lambda,16);else{var r=this._getEndoRoots(this.n);0===this.g.mul(r[0]).x.cmp(this.g.x.redMul(e))?n=r[0]:(n=r[1],a(0===this.g.mul(n).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:n,basis:t.basis?t.basis.map(function(t){return{a:new o(t.a,16),b:new o(t.b,16)}}):this._getEndoBasis(n)}}},s.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:o.mont(t),n=new o(2).toRed(e).redInvm(),i=n.redNeg(),r=new o(3).toRed(e).redNeg().redSqrt().redMul(n);return[i.redAdd(r).fromRed(),i.redSub(r).fromRed()]},s.prototype._getEndoBasis=function(t){for(var e,n,i,r,a,s,c,l,u,d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),p=t,h=this.n.clone(),f=new o(1),g=new o(0),_=new o(0),y=new o(1),m=0;0!==p.cmpn(0);){var b=h.div(p);l=h.sub(b.mul(p)),u=_.sub(b.mul(f));var v=y.sub(b.mul(g));if(!i&&l.cmp(d)<0)e=c.neg(),n=f,i=l.neg(),r=u;else if(i&&2==++m)break;c=l,h=p,p=l,_=f,f=u,y=g,g=v}a=l.neg(),s=u;var S=i.sqr().add(r.sqr());return a.sqr().add(s.sqr()).cmp(S)>=0&&(a=e,s=n),i.negative&&(i=i.neg(),r=r.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:i,b:r},{a:a,b:s}]},s.prototype._endoSplit=function(t){var e=this.endo.basis,n=e[0],o=e[1],i=o.b.mul(t).divRound(this.n),r=n.b.neg().mul(t).divRound(this.n),a=i.mul(n.a),s=r.mul(o.a),c=i.mul(n.b),l=r.mul(o.b);return{k1:t.sub(a).sub(s),k2:c.add(l).neg()}},s.prototype.pointFromX=function(t,e){(t=new o(t,16)).red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(0!==i.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var r=i.fromRed().isOdd();return(e&&!r||!e&&r)&&(i=i.redNeg()),this.point(t,i)},s.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,n=t.y,o=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(o).redIAdd(this.b);return 0===n.redSqr().redISub(i).cmpn(0)},s.prototype._endoWnafMulAdd=function(t,e,n){for(var o=this._endoWnafT1,i=this._endoWnafT2,r=0;r<t.length;r++){var a=this._endoSplit(e[r]),s=t[r],c=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),o[2*r]=s,o[2*r+1]=c,i[2*r]=a.k1,i[2*r+1]=a.k2}for(var l=this._wnafMulAdd(1,o,i,2*r,n),u=0;u<2*r;u++)o[u]=null,i[u]=null;return l},i(c,r.BasePoint),s.prototype.point=function(t,e,n){return new c(this,t,e,n)},s.prototype.pointFromJSON=function(t,e){return c.fromJSON(this,t,e)},c.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,o=function(t){return n.point(t.x.redMul(n.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(o)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(o)}}}return e}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(t,e,n){"string"==typeof e&&(e=JSON.parse(e));var o=t.point(e[0],e[1],n);if(!e[2])return o;function i(e){return t.point(e[0],e[1],n)}var r=e[2];return o.precomputed={beta:null,doubles:r.doubles&&{step:r.doubles.step,points:[o].concat(r.doubles.points.map(i))},naf:r.naf&&{wnd:r.naf.wnd,points:[o].concat(r.naf.points.map(i))}},o},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var n=e.redSqr().redISub(this.x).redISub(t.x),o=e.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,o)},c.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,n=this.x.redSqr(),o=t.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(e).redMul(o),r=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,a)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(t){return t=new o(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},c.prototype.mulAdd=function(t,e,n){var o=[this,e],i=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(o,i):this.curve._wnafMulAdd(1,o,i,2)},c.prototype.jmulAdd=function(t,e,n){var o=[this,e],i=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(o,i,!0):this.curve._wnafMulAdd(1,o,i,2,!0)},c.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},c.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,o=function(t){return t.neg()};e.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(o)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(o)}}}return e},c.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},i(l,r.BasePoint),s.prototype.jpoint=function(t,e,n){return new l(this,t,e,n)},l.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),n=this.x.redMul(e),o=this.y.redMul(e).redMul(t);return this.curve.point(n,o)},l.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},l.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),n=this.z.redSqr(),o=this.x.redMul(e),i=t.x.redMul(n),r=this.y.redMul(e.redMul(t.z)),a=t.y.redMul(n.redMul(this.z)),s=o.redSub(i),c=r.redSub(a);if(0===s.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),u=l.redMul(s),d=o.redMul(l),p=c.redSqr().redIAdd(u).redISub(d).redISub(d),h=c.redMul(d.redISub(p)).redISub(r.redMul(u)),f=this.z.redMul(t.z).redMul(s);return this.curve.jpoint(p,h,f)},l.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),n=this.x,o=t.x.redMul(e),i=this.y,r=t.y.redMul(e).redMul(this.z),a=n.redSub(o),s=i.redSub(r);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),l=c.redMul(a),u=n.redMul(c),d=s.redSqr().redIAdd(l).redISub(u).redISub(u),p=s.redMul(u.redISub(d)).redISub(i.redMul(l)),h=this.z.redMul(a);return this.curve.jpoint(d,p,h)},l.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var e=this,n=0;n<t;n++)e=e.dbl();return e}var o=this.curve.a,i=this.curve.tinv,r=this.x,a=this.y,s=this.z,c=s.redSqr().redSqr(),l=a.redAdd(a);for(n=0;n<t;n++){var u=r.redSqr(),d=l.redSqr(),p=d.redSqr(),h=u.redAdd(u).redIAdd(u).redIAdd(o.redMul(c)),f=r.redMul(d),g=h.redSqr().redISub(f.redAdd(f)),_=f.redISub(g),y=h.redMul(_);y=y.redIAdd(y).redISub(p);var m=l.redMul(s);n+1<t&&(c=c.redMul(p)),r=g,s=m,l=y}return this.curve.jpoint(r,l.redMul(i),s)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},l.prototype._zeroDbl=function(){var t,e,n;if(this.zOne){var o=this.x.redSqr(),i=this.y.redSqr(),r=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(o).redISub(r);a=a.redIAdd(a);var s=o.redAdd(o).redIAdd(o),c=s.redSqr().redISub(a).redISub(a),l=r.redIAdd(r);l=(l=l.redIAdd(l)).redIAdd(l),t=c,e=s.redMul(a.redISub(c)).redISub(l),n=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),d=this.y.redSqr(),p=d.redSqr(),h=this.x.redAdd(d).redSqr().redISub(u).redISub(p);h=h.redIAdd(h);var f=u.redAdd(u).redIAdd(u),g=f.redSqr(),_=p.redIAdd(p);_=(_=_.redIAdd(_)).redIAdd(_),t=g.redISub(h).redISub(h),e=f.redMul(h.redISub(t)).redISub(_),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(t,e,n)},l.prototype._threeDbl=function(){var t,e,n;if(this.zOne){var o=this.x.redSqr(),i=this.y.redSqr(),r=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(o).redISub(r);a=a.redIAdd(a);var s=o.redAdd(o).redIAdd(o).redIAdd(this.curve.a),c=s.redSqr().redISub(a).redISub(a);t=c;var l=r.redIAdd(r);l=(l=l.redIAdd(l)).redIAdd(l),e=s.redMul(a.redISub(c)).redISub(l),n=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),d=this.y.redSqr(),p=this.x.redMul(d),h=this.x.redSub(u).redMul(this.x.redAdd(u));h=h.redAdd(h).redIAdd(h);var f=p.redIAdd(p),g=(f=f.redIAdd(f)).redAdd(f);t=h.redSqr().redISub(g),n=this.y.redAdd(this.z).redSqr().redISub(d).redISub(u);var _=d.redSqr();_=(_=(_=_.redIAdd(_)).redIAdd(_)).redIAdd(_),e=h.redMul(f.redISub(t)).redISub(_)}return this.curve.jpoint(t,e,n)},l.prototype._dbl=function(){var t=this.curve.a,e=this.x,n=this.y,o=this.z,i=o.redSqr().redSqr(),r=e.redSqr(),a=n.redSqr(),s=r.redAdd(r).redIAdd(r).redIAdd(t.redMul(i)),c=e.redAdd(e),l=(c=c.redIAdd(c)).redMul(a),u=s.redSqr().redISub(l.redAdd(l)),d=l.redISub(u),p=a.redSqr();p=(p=(p=p.redIAdd(p)).redIAdd(p)).redIAdd(p);var h=s.redMul(d).redISub(p),f=n.redAdd(n).redMul(o);return this.curve.jpoint(u,h,f)},l.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),n=this.z.redSqr(),o=e.redSqr(),i=t.redAdd(t).redIAdd(t),r=i.redSqr(),a=this.x.redAdd(e).redSqr().redISub(t).redISub(o),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(r)).redSqr(),c=o.redIAdd(o);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var l=i.redIAdd(a).redSqr().redISub(r).redISub(s).redISub(c),u=e.redMul(l);u=(u=u.redIAdd(u)).redIAdd(u);var d=this.x.redMul(s).redISub(u);d=(d=d.redIAdd(d)).redIAdd(d);var p=this.y.redMul(l.redMul(c.redISub(l)).redISub(a.redMul(s)));p=(p=(p=p.redIAdd(p)).redIAdd(p)).redIAdd(p);var h=this.z.redAdd(a).redSqr().redISub(n).redISub(s);return this.curve.jpoint(d,p,h)},l.prototype.mul=function(t,e){return t=new o(t,e),this.curve._wnafMul(this,t)},l.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),n=t.z.redSqr();if(0!==this.x.redMul(n).redISub(t.x.redMul(e)).cmpn(0))return!1;var o=e.redMul(this.z),i=n.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(o)).cmpn(0)},l.prototype.eqXToP=function(t){var e=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(n))return!0;for(var o=t.clone(),i=this.curve.redN.redMul(e);;){if(o.iadd(this.curve.n),o.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),0===this.x.cmp(n))return!0}},l.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},{"../utils":102,"./base":89,"bn.js":103,inherits:140}],94:[function(t,e,n){"use strict";var o,i=n,r=t("hash.js"),a=t("./curve"),s=t("./utils").assert;function c(t){"short"===t.type?this.curve=new a.short(t):"edwards"===t.type?this.curve=new a.edwards(t):this.curve=new a.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function l(t,e){Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){var n=new c(e);return Object.defineProperty(i,t,{configurable:!0,enumerable:!0,value:n}),n}})}i.PresetCurve=c,l("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),l("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),l("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),l("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),l("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),l("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),l("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{o=t("./precomputed/secp256k1")}catch(u){o=void 0}l("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})},{"./curve":91,"./precomputed/secp256k1":101,"./utils":102,"hash.js":125}],95:[function(t,e){"use strict";var n=t("bn.js"),o=t("hmac-drbg"),i=t("../utils"),r=t("../curves"),a=t("brorand"),s=i.assert,c=t("./key"),l=t("./signature");function u(t){if(!(this instanceof u))return new u(t);"string"==typeof t&&(s(r.hasOwnProperty(t),"Unknown curve "+t),t=r[t]),t instanceof r.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}e.exports=u,u.prototype.keyPair=function(t){return new c(this,t)},u.prototype.keyFromPrivate=function(t,e){return c.fromPrivate(this,t,e)},u.prototype.keyFromPublic=function(t,e){return c.fromPublic(this,t,e)},u.prototype.genKeyPair=function(t){t||(t={});for(var e=new o({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||a(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),r=this.n.sub(new n(2));;){var s=new n(e.generate(i));if(!(s.cmp(r)>0))return s.iaddn(1),this.keyFromPrivate(s)}},u.prototype._truncateToN=function(t,e){var n=8*t.byteLength()-this.n.bitLength();return n>0&&(t=t.ushrn(n)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},u.prototype.sign=function(t,e,i,r){"object"==typeof i&&(r=i,i=null),r||(r={}),e=this.keyFromPrivate(e,i),t=this._truncateToN(new n(t,16));for(var a=this.n.byteLength(),s=e.getPrivate().toArray("be",a),c=t.toArray("be",a),u=new o({hash:this.hash,entropy:s,nonce:c,pers:r.pers,persEnc:r.persEnc||"utf8"}),d=this.n.sub(new n(1)),p=0;;p++){var h=r.k?r.k(p):new n(u.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(d)>=0)){var f=this.g.mul(h);if(!f.isInfinity()){var g=f.getX(),_=g.umod(this.n);if(0!==_.cmpn(0)){var y=h.invm(this.n).mul(_.mul(e.getPrivate()).iadd(t));if(0!==(y=y.umod(this.n)).cmpn(0)){var m=(f.getY().isOdd()?1:0)|(0!==g.cmp(_)?2:0);return r.canonical&&y.cmp(this.nh)>0&&(y=this.n.sub(y),m^=1),new l({r:_,s:y,recoveryParam:m})}}}}}},u.prototype.verify=function(t,e,o,i){t=this._truncateToN(new n(t,16)),o=this.keyFromPublic(o,i);var r=(e=new l(e,"hex")).r,a=e.s;if(r.cmpn(1)<0||r.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s,c=a.invm(this.n),u=c.mul(t).umod(this.n),d=c.mul(r).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(u,o.getPublic(),d)).isInfinity()&&s.eqXToP(r):!(s=this.g.mulAdd(u,o.getPublic(),d)).isInfinity()&&0===s.getX().umod(this.n).cmp(r)},u.prototype.recoverPubKey=function(t,e,o,i){s((3&o)===o,"The recovery param is more than two bits"),e=new l(e,i);var r=this.n,a=new n(t),c=e.r,u=e.s,d=1&o,p=o>>1;if(c.cmp(this.curve.p.umod(this.curve.n))>=0&&p)throw new Error("Unable to find sencond key candinate");c=p?this.curve.pointFromX(c.add(this.curve.n),d):this.curve.pointFromX(c,d);var h=e.r.invm(r),f=r.sub(a).mul(h).umod(r),g=u.mul(h).umod(r);return this.g.mulAdd(f,c,g)},u.prototype.getKeyRecoveryParam=function(t,e,n,o){if(null!==(e=new l(e,o)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var r;try{r=this.recoverPubKey(t,e,i)}catch(t){continue}if(r.eq(n))return i}throw new Error("Unable to find valid recovery factor")}},{"../curves":94,"../utils":102,"./key":96,"./signature":97,"bn.js":103,brorand:18,"hmac-drbg":137}],96:[function(t,e){"use strict";var n=t("bn.js"),o=t("../utils").assert;function i(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}e.exports=i,i.fromPublic=function(t,e,n){return e instanceof i?e:new i(t,{pub:e,pubEnc:n})},i.fromPrivate=function(t,e,n){return e instanceof i?e:new i(t,{priv:e,privEnc:n})},i.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},i.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},i.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},i.prototype._importPrivate=function(t,e){this.priv=new n(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},i.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?o(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||o(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},i.prototype.derive=function(t){return t.mul(this.priv).getX()},i.prototype.sign=function(t,e,n){return this.ec.sign(t,this,e,n)},i.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},i.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":102,"bn.js":103}],97:[function(t,e){"use strict";var n=t("bn.js"),o=t("../utils"),i=o.assert;function r(t,e){if(t instanceof r)return t;this._importDER(t,e)||(i(t.r&&t.s,"Signature without r or s"),this.r=new n(t.r,16),this.s=new n(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}function a(){this.place=0}function s(t,e){var n=t[e.place++];if(!(128&n))return n;var o=15&n;if(0===o||o>4)return!1;for(var i=0,r=0,a=e.place;r<o;r++,a++)i<<=8,i|=t[a],i>>>=0;return!(i<=127)&&(e.place=a,i)}function c(t){for(var e=0,n=t.length-1;!t[e]&&!(128&t[e+1])&&e<n;)e++;return 0===e?t:t.slice(e)}function l(t,e){if(e<128)t.push(e);else{var n=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|n);--n;)t.push(e>>>(n<<3)&255);t.push(e)}}e.exports=r,r.prototype._importDER=function(t,e){t=o.toArray(t,e);var i=new a;if(48!==t[i.place++])return!1;var r=s(t,i);if(!1===r)return!1;if(r+i.place!==t.length)return!1;if(2!==t[i.place++])return!1;var c=s(t,i);if(!1===c)return!1;var l=t.slice(i.place,c+i.place);if(i.place+=c,2!==t[i.place++])return!1;var u=s(t,i);if(!1===u)return!1;if(t.length!==u+i.place)return!1;var d=t.slice(i.place,u+i.place);if(0===l[0]){if(!(128&l[1]))return!1;l=l.slice(1)}if(0===d[0]){if(!(128&d[1]))return!1;d=d.slice(1)}return this.r=new n(l),this.s=new n(d),this.recoveryParam=null,!0},r.prototype.toDER=function(t){var e=this.r.toArray(),n=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&n[0]&&(n=[0].concat(n)),e=c(e),n=c(n);!(n[0]||128&n[1]);)n=n.slice(1);var i=[2];l(i,e.length),(i=i.concat(e)).push(2),l(i,n.length);var r=i.concat(n),a=[48];return l(a,r.length),a=a.concat(r),o.encode(a,t)}},{"../utils":102,"bn.js":103}],98:[function(t,e){"use strict";var n=t("hash.js"),o=t("../curves"),i=t("../utils"),r=i.assert,a=i.parseBytes,s=t("./key"),c=t("./signature");function l(t){if(r("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof l))return new l(t);t=o[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=n.sha512}e.exports=l,l.prototype.sign=function(t,e){t=a(t);var n=this.keyFromSecret(e),o=this.hashInt(n.messagePrefix(),t),i=this.g.mul(o),r=this.encodePoint(i),s=this.hashInt(r,n.pubBytes(),t).mul(n.priv()),c=o.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:r})},l.prototype.verify=function(t,e,n){t=a(t),e=this.makeSignature(e);var o=this.keyFromPublic(n),i=this.hashInt(e.Rencoded(),o.pubBytes(),t),r=this.g.mul(e.S());return e.R().add(o.pub().mul(i)).eq(r)},l.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return i.intFromLE(t.digest()).umod(this.curve.n)},l.prototype.keyFromPublic=function(t){return s.fromPublic(this,t)},l.prototype.keyFromSecret=function(t){return s.fromSecret(this,t)},l.prototype.makeSignature=function(t){return t instanceof c?t:new c(this,t)},l.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},l.prototype.decodePoint=function(t){var e=(t=i.parseBytes(t)).length-1,n=t.slice(0,e).concat(-129&t[e]),o=0!=(128&t[e]),r=i.intFromLE(n);return this.curve.pointFromY(r,o)},l.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},l.prototype.decodeInt=function(t){return i.intFromLE(t)},l.prototype.isPoint=function(t){return t instanceof this.pointClass}},{"../curves":94,"../utils":102,"./key":99,"./signature":100,"hash.js":125}],99:[function(t,e){"use strict";var n=t("../utils"),o=n.assert,i=n.parseBytes,r=n.cachedProperty;function a(t,e){this.eddsa=t,this._secret=i(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=i(e.pub)}a.fromPublic=function(t,e){return e instanceof a?e:new a(t,{pub:e})},a.fromSecret=function(t,e){return e instanceof a?e:new a(t,{secret:e})},a.prototype.secret=function(){return this._secret},r(a,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),r(a,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),r(a,"privBytes",function(){var t=this.eddsa,e=this.hash(),n=t.encodingLength-1,o=e.slice(0,t.encodingLength);return o[0]&=248,o[n]&=127,o[n]|=64,o}),r(a,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),r(a,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),r(a,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),a.prototype.sign=function(t){return o(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},a.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},a.prototype.getSecret=function(t){return o(this._secret,"KeyPair is public only"),n.encode(this.secret(),t)},a.prototype.getPublic=function(t){return n.encode(this.pubBytes(),t)},e.exports=a},{"../utils":102}],100:[function(t,e){"use strict";var n=t("bn.js"),o=t("../utils"),i=o.assert,r=o.cachedProperty,a=o.parseBytes;function s(t,e){this.eddsa=t,"object"!=typeof e&&(e=a(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),i(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof n&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}r(s,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),r(s,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),r(s,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),r(s,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),s.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},s.prototype.toHex=function(){return o.encode(this.toBytes(),"hex").toUpperCase()},e.exports=s},{"../utils":102,"bn.js":103}],101:[function(t,e){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],102:[function(t,e,n){"use strict";var o=n,i=t("bn.js"),r=t("minimalistic-assert"),a=t("minimalistic-crypto-utils");o.assert=r,o.toArray=a.toArray,o.zero2=a.zero2,o.toHex=a.toHex,o.encode=a.encode,o.getNAF=function(t,e,n){var o=new Array(Math.max(t.bitLength(),n)+1);o.fill(0);for(var i=1<<e+1,r=t.clone(),a=0;a<o.length;a++){var s,c=r.andln(i-1);r.isOdd()?(s=c>(i>>1)-1?(i>>1)-c:c,r.isubn(s)):s=0,o[a]=s,r.iushrn(1)}return o},o.getJSF=function(t,e){var n=[[],[]];t=t.clone(),e=e.clone();for(var o=0,i=0;t.cmpn(-o)>0||e.cmpn(-i)>0;){var r,a,s,c=t.andln(3)+o&3,l=e.andln(3)+i&3;3===c&&(c=-1),3===l&&(l=-1),r=0==(1&c)?0:3!=(s=t.andln(7)+o&7)&&5!==s||2!==l?c:-c,n[0].push(r),a=0==(1&l)?0:3!=(s=e.andln(7)+i&7)&&5!==s||2!==c?l:-l,n[1].push(a),2*o===r+1&&(o=1-o),2*i===a+1&&(i=1-i),t.iushrn(1),e.iushrn(1)}return n},o.cachedProperty=function(t,e,n){var o="_"+e;t.prototype[e]=function(){return void 0!==this[o]?this[o]:this[o]=n.call(this)}},o.parseBytes=function(t){return"string"==typeof t?o.toArray(t,"hex"):t},o.intFromLE=function(t){return new i(t,"hex","le")}},{"bn.js":103,"minimalistic-assert":145,"minimalistic-crypto-utils":146}],103:[function(t,e,n){arguments[4][15][0].apply(n,arguments)},{buffer:19,dup:15}],104:[function(t,e){e.exports={_from:"elliptic@^6.5.2",_id:"elliptic@6.5.3",_inBundle:!1,_integrity:"sha1-y1nrLv2vc6C9eMzXAVpirW4Pk9Y=",_location:"/elliptic",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"elliptic@^6.5.2",name:"elliptic",escapedName:"elliptic",rawSpec:"^6.5.2",saveSpec:null,fetchSpec:"^6.5.2"},_requiredBy:["/browserify-sign","/create-ecdh"],_resolved:"https://registry.npm.taobao.org/elliptic/download/elliptic-6.5.3.tgz?cache=0&sync_timestamp=1592492754083&other_urls=https%3A%2F%2Fregistry.npm.taobao.org%2Felliptic%2Fdownload%2Felliptic-6.5.3.tgz",_shasum:"cb59eb2efdaf73a0bd78ccd7015a62ad6e0f93d6",_spec:"elliptic@^6.5.2",_where:"/Users/nantas/jenkins/workspace/Creator_2D/fireball/mac/fireball/dist/CocosCreator.app/Contents/Resources/app/node_modules/browserify-sign",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},bundleDependencies:!1,dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},deprecated:!1,description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^3.0.8",grunt:"^1.0.4","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.2",jscs:"^3.0.7",jshint:"^2.10.3",mocha:"^6.2.2"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.5.3"}},{}],105:[function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(t){return"function"==typeof t}function i(t){return"object"==typeof t&&null!==t}function r(t){return void 0===t}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,a,s,c,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}if(r(n=this._events[t]))return!1;if(o(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),a=(l=n.slice()).length,c=0;c<a;c++)l[c].apply(this,s);return!0},n.prototype.addListener=function(t,e){var a;if(!o(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,o(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned&&(a=r(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[t].length>a&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){if(!o(e))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(t,i),n||(n=!0,e.apply(this,arguments))}return i.listener=e,this.on(t,i),this},n.prototype.removeListener=function(t,e){var n,r,a,s;if(!o(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(a=(n=this._events[t]).length,r=-1,n===e||o(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(n)){for(s=a;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(o(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?o(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(o(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},{}],106:[function(t,e){var n=t("safe-buffer").Buffer,o=t("md5.js");e.exports=function(t,e,i,r){if(n.isBuffer(t)||(t=n.from(t,"binary")),e&&(n.isBuffer(e)||(e=n.from(e,"binary")),8!==e.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=i/8,s=n.alloc(a),c=n.alloc(r||0),l=n.alloc(0);a>0||r>0;){var u=new o;u.update(l),u.update(t),e&&u.update(e),l=u.digest();var d=0;if(a>0){var p=s.length-a;d=Math.min(a,l.length),l.copy(s,p,0,d),a-=d}if(d<l.length&&r>0){var h=c.length-r,f=Math.min(r,l.length-d);l.copy(c,h,d,d+f),r-=f}}return l.fill(0),{key:s,iv:c}}},{"md5.js":142,"safe-buffer":185}],107:[function(t,e){"use strict";var n=t("safe-buffer").Buffer,o=t("readable-stream").Transform;function i(t,e){if(!n.isBuffer(t)&&"string"!=typeof t)throw new TypeError(e+" must be a string or a buffer")}function r(t){o.call(this),this._block=n.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}t("inherits")(r,o),r.prototype._transform=function(t,e,n){var o=null;try{this.update(t,e)}catch(i){o=i}n(o)},r.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(n){e=n}t(e)},r.prototype.update=function(t,e){if(i(t,"Data"),this._finalized)throw new Error("Digest already called");n.isBuffer(t)||(t=n.from(t,e));for(var o=this._block,r=0;this._blockOffset+t.length-r>=this._blockSize;){for(var a=this._blockOffset;a<this._blockSize;)o[a++]=t[r++];this._update(),this._blockOffset=0}for(;r<t.length;)o[this._blockOffset++]=t[r++];for(var s=0,c=8*t.length;c>0;++s)this._length[s]+=c,(c=this._length[s]/4294967296|0)>0&&(this._length[s]-=4294967296*c);return this},r.prototype._update=function(){throw new Error("_update is not implemented")},r.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return e},r.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=r},{inherits:140,"readable-stream":122,"safe-buffer":123}],108:[function(t,e,n){arguments[4][48][0].apply(n,arguments)},{dup:48}],109:[function(t,e,n){arguments[4][49][0].apply(n,arguments)},{"./_stream_readable":111,"./_stream_writable":113,_process:159,dup:49,inherits:140}],110:[function(t,e,n){arguments[4][50][0].apply(n,arguments)},{"./_stream_transform":112,dup:50,inherits:140}],111:[function(t,e,n){arguments[4][51][0].apply(n,arguments)},{"../errors":108,"./_stream_duplex":109,"./internal/streams/async_iterator":114,"./internal/streams/buffer_list":115,"./internal/streams/destroy":116,"./internal/streams/from":118,"./internal/streams/state":120,"./internal/streams/stream":121,_process:159,buffer:66,dup:51,events:105,inherits:140,"string_decoder/":124,util:19}],112:[function(t,e,n){arguments[4][52][0].apply(n,arguments)},{"../errors":108,"./_stream_duplex":109,dup:52,inherits:140}],113:[function(t,e,n){arguments[4][53][0].apply(n,arguments)},{"../errors":108,"./_stream_duplex":109,"./internal/streams/destroy":116,"./internal/streams/state":120,"./internal/streams/stream":121,_process:159,buffer:66,dup:53,inherits:140,"util-deprecate":196}],114:[function(t,e,n){arguments[4][54][0].apply(n,arguments)},{"./end-of-stream":117,_process:159,dup:54}],115:[function(t,e,n){arguments[4][55][0].apply(n,arguments)},{buffer:66,dup:55,util:19}],116:[function(t,e,n){arguments[4][56][0].apply(n,arguments)},{_process:159,dup:56}],117:[function(t,e,n){arguments[4][57][0].apply(n,arguments)},{"../../../errors":108,dup:57}],118:[function(t,e,n){arguments[4][58][0].apply(n,arguments)},{dup:58}],119:[function(t,e,n){arguments[4][59][0].apply(n,arguments)},{"../../../errors":108,"./end-of-stream":117,dup:59}],120:[function(t,e,n){arguments[4][60][0].apply(n,arguments)},{"../../../errors":108,dup:60}],121:[function(t,e,n){arguments[4][61][0].apply(n,arguments)},{dup:61,events:105}],122:[function(t,e,n){arguments[4][62][0].apply(n,arguments)},{"./lib/_stream_duplex.js":109,"./lib/_stream_passthrough.js":110,"./lib/_stream_readable.js":111,"./lib/_stream_transform.js":112,"./lib/_stream_writable.js":113,"./lib/internal/streams/end-of-stream.js":117,"./lib/internal/streams/pipeline.js":119,dup:62}],123:[function(t,e,n){arguments[4][63][0].apply(n,arguments)},{buffer:66,dup:63}],124:[function(t,e,n){arguments[4][64][0].apply(n,arguments)},{dup:64,"safe-buffer":123}],125:[function(t,e,n){var o=n;o.utils=t("./hash/utils"),o.common=t("./hash/common"),o.sha=t("./hash/sha"),o.ripemd=t("./hash/ripemd"),o.hmac=t("./hash/hmac"),o.sha1=o.sha.sha1,o.sha256=o.sha.sha256,o.sha224=o.sha.sha224,o.sha384=o.sha.sha384,o.sha512=o.sha.sha512,o.ripemd160=o.ripemd.ripemd160},{"./hash/common":126,"./hash/hmac":127,"./hash/ripemd":128,"./hash/sha":129,"./hash/utils":136}],126:[function(t,e,n){"use strict";var o=t("./utils"),i=t("minimalistic-assert");function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}n.BlockHash=r,r.prototype.update=function(t,e){if(t=o.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var n=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-n,t.length),0===this.pending.length&&(this.pending=null),t=o.join32(t,0,t.length-n,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},r.prototype.digest=function(t){return this.update(this._pad()),i(null===this.pending),this._digest(t)},r.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,n=e-(t+this.padLength)%e,o=new Array(n+this.padLength);o[0]=128;for(var i=1;i<n;i++)o[i]=0;if(t<<=3,"big"===this.endian){for(var r=8;r<this.padLength;r++)o[i++]=0;o[i++]=0,o[i++]=0,o[i++]=0,o[i++]=0,o[i++]=t>>>24&255,o[i++]=t>>>16&255,o[i++]=t>>>8&255,o[i++]=255&t}else for(o[i++]=255&t,o[i++]=t>>>8&255,o[i++]=t>>>16&255,o[i++]=t>>>24&255,o[i++]=0,o[i++]=0,o[i++]=0,o[i++]=0,r=8;r<this.padLength;r++)o[i++]=0;return o}},{"./utils":136,"minimalistic-assert":145}],127:[function(t,e){"use strict";var n=t("./utils"),o=t("minimalistic-assert");function i(t,e,o){if(!(this instanceof i))return new i(t,e,o);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(e,o))}e.exports=i,i.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),o(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},i.prototype.update=function(t,e){return this.inner.update(t,e),this},i.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},{"./utils":136,"minimalistic-assert":145}],128:[function(t,e,n){"use strict";var o=t("./utils"),i=t("./common"),r=o.rotl32,a=o.sum32,s=o.sum32_3,c=o.sum32_4,l=i.BlockHash;function u(){if(!(this instanceof u))return new u;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(t,e,n,o){return t<=15?e^n^o:t<=31?e&n|~e&o:t<=47?(e|~n)^o:t<=63?e&o|n&~o:e^(n|~o)}function p(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function h(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}o.inherits(u,l),n.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(t,e){for(var n=this.h[0],o=this.h[1],i=this.h[2],l=this.h[3],u=this.h[4],m=n,b=o,v=i,S=l,w=u,C=0;C<80;C++){var I=a(r(c(n,d(C,o,i,l),t[f[C]+e],p(C)),_[C]),u);n=u,u=l,l=r(i,10),i=o,o=I,I=a(r(c(m,d(79-C,b,v,S),t[g[C]+e],h(C)),y[C]),w),m=w,w=S,S=r(v,10),v=b,b=I}I=s(this.h[1],i,S),this.h[1]=s(this.h[2],l,w),this.h[2]=s(this.h[3],u,m),this.h[3]=s(this.h[4],n,b),this.h[4]=s(this.h[0],o,v),this.h[0]=I},u.prototype._digest=function(t){return"hex"===t?o.toHex32(this.h,"little"):o.split32(this.h,"little")};var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],_=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":126,"./utils":136}],129:[function(t,e,n){"use strict";n.sha1=t("./sha/1"),n.sha224=t("./sha/224"),n.sha256=t("./sha/256"),n.sha384=t("./sha/384"),n.sha512=t("./sha/512")},{"./sha/1":130,"./sha/224":131,"./sha/256":132,"./sha/384":133,"./sha/512":134}],130:[function(t,e){"use strict";var n=t("../utils"),o=t("../common"),i=t("./common"),r=n.rotl32,a=n.sum32,s=n.sum32_5,c=i.ft_1,l=o.BlockHash,u=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(d,l),e.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(t,e){for(var n=this.W,o=0;o<16;o++)n[o]=t[e+o];for(;o<n.length;o++)n[o]=r(n[o-3]^n[o-8]^n[o-14]^n[o-16],1);var i=this.h[0],l=this.h[1],d=this.h[2],p=this.h[3],h=this.h[4];for(o=0;o<n.length;o++){var f=~~(o/20),g=s(r(i,5),c(f,l,d,p),h,n[o],u[f]);h=p,p=d,d=r(l,30),l=i,i=g}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],l),this.h[2]=a(this.h[2],d),this.h[3]=a(this.h[3],p),this.h[4]=a(this.h[4],h)},d.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":126,"../utils":136,"./common":135}],131:[function(t,e){"use strict";var n=t("../utils"),o=t("./256");function i(){if(!(this instanceof i))return new i;o.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(i,o),e.exports=i,i.blockSize=512,i.outSize=224,i.hmacStrength=192,i.padLength=64,i.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},{"../utils":136,"./256":132}],132:[function(t,e){"use strict";var n=t("../utils"),o=t("../common"),i=t("./common"),r=t("minimalistic-assert"),a=n.sum32,s=n.sum32_4,c=n.sum32_5,l=i.ch32,u=i.maj32,d=i.s0_256,p=i.s1_256,h=i.g0_256,f=i.g1_256,g=o.BlockHash,_=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=_,this.W=new Array(64)}n.inherits(y,g),e.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(t,e){for(var n=this.W,o=0;o<16;o++)n[o]=t[e+o];for(;o<n.length;o++)n[o]=s(f(n[o-2]),n[o-7],h(n[o-15]),n[o-16]);var i=this.h[0],g=this.h[1],_=this.h[2],y=this.h[3],m=this.h[4],b=this.h[5],v=this.h[6],S=this.h[7];for(r(this.k.length===n.length),o=0;o<n.length;o++){var w=c(S,p(m),l(m,b,v),this.k[o],n[o]),C=a(d(i),u(i,g,_));S=v,v=b,b=m,m=a(y,w),y=_,_=g,g=i,i=a(w,C)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],g),this.h[2]=a(this.h[2],_),this.h[3]=a(this.h[3],y),this.h[4]=a(this.h[4],m),this.h[5]=a(this.h[5],b),this.h[6]=a(this.h[6],v),this.h[7]=a(this.h[7],S)},y.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":126,"../utils":136,"./common":135,"minimalistic-assert":145}],133:[function(t,e){"use strict";var n=t("../utils"),o=t("./512");function i(){if(!(this instanceof i))return new i;o.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(i,o),e.exports=i,i.blockSize=1024,i.outSize=384,i.hmacStrength=192,i.padLength=128,i.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},{"../utils":136,"./512":134}],134:[function(t,e){"use strict";var n=t("../utils"),o=t("../common"),i=t("minimalistic-assert"),r=n.rotr64_hi,a=n.rotr64_lo,s=n.shr64_hi,c=n.shr64_lo,l=n.sum64,u=n.sum64_hi,d=n.sum64_lo,p=n.sum64_4_hi,h=n.sum64_4_lo,f=n.sum64_5_hi,g=n.sum64_5_lo,_=o.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function m(){if(!(this instanceof m))return new m;_.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function b(t,e,n,o,i){var r=t&n^~t&i;return r<0&&(r+=4294967296),r}function v(t,e,n,o,i,r){var a=e&o^~e&r;return a<0&&(a+=4294967296),a}function S(t,e,n,o,i){var r=t&n^t&i^n&i;return r<0&&(r+=4294967296),r}function w(t,e,n,o,i,r){var a=e&o^e&r^o&r;return a<0&&(a+=4294967296),a}function C(t,e){var n=r(t,e,28)^r(e,t,2)^r(e,t,7);return n<0&&(n+=4294967296),n}function I(t,e){var n=a(t,e,28)^a(e,t,2)^a(e,t,7);return n<0&&(n+=4294967296),n}function D(t,e){var n=a(t,e,14)^a(t,e,18)^a(e,t,9);return n<0&&(n+=4294967296),n}function L(t,e){var n=r(t,e,1)^r(t,e,8)^s(t,e,7);return n<0&&(n+=4294967296),n}function R(t,e){var n=a(t,e,1)^a(t,e,8)^c(t,e,7);return n<0&&(n+=4294967296),n}function P(t,e){var n=a(t,e,19)^a(e,t,29)^c(t,e,6);return n<0&&(n+=4294967296),n}n.inherits(m,_),e.exports=m,m.blockSize=1024,m.outSize=512,m.hmacStrength=192,m.padLength=128,m.prototype._prepareBlock=function(t,e){for(var n=this.W,o=0;o<32;o++)n[o]=t[e+o];for(;o<n.length;o+=2){var i=(_=n[o-4],y=n[o-3],m=void 0,(m=r(_,y,19)^r(y,_,29)^s(_,y,6))<0&&(m+=4294967296),m),a=P(n[o-4],n[o-3]),c=n[o-14],l=n[o-13],u=L(n[o-30],n[o-29]),d=R(n[o-30],n[o-29]),f=n[o-32],g=n[o-31];n[o]=p(i,a,c,l,u,d,f,g),n[o+1]=h(i,a,c,l,u,d,f,g)}var _,y,m},m.prototype._update=function(t,e){this._prepareBlock(t,e);var n,o,a,s=this.W,c=this.h[0],p=this.h[1],h=this.h[2],_=this.h[3],y=this.h[4],m=this.h[5],L=this.h[6],R=this.h[7],P=this.h[8],T=this.h[9],E=this.h[10],A=this.h[11],N=this.h[12],G=this.h[13],M=this.h[14],O=this.h[15];i(this.k.length===s.length);for(var k=0;k<s.length;k+=2){var U=M,B=O,x=(a=void 0,(a=r(n=P,o=T,14)^r(n,o,18)^r(o,n,9))<0&&(a+=4294967296),a),F=D(P,T),H=b(P,0,E,0,N),j=v(0,T,0,A,0,G),V=this.k[k],W=this.k[k+1],K=s[k],Y=s[k+1],z=f(U,B,x,F,H,j,V,W,K,Y),q=g(U,B,x,F,H,j,V,W,K,Y);U=C(c,p),B=I(c,p),x=S(c,0,h,0,y),F=w(0,p,0,_,0,m);var J=u(U,B,x,F),Q=d(U,B,x,F);M=N,O=G,N=E,G=A,E=P,A=T,P=u(L,R,z,q),T=d(R,R,z,q),L=y,R=m,y=h,m=_,h=c,_=p,c=u(z,q,J,Q),p=d(z,q,J,Q)}l(this.h,0,c,p),l(this.h,2,h,_),l(this.h,4,y,m),l(this.h,6,L,R),l(this.h,8,P,T),l(this.h,10,E,A),l(this.h,12,N,G),l(this.h,14,M,O)},m.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":126,"../utils":136,"minimalistic-assert":145}],135:[function(t,e,n){"use strict";var o=t("../utils").rotr32;function i(t,e,n){return t&e^~t&n}function r(t,e,n){return t&e^t&n^e&n}function a(t,e,n){return t^e^n}n.ft_1=function(t,e,n,o){return 0===t?i(e,n,o):1===t||3===t?a(e,n,o):2===t?r(e,n,o):void 0},n.ch32=i,n.maj32=r,n.p32=a,n.s0_256=function(t){return o(t,2)^o(t,13)^o(t,22)},n.s1_256=function(t){return o(t,6)^o(t,11)^o(t,25)},n.g0_256=function(t){return o(t,7)^o(t,18)^t>>>3},n.g1_256=function(t){return o(t,17)^o(t,19)^t>>>10}},{"../utils":136}],136:[function(t,e,n){"use strict";var o=t("minimalistic-assert"),i=t("inherits");function r(t,e){return 55296==(64512&t.charCodeAt(e))&&!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1))}function a(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function s(t){return 1===t.length?"0"+t:t}function c(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}n.inherits=i,n.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)n.push(parseInt(t[i]+t[i+1],16))}else for(var o=0,i=0;i<t.length;i++){var a=t.charCodeAt(i);a<128?n[o++]=a:a<2048?(n[o++]=a>>6|192,n[o++]=63&a|128):r(t,i)?(a=65536+((1023&a)<<10)+(1023&t.charCodeAt(++i)),n[o++]=a>>18|240,n[o++]=a>>12&63|128,n[o++]=a>>6&63|128,n[o++]=63&a|128):(n[o++]=a>>12|224,n[o++]=a>>6&63|128,n[o++]=63&a|128)}else for(i=0;i<t.length;i++)n[i]=0|t[i];return n},n.toHex=function(t){for(var e="",n=0;n<t.length;n++)e+=s(t[n].toString(16));return e},n.htonl=a,n.toHex32=function(t,e){for(var n="",o=0;o<t.length;o++){var i=t[o];"little"===e&&(i=a(i)),n+=c(i.toString(16))}return n},n.zero2=s,n.zero8=c,n.join32=function(t,e,n,i){var r=n-e;o(r%4==0);for(var a=new Array(r/4),s=0,c=e;s<a.length;s++,c+=4){var l;l="big"===i?t[c]<<24|t[c+1]<<16|t[c+2]<<8|t[c+3]:t[c+3]<<24|t[c+2]<<16|t[c+1]<<8|t[c],a[s]=l>>>0}return a},n.split32=function(t,e){for(var n=new Array(4*t.length),o=0,i=0;o<t.length;o++,i+=4){var r=t[o];"big"===e?(n[i]=r>>>24,n[i+1]=r>>>16&255,n[i+2]=r>>>8&255,n[i+3]=255&r):(n[i+3]=r>>>24,n[i+2]=r>>>16&255,n[i+1]=r>>>8&255,n[i]=255&r)}return n},n.rotr32=function(t,e){return t>>>e|t<<32-e},n.rotl32=function(t,e){return t<<e|t>>>32-e},n.sum32=function(t,e){return t+e>>>0},n.sum32_3=function(t,e,n){return t+e+n>>>0},n.sum32_4=function(t,e,n,o){return t+e+n+o>>>0},n.sum32_5=function(t,e,n,o,i){return t+e+n+o+i>>>0},n.sum64=function(t,e,n,o){var i=t[e],r=o+t[e+1]>>>0,a=(r<o?1:0)+n+i;t[e]=a>>>0,t[e+1]=r},n.sum64_hi=function(t,e,n,o){return(e+o>>>0<e?1:0)+t+n>>>0},n.sum64_lo=function(t,e,n,o){return e+o>>>0},n.sum64_4_hi=function(t,e,n,o,i,r,a,s){var c=0,l=e;return c+=(l=l+o>>>0)<e?1:0,c+=(l=l+r>>>0)<r?1:0,t+n+i+a+(c+=(l=l+s>>>0)<s?1:0)>>>0},n.sum64_4_lo=function(t,e,n,o,i,r,a,s){return e+o+r+s>>>0},n.sum64_5_hi=function(t,e,n,o,i,r,a,s,c,l){var u=0,d=e;return u+=(d=d+o>>>0)<e?1:0,u+=(d=d+r>>>0)<r?1:0,u+=(d=d+s>>>0)<s?1:0,t+n+i+a+c+(u+=(d=d+l>>>0)<l?1:0)>>>0},n.sum64_5_lo=function(t,e,n,o,i,r,a,s,c,l){return e+o+r+s+l>>>0},n.rotr64_hi=function(t,e,n){return(e<<32-n|t>>>n)>>>0},n.rotr64_lo=function(t,e,n){return(t<<32-n|e>>>n)>>>0},n.shr64_hi=function(t,e,n){return t>>>n},n.shr64_lo=function(t,e,n){return(t<<32-n|e>>>n)>>>0}},{inherits:140,"minimalistic-assert":145}],137:[function(t,e){"use strict";var n=t("hash.js"),o=t("minimalistic-crypto-utils"),i=t("minimalistic-assert");function r(t){if(!(this instanceof r))return new r(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=o.toArray(t.entropy,t.entropyEnc||"hex"),n=o.toArray(t.nonce,t.nonceEnc||"hex"),a=o.toArray(t.pers,t.persEnc||"hex");i(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,n,a)}e.exports=r,r.prototype._init=function(t,e,n){var o=t.concat(e).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(o),this._reseed=1,this.reseedInterval=281474976710656},r.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},r.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},r.prototype.reseed=function(t,e,n,r){"string"!=typeof e&&(r=n,n=e,e=null),t=o.toArray(t,e),n=o.toArray(n,r),i(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(n||[])),this._reseed=1},r.prototype.generate=function(t,e,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(i=n,n=e,e=null),n&&(n=o.toArray(n,i||"hex"),this._update(n));for(var r=[];r.length<t;)this.V=this._hmac().update(this.V).digest(),r=r.concat(this.V);var a=r.slice(0,t);return this._update(n),this._reseed++,o.encode(a,e)}},{"hash.js":125,"minimalistic-assert":145,"minimalistic-crypto-utils":146}],138:[function(t,e,n){n.read=function(t,e,n,o,i){var r,a,s=8*i-o-1,c=(1<<s)-1,l=c>>1,u=-7,d=n?i-1:0,p=n?-1:1,h=t[e+d];for(d+=p,r=h&(1<<-u)-1,h>>=-u,u+=s;u>0;r=256*r+t[e+d],d+=p,u-=8);for(a=r&(1<<-u)-1,r>>=-u,u+=o;u>0;a=256*a+t[e+d],d+=p,u-=8);if(0===r)r=1-l;else{if(r===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,o),r-=l}return(h?-1:1)*a*Math.pow(2,r-o)},n.write=function(t,e,n,o,i,r){var a,s,c,l=8*r-i-1,u=(1<<l)-1,d=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=o?0:r-1,f=o?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),(e+=a+d>=1?p/c:p*Math.pow(2,1-d))*c>=2&&(a++,c/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(e*c-1)*Math.pow(2,i),a+=d):(s=e*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;t[n+h]=255&s,h+=f,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;t[n+h]=255&a,h+=f,a/=256,l-=8);t[n+h-f]|=128*g}},{}],139:[function(t,e){var n=[].indexOf;e.exports=function(t,e){if(n)return t.indexOf(e);for(var o=0;o<t.length;++o)if(t[o]===e)return o;return-1}},{}],140:[function(t,e){"function"==typeof Object.create?e.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},{}],141:[function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function o(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}e.exports=function(t){return null!=t&&(n(t)||o(t)||!!t._isBuffer)}},{}],142:[function(t,e){"use strict";var n=t("inherits"),o=t("hash-base"),i=t("safe-buffer").Buffer,r=new Array(16);function a(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function s(t,e){return t<<e|t>>>32-e}function c(t,e,n,o,i,r,a){return s(t+(e&n|~e&o)+i+r|0,a)+e|0}function l(t,e,n,o,i,r,a){return s(t+(e&o|n&~o)+i+r|0,a)+e|0}function u(t,e,n,o,i,r,a){return s(t+(e^n^o)+i+r|0,a)+e|0}function d(t,e,n,o,i,r,a){return s(t+(n^(e|~o))+i+r|0,a)+e|0}n(a,o),a.prototype._update=function(){for(var t=r,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var n=this._a,o=this._b,i=this._c,a=this._d;n=c(n,o,i,a,t[0],3614090360,7),a=c(a,n,o,i,t[1],3905402710,12),i=c(i,a,n,o,t[2],606105819,17),o=c(o,i,a,n,t[3],3250441966,22),n=c(n,o,i,a,t[4],4118548399,7),a=c(a,n,o,i,t[5],1200080426,12),i=c(i,a,n,o,t[6],2821735955,17),o=c(o,i,a,n,t[7],4249261313,22),n=c(n,o,i,a,t[8],1770035416,7),a=c(a,n,o,i,t[9],2336552879,12),i=c(i,a,n,o,t[10],4294925233,17),o=c(o,i,a,n,t[11],2304563134,22),n=c(n,o,i,a,t[12],1804603682,7),a=c(a,n,o,i,t[13],4254626195,12),i=c(i,a,n,o,t[14],2792965006,17),n=l(n,o=c(o,i,a,n,t[15],1236535329,22),i,a,t[1],4129170786,5),a=l(a,n,o,i,t[6],3225465664,9),i=l(i,a,n,o,t[11],643717713,14),o=l(o,i,a,n,t[0],3921069994,20),n=l(n,o,i,a,t[5],3593408605,5),a=l(a,n,o,i,t[10],38016083,9),i=l(i,a,n,o,t[15],3634488961,14),o=l(o,i,a,n,t[4],3889429448,20),n=l(n,o,i,a,t[9],568446438,5),a=l(a,n,o,i,t[14],3275163606,9),i=l(i,a,n,o,t[3],4107603335,14),o=l(o,i,a,n,t[8],1163531501,20),n=l(n,o,i,a,t[13],2850285829,5),a=l(a,n,o,i,t[2],4243563512,9),i=l(i,a,n,o,t[7],1735328473,14),n=u(n,o=l(o,i,a,n,t[12],2368359562,20),i,a,t[5],4294588738,4),a=u(a,n,o,i,t[8],2272392833,11),i=u(i,a,n,o,t[11],1839030562,16),o=u(o,i,a,n,t[14],4259657740,23),n=u(n,o,i,a,t[1],2763975236,4),a=u(a,n,o,i,t[4],1272893353,11),i=u(i,a,n,o,t[7],4139469664,16),o=u(o,i,a,n,t[10],3200236656,23),n=u(n,o,i,a,t[13],681279174,4),a=u(a,n,o,i,t[0],3936430074,11),i=u(i,a,n,o,t[3],3572445317,16),o=u(o,i,a,n,t[6],76029189,23),n=u(n,o,i,a,t[9],3654602809,4),a=u(a,n,o,i,t[12],3873151461,11),i=u(i,a,n,o,t[15],530742520,16),n=d(n,o=u(o,i,a,n,t[2],3299628645,23),i,a,t[0],4096336452,6),a=d(a,n,o,i,t[7],1126891415,10),i=d(i,a,n,o,t[14],2878612391,15),o=d(o,i,a,n,t[5],4237533241,21),n=d(n,o,i,a,t[12],1700485571,6),a=d(a,n,o,i,t[3],2399980690,10),i=d(i,a,n,o,t[10],4293915773,15),o=d(o,i,a,n,t[1],2240044497,21),n=d(n,o,i,a,t[8],1873313359,6),a=d(a,n,o,i,t[15],4264355552,10),i=d(i,a,n,o,t[6],2734768916,15),o=d(o,i,a,n,t[13],1309151649,21),n=d(n,o,i,a,t[4],4149444226,6),a=d(a,n,o,i,t[11],3174756917,10),i=d(i,a,n,o,t[2],718787259,15),o=d(o,i,a,n,t[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+o|0,this._c=this._c+i|0,this._d=this._d+a|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=i.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},e.exports=a},{"hash-base":107,inherits:140,"safe-buffer":185}],143:[function(t,e){var n=t("bn.js"),o=t("brorand");function i(t){this.rand=t||new o.Rand}e.exports=i,i.create=function(t){return new i(t)},i.prototype._randbelow=function(t){var e=t.bitLength(),o=Math.ceil(e/8);do{var i=new n(this.rand.generate(o))}while(i.cmp(t)>=0);return i},i.prototype._randrange=function(t,e){var n=e.sub(t);return t.add(this._randbelow(n))},i.prototype.test=function(t,e,o){var i=t.bitLength(),r=n.mont(t),a=new n(1).toRed(r);e||(e=Math.max(1,i/48|0));for(var s=t.subn(1),c=0;!s.testn(c);c++);for(var l=t.shrn(c),u=s.toRed(r);e>0;e--){var d=this._randrange(new n(2),s);o&&o(d);var p=d.toRed(r).redPow(l);if(0!==p.cmp(a)&&0!==p.cmp(u)){for(var h=1;h<c;h++){if(0===(p=p.redSqr()).cmp(a))return!1;if(0===p.cmp(u))break}if(h===c)return!1}}return!0},i.prototype.getDivisor=function(t,e){var o=t.bitLength(),i=n.mont(t),r=new n(1).toRed(i);e||(e=Math.max(1,o/48|0));for(var a=t.subn(1),s=0;!a.testn(s);s++);for(var c=t.shrn(s),l=a.toRed(i);e>0;e--){var u=this._randrange(new n(2),a),d=t.gcd(u);if(0!==d.cmpn(1))return d;var p=u.toRed(i).redPow(c);if(0!==p.cmp(r)&&0!==p.cmp(l)){for(var h=1;h<s;h++){if(0===(p=p.redSqr()).cmp(r))return p.fromRed().subn(1).gcd(t);if(0===p.cmp(l))break}if(h===s)return(p=p.redSqr()).fromRed().subn(1).gcd(t)}}return!1}},{"bn.js":144,brorand:18}],144:[function(t,e,n){arguments[4][15][0].apply(n,arguments)},{buffer:19,dup:15}],145:[function(t,e){function n(t,e){if(!t)throw new Error(e||"Assertion failed")}e.exports=n,n.equal=function(t,e,n){if(t!=e)throw new Error(n||"Assertion failed: "+t+" != "+e)}},{}],146:[function(t,e,n){"use strict";var o=n;function i(t){return 1===t.length?"0"+t:t}function r(t){for(var e="",n=0;n<t.length;n++)e+=i(t[n].toString(16));return e}o.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if("string"!=typeof t){for(var o=0;o<t.length;o++)n[o]=0|t[o];return n}if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),o=0;o<t.length;o+=2)n.push(parseInt(t[o]+t[o+1],16));else for(o=0;o<t.length;o++){var i=t.charCodeAt(o),r=i>>8,a=255&i;r?n.push(r,a):n.push(a)}return n},o.zero2=i,o.toHex=r,o.encode=function(t,e){return"hex"===e?r(t):t}},{}],147:[function(t,e){e.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],148:[function(t,e,n){"use strict";var o=t("asn1.js");n.certificate=t("./certificate");var i=o.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});n.RSAPrivateKey=i;var r=o.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});n.RSAPublicKey=r;var a=o.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())});n.PublicKey=a;var s=o.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),c=o.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())});n.PrivateKey=c;var l=o.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});n.EncryptedPrivateKey=l;var u=o.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});n.DSAPrivateKey=u,n.DSAparam=o.define("DSAparam",function(){this.int()});var d=o.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(p),this.key("publicKey").optional().explicit(1).bitstr())});n.ECPrivateKey=d;var p=o.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});n.signature=o.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":149,"asn1.js":1}],149:[function(t,e){"use strict";var n=t("asn1.js"),o=n.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),i=n.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),r=n.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),a=n.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(r),this.key("subjectPublicKey").bitstr())}),s=n.define("RelativeDistinguishedName",function(){this.setof(i)}),c=n.define("RDNSequence",function(){this.seqof(s)}),l=n.define("Name",function(){this.choice({rdnSequence:this.use(c)})}),u=n.define("Validity",function(){this.seq().obj(this.key("notBefore").use(o),this.key("notAfter").use(o))}),d=n.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),p=n.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(r),this.key("issuer").use(l),this.key("validity").use(u),this.key("subject").use(l),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(d).optional())}),h=n.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(p),this.key("signatureAlgorithm").use(r),this.key("signatureValue").bitstr())});e.exports=h},{"asn1.js":1}],150:[function(t,e){var n=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r\+\/\=]+)[\n\r]+/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r\+\/\=]+)-----END \1-----$/m,r=t("evp_bytestokey"),a=t("browserify-aes"),s=t("safe-buffer").Buffer;e.exports=function(t,e){var c,l=t.toString(),u=l.match(n);if(u){var d="aes"+u[1],p=s.from(u[2],"hex"),h=s.from(u[3].replace(/[\r\n]/g,""),"base64"),f=r(e,p.slice(0,8),parseInt(u[1],10)).key,g=[],_=a.createDecipheriv(d,f,p);g.push(_.update(h)),g.push(_.final()),c=s.concat(g)}else{var y=l.match(i);c=new s(y[2].replace(/[\r\n]/g,""),"base64")}return{tag:l.match(o)[1],data:c}}},{"browserify-aes":22,evp_bytestokey:106,"safe-buffer":185}],151:[function(t,e){var n=t("./asn1"),o=t("./aesid.json"),i=t("./fixProc"),r=t("browserify-aes"),a=t("pbkdf2"),s=t("safe-buffer").Buffer;function c(t){var e;"object"!=typeof t||s.isBuffer(t)||(e=t.passphrase,t=t.key),"string"==typeof t&&(t=s.from(t));var o,r,a=i(t,e),c=a.tag,u=a.data;switch(c){case"CERTIFICATE":r=n.certificate.decode(u,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(r||(r=n.PublicKey.decode(u,"der")),o=r.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPublicKey.decode(r.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return r.subjectPrivateKey=r.subjectPublicKey,{type:"ec",data:r};case"1.2.840.10040.4.1":return r.algorithm.params.pub_key=n.DSAparam.decode(r.subjectPublicKey.data,"der"),{type:"dsa",data:r.algorithm.params};default:throw new Error("unknown key id "+o)}throw new Error("unknown key type "+c);case"ENCRYPTED PRIVATE KEY":u=l(u=n.EncryptedPrivateKey.decode(u,"der"),e);case"PRIVATE KEY":switch(o=(r=n.PrivateKey.decode(u,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPrivateKey.decode(r.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:r.algorithm.curve,privateKey:n.ECPrivateKey.decode(r.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return r.algorithm.params.priv_key=n.DSAparam.decode(r.subjectPrivateKey,"der"),{type:"dsa",params:r.algorithm.params};default:throw new Error("unknown key id "+o)}throw new Error("unknown key type "+c);case"RSA PUBLIC KEY":return n.RSAPublicKey.decode(u,"der");case"RSA PRIVATE KEY":return n.RSAPrivateKey.decode(u,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:n.DSAPrivateKey.decode(u,"der")};case"EC PRIVATE KEY":return{curve:(u=n.ECPrivateKey.decode(u,"der")).parameters.value,privateKey:u.privateKey};default:throw new Error("unknown key type "+c)}}function l(t,e){var n=t.algorithm.decrypt.kde.kdeparams.salt,i=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),c=o[t.algorithm.decrypt.cipher.algo.join(".")],l=t.algorithm.decrypt.cipher.iv,u=t.subjectPrivateKey,d=parseInt(c.split("-")[1],10)/8,p=a.pbkdf2Sync(e,n,i,d,"sha1"),h=r.createDecipheriv(c,p,l),f=[];return f.push(h.update(u)),f.push(h.final()),s.concat(f)}e.exports=c,c.signature=n.signature},{"./aesid.json":147,"./asn1":148,"./fixProc":150,"browserify-aes":22,pbkdf2:152,"safe-buffer":185}],152:[function(t,e,n){n.pbkdf2=t("./lib/async"),n.pbkdf2Sync=t("./lib/sync")},{"./lib/async":153,"./lib/sync":156}],153:[function(t,e){(function(n,o){var i,r=t("safe-buffer").Buffer,a=t("./precondition"),s=t("./default-encoding"),c=t("./sync"),l=t("./to-buffer"),u=o.crypto&&o.crypto.subtle,d={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},p=[];function h(t){if(o.process&&!o.process.browser)return Promise.resolve(!1);if(!u||!u.importKey||!u.deriveBits)return Promise.resolve(!1);if(void 0!==p[t])return p[t];var e=f(i=i||r.alloc(8),i,10,128,t).then(function(){return!0}).catch(function(){return!1});return p[t]=e,e}function f(t,e,n,o,i){return u.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(t){return u.deriveBits({name:"PBKDF2",salt:e,iterations:n,hash:{name:i}},t,o<<3)}).then(function(t){return r.from(t)})}function g(t,e){t.then(function(t){n.nextTick(function(){e(null,t)})},function(t){n.nextTick(function(){e(t)})})}e.exports=function(t,e,i,r,u,p){"function"==typeof u&&(p=u,u=void 0);var _=d[(u=u||"sha1").toLowerCase()];if(!_||"function"!=typeof o.Promise)return n.nextTick(function(){var n;try{n=c(t,e,i,r,u)}catch(o){return p(o)}p(null,n)});if(a(i,r),t=l(t,s,"Password"),e=l(e,s,"Salt"),"function"!=typeof p)throw new Error("No callback provided to pbkdf2");g(h(_).then(function(n){return n?f(t,e,i,r,_):c(t,e,i,r,u)}),p)}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./default-encoding":154,"./precondition":155,"./sync":156,"./to-buffer":157,_process:159,"safe-buffer":185}],154:[function(t,e){(function(t){var n;n=t.browser?"utf-8":t.version?parseInt(t.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",e.exports=n}).call(this,t("_process"))},{_process:159}],155:[function(t,e){var n=Math.pow(2,30)-1;e.exports=function(t,e){if("number"!=typeof t)throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if("number"!=typeof e)throw new TypeError("Key length not a number");if(e<0||e>n||e!=e)throw new TypeError("Bad key length")}},{}],156:[function(t,e){var n=t("create-hash/md5"),o=t("ripemd160"),i=t("sha.js"),r=t("safe-buffer").Buffer,a=t("./precondition"),s=t("./default-encoding"),c=t("./to-buffer"),l=r.alloc(128),u={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function d(t,e,n){var o=p(t),i="sha512"===t||"sha384"===t?128:64;e.length>i?e=o(e):e.length<i&&(e=r.concat([e,l],i));for(var a=r.allocUnsafe(i+u[t]),s=r.allocUnsafe(i+u[t]),c=0;c<i;c++)a[c]=54^e[c],s[c]=92^e[c];var d=r.allocUnsafe(i+n+4);a.copy(d,0,0,i),this.ipad1=d,this.ipad2=a,this.opad=s,this.alg=t,this.blocksize=i,this.hash=o,this.size=u[t]}function p(t){return"rmd160"===t||"ripemd160"===t?function(t){return(new o).update(t).digest()}:"md5"===t?n:function(e){return i(t).update(e).digest()}}d.prototype.run=function(t,e){return t.copy(e,this.blocksize),this.hash(e).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(t,e,n,o,i){a(n,o);var l=new d(i=i||"sha1",t=c(t,s,"Password"),(e=c(e,s,"Salt")).length),p=r.allocUnsafe(o),h=r.allocUnsafe(e.length+4);e.copy(h,0,0,e.length);for(var f=0,g=u[i],_=Math.ceil(o/g),y=1;y<=_;y++){h.writeUInt32BE(y,e.length);for(var m=l.run(h,l.ipad1),b=m,v=1;v<n;v++){b=l.run(b,l.ipad2);for(var S=0;S<g;S++)m[S]^=b[S]}m.copy(p,f),f+=g}return p}},{"./default-encoding":154,"./precondition":155,"./to-buffer":157,"create-hash/md5":73,ripemd160:184,"safe-buffer":185,"sha.js":187}],157:[function(t,e){var n=t("safe-buffer").Buffer;e.exports=function(t,e,o){if(n.isBuffer(t))return t;if("string"==typeof t)return n.from(t,e);if(ArrayBuffer.isView(t))return n.from(t.buffer);throw new TypeError(o+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":185}],158:[function(t,e){(function(t){"use strict";void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,o,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var r,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,o)});case 4:return t.nextTick(function(){e.call(null,n,o,i)});default:for(r=new Array(s-1),a=0;a<r.length;)r[a++]=arguments[a];return t.nextTick(function(){e.apply(null,r)})}}}:e.exports=t}).call(this,t("_process"))},{_process:159}],159:[function(t,e){var n,o,i=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}function c(t){if(o===clearTimeout)return clearTimeout(t);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{return o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(t){n=r}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(t){o=a}})();var l,u=[],d=!1,p=-1;function h(){d&&l&&(d=!1,l.length?u=l.concat(u):p=-1,u.length&&f())}function f(){if(!d){var t=s(h);d=!0;for(var e=u.length;e;){for(l=u,u=[];++p<e;)l&&l[p].run();p=-1,e=u.length}l=null,d=!1,c(t)}}function g(t,e){this.fun=t,this.array=e}function _(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new g(t,e)),1!==u.length||d||s(f)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=_,i.addListener=_,i.once=_,i.off=_,i.removeListener=_,i.removeAllListeners=_,i.emit=_,i.prependListener=_,i.prependOnceListener=_,i.listeners=function(){return[]},i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],160:[function(t,e,n){n.publicEncrypt=t("./publicEncrypt"),n.privateDecrypt=t("./privateDecrypt"),n.privateEncrypt=function(t,e){return n.publicEncrypt(t,e,!0)},n.publicDecrypt=function(t,e){return n.privateDecrypt(t,e,!0)}},{"./privateDecrypt":163,"./publicEncrypt":164}],161:[function(t,e){var n=t("create-hash"),o=t("safe-buffer").Buffer;function i(t){var e=o.allocUnsafe(4);return e.writeUInt32BE(t,0),e}e.exports=function(t,e){for(var r,a=o.alloc(0),s=0;a.length<e;)r=i(s++),a=o.concat([a,n("sha1").update(t).update(r).digest()]);return a.slice(0,e)}},{"create-hash":72,"safe-buffer":185}],162:[function(t,e,n){arguments[4][15][0].apply(n,arguments)},{buffer:19,dup:15}],163:[function(t,e){var n=t("parse-asn1"),o=t("./mgf"),i=t("./xor"),r=t("bn.js"),a=t("browserify-rsa"),s=t("create-hash"),c=t("./withPublic"),l=t("safe-buffer").Buffer;function u(t,e){var n=t.modulus.byteLength(),r=s("sha1").update(l.alloc(0)).digest(),a=r.length;if(0!==e[0])throw new Error("decryption error");var c=e.slice(1,a+1),u=e.slice(a+1),d=i(c,o(u,a)),h=i(u,o(d,n-a-1));if(p(r,h.slice(0,a)))throw new Error("decryption error");for(var f=a;0===h[f];)f++;if(1!==h[f++])throw new Error("decryption error");return h.slice(f)}function d(t,e,n){for(var o=e.slice(0,2),i=2,r=0;0!==e[i++];)if(i>=e.length){r++;break}var a=e.slice(2,i-1);if(("0002"!==o.toString("hex")&&!n||"0001"!==o.toString("hex")&&n)&&r++,a.length<8&&r++,r)throw new Error("decryption error");return e.slice(i)}function p(t,e){t=l.from(t),e=l.from(e);var n=0,o=t.length;t.length!==e.length&&(n++,o=Math.min(t.length,e.length));for(var i=-1;++i<o;)n+=t[i]^e[i];return n}e.exports=function(t,e,o){var i;i=t.padding?t.padding:o?1:4;var s,p=n(t),h=p.modulus.byteLength();if(e.length>h||new r(e).cmp(p.modulus)>=0)throw new Error("decryption error");s=o?c(new r(e),p):a(e,p);var f=l.alloc(h-s.length);if(s=l.concat([f,s],h),4===i)return u(p,s);if(1===i)return d(0,s,o);if(3===i)return s;throw new Error("unknown padding")}},{"./mgf":161,"./withPublic":165,"./xor":166,"bn.js":162,"browserify-rsa":40,"create-hash":72,"parse-asn1":151,"safe-buffer":185}],164:[function(t,e){var n=t("parse-asn1"),o=t("randombytes"),i=t("create-hash"),r=t("./mgf"),a=t("./xor"),s=t("bn.js"),c=t("./withPublic"),l=t("browserify-rsa"),u=t("safe-buffer").Buffer;function d(t,e){var n=t.modulus.byteLength(),c=e.length,l=i("sha1").update(u.alloc(0)).digest(),d=l.length,p=2*d;if(c>n-p-2)throw new Error("message too long");var h=u.alloc(n-c-p-2),f=n-d-1,g=o(d),_=a(u.concat([l,h,u.alloc(1,1),e],f),r(g,f)),y=a(g,r(_,d));return new s(u.concat([u.alloc(1),y,_],n))}function p(t,e,n){var o,i=e.length,r=t.modulus.byteLength();if(i>r-11)throw new Error("message too long");return o=n?u.alloc(r-i-3,255):h(r-i-3),new s(u.concat([u.from([0,n?1:2]),o,u.alloc(1),e],r))}function h(t){for(var e,n=u.allocUnsafe(t),i=0,r=o(2*t),a=0;i<t;)a===r.length&&(r=o(2*t),a=0),(e=r[a++])&&(n[i++]=e);return n}e.exports=function(t,e,o){var i;i=t.padding?t.padding:o?1:4;var r,a=n(t);if(4===i)r=d(a,e);else if(1===i)r=p(a,e,o);else{if(3!==i)throw new Error("unknown padding");if((r=new s(e)).cmp(a.modulus)>=0)throw new Error("data too long for modulus")}return o?l(r,a):c(r,a)}},{"./mgf":161,"./withPublic":165,"./xor":166,"bn.js":162,"browserify-rsa":40,"create-hash":72,"parse-asn1":151,randombytes:167,"safe-buffer":185}],165:[function(t,e){var n=t("bn.js"),o=t("safe-buffer").Buffer;e.exports=function(t,e){return o.from(t.toRed(n.mont(e.modulus)).redPow(new n(e.publicExponent)).fromRed().toArray())}},{"bn.js":162,"safe-buffer":185}],166:[function(t,e){e.exports=function(t,e){for(var n=t.length,o=-1;++o<n;)t[o]^=e[o];return t}},{}],167:[function(t,e){(function(n,o){"use strict";var i=t("safe-buffer").Buffer,r=o.crypto||o.msCrypto;r&&r.getRandomValues?e.exports=function(t,e){if(t>4294967295)throw new RangeError("requested too many random bytes");var o=i.allocUnsafe(t);if(t>0)if(t>65536)for(var a=0;a<t;a+=65536)r.getRandomValues(o.slice(a,a+65536));else r.getRandomValues(o);return"function"==typeof e?n.nextTick(function(){e(null,o)}):o}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:159,"safe-buffer":185}],168:[function(t,e,n){(function(e,o){"use strict";function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var r=t("safe-buffer"),a=t("randombytes"),s=r.Buffer,c=r.kMaxLength,l=o.crypto||o.msCrypto,u=Math.pow(2,32)-1;function d(t,e){if("number"!=typeof t||t!=t)throw new TypeError("offset must be a number");if(t>u||t<0)throw new TypeError("offset must be a uint32");if(t>c||t>e)throw new RangeError("offset out of range")}function p(t,e,n){if("number"!=typeof t||t!=t)throw new TypeError("size must be a number");if(t>u||t<0)throw new TypeError("size must be a uint32");if(t+e>n||t>c)throw new RangeError("buffer too small")}function h(t,n,o,i){if(e.browser){var r=t.buffer,s=new Uint8Array(r,n,o);return l.getRandomValues(s),i?void e.nextTick(function(){i(null,t)}):t}if(!i)return a(o).copy(t,n),t;a(o,function(e,o){if(e)return i(e);o.copy(t,n),i(null,t)})}l&&l.getRandomValues||!e.browser?(n.randomFill=function(t,e,n,i){if(!(s.isBuffer(t)||t instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof e)i=e,e=0,n=t.length;else if("function"==typeof n)i=n,n=t.length-e;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return d(e,t.length),p(n,e,t.length),h(t,e,n,i)},n.randomFillSync=function(t,e,n){if(void 0===e&&(e=0),!(s.isBuffer(t)||t instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return d(e,t.length),void 0===n&&(n=t.length-e),p(n,e,t.length),h(t,e,n)}):(n.randomFill=i,n.randomFillSync=i)}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:159,randombytes:167,"safe-buffer":185}],169:[function(t,e){e.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":170}],170:[function(t,e){"use strict";var n=t("process-nextick-args"),o=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};e.exports=u;var i=Object.create(t("core-util-is"));i.inherits=t("inherits");var r=t("./_stream_readable"),a=t("./_stream_writable");i.inherits(u,r);for(var s=o(a.prototype),c=0;c<s.length;c++){var l=s[c];u.prototype[l]||(u.prototype[l]=a.prototype[l])}function u(t){if(!(this instanceof u))return new u(t);r.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||n.nextTick(p,this)}function p(t){t.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),u.prototype._destroy=function(t,e){this.push(null),this.end(),n.nextTick(e,t)}},{"./_stream_readable":172,"./_stream_writable":174,"core-util-is":69,inherits:140,"process-nextick-args":158}],171:[function(t,e){"use strict";e.exports=i;var n=t("./_stream_transform"),o=Object.create(t("core-util-is"));function i(t){if(!(this instanceof i))return new i(t);n.call(this,t)}o.inherits=t("inherits"),o.inherits(i,n),i.prototype._transform=function(t,e,n){n(null,t)}},{"./_stream_transform":173,"core-util-is":69,inherits:140}],172:[function(t,e){(function(n,o){"use strict";var i=t("process-nextick-args");e.exports=S;var r,a=t("isarray");S.ReadableState=v,t("events").EventEmitter;var s=function(t,e){return t.listeners(e).length},c=t("./internal/streams/stream"),l=t("safe-buffer").Buffer,u=o.Uint8Array||function(){};function d(t){return l.from(t)}var p=Object.create(t("core-util-is"));p.inherits=t("inherits");var h=t("util"),f=void 0;f=h&&h.debuglog?h.debuglog("stream"):function(){};var g,_=t("./internal/streams/BufferList"),y=t("./internal/streams/destroy");p.inherits(S,c);var m=["error","close","destroy","pause","resume"];function b(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?a(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}function v(e,n){e=e||{};var o=n instanceof(r=r||t("./_stream_duplex"));this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:o&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new _,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(g||(g=t("string_decoder/").StringDecoder),this.decoder=new g(e.encoding),this.encoding=e.encoding)}function S(e){if(r=r||t("./_stream_duplex"),!(this instanceof S))return new S(e);this._readableState=new v(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),c.call(this)}function w(t,e,n,o,i){var r,a=t._readableState;return null===e?(a.reading=!1,T(t,a)):(i||(r=I(a,e)),r?t.emit("error",r):a.objectMode||e&&e.length>0?("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===l.prototype||(e=d(e)),o?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):C(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?C(t,a,e,!1):N(t,a)):C(t,a,e,!1))):o||(a.reading=!1)),D(a)}function C(t,e,n,o){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,o?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&E(t)),N(t,e)}function I(t,e){var n,o;return o=e,l.isBuffer(o)||o instanceof u||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function D(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}Object.defineProperty(S.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),S.prototype.destroy=y.destroy,S.prototype._undestroy=y.undestroy,S.prototype._destroy=function(t,e){this.push(null),e(t)},S.prototype.push=function(t,e){var n,o=this._readableState;return o.objectMode?n=!0:"string"==typeof t&&((e=e||o.defaultEncoding)!==o.encoding&&(t=l.from(t,e),e=""),n=!0),w(this,t,e,!1,n)},S.prototype.unshift=function(t){return w(this,t,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(e){return g||(g=t("string_decoder/").StringDecoder),this._readableState.decoder=new g(e),this._readableState.encoding=e,this};var L=8388608;function R(t){return t>=L?t=L:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function P(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=R(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function T(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,E(t)}}function E(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(f("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(A,t):A(t))}function A(t){f("emit readable"),t.emit("readable"),B(t)}function N(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(G,t,e))}function G(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(f("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function M(t){return function(){var e=t._readableState;f("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,B(t))}}function O(t){f("readable nexttick read 0"),t.read(0)}function k(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(U,t,e))}function U(t,e){e.reading||(f("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),B(t),e.flowing&&!e.reading&&t.read(0)}function B(t){var e=t._readableState;for(f("flow",e.flowing);e.flowing&&null!==t.read(););}function x(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=F(t,e.buffer,e.decoder),n);var n}function F(t,e,n){var o;return t<e.head.data.length?(o=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):o=t===e.head.data.length?e.shift():n?H(t,e):j(t,e),o}function H(t,e){var n=e.head,o=1,i=n.data;for(t-=i.length;n=n.next;){var r=n.data,a=t>r.length?r.length:t;if(a===r.length?i+=r:i+=r.slice(0,t),0==(t-=a)){a===r.length?(++o,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=r.slice(a));break}++o}return e.length-=o,i}function j(t,e){var n=l.allocUnsafe(t),o=e.head,i=1;for(o.data.copy(n),t-=o.data.length;o=o.next;){var r=o.data,a=t>r.length?r.length:t;if(r.copy(n,n.length-t,0,a),0==(t-=a)){a===r.length?(++i,o.next?e.head=o.next:e.head=e.tail=null):(e.head=o,o.data=r.slice(a));break}++i}return e.length-=i,n}function V(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(W,e,t))}function W(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function K(t,e){for(var n=0,o=t.length;n<o;n++)if(t[n]===e)return n;return-1}S.prototype.read=function(t){f("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return f("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?V(this):E(this),null;if(0===(t=P(t,e))&&e.ended)return 0===e.length&&V(this),null;var o,i=e.needReadable;return f("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&f("length less than watermark",i=!0),e.ended||e.reading?f("reading or ended",i=!1):i&&(f("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=P(n,e))),null===(o=t>0?x(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&V(this)),null!==o&&this.emit("data",o),o},S.prototype._read=function(){this.emit("error",new Error("_read() is not implemented"))},S.prototype.pipe=function(t,e){var o=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=t;break;case 1:r.pipes=[r.pipes,t];break;default:r.pipes.push(t)}r.pipesCount+=1,f("pipe count=%d opts=%j",r.pipesCount,e);var a=e&&!1===e.end||t===n.stdout||t===n.stderr?m:l;function c(e,n){f("onunpipe"),e===o&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,f("cleanup"),t.removeListener("close",_),t.removeListener("finish",y),t.removeListener("drain",u),t.removeListener("error",g),t.removeListener("unpipe",c),o.removeListener("end",l),o.removeListener("end",m),o.removeListener("data",h),d=!0,!r.awaitDrain||t._writableState&&!t._writableState.needDrain||u())}function l(){f("onend"),t.end()}r.endEmitted?i.nextTick(a):o.once("end",a),t.on("unpipe",c);var u=M(o);t.on("drain",u);var d=!1;var p=!1;function h(e){f("ondata"),p=!1,!1!==t.write(e)||p||((1===r.pipesCount&&r.pipes===t||r.pipesCount>1&&-1!==K(r.pipes,t))&&!d&&(f("false write response, pause",o._readableState.awaitDrain),o._readableState.awaitDrain++,p=!0),o.pause())}function g(e){f("onerror",e),m(),t.removeListener("error",g),0===s(t,"error")&&t.emit("error",e)}function _(){t.removeListener("finish",y),m()}function y(){f("onfinish"),t.removeListener("close",_),m()}function m(){f("unpipe"),o.unpipe(t)}return o.on("data",h),b(t,"error",g),t.once("close",_),t.once("finish",y),t.emit("pipe",o),r.flowing||(f("pipe resume"),o.resume()),t},S.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var o=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var r=0;r<i;r++)o[r].emit("unpipe",this,n);return this}var a=K(e.pipes,t);return-1===a?this:(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},S.prototype.on=function(t,e){var n=c.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var o=this._readableState;o.endEmitted||o.readableListening||(o.readableListening=o.needReadable=!0,o.emittedReadable=!1,o.reading?o.length&&E(this):i.nextTick(O,this))}return n},S.prototype.addListener=S.prototype.on,S.prototype.resume=function(){var t=this._readableState;return t.flowing||(f("resume"),t.flowing=!0,k(this,t)),this},S.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},S.prototype.wrap=function(t){var e=this,n=this._readableState,o=!1;for(var i in t.on("end",function(){if(f("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(i){f("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(e.push(i)||(o=!0,t.pause()))}),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var r=0;r<m.length;r++)t.on(m[r],this.emit.bind(this,m[r]));return this._read=function(e){f("wrapped _read",e),o&&(o=!1,t.resume())},this},Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),S._fromList=x}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":170,"./internal/streams/BufferList":175,"./internal/streams/destroy":176,"./internal/streams/stream":177,_process:159,"core-util-is":69,events:105,inherits:140,isarray:178,"process-nextick-args":158,"safe-buffer":185,"string_decoder/":179,util:19}],173:[function(t,e){"use strict";e.exports=r;var n=t("./_stream_duplex"),o=Object.create(t("core-util-is"));function i(t,e){var n=this._transformState;n.transforming=!1;var o=n.writecb;if(!o)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),o(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function r(t){if(!(this instanceof r))return new r(t);n.call(this,t),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",a)}function a(){var t=this;"function"==typeof this._flush?this._flush(function(e,n){s(t,e,n)}):s(this,null,null)}function s(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}o.inherits=t("inherits"),o.inherits(r,n),r.prototype.push=function(t,e){return this._transformState.needTransform=!1,n.prototype.push.call(this,t,e)},r.prototype._transform=function(){throw new Error("_transform() is not implemented")},r.prototype._write=function(t,e,n){var o=this._transformState;if(o.writecb=n,o.writechunk=t,o.writeencoding=e,!o.transforming){var i=this._readableState;(o.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},r.prototype._read=function(){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},r.prototype._destroy=function(t,e){var o=this;n.prototype._destroy.call(this,t,function(t){e(t),o.emit("close")})}},{"./_stream_duplex":170,"core-util-is":69,inherits:140}],174:[function(t,e){(function(n,o){"use strict";var i=t("process-nextick-args");function r(t){var e=this;this.next=null,this.entry=null,this.finish=function(){O(e,t)}}e.exports=m;var a,s=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:i.nextTick;m.WritableState=y;var c=Object.create(t("core-util-is"));c.inherits=t("inherits");var l={deprecate:t("util-deprecate")},u=t("./internal/streams/stream"),d=t("safe-buffer").Buffer,p=o.Uint8Array||function(){};function h(t){return d.from(t)}var f,g=t("./internal/streams/destroy");function _(){}function y(e,n){a=a||t("./_stream_duplex"),e=e||{};var o=n instanceof a;this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,s=e.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:o&&(s||0===s)?s:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=!1===e.decodeStrings;this.decodeStrings=!l,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){L(n,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function m(e){if(a=a||t("./_stream_duplex"),!(f.call(m,this)||this instanceof a))return new m(e);this._writableState=new y(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function b(t,e){var n=new Error("write after end");t.emit("error",n),i.nextTick(e,n)}function v(t,e,n,o){var r=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(t.emit("error",a),i.nextTick(o,a),r=!1),r}function S(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=d.from(e,n)),e}function w(t,e,n,o,i,r){if(!n){var a=S(e,o,i);o!==a&&(n=!0,i="buffer",o=a)}var s=e.objectMode?1:o.length;e.length+=s;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:o,encoding:i,isBuf:n,callback:r,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else C(t,e,!1,s,o,i,r);return c}function C(t,e,n,o,i,r,a){e.writelen=o,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,r,e.onwrite),e.sync=!1}function I(t,e,n,o,r){--e.pendingcb,n?(i.nextTick(r,o),i.nextTick(G,t,e),t._writableState.errorEmitted=!0,t.emit("error",o)):(r(o),t._writableState.errorEmitted=!0,t.emit("error",o),G(t,e))}function D(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function L(t,e){var n=t._writableState,o=n.sync,i=n.writecb;if(D(n),e)I(t,n,o,e,i);else{var r=E(n);r||n.corked||n.bufferProcessing||!n.bufferedRequest||T(t,n),o?s(R,t,n,r,i):R(t,n,r,i)}}function R(t,e,n,o){n||P(t,e),e.pendingcb--,o(),G(t,e)}function P(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function T(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var o=e.bufferedRequestCount,i=new Array(o),a=e.corkedRequestsFree;a.entry=n;for(var s=0,c=!0;n;)i[s]=n,n.isBuf||(c=!1),n=n.next,s+=1;i.allBuffers=c,C(t,e,!0,e.length,i,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new r(e),e.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,u=n.encoding,d=n.callback;if(C(t,e,!1,e.objectMode?1:l.length,l,u,d),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function E(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function A(t,e){t._final(function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),G(t,e)})}function N(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,i.nextTick(A,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function G(t,e){var n=E(e);return n&&(N(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}function M(t,e,n){e.ending=!0,G(t,e),n&&(e.finished?i.nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}function O(t,e,n){var o=t.entry;for(t.entry=null;o;){var i=o.callback;e.pendingcb--,i(n),o=o.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}c.inherits(m,u),y.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(y.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(t){return!!f.call(this,t)||this===m&&t&&t._writableState instanceof y}})):f=function(t){return t instanceof this},m.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},m.prototype.write=function(t,e,n){var o,i=this._writableState,r=!1,a=!i.objectMode&&(o=t,d.isBuffer(o)||o instanceof p);return a&&!d.isBuffer(t)&&(t=h(t)),"function"==typeof e&&(n=e,e=null),a?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof n&&(n=_),i.ended?b(this,n):(a||v(this,i,t,n))&&(i.pendingcb++,r=w(this,i,a,t,e,n)),r},m.prototype.cork=function(){this._writableState.corked++},m.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||T(this,t))},m.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),m.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},m.prototype._writev=null,m.prototype.end=function(t,e,n){var o=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),o.corked&&(o.corked=1,this.uncork()),o.ending||o.finished||M(this,o,n)},Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),m.prototype.destroy=g.destroy,m.prototype._undestroy=g.undestroy,m.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":170,"./internal/streams/destroy":176,"./internal/streams/stream":177,_process:159,"core-util-is":69,inherits:140,"process-nextick-args":158,"safe-buffer":185,"util-deprecate":196}],175:[function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=t("safe-buffer").Buffer,i=t("util");e.exports=function(){function t(){n(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return o.alloc(0);if(1===this.length)return this.head.data;for(var e,n,i=o.allocUnsafe(t>>>0),r=this.head,a=0;r;)e=i,n=a,r.data.copy(e,n),a+=r.data.length,r=r.next;return i},t}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},{"safe-buffer":185,util:19}],176:[function(t,e){"use strict";var n=t("process-nextick-args");function o(t,e){t.emit("error",e)}e.exports={destroy:function(t,e){var i=this,r=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return r||a?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||n.nextTick(o,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(n.nextTick(o,i,t),i._writableState&&(i._writableState.errorEmitted=!0)):e&&e(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":158}],177:[function(t,e,n){arguments[4][61][0].apply(n,arguments)},{dup:61,events:105}],178:[function(t,e,n){arguments[4][67][0].apply(n,arguments)},{dup:67}],179:[function(t,e,n){arguments[4][64][0].apply(n,arguments)},{dup:64,"safe-buffer":185}],180:[function(t,e){e.exports=t("./readable").PassThrough},{"./readable":181}],181:[function(t,e,n){(n=e.exports=t("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=t("./lib/_stream_writable.js"),n.Duplex=t("./lib/_stream_duplex.js"),n.Transform=t("./lib/_stream_transform.js"),n.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":170,"./lib/_stream_passthrough.js":171,"./lib/_stream_readable.js":172,"./lib/_stream_transform.js":173,"./lib/_stream_writable.js":174}],182:[function(t,e){e.exports=t("./readable").Transform},{"./readable":181}],183:[function(t,e){e.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":174}],184:[function(t,e){"use strict";var n=t("buffer").Buffer,o=t("inherits"),i=t("hash-base"),r=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],s=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],u=[0,1518500249,1859775393,2400959708,2840853838],d=[1352829926,1548603684,1836072691,2053994217,0];function p(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function h(t,e){return t<<e|t>>>32-e}function f(t,e,n,o,i,r,a,s){return h(t+(e^n^o)+r+a|0,s)+i|0}function g(t,e,n,o,i,r,a,s){return h(t+(e&n|~e&o)+r+a|0,s)+i|0}function _(t,e,n,o,i,r,a,s){return h(t+((e|~n)^o)+r+a|0,s)+i|0}function y(t,e,n,o,i,r,a,s){return h(t+(e&o|n&~o)+r+a|0,s)+i|0}function m(t,e,n,o,i,r,a,s){return h(t+(e^(n|~o))+r+a|0,s)+i|0}o(p,i),p.prototype._update=function(){for(var t=r,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);for(var n=0|this._a,o=0|this._b,i=0|this._c,p=0|this._d,b=0|this._e,v=0|this._a,S=0|this._b,w=0|this._c,C=0|this._d,I=0|this._e,D=0;D<80;D+=1){var L,R;D<16?(L=f(n,o,i,p,b,t[a[D]],u[0],c[D]),R=m(v,S,w,C,I,t[s[D]],d[0],l[D])):D<32?(L=g(n,o,i,p,b,t[a[D]],u[1],c[D]),R=y(v,S,w,C,I,t[s[D]],d[1],l[D])):D<48?(L=_(n,o,i,p,b,t[a[D]],u[2],c[D]),R=_(v,S,w,C,I,t[s[D]],d[2],l[D])):D<64?(L=y(n,o,i,p,b,t[a[D]],u[3],c[D]),R=g(v,S,w,C,I,t[s[D]],d[3],l[D])):(L=m(n,o,i,p,b,t[a[D]],u[4],c[D]),R=f(v,S,w,C,I,t[s[D]],d[4],l[D])),n=b,b=p,p=h(i,10),i=o,o=L,v=I,I=C,C=h(w,10),w=S,S=R}var P=this._b+i+C|0;this._b=this._c+p+I|0,this._c=this._d+b+v|0,this._d=this._e+n+S|0,this._e=this._a+o+w|0,this._a=P},p.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=n.alloc?n.alloc(20):new n(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},e.exports=p},{buffer:66,"hash-base":107,inherits:140}],185:[function(t,e,n){var o=t("buffer"),i=o.Buffer;function r(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=o:(r(o,n),n.Buffer=a),r(i,a),a.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},a.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var o=i(t);return void 0!==e?"string"==typeof n?o.fill(e,n):o.fill(e):o.fill(0),o},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o.SlowBuffer(t)}},{buffer:66}],186:[function(t,e){var n=t("safe-buffer").Buffer;function o(t,e){this._block=n.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}o.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=n.from(t,e));for(var o=this._block,i=this._blockSize,r=t.length,a=this._len,s=0;s<r;){for(var c=a%i,l=Math.min(r-s,i-c),u=0;u<l;u++)o[c+u]=t[s+u];s+=l,(a+=l)%i==0&&this._update(o)}return this._len+=r,this},o.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var o=(4294967295&n)>>>0,i=(n-o)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(o,this._blockSize-4)}this._update(this._block);var r=this._hash();return t?r.toString(t):r},o.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=o},{"safe-buffer":185}],187:[function(t,e,n){(n=e.exports=function(t){t=t.toLowerCase();var e=n[t];if(!e)throw new Error(t+" is not supported (we accept pull requests)");return new e}).sha=t("./sha"),n.sha1=t("./sha1"),n.sha224=t("./sha224"),n.sha256=t("./sha256"),n.sha384=t("./sha384"),n.sha512=t("./sha512")},{"./sha":188,"./sha1":189,"./sha224":190,"./sha256":191,"./sha384":192,"./sha512":193}],188:[function(t,e){var n=t("inherits"),o=t("./hash"),i=t("safe-buffer").Buffer,r=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function s(){this.init(),this._w=a,o.call(this,64,56)}function c(t){return t<<30|t>>>2}function l(t,e,n,o){return 0===t?e&n|~e&o:2===t?e&n|e&o|n&o:e^n^o}n(s,o),s.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},s.prototype._update=function(t){for(var e,n=this._w,o=0|this._a,i=0|this._b,a=0|this._c,s=0|this._d,u=0|this._e,d=0;d<16;++d)n[d]=t.readInt32BE(4*d);for(;d<80;++d)n[d]=n[d-3]^n[d-8]^n[d-14]^n[d-16];for(var p=0;p<80;++p){var h=~~(p/20),f=0|((e=o)<<5|e>>>27)+l(h,i,a,s)+u+n[p]+r[h];u=s,s=a,a=c(i),i=o,o=f}this._a=o+this._a|0,this._b=i+this._b|0,this._c=a+this._c|0,this._d=s+this._d|0,this._e=u+this._e|0},s.prototype._hash=function(){var t=i.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},e.exports=s},{"./hash":186,inherits:140,"safe-buffer":185}],189:[function(t,e){var n=t("inherits"),o=t("./hash"),i=t("safe-buffer").Buffer,r=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function s(){this.init(),this._w=a,o.call(this,64,56)}function c(t){return t<<5|t>>>27}function l(t){return t<<30|t>>>2}function u(t,e,n,o){return 0===t?e&n|~e&o:2===t?e&n|e&o|n&o:e^n^o}n(s,o),s.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},s.prototype._update=function(t){for(var e,n=this._w,o=0|this._a,i=0|this._b,a=0|this._c,s=0|this._d,d=0|this._e,p=0;p<16;++p)n[p]=t.readInt32BE(4*p);for(;p<80;++p)n[p]=(e=n[p-3]^n[p-8]^n[p-14]^n[p-16])<<1|e>>>31;for(var h=0;h<80;++h){var f=~~(h/20),g=c(o)+u(f,i,a,s)+d+n[h]+r[f]|0;d=s,s=a,a=l(i),i=o,o=g}this._a=o+this._a|0,this._b=i+this._b|0,this._c=a+this._c|0,this._d=s+this._d|0,this._e=d+this._e|0},s.prototype._hash=function(){var t=i.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},e.exports=s},{"./hash":186,inherits:140,"safe-buffer":185}],190:[function(t,e){var n=t("inherits"),o=t("./sha256"),i=t("./hash"),r=t("safe-buffer").Buffer,a=new Array(64);function s(){this.init(),this._w=a,i.call(this,64,56)}n(s,o),s.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},s.prototype._hash=function(){var t=r.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},e.exports=s},{"./hash":186,"./sha256":191,inherits:140,"safe-buffer":185}],191:[function(t,e){var n=t("inherits"),o=t("./hash"),i=t("safe-buffer").Buffer,r=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function s(){this.init(),this._w=a,o.call(this,64,56)}function c(t,e,n){return n^t&(e^n)}function l(t,e,n){return t&e|n&(t|e)}function u(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function d(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function p(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}n(s,o),s.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},s.prototype._update=function(t){for(var e,n=this._w,o=0|this._a,i=0|this._b,a=0|this._c,s=0|this._d,h=0|this._e,f=0|this._f,g=0|this._g,_=0|this._h,y=0;y<16;++y)n[y]=t.readInt32BE(4*y);for(;y<64;++y)n[y]=0|(((e=n[y-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+n[y-7]+p(n[y-15])+n[y-16];for(var m=0;m<64;++m){var b=_+d(h)+c(h,f,g)+r[m]+n[m]|0,v=u(o)+l(o,i,a)|0;_=g,g=f,f=h,h=s+b|0,s=a,a=i,i=o,o=b+v|0}this._a=o+this._a|0,this._b=i+this._b|0,this._c=a+this._c|0,this._d=s+this._d|0,this._e=h+this._e|0,this._f=f+this._f|0,this._g=g+this._g|0,this._h=_+this._h|0},s.prototype._hash=function(){var t=i.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},e.exports=s},{"./hash":186,inherits:140,"safe-buffer":185}],192:[function(t,e){var n=t("inherits"),o=t("./sha512"),i=t("./hash"),r=t("safe-buffer").Buffer,a=new Array(160);function s(){this.init(),this._w=a,i.call(this,128,112)}n(s,o),s.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},s.prototype._hash=function(){var t=r.allocUnsafe(48);function e(e,n,o){t.writeInt32BE(e,o),t.writeInt32BE(n,o+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},e.exports=s},{"./hash":186,"./sha512":193,inherits:140,"safe-buffer":185}],193:[function(t,e){var n=t("inherits"),o=t("./hash"),i=t("safe-buffer").Buffer,r=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function s(){this.init(),this._w=a,o.call(this,128,112)}function c(t,e,n){return n^t&(e^n)}function l(t,e,n){return t&e|n&(t|e)}function u(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function d(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function p(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function h(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function f(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function g(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function _(t,e){return t>>>0<e>>>0?1:0}n(s,o),s.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},s.prototype._update=function(t){for(var e=this._w,n=0|this._ah,o=0|this._bh,i=0|this._ch,a=0|this._dh,s=0|this._eh,y=0|this._fh,m=0|this._gh,b=0|this._hh,v=0|this._al,S=0|this._bl,w=0|this._cl,C=0|this._dl,I=0|this._el,D=0|this._fl,L=0|this._gl,R=0|this._hl,P=0;P<32;P+=2)e[P]=t.readInt32BE(4*P),e[P+1]=t.readInt32BE(4*P+4);for(;P<160;P+=2){var T=e[P-30],E=e[P-30+1],A=p(T,E),N=h(E,T),G=f(T=e[P-4],E=e[P-4+1]),M=g(E,T),O=e[P-14],k=e[P-14+1],U=e[P-32],B=e[P-32+1],x=N+k|0,F=A+O+_(x,N)|0;F=(F=F+G+_(x=x+M|0,M)|0)+U+_(x=x+B|0,B)|0,e[P]=F,e[P+1]=x}for(var H=0;H<160;H+=2){F=e[H],x=e[H+1];var j=l(n,o,i),V=l(v,S,w),W=u(n,v),K=u(v,n),Y=d(s,I),z=d(I,s),q=r[H],J=r[H+1],Q=c(s,y,m),X=c(I,D,L),Z=R+z|0,$=b+Y+_(Z,R)|0;$=($=($=$+Q+_(Z=Z+X|0,X)|0)+q+_(Z=Z+J|0,J)|0)+F+_(Z=Z+x|0,x)|0;var tt=K+V|0,et=W+j+_(tt,K)|0;b=m,R=L,m=y,L=D,y=s,D=I,s=a+$+_(I=C+Z|0,C)|0,a=i,C=w,i=o,w=S,o=n,S=v,n=$+et+_(v=Z+tt|0,Z)|0}this._al=this._al+v|0,this._bl=this._bl+S|0,this._cl=this._cl+w|0,this._dl=this._dl+C|0,this._el=this._el+I|0,this._fl=this._fl+D|0,this._gl=this._gl+L|0,this._hl=this._hl+R|0,this._ah=this._ah+n+_(this._al,v)|0,this._bh=this._bh+o+_(this._bl,S)|0,this._ch=this._ch+i+_(this._cl,w)|0,this._dh=this._dh+a+_(this._dl,C)|0,this._eh=this._eh+s+_(this._el,I)|0,this._fh=this._fh+y+_(this._fl,D)|0,this._gh=this._gh+m+_(this._gl,L)|0,this._hh=this._hh+b+_(this._hl,R)|0},s.prototype._hash=function(){var t=i.allocUnsafe(64);function e(e,n,o){t.writeInt32BE(e,o),t.writeInt32BE(n,o+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},e.exports=s},{"./hash":186,inherits:140,"safe-buffer":185}],194:[function(t,e){e.exports=o;var n=t("events").EventEmitter;function o(){n.call(this)}t("inherits")(o,n),o.Readable=t("readable-stream/readable.js"),o.Writable=t("readable-stream/writable.js"),o.Duplex=t("readable-stream/duplex.js"),o.Transform=t("readable-stream/transform.js"),o.PassThrough=t("readable-stream/passthrough.js"),o.Stream=o,o.prototype.pipe=function(t,e){var o=this;function i(e){t.writable&&!1===t.write(e)&&o.pause&&o.pause()}function r(){o.readable&&o.resume&&o.resume()}o.on("data",i),t.on("drain",r),t._isStdio||e&&!1===e.end||(o.on("end",s),o.on("close",c));var a=!1;function s(){a||(a=!0,t.end())}function c(){a||(a=!0,"function"==typeof t.destroy&&t.destroy())}function l(t){if(u(),0===n.listenerCount(this,"error"))throw t}function u(){o.removeListener("data",i),t.removeListener("drain",r),o.removeListener("end",s),o.removeListener("close",c),o.removeListener("error",l),t.removeListener("error",l),o.removeListener("end",u),o.removeListener("close",u),t.removeListener("close",u)}return o.on("error",l),t.on("error",l),o.on("end",u),o.on("close",u),t.on("close",u),t.emit("pipe",o),t}},{events:105,inherits:140,"readable-stream/duplex.js":169,"readable-stream/passthrough.js":180,"readable-stream/readable.js":181,"readable-stream/transform.js":182,"readable-stream/writable.js":183}],195:[function(t,e,n){var o=t("buffer").Buffer,i=o.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(t){if(t&&!i(t))throw new Error("Unknown encoding: "+t)}var a=n.StringDecoder=function(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),r(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=c;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=l;break;default:return void(this.write=s)}this.charBuffer=new o(6),this.charReceived=0,this.charLength=0};function s(t){return t.toString(this.encoding)}function c(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function l(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}a.prototype.write=function(t){for(var e="";this.charLength;){var n=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";if(t=t.slice(n,t.length),!((o=(e=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(e.length-1))>=55296&&o<=56319)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var o,i=t.length;if(this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,i),i-=this.charReceived),i=(e+=t.toString(this.encoding,0,i)).length-1,(o=e.charCodeAt(i))>=55296&&o<=56319){var r=this.surrogateSize;return this.charLength+=r,this.charReceived+=r,this.charBuffer.copy(this.charBuffer,r,0,r),t.copy(this.charBuffer,0,0,r),e.substring(0,i)}return e},a.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var n=t[t.length-e];if(1==e&&n>>5==6){this.charLength=2;break}if(e<=2&&n>>4==14){this.charLength=3;break}if(e<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=e},a.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var n=this.charReceived,o=this.charBuffer,i=this.encoding;e+=o.slice(0,n).toString(i)}return e}},{buffer:66}],196:[function(t,e){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(o){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(t,e){if(n("noDeprecation"))return t;var o=!1;return function(){if(!o){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),o=!0}return t.apply(this,arguments)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],197:[function(require,module,exports){var indexOf=require("indexof"),Object_keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)e.push(n);return e},forEach=function(t,e){if(t.forEach)return t.forEach(e);for(var n=0;n<t.length;n++)e(t[n],n,t)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(t,e,n){Object.defineProperty(t,e,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(t){return function(t,e,n){t[e]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(t){if(!(this instanceof Script))return new Script(t);this.code=t};Script.prototype.runInContext=function(t){if(!(t instanceof Context))throw new TypeError("needs a 'context' argument.");var e=document.createElement("iframe");e.style||(e.style={}),e.style.display="none",document.body.appendChild(e);var n=e.contentWindow,o=n.eval,i=n.execScript;!o&&i&&(i.call(n,"null"),o=n.eval),forEach(Object_keys(t),function(e){n[e]=t[e]}),forEach(globals,function(e){t[e]&&(n[e]=t[e])});var r=Object_keys(n),a=o.call(n,this.code);return forEach(Object_keys(n),function(e){(e in t||-1===indexOf(r,e))&&(t[e]=n[e])}),forEach(globals,function(e){e in t||defineProp(t,e,n[e])}),document.body.removeChild(e),a},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(t){var e=Script.createContext(t),n=this.runInContext(e);return forEach(Object_keys(e),function(n){t[n]=e[n]}),n},forEach(Object_keys(Script.prototype),function(t){exports[t]=Script[t]=function(e){var n=Script(e);return n[t].apply(n,[].slice.call(arguments,1))}}),exports.createScript=function(t){return exports.Script(t)},exports.createContext=Script.createContext=function(t){var e=new Context;return"object"==typeof t&&forEach(Object_keys(t),function(n){e[n]=t[n]}),e}},{indexof:139}],ADDefine:[function(t,e,n){"use strict";cc._RF.push(e,"9fac8qjOwhHzaz6d+QplMD6","ADDefine"),Object.defineProperty(n,"__esModule",{value:!0}),n.ADType=void 0,function(t){t[t.REWARD_VIDEO=1]="REWARD_VIDEO",t[t.BANNER=2]="BANNER",t[t.INTERSTITIAL=3]="INTERSTITIAL"}(n.ADType||(n.ADType={})),cc._RF.pop()},{}],ATAndroidBannerJS:[function(t,e){"use strict";cc._RF.push(e,"a4f7418Hj9H34A3skWQZQPF","ATAndroidBannerJS");var n="com/anythink/cocosjs/ATBannerJSBridge",o=o||{loadBanner:function(t,e){cc.log("Android-loadBanner:"+e),jsb.reflection.callStaticMethod(n,"load","(Ljava/lang/String;Ljava/lang/String;)V",t,e)},setAdListener:function(t){cc.log("Android-setAdListener"),jsb.reflection.callStaticMethod(n,"setAdListener","(Ljava/lang/String;)V",t)},hasAdReady:function(t){return cc.log("Android-hasAdReady"),jsb.reflection.callStaticMethod(n,"isAdReady","(Ljava/lang/String;)Z",t)},checkAdStatus:function(t){return cc.log("Android-checkAdStatus:"+t),jsb.reflection.callStaticMethod(n,"checkAdStatus","(Ljava/lang/String;)Ljava/lang/String;",t)},showAdInPosition:function(t,e){cc.log("Android-showAdInPosistion"),jsb.reflection.callStaticMethod(n,"showWithPosition","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",t,e,"")},showAdInPositionAndScenario:function(t,e,o){cc.log("Android-showAdInPositionAndScenario"),jsb.reflection.callStaticMethod(n,"showWithPosition","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",t,e,o)},showAdInRectangle:function(t,e){cc.log("Android-showAdInRectangle"),jsb.reflection.callStaticMethod(n,"showWithRect","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",t,e,"")},showAdInRectangleAndScenario:function(t,e,o){cc.log("Android-showAdInRectangleAndScenario"),jsb.reflection.callStaticMethod(n,"showWithRect","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",t,e,o)},removeAd:function(t){cc.log("Android-removeAd"),jsb.reflection.callStaticMethod(n,"remove","(Ljava/lang/String;)V",t)},reShowAd:function(t){cc.log("Android-reShowAd"),jsb.reflection.callStaticMethod(n,"reshow","(Ljava/lang/String;)V",t)},hideAd:function(t){cc.log("Android-hideAd"),jsb.reflection.callStaticMethod(n,"hide","(Ljava/lang/String;)V",t)}};e.exports=o,cc._RF.pop()},{}],ATAndroidInterstitialJS:[function(t,e){"use strict";cc._RF.push(e,"d43a7wAA59PB6epuFAifQKl","ATAndroidInterstitialJS");var n="com/anythink/cocosjs/ATInterstitialJSBridge",o=o||{loadInterstitial:function(t,e){cc.log("Android-loadInterstitial"),jsb.reflection.callStaticMethod(n,"load","(Ljava/lang/String;Ljava/lang/String;)V",t,e)},setAdListener:function(t){cc.log("Android-setAdListener"),jsb.reflection.callStaticMethod(n,"setAdListener","(Ljava/lang/String;)V",t)},hasAdReady:function(t){return cc.log("Android-hasAdReady"),jsb.reflection.callStaticMethod(n,"isAdReady","(Ljava/lang/String;)Z",t)},checkAdStatus:function(t){return cc.log("Android-checkAdStatus:"+t),jsb.reflection.callStaticMethod(n,"checkAdStatus","(Ljava/lang/String;)Ljava/lang/String;",t)},showAd:function(t){cc.log("Android-showAd:"+t),jsb.reflection.callStaticMethod(n,"show","(Ljava/lang/String;)V",t)},showAdInScenario:function(t,e){cc.log("Android-showAdInScenario:"+t+"---"+e),jsb.reflection.callStaticMethod(n,"show","(Ljava/lang/String;Ljava/lang/String;)V",t,e)}};e.exports=o,cc._RF.pop()},{}],ATAndroidJS:[function(t,e){"use strict";cc._RF.push(e,"c39bclv8FZHPqy3Lm/bf/mX","ATAndroidJS");var n="com/anythink/cocosjs/ATJSBridge",o=o||{printJsLog:function(t){null!=t&&null!=t&&jsb.reflection.callStaticMethod("android/util/Log","i","(Ljava/lang/String;Ljava/lang/String;)I","AT-Cocos-JS",t)},initSDK:function(t,e){jsb.reflection.callStaticMethod(n,"initSDK","(Ljava/lang/String;Ljava/lang/String;)V",t,e)},initCustomMap:function(t){jsb.reflection.callStaticMethod(n,"initCustomMap","(Ljava/lang/String;)V",t)},setPlacementCustomMap:function(t,e){jsb.reflection.callStaticMethod(n,"setPlacementCustomMap","(Ljava/lang/String;Ljava/lang/String;)V",t,e)},setGDPRLevel:function(t){jsb.reflection.callStaticMethod(n,"setGDPRLevel","(I)V",t)},getGDPRLevel:function(){return jsb.reflection.callStaticMethod(n,"getGDPRLevel","()I")},getUserLocation:function(t){jsb.reflection.callStaticMethod(n,"getUserLocation","(Ljava/lang/String;)V",t)},showGDPRAuth:function(){jsb.reflection.callStaticMethod(n,"showGDPRAuth","()V")},setLogDebug:function(t){jsb.reflection.callStaticMethod(n,"setLogDebug","(Z)V",t)},deniedUploadDeviceInfo:function(t){jsb.reflection.callStaticMethod(n,"deniedUploadDeviceInfo","(Ljava/lang/String;)V",t)}};e.exports=o,cc._RF.pop()},{}],ATAndroidNativeJS:[function(t,e){"use strict";cc._RF.push(e,"703a3sETdFMtYT5083hR95y","ATAndroidNativeJS");var n="com/anythink/cocosjs/ATNativeJSBridge",o=o||{loadNative:function(t,e){cc.log("Android-loadNative"),jsb.reflection.callStaticMethod(n,"load","(Ljava/lang/String;Ljava/lang/String;)V",t,e)},setAdListener:function(t){cc.log("Android-setAdListener"),jsb.reflection.callStaticMethod(n,"setAdListener","(Ljava/lang/String;)V",t)},hasAdReady:function(t){return cc.log("Android-hasAdReady"),jsb.reflection.callStaticMethod(n,"isAdReady","(Ljava/lang/String;)Z",t)},checkAdStatus:function(t){return cc.log("Android-checkAdStatus:"+t),jsb.reflection.callStaticMethod(n,"checkAdStatus","(Ljava/lang/String;)Ljava/lang/String;",t)},showAd:function(t,e){cc.log("Android-showAd"),jsb.reflection.callStaticMethod(n,"show","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",t,e,"")},showAdInScenario:function(t,e,o){cc.log("Android-showAdInScenario"),jsb.reflection.callStaticMethod(n,"show","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",t,e,o)},removeAd:function(t){cc.log("Android-removeAd"),jsb.reflection.callStaticMethod(n,"remove","(Ljava/lang/String;)V",t)}};e.exports=o,cc._RF.pop()},{}],ATAndroidRewardedVideoJS:[function(t,e){"use strict";cc._RF.push(e,"41728vj8PNKCZffApG2F3kR","ATAndroidRewardedVideoJS");var n="com/anythink/cocosjs/ATRewardedVideoJSBridge",o=o||{loadRewardedVideo:function(t,e){cc.log("Android-loadRewardedVideo"),jsb.reflection.callStaticMethod(n,"load","(Ljava/lang/String;Ljava/lang/String;)V",t,e)},setAdListener:function(t){cc.log("Android-setAdListener"),jsb.reflection.callStaticMethod(n,"setAdListener","(Ljava/lang/String;)V",t)},hasAdReady:function(t){return cc.log("Android-hasAdReady"),jsb.reflection.callStaticMethod(n,"isAdReady","(Ljava/lang/String;)Z",t)},checkAdStatus:function(t){return cc.log("Android-checkAdStatus:"+t),jsb.reflection.callStaticMethod(n,"checkAdStatus","(Ljava/lang/String;)Ljava/lang/String;",t)},showAd:function(t){cc.log("Android-rv_showAd:"+t),jsb.reflection.callStaticMethod(n,"show","(Ljava/lang/String;)V",t)},showAdInScenario:function(t,e){cc.log("Android-rv_showAdInScenario:"+t+"---"+e),jsb.reflection.callStaticMethod(n,"show","(Ljava/lang/String;Ljava/lang/String;)V",t,e)}};e.exports=o,cc._RF.pop()},{}],ATBannerAd:[function(t,e,n){"use strict";cc._RF.push(e,"f225aFIaBRPmYCfLOpwKPdQ","ATBannerAd"),Object.defineProperty(n,"__esModule",{value:!0}),n.ATBannerAd=void 0;var o=t("./../../module/ad/ADDefine"),i=t("../../../lib/event/EventDispatcher"),r=t("../../event/Notify"),a=t("../../platform/NativeNotify"),s=t("../../../lib/utils/Display"),c=t("../../platform/AppsFlyerSDK"),l=t("../../platform/StatisticsDefine");t("./AnyThinkAds/ATBannerJSSDK");var u=function(){function t(){this.curIsShowingTop=!1,this.oldIsShowingTop=!1,this.isWaitShowAd=!1,this.isRemoved=!1,this.isHide=!1,this.isShow=!1,this.bannerType=0,this.placementID="b60c1bd369a65c"}return t.prototype.init=function(){var e=s.Display.cy-760;t.RESULT_PADDING_TOP=s.Display.height2px(e)-s.Display.bannerHeightPx},t.prototype.getIsRemoved=function(){return this.isRemoved},t.prototype.getIsShow=function(){return this.isShow},t.prototype.setIsShowingTop=function(t){this.oldIsShowingTop=this.curIsShowingTop,this.curIsShowingTop=t,ATJSSDK.printLog("ATBannerAd::setIsShowingTop() curIsShowingTop="+this.curIsShowingTop)},t.prototype.clear=function(){this.removeAd()},t.prototype.getSetting=function(){var t={};return t[ATBannerJSSDK.kATBannerAdLoadingExtraBannerAdSizeStruct]=ATBannerJSSDK.createLoadAdSize(cc.view.getFrameSize().width,s.Display.bannerHeightPx),t[ATBannerJSSDK.kATBannerAdAdaptiveWidth]=cc.view.getFrameSize().width,t[ATBannerJSSDK.kATBannerAdAdaptiveOrientation]=ATBannerJSSDK.kATBannerAdAdaptiveOrientationPortrait,t},t.prototype.loadAd=function(){this.isWaitShowAd=!1,this.hasAdReady()?i.EventDispatcher.getInstance().dispatch(r.Notify.AD.AD_LOADED,{type:o.ADType.BANNER,costtime:0,bannerType:this.bannerType||0}):(this.startLoadTime=Date.now(),ATBannerJSSDK.loadBanner(this.placementID,this.getSetting()))},t.prototype.showAd=function(){var t=this;if(this.isRemoved=!1,this.isHide=!1,ATJSSDK.printLog("ATBannerAd::showAd() 0"),this.hasAdReady())if(i.EventDispatcher.getInstance().dispatch(a.NativeNotify.CALL_SDK),ATJSSDK.printLog("ATBannerAd::showAd() 1"),this.oldIsShowingTop!==this.curIsShowingTop){ATJSSDK.printLog("ATBannerAd::showAd() removeAd"),this.removeAd();var e=setTimeout(function(){clearTimeout(e),t.isHide||t.show()},1e3)}else this.show();else this.loadAd(),this.isWaitShowAd=!0},t.prototype.show=function(){if(this.reShowAd(),ATJSSDK.printLog("ATBannerAd::show() curIsShowingTop="+this.curIsShowingTop+"  oldIsShowingTop="+this.oldIsShowingTop),this.oldIsShowingTop=this.curIsShowingTop,c.AppsFlyerSDK.logCustom(l.StatisticsDefine.AD_BANNER_SHOW),this.curIsShowingTop){var e=ATBannerJSSDK.createShowAdRect(0,t.RESULT_PADDING_TOP,cc.view.getFrameSize().width,s.Display.bannerHeightPx);ATBannerJSSDK.showAdInRectangle(this.placementID,e)}else ATBannerJSSDK.showAdInPosition(this.placementID,ATBannerJSSDK.kATBannerAdShowingPositionBottom);this.isShow=!0},t.prototype.removeAd=function(){ATJSSDK.printLog("ATBannerAd::removeAd()"),this.isRemoved=!0,this.isShow=!1,ATBannerJSSDK.removeAd(this.placementID)},t.prototype.reShowAd=function(){ATJSSDK.printLog("ATBannerAd::reShowAd()"),this.isShow=!0,ATBannerJSSDK.reShowAd(this.placementID)},t.prototype.hideAd=function(){this.isShow=!1,this.isHide=!0,ATBannerJSSDK.hideAd(this.placementID)},t.prototype.hasAdReady=function(){return ATBannerJSSDK.hasAdReady(this.placementID)},t.prototype.checkStatus=function(){var t=ATBannerJSSDK.checkAdStatus(this.placementID);return ATJSSDK.printLog("ATBannerAd::checkAdStatus()   "+t),t},t.prototype.setAdListener=function(){ATBannerJSSDK.setAdListener(this)},t.prototype.onBannerAdLoaded=function(t){ATJSSDK.printLog("ATBannerAd::onBannerAdLoaded("+t+")"),this.isWaitShowAd&&this.showAd(),i.EventDispatcher.getInstance().dispatch(r.Notify.AD.AD_LOADED,{type:o.ADType.BANNER,costtime:Date.now()-this.startLoadTime,bannerType:this.bannerType||0})},t.prototype.onBannerAdLoadFail=function(t,e){ATJSSDK.printLog("ATBannerAd::onBannerAdLoadFail("+t+", "+e+")")},t.prototype.onBannerAdShow=function(t,e){ATJSSDK.printLog("ATBannerAd::onBannerAdShow("+t+", "+e+")")},t.prototype.onBannerAdClick=function(t,e){ATJSSDK.printLog("ATBannerAd::onBannerAdClick("+t+", "+e+")")},t.prototype.onBannerAdAutoRefresh=function(t,e){ATJSSDK.printLog("ATBannerAd::onBannerAdAutoRefresh("+t+", "+e+")")},t.prototype.onBannerAdAutoRefreshFail=function(t,e){ATJSSDK.printLog("ATBannerAd::onBannerAdAutoRefreshFail("+t+", "+e+")")},t.prototype.onBannerAdCloseButtonTapped=function(t,e){ATJSSDK.printLog("ATBannerAd::onBannerAdCloseButtonTapped("+t+", "+e+")")},t.RESULT_PADDING_TOP=0,t}();n.ATBannerAd=u,cc._RF.pop()},{"../../../lib/event/EventDispatcher":"EventDispatcher","../../../lib/utils/Display":"Display","../../event/Notify":"Notify","../../platform/AppsFlyerSDK":"AppsFlyerSDK","../../platform/NativeNotify":"NativeNotify","../../platform/StatisticsDefine":"StatisticsDefine","./../../module/ad/ADDefine":"ADDefine","./AnyThinkAds/ATBannerJSSDK":void 0}],ATBannerJSSDK:[function(t,e){"use strict";cc._RF.push(e,"a6137dPV2dNLIvMFkwsX5mv","ATBannerJSSDK");var n=t("./Android/ATAndroidBannerJS"),o=t("./iOS/ATiOSBannerJS"),i=cc.sys.os===cc.sys.OS_IOS?o:cc.sys.os===cc.sys.OS_ANDROID?n:void 0,r=r||{kATBannerAdLoadingExtraBannerAdSizeStruct:"banner_ad_size_struct",kATBannerAdShowingPositionTop:"top",kATBannerAdShowingPositionBottom:"bottom",kATBannerAdInlineAdaptiveWidth:"inline_adaptive_width",kATBannerAdInlineAdaptiveOrientation:"inline_adaptive_orientation",kATBannerAdInlineAdaptiveOrientationCurrent:0,kATBannerAdInlineAdaptiveOrientationPortrait:1,kATBannerAdInlineAdaptiveOrientationLandscape:2,kATBannerAdAdaptiveWidth:"adaptive_width",kATBannerAdAdaptiveOrientation:"adaptive_orientation",kATBannerAdAdaptiveOrientationCurrent:0,kATBannerAdAdaptiveOrientationPortrait:1,kATBannerAdAdaptiveOrientationLandscape:2,ATBannerListener:{developerCallback:null,onBannerAdLoaded:function(t){null!=this.developerCallback&&null!=this.developerCallback.onBannerAdLoaded&&null!=this.developerCallback.onBannerAdLoaded&&this.developerCallback.onBannerAdLoaded(t)},onBannerAdLoadFail:function(t,e){null!=this.developerCallback&&null!=this.developerCallback.onBannerAdLoadFail&&null!=this.developerCallback.onBannerAdLoadFail&&this.developerCallback.onBannerAdLoadFail(t,e)},onBannerAdShow:function(t,e){null!=this.developerCallback&&null!=this.developerCallback.onBannerAdShow&&null!=this.developerCallback.onBannerAdShow&&this.developerCallback.onBannerAdShow(t,e)},onBannerAdClick:function(t,e){null!=this.developerCallback&&null!=this.developerCallback.onBannerAdClick&&null!=this.developerCallback.onBannerAdClick&&this.developerCallback.onBannerAdClick(t,e)},onBannerAdAutoRefresh:function(t,e){null!=this.developerCallback&&null!=this.developerCallback.onBannerAdAutoRefresh&&null!=this.developerCallback.onBannerAdAutoRefresh&&this.developerCallback.onBannerAdAutoRefresh(t,e)},onBannerAdAutoRefreshFail:function(t,e){null!=this.developerCallback&&null!=this.developerCallback.onBannerAdAutoRefreshFail&&null!=this.developerCallback.onBannerAdAutoRefreshFail&&this.developerCallback.onBannerAdAutoRefreshFail(t,e)},onBannerAdCloseButtonTapped:function(t,e){null!=this.developerCallback&&null!=this.developerCallback.onBannerAdCloseButtonTapped&&null!=this.developerCallback.onBannerAdCloseButtonTapped&&this.developerCallback.onBannerAdCloseButtonTapped(t,e)}},loadBanner:function(t,e){if(void 0===e&&(e={}),null!=i&&null!=i){if(e.hasOwnProperty(r.kATBannerAdLoadingExtraBannerAdSizeStruct)){var n=e[r.kATBannerAdLoadingExtraBannerAdSizeStruct];e.width=n.width,e.height=n.height}i.loadBanner(t,JSON.stringify(e))}else cc.log("You must run on Android or iOS.")},setAdListener:function(t){var e={};e[a]="ATBannerJSSDK.ATBannerListener.onBannerAdLoaded",e[s]="ATBannerJSSDK.ATBannerListener.onBannerAdLoadFail",e[c]="ATBannerJSSDK.ATBannerListener.onBannerAdCloseButtonTapped",e[l]="ATBannerJSSDK.ATBannerListener.onBannerAdClick",e[u]="ATBannerJSSDK.ATBannerListener.onBannerAdShow",e[d]="ATBannerJSSDK.ATBannerListener.onBannerAdAutoRefresh",e[p]="ATBannerJSSDK.ATBannerListener.onBannerAdAutoRefreshFail",null!=i&&null!=i?i.setAdListener(JSON.stringify(e)):cc.log("You must run on Android or iOS."),this.ATBannerListener.developerCallback=t},hasAdReady:function(t){return null!=i&&null!=i?i.hasAdReady(t):(cc.log("You must run on Android or iOS."),!1)},checkAdStatus:function(t){return null!=i&&null!=i?i.checkAdStatus(t):(cc.log("You must run on Android or iOS."),"")},showAdInPosition:function(t,e){null!=i&&null!=i?i.showAdInPosition(t,e):cc.log("You must run on Android or iOS.")},showAdInPositionAndScenario:function(t,e,n){null!=i&&null!=i?i.showAdInPosition(t,e,n):cc.log("You must run on Android or iOS.")},showAdInRectangle:function(t,e){null!=i&&null!=i?i.showAdInRectangle(t,JSON.stringify(e)):cc.log("You must run on Android or iOS.")},showAdInRectangleAndScenario:function(t,e,n){null!=i&&null!=i?i.showAdInRectangle(t,JSON.stringify(e),n):cc.log("You must run on Android or iOS.")},removeAd:function(t){null!=i&&null!=i?i.removeAd(t):cc.log("You must run on Android or iOS.")},reShowAd:function(t){null!=i&&null!=i?i.reShowAd(t):cc.log("You must run on Android or iOS.")},hideAd:function(t){null!=i&&null!=i?i.hideAd(t):cc.log("You must run on Android or iOS.")},createLoadAdSize:function(t,e){var n={};return n.width=t,n.height=e,n},createShowAdRect:function(t,e,n,o){var i={};return i.x=t,i.y=e,i.width=n,i.height=o,i}},a="BannerLoaded",s="BannerLoadFail",c="BannerCloseButtonTapped",l="BannerClick",u="BannerShow",d="BannerRefresh",p="BannerRefreshFail";window.ATBannerJSSDK=r,cc._RF.pop()},{"./Android/ATAndroidBannerJS":"ATAndroidBannerJS","./iOS/ATiOSBannerJS":"ATiOSBannerJS"}],ATInterstitialAd:[function(t,e,n){"use strict";cc._RF.push(e,"3b5ddAnHW9BoboXXSaQBSUv","ATInterstitialAd"),Object.defineProperty(n,"__esModule",{value:!0}),n.ATInterstitialAd=void 0;var o=t("../../../lib/event/EventDispatcher"),i=t("../../event/Notify"),r=t("../../platform/NativeNotify"),a=t("../ComUI"),s=t("./../../module/ad/ADDefine"),c=t("../../model/LocalDataProxy"),l=t("../../platform/AppsFlyerSDK"),u=t("../../platform/StatisticsDefine");t("./AnyThinkAds/ATInterstitialJSSDK");var d=function(){function t(){this.isPlayEnd=!1,this.placementID="b60c1bd56823ef"}return t.prototype.init=function(t){this.placementID=t.placementID||"",this.userId=t.userId||0,this.adSceneId=t.adSceneId||0},t.prototype.getSetting=function(){var t={};return t[ATInterstitialJSSDK.userIdKey]=this.userId,t[ATInterstitialJSSDK.UseRewardedVideoAsInterstitial]=!1,t},t.prototype.loadAd=function(){this.hasAdReady()?o.EventDispatcher.getInstance().dispatch(i.Notify.AD.AD_LOADED,{type:s.ADType.INTERSTITIAL,costtime:0}):(this.startLoadTime=Date.now(),ATInterstitialJSSDK.loadInterstitial(this.placementID,this.getSetting()))},t.prototype.showAd=function(){this.hasAdReady()?(a.ComUI.rmLoading(),o.EventDispatcher.getInstance().dispatch(r.NativeNotify.CALL_SDK),c.LocalStorageProxy.setUserValue(c.LocalStorageProxy.ChaPinADJuShu,0),ATInterstitialJSSDK.showAd(this.placementID),l.AppsFlyerSDK.logCustom(u.StatisticsDefine.AD_INTER_SHOW)):this.loadAd()},t.prototype.hasAdReady=function(){return ATInterstitialJSSDK.hasAdReady(this.placementID)},t.prototype.checkStatus=function(){return ATInterstitialJSSDK.checkAdStatus(this.placementID)},t.prototype.setAdListener=function(){ATInterstitialJSSDK.setAdListener(this)},t.prototype.clear=function(){},t.prototype.closeAd=function(){cc.log("ATInterstitialAd::closeAd"),o.EventDispatcher.getInstance().dispatch(i.Notify.AD.CP_GG_CLOSED,this.adSceneId)},t.prototype.onInterstitialAdLoaded=function(t){ATJSSDK.printLog("ATInterstitialAd::onRewardedVideoAdLoaded("+t+")"),a.ComUI.rmLoading(),o.EventDispatcher.getInstance().dispatch(i.Notify.AD.AD_LOADED,{type:s.ADType.INTERSTITIAL,costtime:Date.now()-this.startLoadTime})},t.prototype.onInterstitialAdLoadFail=function(t,e){ATJSSDK.printLog("ATInterstitialAd::onInterstitialAdLoadFail("+t+", "+e+")")},t.prototype.onInterstitialAdShow=function(t,e){ATJSSDK.printLog("ATInterstitialAd::onInterstitialAdShow("+t+", "+e+")"),this.loadAd()},t.prototype.onInterstitialAdStartPlayingVideo=function(t,e){ATJSSDK.printLog("ATInterstitialAd::onInterstitialAdStartPlayingVideo("+t+", "+e+")")},t.prototype.onInterstitialAdEndPlayingVideo=function(t,e){ATJSSDK.printLog("ATInterstitialAd::onRewardedVideoAdLoaded("+t+", "+e+")"),this.loadAd()},t.prototype.onInterstitialAdFailedToPlayVideo=function(t,e,n){ATJSSDK.printLog("ATInterstitialAd::onInterstitialAdFailedToPlayVideo("+t+", "+e+", "+n+")")},t.prototype.onInterstitialAdFailedToShow=function(t,e,n){ATJSSDK.printLog("ATInterstitialAd::onInterstitialAdFailedToShow("+t+", "+e+", "+n+")")},t.prototype.onInterstitialAdClosed=function(t,e){ATJSSDK.printLog("ATInterstitialAd::onInterstitialAdClosed("+t+", "+e+")"),this.loadAd(),this.closeAd(e)},t.prototype.onInterstitialAdClick=function(t,e){ATJSSDK.printLog("ATInterstitialAd::onInterstitialAdClick("+t+", "+e+")")},t}();n.ATInterstitialAd=d,cc._RF.pop()},{"../../../lib/event/EventDispatcher":"EventDispatcher","../../event/Notify":"Notify","../../model/LocalDataProxy":"LocalDataProxy","../../platform/AppsFlyerSDK":"AppsFlyerSDK","../../platform/NativeNotify":"NativeNotify","../../platform/StatisticsDefine":"StatisticsDefine","../ComUI":"ComUI","./../../module/ad/ADDefine":"ADDefine","./AnyThinkAds/ATInterstitialJSSDK":void 0}],ATInterstitialJSSDK:[function(t,e){"use strict";cc._RF.push(e,"ac090K57yZKLrxYmkCA4XFT","ATInterstitialJSSDK");var n=t("./iOS/ATiOSInterstitialJS"),o=t("./Android/ATAndroidInterstitialJS"),i=cc.sys.os===cc.sys.OS_IOS?n:cc.sys.os===cc.sys.OS_ANDROID?o:void 0,r=r||{UseRewardedVideoAsInterstitial:"UseRewardedVideoAsInterstitial",ATInterstitialListener:{developerCallback:null,onInterstitialAdLoaded:function(t){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdLoaded&&null!=this.developerCallback.onInterstitialAdLoaded&&this.developerCallback.onInterstitialAdLoaded(t)},onInterstitialAdLoadFail:function(t,e){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdLoadFail&&null!=this.developerCallback.onInterstitialAdLoadFail&&this.developerCallback.onInterstitialAdLoadFail(t,e)},onInterstitialAdShow:function(t,e){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdShow&&null!=this.developerCallback.onInterstitialAdShow&&this.developerCallback.onInterstitialAdShow(t,e)},onInterstitialAdStartPlayingVideo:function(t,e){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdStartPlayingVideo&&null!=this.developerCallback.onInterstitialAdStartPlayingVideo&&this.developerCallback.onInterstitialAdStartPlayingVideo(t,e)},onInterstitialAdEndPlayingVideo:function(t,e){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdEndPlayingVideo&&null!=this.developerCallback.onInterstitialAdEndPlayingVideo&&this.developerCallback.onInterstitialAdEndPlayingVideo(t,e)},onInterstitialAdFailedToPlayVideo:function(t,e){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdFailedToPlayVideo&&null!=this.developerCallback.onInterstitialAdFailedToPlayVideo&&this.developerCallback.onInterstitialAdFailedToPlayVideo(t,e)},onInterstitialAdFailedToShow:function(t){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdFailedToShow&&null!=this.developerCallback.onInterstitialAdFailedToShow&&this.developerCallback.onInterstitialAdFailedToShow(t)},onInterstitialAdClose:function(t,e){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdClose&&null!=this.developerCallback.onInterstitialAdClose&&this.developerCallback.onInterstitialAdClose(t,e)},onInterstitialAdClick:function(t,e){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdClick&&null!=this.developerCallback.onInterstitialAdClick&&this.developerCallback.onInterstitialAdClick(t,e)}},loadInterstitial:function(t,e){void 0===e&&(e={}),null!=i&&null!=i?i.loadInterstitial(t,JSON.stringify(e)):cc.log("You must run on Android or iOS.")},setAdListener:function(t){var e={};e[a]="ATInterstitialJSSDK.ATInterstitialListener.onInterstitialAdLoaded",e[s]="ATInterstitialJSSDK.ATInterstitialListener.onInterstitialAdLoadFail",e[c]="ATInterstitialJSSDK.ATInterstitialListener.onInterstitialAdStartPlayingVideo",e[l]="ATInterstitialJSSDK.ATInterstitialListener.onInterstitialAdEndPlayingVideo",e[u]="ATInterstitialJSSDK.ATInterstitialListener.onInterstitialAdFailedToPlayVideo",e[d]="ATInterstitialJSSDK.ATInterstitialListener.onInterstitialAdClose",e[p]="ATInterstitialJSSDK.ATInterstitialListener.onInterstitialAdClick",e[h]="ATInterstitialJSSDK.ATInterstitialListener.onInterstitialAdShow",e[f]="ATInterstitialJSSDK.ATInterstitialListener.onInterstitialAdFailedToShow",null!=i&&null!=i?i.setAdListener(JSON.stringify(e)):cc.log("You must run on Android or iOS."),this.ATInterstitialListener.developerCallback=t},hasAdReady:function(t){return null!=i&&null!=i?i.hasAdReady(t):(cc.log("You must run on Android or iOS."),!1)},checkAdStatus:function(t){return null!=i&&null!=i?i.checkAdStatus(t):(cc.log("You must run on Android or iOS."),"")},showAd:function(t){null!=i&&null!=i?i.showAd(t):cc.log("You must run on Android or iOS.")},showAdInScenario:function(t,e){void 0===e&&(e=""),null!=i&&null!=i?i.showAdInScenario(t,e):cc.log("You must run on Android or iOS.")}},a="InterstitialLoaded",s="InterstitialLoadFail",c="InterstitialPlayStart",l="InterstitialPlayEnd",u="InterstitialPlayFail",d="InterstitialClose",p="InterstitialClick",h="InterstitialAdShow",f="InterstitialAdShowFail";window.ATInterstitialJSSDK=r,cc._RF.pop()},{"./Android/ATAndroidInterstitialJS":"ATAndroidInterstitialJS","./iOS/ATiOSInterstitialJS":"ATiOSInterstitialJS"}],ATJSSDK:[function(t,e){"use strict";cc._RF.push(e,"6e0bfEok0xJxoWyuy2s6NbN","ATJSSDK");var n=t("./Android/ATAndroidJS"),o=t("./iOS/ATiOSJS"),i=!1,r=cc.sys.os===cc.sys.OS_IOS?o:cc.sys.os===cc.sys.OS_ANDROID?n:void 0,a=a||{kATUserLocationUnknown:0,kATUserLocationInEU:1,kATUserLocationOutOfEU:2,PERSONALIZED:0,NONPERSONALIZED:1,UNKNOWN:2,OS_VERSION_NAME:"os_vn",OS_VERSION_CODE:"os_vc",APP_PACKAGE_NAME:"package_name",APP_VERSION_NAME:"app_vn",APP_VERSION_CODE:"app_vc",BRAND:"brand",MODEL:"model",DEVICE_SCREEN_SIZE:"screen",MNC:"mnc",MCC:"mcc",LANGUAGE:"language",TIMEZONE:"timezone",USER_AGENT:"ua",ORIENTATION:"orient",NETWORK_TYPE:"network_type",INSTALLER:"it_src",ANDROID_ID:"android_id",GAID:"gaid",MAC:"mac",IMEI:"imei",OAID:"oaid",IDFA:"idfa",IDFV:"idfv",ATSDKListener:{userLocationCallback:null,getUserLocationCallback:function(t){null!=this.userLocationCallback&&null!=this.userLocationCallback&&this.userLocationCallback(t)}},initSDK:function(t,e){null!=r&&null!=r?r.initSDK(t,e):cc.log("You must run on Android or iOS.")},initCustomMap:function(t){null!=r&&null!=r?null!=t&&null!=t&&r.initCustomMap(JSON.stringify(t)):cc.log("You must run on Android or iOS.")},setPlacementCustomMap:function(t,e){null!=r&&null!=r?null!=e&&null!=e&&r.setPlacementCustomMap(t,JSON.stringify(e)):cc.log("You must run on Android or iOS.")},setGDPRLevel:function(t){null!=r&&null!=r?r.setGDPRLevel(t):cc.log("You must run on Android or iOS.")},getGDPRLevel:function(){return null!=r&&null!=r?r.getGDPRLevel():(cc.log("You must run on Android or iOS."),this.UNKNOWN)},getUserLocation:function(t){this.ATSDKListener.userLocationCallback=t,null!=r&&null!=r?r.getUserLocation(s):cc.log("You must run on Android or iOS.")},showGDPRAuth:function(){null!=r&&null!=r?r.showGDPRAuth():cc.log("You must run on Android or iOS.")},setLogDebug:function(t){i=t,null!=r&&null!=r?r.setLogDebug(t):cc.log("You must run on Android or iOS.")},printLog:function(t){null!=t&&null!=t&&i&&null!=r&&(null!=r&&null!=r?r.printJsLog(t):cc.log("You must run on Android or iOS."))},deniedUploadDeviceInfo:function(t){if(null!=r&&null!=r){if(null!=t){for(var e=t.length,n="",o=0;o<e;o++){var i=t[o];n=0==o?i:n+","+i}cc.log("test__"+n),r.deniedUploadDeviceInfo(n)}}else cc.log("You must run on Android or iOS.")}},s="ATJSSDK.ATSDKListener.getUserLocationCallback";window.ATJSSDK=a,cc._RF.pop()},{"./Android/ATAndroidJS":"ATAndroidJS","./iOS/ATiOSJS":"ATiOSJS"}],ATNativeJSSDK:[function(t,e){"use strict";cc._RF.push(e,"9cf82Jd0dVGBLJOf4J3gr5G","ATNativeJSSDK");var n=t("./Android/ATAndroidNativeJS"),o=t("./iOS/ATiOSNativeJS"),i=cc.sys.os===cc.sys.OS_IOS?o:cc.sys.os===cc.sys.OS_ANDROID?n:void 0,r=r||{ATNativeListener:{developerCallback:null,onNativeAdLoaded:function(t){null!=this.developerCallback&&null!=this.developerCallback.onNativeAdLoaded&&null!=this.developerCallback.onNativeAdLoaded&&this.developerCallback.onNativeAdLoaded(t)},onNativeAdLoadFail:function(t,e){null!=this.developerCallback&&null!=this.developerCallback.onNativeAdLoadFail&&null!=this.developerCallback.onNativeAdLoadFail&&this.developerCallback.onNativeAdLoadFail(t,e)},onNativeAdShow:function(t,e){null!=this.developerCallback&&null!=this.developerCallback.onNativeAdShow&&null!=this.developerCallback.onNativeAdShow&&this.developerCallback.onNativeAdShow(t,e)},onNativeAdClick:function(t,e){null!=this.developerCallback&&null!=this.developerCallback.onNativeAdClick&&null!=this.developerCallback.onNativeAdClick&&this.developerCallback.onNativeAdClick(t,e)},onNativeAdVideoStart:function(t){null!=this.developerCallback&&null!=this.developerCallback.onNativeAdVideoStart&&null!=this.developerCallback.onNativeAdVideoStart&&this.developerCallback.onNativeAdVideoStart(t)},onNativeAdVideoEnd:function(t){null!=this.developerCallback&&null!=this.developerCallback.onNativeAdVideoEnd&&null!=this.developerCallback.onNativeAdVideoEnd&&this.developerCallback.onNativeAdVideoEnd(t)},onNativeAdCloseButtonTapped:function(t,e){null!=this.developerCallback&&null!=this.developerCallback.onNativeAdCloseButtonTapped&&null!=this.developerCallback.onNativeAdCloseButtonTapped&&this.developerCallback.onNativeAdCloseButtonTapped(t,e)}},loadNative:function(t,e){void 0===e&&(e={}),null!=i&&null!=i?i.loadNative(t,JSON.stringify(e)):cc.log("You must run on Android or iOS.")},setAdListener:function(t){var e={};e[a]="ATNativeJSSDK.ATNativeListener.onNativeAdLoaded",e[s]="ATNativeJSSDK.ATNativeListener.onNativeAdLoadFail",e[c]="ATNativeJSSDK.ATNativeListener.onNativeAdCloseButtonTapped",e[l]="ATNativeJSSDK.ATNativeListener.onNativeAdClick",e[u]="ATNativeJSSDK.ATNativeListener.onNativeAdShow",e[d]="ATNativeJSSDK.ATNativeListener.onNativeAdVideoStart",e[p]="ATNativeJSSDK.ATNativeListener.onNativeAdVideoEnd",null!=i&&null!=i?i.setAdListener(JSON.stringify(e)):cc.log("You must run on Android or iOS."),this.ATNativeListener.developerCallback=t},hasAdReady:function(t){return null!=i&&null!=i?i.hasAdReady(t):(cc.log("You must run on Android or iOS."),!1)},checkAdStatus:function(t){return null!=i&&null!=i?i.checkAdStatus(t):(cc.log("You must run on Android or iOS."),"")},showAd:function(t,e){null!=i&&null!=i?i.showAd(t,JSON.stringify(e.getAdViewProperty())):cc.log("You must run on Android or iOS.")},showAdInScenario:function(t,e,n){void 0===n&&(n=""),null!=i&&null!=i?i.showAdInScenario(t,JSON.stringify(e.getAdViewProperty()),n):cc.log("You must run on Android or iOS.")},removeAd:function(t){null!=i&&null!=i?i.removeAd(t):cc.log("You must run on Android or iOS.")},createLoadAdSize:function(t,e){var n={};return n.width=t,n.height=e,n},AdViewProperty:cc.Class({parent:null,appIcon:null,mainImage:null,title:null,desc:null,adLogo:null,cta:null,rating:null,dislike:null,createItemViewProperty:function(t,e,n,o,i,r,a,s){void 0===s&&(s=!1);var c={};return c.x=t,c.y=e,c.width=n,c.height=o,c.backgroundColor=i,c.textColor=r,c.textSize=a,c.isCustomClick=s,c},getAdViewProperty:function(){var t={};return null!=this.parent&&(t.parent=this.parent),null!=this.appIcon&&(t.icon=this.appIcon),null!=this.mainImage&&(t.mainImage=this.mainImage),null!=this.title&&(t.title=this.title),null!=this.desc&&(t.desc=this.desc),null!=this.adLogo&&(t.adLogo=this.adLogo),null!=this.cta&&(t.cta=this.cta),null!=this.rating&&(t.rating=this.rating),null!=this.dislike&&(t.dislike=this.dislike),t}})},a="NativeLoaded",s="NativeLoadFail",c="NativeCloseButtonTapped",l="NativeClick",u="NativeShow",d="NativeVideoStart",p="NativeVideoEnd";window.ATNativeJSSDK=r,cc._RF.pop()},{"./Android/ATAndroidNativeJS":"ATAndroidNativeJS","./iOS/ATiOSNativeJS":"ATiOSNativeJS"}],ATRewardedVideoAd:[function(t,e,n){"use strict";cc._RF.push(e,"e9016MaNzdHBZbAiNgn+A5h","ATRewardedVideoAd"),Object.defineProperty(n,"__esModule",{value:!0}),n.ATRewardedVideoAd=void 0;var o=t("./../../module/ad/ADDefine"),i=t("../../../lib/event/EventDispatcher"),r=t("../../event/Notify"),a=t("../../model/DataProxy"),s=t("../../model/LocalDataProxy"),c=t("../../platform/NativeNotify"),l=t("../ComUI");t("./AnyThinkAds/ATRewardedVideoJSSDK");var u=function(){function t(){this.bUserRefuseAd=!1,this.placementID="",this.isPlayEnd=!1,this.isWaitShowAd=!1}return t.prototype.clear=function(){this.fnRewardCB=null,this.fnCloseedCB=null,this.bUserRefuseAd=!1},t.prototype.init=function(t){this.placementID=t.placementID||"",this.userId=t.userId||0,this.adSceneId=t.adSceneId||0},t.prototype.getSetting=function(){var t={};return t[ATRewardedVideoJSSDK.userIdKey]=this.userId,t[ATRewardedVideoJSSDK.userDataKey]=""+this.adSceneId,t},t.prototype.loadAd=function(){this.bUserRefuseAd=!1,this.isWaitShowAd=!1,this.startLoadTime=Date.now(),ATRewardedVideoJSSDK.loadRewardedVideo(this.placementID,this.getSetting())},t.prototype.showAd=function(t){this.isPlayEnd=!1,this.isWaitShowAd=!1,this.hasAdReady()?(l.ComUI.rmLoading(),i.EventDispatcher.getInstance().dispatch(c.NativeNotify.CALL_SDK),ATRewardedVideoJSSDK.showAdInScenario(this.placementID,t||null)):(this.loadAd(),this.isWaitShowAd=!0)},t.prototype.refuseAd=function(){this.bUserRefuseAd=!0},t.prototype.hasAdReady=function(){return ATRewardedVideoJSSDK.hasAdReady(this.placementID)},t.prototype.checkStatus=function(){var t=ATRewardedVideoJSSDK.checkAdStatus(this.placementID);return ATJSSDK.printLog("ATRewardedVideoAd::checkAdStatus()   "+t),t},t.prototype.setAdListener=function(){ATRewardedVideoJSSDK.setAdListener(this)},t.prototype.setRewardCallback=function(t){this.fnRewardCB=t},t.prototype.setCloseCallback=function(t){this.fnCloseedCB=t},t.prototype.closeAd=function(t){cc.log("ATRewardedVideoAd::closeAd isPlayEnd="+this.isPlayEnd+" adSceneId="+this.adSceneId),this.fnCloseedCB&&this.fnCloseedCB.call(this.isPlayEnd),this.isPlayEnd?i.EventDispatcher.getInstance().dispatch(r.Notify.AD.REWARD,this.adSceneId):i.EventDispatcher.getInstance().dispatch(r.Notify.AD.CANCELED,t)},t.prototype.onRewardedVideoAdLoaded=function(t){ATJSSDK.printLog("ATRewardedVideoAd::onRewardedVideoAdLoaded("+t+")"),i.EventDispatcher.getInstance().dispatch(r.Notify.AD.AD_LOADED,{type:o.ADType.REWARD_VIDEO,costtime:Date.now()-this.startLoadTime}),l.ComUI.rmLoading(),this.isWaitShowAd&&!this.bUserRefuseAd&&this.showAd()},t.prototype.onRewardedVideoAdFailed=function(t,e){ATJSSDK.printLog("ATRewardedVideoAd::onRewardedVideoAdFailed("+t+", "+e+")")},t.prototype.onRewardedVideoAdPlayStart=function(t,e){ATJSSDK.printLog("ATRewardedVideoAd::onRewardedVideoAdPlayStart("+t+", "+e+")"),i.EventDispatcher.getInstance().dispatch(r.Notify.AD.VIDEO_PLAY_START)},t.prototype.onRewardedVideoAdPlayEnd=function(t,e){ATJSSDK.printLog("ATRewardedVideoAd::onRewardedVideoAdPlayEnd("+t+", "+e+")"),i.EventDispatcher.getInstance().dispatch(r.Notify.AD.VIDEO_PLAY_END)},t.prototype.onRewardedVideoAdPlayFailed=function(t,e,n){ATJSSDK.printLog("ATRewardedVideoAd::onRewardedVideoAdPlayFailed("+t+", "+e+", "+n+")")},t.prototype.onRewardedVideoAdClosed=function(t,e){ATJSSDK.printLog("ATRewardedVideoAd::onRewardedVideoAdClosed("+t+", "+e+")"),this.closeAd(e),this.loadAd()},t.prototype.onReward=function(t,e){ATJSSDK.printLog("ATRewardedVideoAd::onReward("+t+", "+e+")");var n=s.LocalStorageProxy.UnRewardAdSceneId+"_"+this.userId;a.DataProxy.getInstance().localData.set(n,this.adSceneId),this.isPlayEnd=!0,this.fnRewardCB&&this.fnRewardCB.call(e)},t.prototype.onRewardedVideoAdPlayClicked=function(t,e){ATJSSDK.printLog("ATRewardedVideoAd::onRewardedVideoAdPlayClicked("+t+", "+e+")")},t}();n.ATRewardedVideoAd=u,cc._RF.pop()},{"../../../lib/event/EventDispatcher":"EventDispatcher","../../event/Notify":"Notify","../../model/DataProxy":"DataProxy","../../model/LocalDataProxy":"LocalDataProxy","../../platform/NativeNotify":"NativeNotify","../ComUI":"ComUI","./../../module/ad/ADDefine":"ADDefine","./AnyThinkAds/ATRewardedVideoJSSDK":void 0}],ATRewardedVideoJSSDK:[function(t,e){"use strict";cc._RF.push(e,"68884iVTgFFoYGbSLrH81Io","ATRewardedVideoJSSDK");var n=t("./Android/ATAndroidRewardedVideoJS"),o=t("./iOS/ATiOSRewardedVideoJS"),i=cc.sys.os===cc.sys.OS_IOS?o:cc.sys.os===cc.sys.OS_ANDROID?n:void 0,r=r||{userIdKey:"userID",userDataKey:"media_ext",ATRewardedVideoListener:{developerCallback:null,onRewardedVideoAdLoaded:function(t){ATJSSDK.printLog("ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdLoaded("+t+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdLoaded&&null!=this.developerCallback.onRewardedVideoAdLoaded&&this.developerCallback.onRewardedVideoAdLoaded(t)},onRewardedVideoAdFailed:function(t,e){ATJSSDK.printLog("ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdFailed("+t+", "+e+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdFailed&&null!=this.developerCallback.onRewardedVideoAdFailed&&this.developerCallback.onRewardedVideoAdFailed(t,e)},onRewardedVideoAdPlayStart:function(t,e){ATJSSDK.printLog("ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdPlayStart("+t+", "+e+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdPlayStart&&null!=this.developerCallback.onRewardedVideoAdPlayStart&&this.developerCallback.onRewardedVideoAdPlayStart(t,e)},onRewardedVideoAdPlayEnd:function(t,e){ATJSSDK.printLog("ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdPlayEnd("+t+", "+e+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdPlayEnd&&null!=this.developerCallback.onRewardedVideoAdPlayEnd&&this.developerCallback.onRewardedVideoAdPlayEnd(t,e)},onRewardedVideoAdPlayFailed:function(t,e,n){ATJSSDK.printLog("ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdPlayFailed("+t+", "+n+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdPlayFailed&&null!=this.developerCallback.onRewardedVideoAdPlayFailed&&this.developerCallback.onRewardedVideoAdPlayFailed(t,e,n)},onRewardedVideoAdClosed:function(t,e){ATJSSDK.printLog("ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdClosed("+t+", "+e+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdClosed&&null!=this.developerCallback.onRewardedVideoAdClosed&&this.developerCallback.onRewardedVideoAdClosed(t,e)},onRewardedVideoAdPlayClicked:function(t,e){ATJSSDK.printLog("ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdPlayClicked("+t+", "+e+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdPlayClicked&&null!=this.developerCallback.onRewardedVideoAdPlayClicked&&this.developerCallback.onRewardedVideoAdPlayClicked(t,e)},onReward:function(t,e){ATJSSDK.printLog("ATRewardedVideoJSSDK.ATRewardedVideoListener.onReward("+t+", "+e+")"),null!=this.developerCallback&&null!=this.developerCallback.onReward&&null!=this.developerCallback.onReward&&this.developerCallback.onReward(t,e)}},loadRewardedVideo:function(t,e){void 0===e&&(e={}),null!=i&&null!=i?i.loadRewardedVideo(t,JSON.stringify(e)):cc.log("You must run on Android or iOS.")},setAdListener:function(t){var e={};e[a]="ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdLoaded",e[s]="ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdFailed",e[c]="ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdPlayStart",e[l]="ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdPlayEnd",e[u]="ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdPlayFailed",e[d]="ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdClosed",e[p]="ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdPlayClicked",e[h]="ATRewardedVideoJSSDK.ATRewardedVideoListener.onReward",null!=i&&null!=i?i.setAdListener(JSON.stringify(e)):cc.log("You must run on Android or iOS."),this.ATRewardedVideoListener.developerCallback=t},hasAdReady:function(t){return null!=i&&null!=i?i.hasAdReady(t):(cc.log("You must run on Android or iOS."),!1)},checkAdStatus:function(t){return null!=i&&null!=i?i.checkAdStatus(t):(cc.log("You must run on Android or iOS."),"")},showAd:function(t){null!=i&&null!=i?i.showAd(t):cc.log("You must run on Android or iOS.")},showAdInScenario:function(t,e){void 0===e&&(e=""),null!=i&&null!=i?i.showAdInScenario(t,e):cc.log("You must run on Android or iOS.")}},a="RewardedVideoLoaded",s="RewardedVideoLoadFail",c="RewardedVideoPlayStart",l="RewardedVideoPlayEnd",u="RewardedVideoPlayFail",d="RewardedVideoClose",p="RewardedVideoClick",h="RewardedVideoReward";window.ATRewardedVideoJSSDK=r,cc._RF.pop()},{"./Android/ATAndroidRewardedVideoJS":"ATAndroidRewardedVideoJS","./iOS/ATiOSRewardedVideoJS":"ATiOSRewardedVideoJS"}],ATiOSBannerJS:[function(t,e){"use strict";cc._RF.push(e,"a848do7IZpNt7o++MGVaFi4","ATiOSBannerJS");var n=t("ATiOSJS"),o=o||{loadBanner:function(t,e){n.printJsLog("ATiOSBannerJS::loadBanner("+t+", "+e+")"),jsb.reflection.callStaticMethod("ATBannerAdWrapper","loadBannerWithPlacementID:extra:",t,e)},setAdListener:function(t){n.printJsLog("ATiOSBannerJS::setAdListener("+t+")"),jsb.reflection.callStaticMethod("ATBannerAdWrapper","setDelegates:",t)},hasAdReady:function(t){return n.printJsLog("ATiOSBannerJS::hasAdReady("+t+")"),jsb.reflection.callStaticMethod("ATBannerAdWrapper","bannerReadyForPlacementID:",t)},checkAdStatus:function(t){return n.printJsLog("ATiOSBannerJS::checkAdStatus("+t+")"),jsb.reflection.callStaticMethod("ATBannerAdWrapper","bannerCheckAdStatusForPlacementID:",t)},showAdInPosition:function(t,e){n.printJsLog("ATiOSBannerJS::showAdInPosition("+t+", "+e+")"),jsb.reflection.callStaticMethod("ATBannerAdWrapper","showBannerWithPlacementID:scene:position:",t,null,e)},showAdInPositionAndScenario:function(t,e,o){n.printJsLog("ATiOSBannerJS::showAdInPositionAndScenario("+t+", "+e+", "+o+")"),jsb.reflection.callStaticMethod("ATBannerAdWrapper","showBannerWithPlacementID:scene:position:",t,o,e)},showAdInRectangle:function(t,e){n.printJsLog("ATiOSBannerJS::showAdInRectangle("+t+", "+e+")"),jsb.reflection.callStaticMethod("ATBannerAdWrapper","showBannerWithPlacementID:scene:rect:",t,null,e)},showAdInRectangleAndScenario:function(t,e,o){n.printJsLog("ATiOSBannerJS::showAdInRectangleAndScenario("+t+", "+e+", "+o+")"),jsb.reflection.callStaticMethod("ATBannerAdWrapper","showBannerWithPlacementID:scene:rect:",t,o,e)},removeAd:function(t){n.printJsLog("ATiOSBannerJS::removeAd("+t+")"),jsb.reflection.callStaticMethod("ATBannerAdWrapper","removeAd:",t)},reShowAd:function(t){n.printJsLog("ATiOSBannerJS::reShowAd("+t+")"),jsb.reflection.callStaticMethod("ATBannerAdWrapper","reShowAd:",t)},hideAd:function(t){n.printJsLog("ATiOSBannerJS::hideAd("+t+")"),jsb.reflection.callStaticMethod("ATBannerAdWrapper","hideAd:",t)}};e.exports=o,cc._RF.pop()},{ATiOSJS:"ATiOSJS"}],ATiOSInterstitialJS:[function(t,e){"use strict";cc._RF.push(e,"c8c39Sz3l9ArqMhYJRgbl8I","ATiOSInterstitialJS");var n=t("ATiOSJS"),o="ATInterstitialAdWrapper",i=i||{loadInterstitial:function(t,e){n.printJsLog("ATiOSInterstitialJS::loadInterstitial("+t+", "+e+")"),jsb.reflection.callStaticMethod(o,"loadInterstitialWithPlacementID:extra:",t,e)},setAdListener:function(t){n.printJsLog("ATiOSInterstitialJS::setAdListener("+t+")"),jsb.reflection.callStaticMethod(o,"setDelegates:",t)},hasAdReady:function(t){return n.printJsLog("ATiOSInterstitialJS::hasAdReady("+t+")"),jsb.reflection.callStaticMethod(o,"interstitialReadyForPlacementID:",t)},checkAdStatus:function(t){return n.printJsLog("ATiOSInterstitialJS::checkAdStatus("+t+")"),jsb.reflection.callStaticMethod(o,"checkAdStatus:",t)},setUserData:function(){cc.log("Android-setUserData")},showAd:function(t){return n.printJsLog("ATiOSInterstitialJS::showAd("+t+")"),jsb.reflection.callStaticMethod(o,"showInterstitialWithPlacementID:scene:",t,null)},showAdInScenario:function(t,e){return n.printJsLog("ATiOSInterstitialJS::showAd("+t+", "+e+")"),jsb.reflection.callStaticMethod(o,"showInterstitialWithPlacementID:scene:",t,e)}};e.exports=i,cc._RF.pop()},{ATiOSJS:"ATiOSJS"}],ATiOSJS:[function(t,e){"use strict";cc._RF.push(e,"0049bYpfs9Fjrgf0u3evzCf","ATiOSJS");var n=n||{initSDK:function(t,e){this.printJsLog("ATiOSJS::initSDK("+t+","+e+")"),jsb.reflection.callStaticMethod("ATSDKManager","startWithAppID:appKey:",t,e)},initCustomMap:function(t){this.printJsLog("ATiOSJS::initCustomMap("+t+")"),jsb.reflection.callStaticMethod("ATSDKManager","setCustomData:",t)},setPlacementCustomMap:function(t,e){this.printJsLog("ATiOSJS::setPlacementCustomMap("+t+", "+e+")"),jsb.reflection.callStaticMethod("ATSDKManager","setCustomData:forPlacementID:",e,t)},setGDPRLevel:function(t){this.printJsLog("ATiOSJS::setGDPRLevel("+t+")"),jsb.reflection.callStaticMethod("ATSDKManager","setDataConsent:",t)},getGDPRLevel:function(){return this.printJsLog("ATiOSJS::getGDPRLevel()"),jsb.reflection.callStaticMethod("ATSDKManager","dataConsent")},getUserLocation:function(t){this.printJsLog("ATiOSJS::getUserLocation("+t+")"),jsb.reflection.callStaticMethod("ATSDKManager","getUserLocationWithCallback:",t)},showGDPRAuth:function(){this.printJsLog("ATiOSJS::showGDPRAuth()"),jsb.reflection.callStaticMethod("ATSDKManager","presentDataConsentDialog")},setLogDebug:function(t){this.printJsLog("ATiOSJS::setLogDebug("+t+")"),jsb.reflection.callStaticMethod("ATSDKManager","setDebugLog:",t)},printJsLog:function(t){null!=t&&null!=t&&jsb.reflection.callStaticMethod("ATJSBridge","log:",t)},deniedUploadDeviceInfo:function(t){this.printJsLog("ATiOSJS::deniedUploadDeviceInfo("+t+")"),jsb.reflection.callStaticMethod("ATSDKManager","deniedUploadDeviceInfo:",t)}};e.exports=n,cc._RF.pop()},{}],ATiOSNativeJS:[function(t,e){"use strict";cc._RF.push(e,"d1f94b8YKNAyoj7AbjJM1St","ATiOSNativeJS");var n=t("ATiOSJS"),o=o||{loadNative:function(t,e){n.printJsLog("ATiOSBannerJS::loadNative("+t+", "+e+")"),jsb.reflection.callStaticMethod("ATNativeAdWrapper","loadNativeWithPlacementID:extra:",t,e)},setAdListener:function(t){n.printJsLog("ATiOSNativeJS::setAdListener("+t+")"),jsb.reflection.callStaticMethod("ATNativeAdWrapper","setDelegates:",t)},hasAdReady:function(t){return n.printJsLog("ATiOSNativeJS::hasAdReady("+t+")"),jsb.reflection.callStaticMethod("ATNativeAdWrapper","nativeReadyForPlacementID:",t)},checkAdStatus:function(t){return n.printJsLog("ATiOSNativeJS::checkAdStatus("+t+")"),jsb.reflection.callStaticMethod("ATNativeAdWrapper","nativeCheckAdStatusForPlacementID:",t)},showAd:function(t,e){n.printJsLog("ATiOSNativeJS::showAd("+t+", "+e+")"),jsb.reflection.callStaticMethod("ATNativeAdWrapper","showNativeWithPlacementID:scene:metrics:",t,null,e)},showAdInScenario:function(t,e,o){n.printJsLog("ATiOSNativeJS::showAdInScenario("+t+", "+e+", "+o+")"),jsb.reflection.callStaticMethod("ATNativeAdWrapper","showNativeWithPlacementID:scene:metrics:",t,o,e)},removeAd:function(t){n.printJsLog("ATiOSNativeJS::removeAd("+t+")"),jsb.reflection.callStaticMethod("ATNativeAdWrapper","removeNativeWithPlacementID:",t)}};e.exports=o,cc._RF.pop()},{ATiOSJS:"ATiOSJS"}],ATiOSRewardedVideoJS:[function(t,e){"use strict";cc._RF.push(e,"33bb8FmWvpOZ5c+CpZyuYXF","ATiOSRewardedVideoJS");var n=t("ATiOSJS"),o=o||{loadRewardedVideo:function(t,e){n.printJsLog("ATiOSRewardedVideoJS::loadRewardedVideo("+t+", "+e+")"),jsb.reflection.callStaticMethod("ATRewardedVideoWrapper","loadRewardedVideoWithPlacementID:extra:",t,e)},setAdListener:function(t){n.printJsLog("ATiOSRewardedVideoJS::setAdListener("+t+")"),jsb.reflection.callStaticMethod("ATRewardedVideoWrapper","setDelegates:",t)},hasAdReady:function(t){return n.printJsLog("ATiOSRewardedVideoJS::hasAdReady("+t+")"),jsb.reflection.callStaticMethod("ATRewardedVideoWrapper","rewardedVideoReadyForPlacementID:",t)},checkAdStatus:function(t){return n.printJsLog("ATiOSRewardedVideoJS::checkAdStatus("+t+")"),jsb.reflection.callStaticMethod("ATRewardedVideoWrapper","checkAdStatus:",t)},setUserData:function(){cc.log("Android-setUserData")},showAd:function(t){return n.printJsLog("ATiOSRewardedVideoJS::showAd("+t+")"),jsb.reflection.callStaticMethod("ATRewardedVideoWrapper","showRewardedVideoWithPlacementID:scene:",t,null)},showAdInScenario:function(t,e){return n.printJsLog("ATiOSRewardedVideoJS::showAdInScenario("+t+", "+e+")"),jsb.reflection.callStaticMethod("ATRewardedVideoWrapper","showRewardedVideoWithPlacementID:scene:",t,e)}};e.exports=o,cc._RF.pop()},{ATiOSJS:"ATiOSJS"}],ActivityDataProxy:[function(t,e,n){"use strict";cc._RF.push(e,"09697uMtEtCHoQSJKncSp4D","ActivityDataProxy"),Object.defineProperty(n,"__esModule",{value:!0}),n.ActEntryData=n.ActivityDataProxy=n.gRedDot=n.gActivityEntry=void 0;var o=t("../../lib/utils/ComUtils");(function(t){t[t.CD_ACTIVITY=1]="CD_ACTIVITY",t[t.DAILY_ACTIVITY=2]="DAILY_ACTIVITY",t[t.MRCJ_ACTIVITY=3]="MRCJ_ACTIVITY",t[t.GG_ACTIVITY=4]="GG_ACTIVITY",t[t.INVITE_ACTIVITY=5]="INVITE_ACTIVITY"})(n.gActivityEntry||(n.gActivityEntry={})),function(t){t[t.TABLES_REDDOT=1]="TABLES_REDDOT",t[t.DAILY_LOTTERY=3]="DAILY_LOTTERY",t[t.CD_TASK=2]="CD_TASK",t[t.DAILY_TASK=4]="DAILY_TASK",t[t.SETTING=5]="SETTING"}(n.gRedDot||(n.gRedDot={}));var i=function(){function t(){this.mapActData=new Map}return t.prototype.clear=function(){this.mapActData.clear()},t.prototype.getEntryById=function(t){return this.mapActData.get(t)},t.prototype.getEntryIsOpen=function(t){var e=this.mapActData.get(t);return!!e&&e.bOnOff},t.prototype.getAllEntryData=function(){return this.mapActData},t.prototype.parseActivityEntry=function(t){var e=this;t.OffOn.forEach(function(t){var n=e.mapActData.get(t.dwID);n||(n=new r,e.mapActData.set(t.dwID,n)),n.parser(t)})},t.prototype.getVideoAdOnOff=function(){return!0},t}();n.ActivityDataProxy=i;var r=function(){function t(){}return t.prototype.parser=function(t){this.iActID=t.dwID,this.bOnOff=t.bIsNF,t.chInfo&&(this.strInfo=o.ComUtils.u8ToUTF8Str(t.chInfo))},t}();n.ActEntryData=r,cc._RF.pop()},{"../../lib/utils/ComUtils":"ComUtils"}],ActivityHandler:[function(t,e,n){"use strict";cc._RF.push(e,"6a5df9cCMVGea92IWaJWFZg","ActivityHandler");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.ActivityHandler=void 0;var r=t("../../../lib/utils/Logger"),a=t("../../base/handler/ProxyHandler"),s=t("../../event/Notify"),c=t("../../model/DataProxy"),l=t("../../../plugin/pb/protofile/GlobalMsgDef"),u=t("../../../plugin/pb/protofile/CMD_OtherMsg"),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.SERVER_ID=120,e}return i(e,t),e.prototype.getName=function(){return"ActivityHandler"},e.prototype.protocolConfig=function(){return[{protocol:u.Msg_SC_OFAcity,subid:u.OTHER_GAME_SUB_MSG.MSGID_SC_SENDACTIVIOF,cb:this.onRtnActOnOff}]},e.prototype.initEvent=function(){t.prototype.initEvent.call(this),this.addEvent(s.Notify.Activity.REQ_ACT_ON_OFF,this.sendReqActOnOff)},e.prototype.getMainID=function(){return l.MAIN_MSG_ID.MAIN_MSG_OTHER_SERVER_ID},e.prototype.clear=function(){this.removeEvent()},Object.defineProperty(e.prototype,"activityData",{get:function(){return c.DataProxy.getInstance().activityData},enumerable:!1,configurable:!0}),e.prototype.getOtherHead=function(t,e){var n=t,o=void 0===e?n:e,i=new l.Msg_OtherServerHead;return i.dwGameID=n,i.dwGameTypeID=o,i.strUUID=this.userData.sessionId,i},e.prototype.sendReqActOnOff=function(){this.sendRequest(null,this.getMainID(),u.OTHER_GAME_SUB_MSG.MSGID_CS_ACTIVITYOF,this.getOtherHead(this.SERVER_ID)),r.Logger.info("\u83b7\u53d6\u6d3b\u52a8\u5165\u53e3\u5f00\u5173 ===>")},e.prototype.onRtnActOnOff=function(t){var e=t.data;this.activityData.parseActivityEntry(e),this.dispatch(s.Notify.Activity.RSP_ACT_ON_OFF,this.activityData.mapActData)},e}(a.ProxyHandler);n.ActivityHandler=d,cc._RF.pop()},{"../../../lib/utils/Logger":"Logger","../../../plugin/pb/protofile/CMD_OtherMsg":"CMD_OtherMsg","../../../plugin/pb/protofile/GlobalMsgDef":"GlobalMsgDef","../../base/handler/ProxyHandler":"ProxyHandler","../../event/Notify":"Notify","../../model/DataProxy":"DataProxy"}],AdDataProxy:[function(t,e,n){"use strict";cc._RF.push(e,"fb3fewbBdlN2JmXCPyY4qEL","AdDataProxy"),Object.defineProperty(n,"__esModule",{value:!0}),n.AdDataProxy=n.ChaPingType=n.BannerType=n.RVADSceneID=void 0;var o=t("../../plugin/pb/protofile/CMD_FFDMsg");n.RVADSceneID=o.FFDScene,n.BannerType=o.BannerType,n.ChaPingType=o.ChaPingType;var i=function(){function t(){this.mapRVPlacementID=new Map,this.mapRVReddot=new Map,this.mapRVSceneData=new Map,this.mapInterstitialAdInfo=new Map,this.mapBannerAdInfo=new Map}return t.prototype.clear=function(){this.mapRVPlacementID&&(this.mapRVPlacementID.clear(),this.mapRVPlacementID=null),this.mapRVReddot&&(this.mapRVReddot.clear(),this.mapRVReddot=null),this.mapRVSceneData&&(this.mapRVSceneData.clear(),this.mapRVSceneData=null),this.mapInterstitialAdInfo&&(this.mapInterstitialAdInfo.clear(),this.mapInterstitialAdInfo=null),this.mapBannerAdInfo&&(this.mapBannerAdInfo.clear(),this.mapBannerAdInfo=null)},t.prototype.clearAllRVPlacementId=function(){this.mapRVPlacementID&&this.mapRVPlacementID.clear()},t.prototype.clearAllRVSceneData=function(){this.mapRVSceneData&&this.mapRVSceneData.clear()},t.prototype.parseRVFFDData=function(t){var e={};e.adSceneId=t.iScenceId,e.bCanGG=t.bCanGG||!1,e.placementID="",e.awardList=[];var n=JSON.parse(t.strExData);return n&&(e.multiple=n.multiple||1,cc.sys.os===cc.sys.OS_IOS?e.placementID=n.appleggname:cc.sys.os===cc.sys.OS_ANDROID&&(e.placementID=n.androidggname),this.mapRVPlacementID.set(e.adSceneId,e.placementID)),t.tabReward&&t.tabReward.forEach(function(t){var n={type:t.dwType,num:t.dwNum,index:t.dwLevel,odd:t.dwOdd};e.awardList.push(n)}),this.mapRVSceneData.set(e.adSceneId,e),e},t.prototype.parseAllRVData=function(t){var e=this;this.clearAllRVPlacementId(),t.tabGG&&t.tabGG.forEach(function(t){if(t){var n=JSON.parse(t.strExData);if(n){var o="";cc.sys.os===cc.sys.OS_IOS?o=n.appleggname:cc.sys.os===cc.sys.OS_ANDROID&&(o=n.androidggname),e.mapRVPlacementID.set(t.iScenceId,o)}}})},t.prototype.getRVSceneData=function(t){return this.mapRVSceneData?this.mapRVSceneData.get(t):null},t.prototype.setRVSceneData=function(t){t&&this.mapRVSceneData&&this.mapRVSceneData.set(t.iScenceId,t)},t.prototype.getRVPlacementId=function(t){return this.mapRVPlacementID.get(t)},t.prototype.setRedDotItem=function(t){t&&this.mapRVReddot&&this.mapRVReddot.set(t.adSceneId,t.count)},t.prototype.getRedDotCount=function(t){return this.mapRVReddot?this.mapRVReddot.get(t):0},t.prototype.parseOtherGGInfo=function(t){var e,n=this;this.mapBannerAdInfo.clear(),this.mapInterstitialAdInfo.clear(),t.tabItem&&t.tabItem.forEach(function(t){t.dwType===o.GGType.BANNER?e=n.mapBannerAdInfo:t.dwType===o.GGType.CHAPING&&(e=n.mapInterstitialAdInfo);var i="",r={};t.strGGName.startsWith("{")&&t.strGGName.endsWith("}")&&(r=JSON.parse(t.strGGName),cc.sys.os===cc.sys.OS_IOS?i=r.appleggname||"":cc.sys.os===cc.sys.OS_ANDROID&&(i=r.androidggname||"")),e&&t.tabGGInfo.forEach(function(t){var n=t;n.placementID=i;var o={};t.strExData.startsWith("{")&&t.strExData.endsWith("}")&&(o=JSON.parse(t.strExData),n.jsonExData=o),n.dwApartJu=o.apartJu||0,e.set(t.dwType,n)})})},t.prototype.getBannerInfoById=function(t){return this.mapBannerAdInfo.get(t)},t.prototype.getBannerIsOpenById=function(t){var e=this.getBannerInfoById(t);return!!e&&e.bOpen},t.prototype.geInterstitialInfoById=function(t){return this.mapInterstitialAdInfo.get(t)},t}();n.AdDataProxy=i,cc._RF.pop()},{"../../plugin/pb/protofile/CMD_FFDMsg":"CMD_FFDMsg"}],AdvDataProxy:[function(t,e,n){"use strict";cc._RF.push(e,"51bf9JN5LhOT5tNSdBqmA44","AdvDataProxy"),Object.defineProperty(n,"__esModule",{value:!0}),n.AdsDataProxy=void 0;var o=function(){function t(){this.gdtVID="",this.aid="",this.traceID="",this.sceneType=0,this.channel="",this.wxgameCID="",this.wwShareScene=0}return t.prototype.handle=function(t){if(t){var e=t.weixinadinfo;if(this.channel=t.channel,this.gdtVID=t.gdt_vid,e){var n=e.split(".");n.length>=4&&(this.aid=n[0],this.traceID=n[1],this.sceneType=parseInt(n[2]))}this.wxgameCID=t.wxgamecid,this.wwShareScene=Number(t.wwShareScene)}},t.prototype.append=function(t){t&&(t.traceid=this.traceID,t.aid=this.aid,t.channel=this.channel,t.wxgamecid=this.wxgameCID,this.wwShareScene>0&&(t.wwShareScene=this.wwShareScene))},t}();n.AdsDataProxy=o,cc._RF.pop()},{}],AlphaConfig:[function(t,e,n){"use strict";cc._RF.push(e,"11628x90TJCe6zpdjsxk6OG","AlphaConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.AlphaConfig=void 0;var o=t("./GameConfig"),i=function(){function t(){}return t.prototype.getGameWSUrl=function(){return"ws://172.18.188.115:61500"},t.prototype.getHotUpdateUrl=function(){return"http://res.puligame.com/hotupdate"},t.prototype.getDownloadUrl=function(){return"http://res.puligame.com/downheadimage/"},t.prototype.getUploadUrl=function(){return"http://res.puligame.com/"},t.prototype.getHttpServerUrl=function(){return"https://test.wwmj009.com/"},t.prototype.getResURL=function(){return"https://test.wwmj009.com/clientres/res/"+o.GameConfig.getInstance().getProjectId()+"/"+o.GameConfig.getInstance().getResVersion()},t.prototype.getHeadFolder=function(){return"uploadhead"},t.prototype.getHistoryListUrl=function(){return"https://test.wwmj009.com/fkzjlog"},t.prototype.getHistoryDetail=function(){return""},t.prototype.getStatsUrl=function(){return""},t.prototype.getPrivacyUrl=function(){return"http://res.puligame.com/privacy"},t.prototype.getProtocolUrl=function(){return"http://res.puligame.com/protocol"},t.prototype.getBuryPointUrl=function(){return"http://maidian.puligame.com/tongji"},t.prototype.getRobotHeadUrl=function(t){return"http://res.puligame.com/robotimage/"+t+".jpg"},t.prototype.getBundleUrl=function(){return this.getHotUpdateUrl()+"/remote/"},t.prototype.getQueryOrderUrl=function(t){return"http://172.18.188.115:8899/pay/findorder/csgame/googlepay?orderno="+t},t}();n.AlphaConfig=i,cc._RF.pop()},{"./GameConfig":"GameConfig"}],AnalyticsUtils:[function(t,e,n){"use strict";cc._RF.push(e,"6c45arumb9HHKRUdhxxs6iL","AnalyticsUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.AnalyticsUtils=void 0;var o=t("../model/DataProxy"),i=t("./NativeApi"),r=function(){function t(){}return t.getName=function(){return"AnalyticsManager"},t.getJavaClassPath=function(){return"com/husky/libhuskycom/"},t.addAnalytics=function(t){this.listAnalytics.includes(t)||this.listAnalytics.push(t)},t.rmAnalytics=function(t){var e=this.listAnalytics.indexOf(t);e>=0&&this.listAnalytics.splice(e,1)},t.setEnable=function(t){for(var e=0,n=this.listAnalytics;e<n.length;e++){var o=n[e];o&&o.setEnable(t)}var r=new i.NativeParams;return r.methodName="setEnable",r.javaMethodSig="(Z)V",r.ocMethodSig="setEnable:",r.className=this.getName(),r.javaClassPath=this.getJavaClassPath(),i.CallNativeMethod.callStaticMethod(r,t)},t.setUserID=function(t){for(var e=0,n=this.listAnalytics;e<n.length;e++){var o=n[e];o&&o.setUserID(t)}var r=new i.NativeParams;return r.methodName="setUserID",r.javaMethodSig="(Ljava/lang/String;)V",r.ocMethodSig="setUserID:",r.className=this.getName(),r.javaClassPath=this.getJavaClassPath(),i.CallNativeMethod.callStaticMethod(r,t)},t.addUserValue=function(t,e){for(var n=0,o=this.listAnalytics;n<o.length;n++){var r=o[n];r&&r.addUserValue(t,e)}var a=new i.NativeParams;return a.methodName="addUserValue",a.javaMethodSig="(Ljava/lang/String;Ljava/lang/String;)V",a.ocMethodSig="addUserValue:Data:",a.className=this.getName(),a.javaClassPath=this.getJavaClassPath(),i.CallNativeMethod.callStaticMethod(a,t,e)},t.logEvent=function(t,e){for(var n=0,o=this.listAnalytics;n<o.length;n++){var r=o[n];r&&r.addUserValue(t,e)}var a=new i.NativeParams;return a.methodName="logEvent",a.javaMethodSig="(Ljava/lang/String;Ljava/lang/String;)V",a.ocMethodSig="logEvent:Data:",a.className=this.getName(),a.javaClassPath=this.getJavaClassPath(),i.CallNativeMethod.callStaticMethod(a,t,e)},t.reportException=function(t,e){for(var n=0,o=this.listAnalytics;n<o.length;n++){var r=o[n];r&&r.reportException(t,e)}var a=new i.NativeParams;return a.methodName="reportException",a.javaMethodSig="(Ljava/lang/String;Ljava/lang/String;)V",a.ocMethodSig="reportException:Data:",a.className=this.getName(),a.javaClassPath=this.getJavaClassPath(),i.CallNativeMethod.callStaticMethod(a,t,e)},t.test=function(){this.setUserID(""+o.DataProxy.getInstance().userData.userId),this.logEvent("onClickFriends",JSON.stringify({userid:o.DataProxy.getInstance().userData.userId,msg:"lobby onClickFriends"})),this.addUserValue("skin","newskin"),this.reportException("onClickFriends","error")},t.listAnalytics=[],t}();n.AnalyticsUtils=r,cc._RF.pop()},{"../model/DataProxy":"DataProxy","./NativeApi":"NativeApi"}],AnyThinkSDK:[function(t,e,n){"use strict";cc._RF.push(e,"ba96dj8matKyrdGkwl4+lJb","AnyThinkSDK"),Object.defineProperty(n,"__esModule",{value:!0}),n.AnyThinkSDK=void 0;var o=t("./../../lib/utils/ComUtils"),i=t("./../model/AdDataProxy"),r=t("./../language/LanguageCfg"),a=t("../../lib/event/EventDispatcher"),s=t("../../lib/i18n/i18nHelper"),c=t("../config/GameConfig"),l=t("../event/Notify"),u=t("../model/DataProxy"),d=t("../model/LocalDataProxy"),p=t("../module/buryPoint/BuryPoint"),h=t("../module/buryPoint/BuryPointUtils"),f=t("../view/adTopon/ATBannerAd"),g=t("../view/adTopon/ATInterstitialAd"),_=t("../view/adTopon/ATRewardedVideoAd"),y=t("../view/ComUI"),m=t("./AppsFlyerSDK"),b=t("./StatisticsDefine"),v=t("../module/ad/ADDefine"),S=t("../../lib/utils/Display"),w=t("./SystemUtil"),C=t("../const/Global");t("./AnyThinkAds/ATJSSDK");var I=function(){function t(){}return t.getInstance=function(){return t._intance||(t._intance=new t),t._intance},t.prototype.isEnable=function(){return cc.sys.isNative&&(o.ComUtils.isAndroid()||o.ComUtils.isIOS())},t.prototype.initSDK=function(){this.isEnable()&&(S.Display.bannerHeightPx=w.SystemUtil.dip2px(50),S.Display.bannerHeight=S.Display.px2Height(S.Display.bannerHeightPx)+10,c.GameConfig.isRelease()?cc.sys.os===cc.sys.OS_IOS?ATJSSDK.initSDK("a5b0e8491845b3","7eae0567827cfe2b22874061763f30c9"):cc.sys.os===cc.sys.OS_ANDROID&&ATJSSDK.initSDK(t.ANDROID_APPID,t.ANDROID_APPKEY):(ATJSSDK.setLogDebug(!0),cc.sys.os===cc.sys.OS_IOS?ATJSSDK.initSDK("a5b0e8491845b3","7eae0567827cfe2b22874061763f30c9"):cc.sys.os===cc.sys.OS_ANDROID&&ATJSSDK.initSDK(t.ANDROID_APPID,t.ANDROID_APPKEY)),ATJSSDK.getGDPRLevel(),ATJSSDK.getUserLocation(function(t){t===ATJSSDK.kATUserLocationInEU&&ATJSSDK.getGDPRLevel()===ATJSSDK.UNKNOWN&&ATJSSDK.showGDPRAuth()}),this.initEvent())},t.prototype.clear=function(){this.mRewardVideoAd&&(this.mRewardVideoAd.clear(),this.mRewardVideoAd=null),this.mBannerAd&&(this.mBannerAd.clear(),this.mBannerAd=null),this.mInterstitialAd&&(this.mInterstitialAd.clear(),this.mInterstitialAd=null)},t.prototype.initEvent=function(){var t=a.EventDispatcher.getInstance();t.add(l.Notify.Base.CANCEL_LOADING_VIEW,this.refuseRewardVideo,this),t.add(l.Notify.AD.LOAD_VIDEO,this.loadVideoAd,this),t.add(l.Notify.AD.OPEN_VIDEO,this.showRewardVideo,this),t.add(l.Notify.AD.REFUSE_VIDEO,this.refuseRewardVideo,this),t.add(l.Notify.AD.AD_LOADED,this.onAdLoaded,this),t.add(l.Notify.AD.VIDEO_PLAY_END,this.onPlayVideoEnd,this),t.add(l.Notify.AD.LOAD_BANNER,this.tryLoadBanner,this),t.add(l.Notify.AD.SHOW_BANNER,this.tryShowBanner,this),t.add(l.Notify.AD.HIDE_BANNER,this.hideBannerAd,this),t.add(l.Notify.AD.RESHOW_BANNER,this.reshowBannerAd,this),t.add(l.Notify.AD.RM_BANNER,this.rmBannerAd,this),t.add(l.Notify.AD.LOAD_CP_GG,this.tryLoadInterstitialAd,this),t.add(l.Notify.AD.OPEN_CP_GG,this.tryShowInterstitialAd,this)},t.prototype.onAdLoaded=function(t){t.type===v.ADType.REWARD_VIDEO?m.AppsFlyerSDK.logCustom(b.StatisticsDefine.AD_RV_LOADED,t.costtime):t.type===v.ADType.BANNER&&this.doBannerLoaded(t)},t.prototype.onPlayVideoEnd=function(){m.AppsFlyerSDK.logCustom(b.StatisticsDefine.AD_RV_SHOW),h.BuryPointUtils.send(p.BuryPoint.Debug.SDK.ATRVADReward);var t=d.LocalStorageProxy.getUserValue(d.LocalStorageProxy.PlayVideoAdCount,0);t=parseInt(t)||0,t++,d.LocalStorageProxy.setUserValue(d.LocalStorageProxy.PlayVideoAdCount,t),10==t?m.AppsFlyerSDK.logCustom(b.StatisticsDefine.ADRVSHOW_OVER10):15==t?m.AppsFlyerSDK.logCustom(b.StatisticsDefine.ADRVSHOW_OVER15):20==t?m.AppsFlyerSDK.logCustom(b.StatisticsDefine.ADRVSHOW_OVER20):25==t?m.AppsFlyerSDK.logCustom(b.StatisticsDefine.ADRVSHOW_OVER25):30==t&&m.AppsFlyerSDK.logCustom(b.StatisticsDefine.ADRVSHOW_OVER30),d.LocalStorageProxy.setUserValue(d.LocalStorageProxy.ChaPinADJuShu,0)},t.prototype.loadVideoAd=function(t){h.BuryPointUtils.send(p.BuryPoint.Debug.SDK.ATLoadRVAD,"adid="+t.adSceneId),this.initRewardVideo(),this.mRewardVideoAd&&(this.mRewardVideoAd.init({userId:t.userId||u.DataProxy.getInstance().userData.userId,placementID:t.placementID,adSceneId:t.adSceneId}),this.mRewardVideoAd.loadAd())},t.prototype.initRewardVideo=function(){this.isEnable()&&(this.mRewardVideoAd||(this.mRewardVideoAd=new _.ATRewardedVideoAd,this.mRewardVideoAd.init({userId:u.DataProxy.getInstance().userData.userId}),this.mRewardVideoAd.setAdListener()))},t.prototype.showRewardVideo=function(){this.initRewardVideo(),y.ComUI.addLoading({time:10,tipsTxt:s.i18nHelper.getLanguage(r.LangKey.text_loading_ads),cancelTime:4}),this.mRewardVideoAd&&this.mRewardVideoAd.showAd()},t.prototype.refuseRewardVideo=function(){this.mRewardVideoAd&&this.mRewardVideoAd.refuseAd()},t.prototype.hasRewardVideoAdReady=function(){return this.initRewardVideo(),!(!this.mRewardVideoAd||!this.mRewardVideoAd.hasAdReady())&&this.mRewardVideoAd.hasAdReady()},t.prototype.initBanner=function(){this.isEnable()&&(this.mBannerAd||(this.mBannerAd=new f.ATBannerAd,this.mBannerAd.init({userId:u.DataProxy.getInstance().userData.userId}),this.mBannerAd.setAdListener()))},t.prototype.loadBannerAd=function(t){this.initBanner(),this.mBannerAd&&t&&t.placementID&&(this.mBannerAd.bannerType=t.bannerType||0,this.mBannerAd.placementID=t.placementID,this.mBannerAd.loadAd())},t.prototype.showBannerAd=function(t){if(this.initBanner(),this.mBannerAd){var e=!1;t&&t.isTop&&(e=!0),this.mBannerAd.setIsShowingTop(e),this.mBannerAd.showAd()}},t.prototype.hasBannerAdReady=function(){return this.initBanner(),!!this.mBannerAd&&this.mBannerAd.hasAdReady()},t.prototype.hasBanner=function(){return!!this.mBannerAd&&(this.mBannerAd.getIsShow()||this.hasBannerAdReady())},t.prototype.reshowBannerAd=function(){this.mBannerAd&&this.mBannerAd.reShowAd()},t.prototype.rmBannerAd=function(){this.mBannerAd&&(this.mBannerAd.removeAd(),this.mBannerAd.clear(),this.mBannerAd=null)},t.prototype.hideBannerAd=function(){this.mBannerAd&&this.mBannerAd.hideAd()},t.prototype.tryLoadBanner=function(t){if(t!=i.BannerType.GAME){var e=u.DataProxy.getInstance().adData.getBannerInfoById(t);e&&e.bOpen&&e.placementID&&this.loadBannerAd({placementID:e.placementID,bannerType:t})}},t.prototype.tryShowBanner=function(e){if(e!=i.BannerType.GAME){var n=u.DataProxy.getInstance().adData.getBannerIsOpenById(e),o=t.getInstance().hasBanner();S.Display.isBannerOpen=n&&o,S.Display.isBannerOpen&&(e===i.BannerType.SETTLE?this.showBannerAd({isTop:!0}):this.showBannerAd({isTop:!1}))}},t.prototype.doBannerLoaded=function(t){if(t&&t.type===v.ADType.BANNER){var e=!1,n=0,o=cc.director.getScene().name,r=(t.bannerType,this.hasBannerAdReady());if(o===C.gSceneName.Game?n=i.BannerType.SETTLE:o===C.gSceneName.Lobby&&(n=i.BannerType.HALL),this.hideBannerAd(),u.DataProxy.getInstance().comData.isInGame())return;n!==i.BannerType.GAME&&n>0&&(e=u.DataProxy.getInstance().adData.getBannerIsOpenById(n),S.Display.isBannerOpen=e&&r,a.EventDispatcher.getInstance().dispatch(l.Notify.AD.SET_BANNER_ON_OFF,{type:n,isOn:S.Display.isBannerOpen}),S.Display.isBannerOpen&&(n===i.BannerType.SETTLE?this.showBannerAd({isTop:!0}):this.showBannerAd({isTop:!1}))),cc.log("onADLoaded sceneName="+o+" bannerType="+n+" bannerLoaded="+r+" isBannerOpen="+e)}},t.prototype.loadInterstitialAd=function(t){this.isEnable()&&(this.mInterstitialAd||(this.mInterstitialAd=new g.ATInterstitialAd,this.mInterstitialAd.init({userId:u.DataProxy.getInstance().userData.userId}),this.mInterstitialAd.setAdListener()),this.mInterstitialAd.placementID=t,this.mInterstitialAd.loadAd())},t.prototype.showInterstitialAd=function(){this.mInterstitialAd&&this.mInterstitialAd.showAd()},t.prototype.hasInterstitialAdReady=function(){return!!this.mInterstitialAd&&this.mInterstitialAd.hasAdReady()},t.prototype.tryLoadInterstitialAd=function(t){if(t){var e=u.DataProxy.getInstance().adData.geInterstitialInfoById(t);e&&e.bOpen&&this.loadInterstitialAd(e.placementID)}},t.prototype.tryShowInterstitialAd=function(t){if(t){var e=parseInt(d.LocalStorageProxy.getUserValue(d.LocalStorageProxy.ChaPinADJuShu,0)||0),n=u.DataProxy.getInstance().adData.geInterstitialInfoById(t);n&&n.bOpen&&this.hasInterstitialAdReady()&&e>=n.dwApartJu&&(d.LocalStorageProxy.setUserValue(d.LocalStorageProxy.ChaPinADJuShu,0),this.showInterstitialAd())}},t.ANDROID_APPID="a60a8a75a1ed1f",t.ANDROID_APPKEY="69c7ef629353ce228b94eb84cc550631",t._intance=null,t}();n.AnyThinkSDK=I,cc._RF.pop()},{"../../lib/event/EventDispatcher":"EventDispatcher","../../lib/i18n/i18nHelper":"i18nHelper","../../lib/utils/Display":"Display","../config/GameConfig":"GameConfig","../const/Global":"Global","../event/Notify":"Notify","../model/DataProxy":"DataProxy","../model/LocalDataProxy":"LocalDataProxy","../module/ad/ADDefine":"ADDefine","../module/buryPoint/BuryPoint":"BuryPoint","../module/buryPoint/BuryPointUtils":"BuryPointUtils","../view/ComUI":"ComUI","../view/adTopon/ATBannerAd":"ATBannerAd","../view/adTopon/ATInterstitialAd":"ATInterstitialAd","../view/adTopon/ATRewardedVideoAd":"ATRewardedVideoAd","./../../lib/utils/ComUtils":"ComUtils","./../language/LanguageCfg":"LanguageCfg","./../model/AdDataProxy":"AdDataProxy","./AnyThinkAds/ATJSSDK":void 0,"./AppsFlyerSDK":"AppsFlyerSDK","./StatisticsDefine":"StatisticsDefine","./SystemUtil":"SystemUtil"}],AppleLogin:[function(t,e,n){"use strict";cc._RF.push(e,"eb593qdhiJNeKYwbBLXJwTf","AppleLogin"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../lib/base/Callback"),i=t("../../lib/utils/ComUtils"),r=t("./CallBackManager"),a=t("./NativeApi"),s=function(){function t(){}return t.login=function(e){if(console.log("AppleLogin: login()"),i.ComUtils.isIOS()){this.loginCb=e.callback,r.CallBackManager.getInstance().register(t.cbType,new o.Callback(t,t.onLoginCallback));var n=new a.NativeParams;n.className="AppleLogin",n.methodName="appleLogin",n.ocMethodSig="appleLogin:",n.asyncEvent=t.cbType,a.CallNativeMethod.callStaticMethod(n)}},t.onLoginCallback=function(t){if(console.log("ApplePySdk: onCallback() data="+t),t){var e=JSON.parse(t);this.loginCb&&e&&this.loginCb(e)}},t.cbType="apple_login",t.loginCb=null,t}();n.default=s,cc._RF.pop()},{"../../lib/base/Callback":"Callback","../../lib/utils/ComUtils":"ComUtils","./CallBackManager":"CallBackManager","./NativeApi":"NativeApi"}],ApplePySdk:[function(t,e,n){"use strict";cc._RF.push(e,"72e42/IgrxHS6A7MKuYStDr","ApplePySdk"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../lib/base/Callback"),i=t("../../lib/network/HttpManager"),r=t("../../lib/utils/ComUtils"),a=t("../model/DataProxy"),s=t("../model/LocalDataProxy"),c=t("../view/ComUI"),l=t("./CallBackManager"),u=t("./NativeApi"),d=function(){function t(){}return t.doPy=function(e,n){if(r.ComUtils.isIOS()&&e&&e.order&&e.strProductNo){var i={};i.cbType=t.cbType,i.order=e.order,i.strProductNo=e.strProductNo,i.appid=e.appid,i.userid=e.userid,i.iPayModeID=e.iPayModeID,i.callbackUrl=e.callbackUrl,i.findbackUrl=e.findbackUrl,this.mPyCallback=n,l.CallBackManager.getInstance().register(t.cbType,new o.Callback(t,t.onPyCallback));var a=new u.NativeParams;a.className="ApplePay",a.methodName="doBuy",a.ocMethodSig="doBuy:",u.CallNativeMethod.callStaticMethod(a,JSON.stringify(i))}},t.onPyCallback=function(t){if(t){var e=JSON.parse(t);this.mPyCallback&&e&&this.mPyCallback(e)}},t.doBuy=function(t){var e=this;cc.log("ApplePySdk: doBuy() orderData = ",t),t.callbackUrl&&a.DataProxy.getInstance().localData.set(s.LocalStorageProxy.SHOP_ORDER_URL,t.callbackUrl),this.doPy(t,function(n){n&&null!=n.code&&0==n.code?(cc.log("ApplePySdk: doBuy() pay success res="+n),e.checkOrderItem(t)):cc.log("ApplePySdk: doBuy() pay fail res="+n)})},t.handleBuy=function(t,e){var n={};n.orderid=t.order,n.productId=t.strProductNo,n.packageName=u.NativeApi.getPackageName()||"",n.receipt_data=e||"",n.orderidlist=[t.order];var o=t.callbackUrl;console.log("ApplePySdk: handleBuy() callback data="+JSON.stringify(n)),console.log("ApplePySdk: handleBuy() Post url="+o),c.ComUI.addLoading({time:3}),i.HttpManager.Post({url:o,method:"post",body:n}).then(function(){c.ComUI.rmLoading()}).catch(function(){})},t.checkOrderItem=function(t){var e=t.findbackUrl+"?orderid="+t.order+"&appid="+t.appid;console.log("ApplePySdk: checkOrderItem() url="+e),i.HttpManager.Get(e).then(function(t){t&&console.log("ApplePySdk: checkOrderItem() status="+t.status)})},t.testPy=function(){},t.cbType="apple_purcharse",t.mPyCallback=null,t}();n.default=d,cc._RF.pop()},{"../../lib/base/Callback":"Callback","../../lib/network/HttpManager":"HttpManager","../../lib/utils/ComUtils":"ComUtils","../model/DataProxy":"DataProxy","../model/LocalDataProxy":"LocalDataProxy","../view/ComUI":"ComUI","./CallBackManager":"CallBackManager","./NativeApi":"NativeApi"}],AppsFlyerSDK:[function(t,e,n){"use strict";cc._RF.push(e,"e98a2UOCEdGK6H/HSwKj0lX","AppsFlyerSDK"),Object.defineProperty(n,"__esModule",{value:!0}),n.AppsFlyerSDK=void 0;var o=t("../config/GameConfig"),i=t("./NativeApi"),r=function(){function t(){}return t.getName=function(){return"AppsFlyerSDK"},t.getJavaClassPath=function(){return"com/husky/libappsflyer/"},t.initSDK=function(){if(!t.bIsInit){t.bIsInit=!0;var e=new i.NativeParams;return e.methodName="initSDK",e.javaMethodSig="(Ljava/lang/String;Ljava/lang/String;)V",e.ocMethodSig="initSDK:publicKey:channel",e.className=this.getName(),e.javaClassPath=this.getJavaClassPath(),i.CallNativeMethod.callStaticMethod(e,t.PUBLIC_KEY,t.CHANNEL)}},t.checkEnable=function(){return(!cc.sys.isNative||cc.sys.os!=cc.sys.OS_OSX&&cc.sys.os!=cc.sys.OS_IOS)&&o.GameConfig.isRelease()},t.logLogin=function(){if(this.checkEnable()){this.initSDK();var t=new i.NativeParams;return t.methodName="logLogin",t.javaMethodSig="()V",t.ocMethodSig="logLogin:",t.className=this.getName(),t.javaClassPath=this.getJavaClassPath(),i.CallNativeMethod.callStaticMethod(t)}},t.logRevenue=function(t){if(this.checkEnable()){this.initSDK(),t.revenue=t.revenue||0,t.goodsId=t.goodsId||"",t.goodsName=t.goodsName||"",t.currency=t.currency||"",t.quantity=t.quantity||1,console.log("[AppsFlyerSDK logRevenue]",JSON.stringify(t));var e=new i.NativeParams;return e.methodName="logRevenue",e.javaMethodSig="(Ljava/lang/String;)V",e.ocMethodSig="logRevenue:",e.className=this.getName(),e.javaClassPath=this.getJavaClassPath(),i.CallNativeMethod.callStaticMethod(e,JSON.stringify(t))}},t.logRegister=function(t){if(this.checkEnable()){this.initSDK();var e={loginType:t||"YK"},n=new i.NativeParams;return n.methodName="logRegister",n.javaMethodSig="(Ljava/lang/String;)V",n.ocMethodSig="logRegister:",n.className=this.getName(),n.javaClassPath=this.getJavaClassPath(),i.CallNativeMethod.callStaticMethod(n,JSON.stringify(e))}},t.logLevelAchieved=function(t,e){if(this.checkEnable()){this.initSDK();var n={level:t||1,score:e||0},o=new i.NativeParams;return o.methodName="logLevelAchieved",o.javaMethodSig="(Ljava/lang/String;)V",o.ocMethodSig="logLevelAchieved:",o.className=this.getName(),o.javaClassPath=this.getJavaClassPath(),i.CallNativeMethod.callStaticMethod(o,JSON.stringify(n))}},t.logTutorialCompletion=function(){if(this.checkEnable()){this.initSDK();var t=new i.NativeParams;return t.methodName="logTutorialCompletion",t.javaMethodSig="(Ljava/lang/String;)V",t.ocMethodSig="logTutorialCompletion:",t.className=this.getName(),t.javaClassPath=this.getJavaClassPath(),i.CallNativeMethod.callStaticMethod(t,JSON.stringify({succ:!0,tutorialId:1,name:""}))}},t.logShare=function(t){if(this.checkEnable()){this.initSDK();var e={platform:"Google",shareContent:encodeURI(t)||""},n=new i.NativeParams;return n.methodName="logShare",n.javaMethodSig="(Ljava/lang/String;)V",n.ocMethodSig="logShare:",n.className=this.getName(),n.javaClassPath=this.getJavaClassPath(),i.CallNativeMethod.callStaticMethod(n,JSON.stringify(e))}},t.logInvite=function(t){if(this.checkEnable()){this.initSDK();var e={inviteContent:encodeURI(t)||""},n=new i.NativeParams;return n.methodName="logInvite",n.javaMethodSig="(Ljava/lang/String;)V",n.ocMethodSig="logInvite:",n.className=this.getName(),n.javaClassPath=this.getJavaClassPath(),i.CallNativeMethod.callStaticMethod(n,JSON.stringify(e))}},t.logCustom=function(t,e){if(this.checkEnable()){this.initSDK();var n=new i.NativeParams;return n.methodName="logCustom",n.javaMethodSig="(Ljava/lang/String;Ljava/lang/String;)V",n.ocMethodSig="logCustom:",n.className=this.getName(),n.javaClassPath=this.getJavaClassPath(),i.CallNativeMethod.callStaticMethod(n,t,e?JSON.stringify(e):null)}},t.test=function(){this.initSDK(),this.logLogin("test"),this.logRevenue({revenue:1,currency:"USD",goodsId:"Coins",goodsName:"Gold",quantity:1,orderId:"orderId"}),this.logRegister("test"),this.logLevelAchieved(1,1e3),this.logTutorialCompletion(),this.logShare("test"),this.logInvite("test")},t.PUBLIC_KEY="AIzaSyCXM9GL-qG2uKCt3TKZt8iA-C5jx7Pwxok",t.CHANNEL="GOOGLE",t.bIsInit=!1,t}();n.AppsFlyerSDK=r,cc._RF.pop()},{"../config/GameConfig":"GameConfig","./NativeApi":"NativeApi"}],AudioFile:[function(t,e,n){"use strict";cc._RF.push(e,"9338fvLLAJKa4wawK5lbGJF","AudioFile"),Object.defineProperty(n,"__esModule",{value:!0}),n.AudioFile=void 0,function(t){(function(t){t.BG_MUSIC="music/loby_bgm",t.JOIN_KEYBOARD_EFFECT="effect/other/game_p_select_card"})(t.Lobby||(t.Lobby={})),function(t){t.BG_MUSIC="music/scopa_bgm",t.OP_EFFECT="effect/op/op_%s_%s",t.CARD_EFFECT="effect/card/card_%s_%s%d",t.CHAT_EFFECT="effect/chat/",t.DIAN_EFFECT="effect/other/game_p_dian",t.DICE_EFFECT="effect/other/game_p_dice",t.DISCARD_EFFECT="effect/other/game_p_discard",t.GOLD_ACTION="effect/other/game_p_gold_action",t.PLAYER_MOVE="effect/other/game_p_move",t.SELECT_CARD="effect/other/game_p_select_card",t.PLAYER_ENTER="effect/other/game_p_sitdown",t.SHOW_CARD="effect/other/game_p_tanpai",t.BANKER_EFFECT="effect/other/game_p_zj_status",t.YOU_TURN="effect/other/scopa_youturn",t.SEND_CARD="effect/other/scopa_deal",t.OUT_CARD="effect/other/scopa_turncard",t.MERGE_CARD="effect/other/scopa_combine",t.SCOPA_1="effect/other/scopa_scopa1",t.SCOPA_2="effect/other/scopa_scopa2",t.SCOPA_3="effect/other/scopa_scopa3",t.SETTEBELLO="effect/other/scopa_stello",t.GAME_WIN="effect/other/betroom_win",t.GAME_LOST="effect/other/scopa_lose",t.REAYGO="effect/other/scopa_readgo",t.TIME_OUT="effect/other/scopa_countdown",t.KO="effect/other/K.O",t.SCOPA_ATTACK="effect/other/scopa_attack",t.SWITCH_CARDS="effect/other/switch_cards"}(t.Game||(t.Game={})),function(t){t.GO="effect/other/go",t.BACK="effect/other/back",t.ADD_GOLD="effect/other/ydcm",t.LEVEL_UP="effect/other/level_up"}(t.Com||(t.Com={})),function(t){t.SCOPA_BUILD="effect/other/scopa_build",t.SCOPA_COMPLETED="effect/other/scopa_completed",t.SCOPA_OPEN_CHEST="effect/other/scopa_openchest",t.SCOPA_TOMAP="effect/other/scopa_tomap",t.OPEN_BOX="effect/other/open_box",t.FANG_PAI="effect/other/fang_pai",t.RESULT_FANG_PAI="effect/other/result_fanpai",t.PIECE_FLY="effect/other/table_piece_fly",t.TABLE_COMPELTE="effect/other/table_competed"}(t.Table||(t.Table={}))}(n.AudioFile||(n.AudioFile={})),cc._RF.pop()},{}],AudioManager:[function(t,e,n){"use strict";cc._RF.push(e,"24893rvzLJFKa8FQgN7fWyf","AudioManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.AudioManager=void 0;var o=t("../../app/model/LocalDataProxy"),i=t("../../app/event/Notify"),r=t("../event/EventDispatcher"),a=t("../../app/const/AudioFile"),s=t("../utils/ComUtils"),c=t("../utils/Logger"),l=function(){function t(){this.BASE_PATH="audio/mp3/",this.musicVolume=1,this.effectVolume=1,this.switchMusic=1,this.switchEffect=1,this.localStorag=null,this.curMusicData=null,this.cachePaths=[a.AudioFile.Com.GO,a.AudioFile.Com.BACK,,a.AudioFile.Game.SEND_CARD]}return t.prototype.init=function(){var t=this;this.cacheAudioClip=new Map,this.cachePaths=this.cachePaths.map(function(e){return t.BASE_PATH+e}),this.initData(),cc.sys.platform===cc.sys.WECHAT_GAME||cc.sys.isNative},t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.initData=function(){var t;for(var e in r.EventDispatcher.getInstance().add(i.Notify.Base.RTN_LOCAL_STORAG,this.onLocalStorag,this,0),r.EventDispatcher.getInstance().add(i.Notify.Base.UPDATE_LOCAL_STORAG,this.onLocalStorag,this,0),r.EventDispatcher.getInstance().add(i.Notify.Base.PLAY_MUSIC,this.playMusic,this,0),r.EventDispatcher.getInstance().add(i.Notify.Base.STOP_MUSIC,this.stopMusic,this,0),r.EventDispatcher.getInstance().add(i.Notify.Base.ON_APP_PAUSE,this.pauseAll,this,0),r.EventDispatcher.getInstance().add(i.Notify.Base.ON_APP_RESUME,this.resumeMusic,this,0),r.EventDispatcher.getInstance().add(i.Notify.Base.PLAY_EFFECT,this.playEffect,this,0),r.EventDispatcher.getInstance().add(i.Notify.Base.STOP_EFFECT,this.stopEffect,this,0),this.localStorag=((t={})[o.LocalStorageProxy.MusicVolume]={value:this.musicVolume,local:"musicVolume"},t[o.LocalStorageProxy.EffectVolume]={value:this.effectVolume,local:"effectVolume"},t[o.LocalStorageProxy.Music]={value:o.LocalStorageProxy.On,local:"switchMusic"},t[o.LocalStorageProxy.Effect]={value:o.LocalStorageProxy.On,local:"switchEffect"},t),this.localStorag)if(this.localStorag.hasOwnProperty(e)){var n=this.localStorag[e];this.dispatch(i.Notify.Base.GET_LOCAL_STORAG,{key:e,value:n.value})}},t.prototype.dispatch=function(t,e){r.EventDispatcher.getInstance().dispatch(t,e)},t.prototype.onLocalStorag=function(t){for(var e in this.localStorag)if(this.localStorag.hasOwnProperty(e)&&e===t.key){var n=this.localStorag[e];void 0!==n.local&&void 0!==this[n.local]&&(this[n.local]=Number(t.value)),t.key===o.LocalStorageProxy.Music&&this.setEnableMusic(),t.key===o.LocalStorageProxy.Effect&&this.setEnableEffect()}},t.prototype.setMusicVolume=function(t){t>=100?t/=100:t>=10&&(t/=10),this.musicVolume=t,cc.audioEngine.setMusicVolume(t),this.dispatch(i.Notify.Base.SET_LOCAL_STORAG,{key:o.LocalStorageProxy.MusicVolume,value:t})},t.prototype.setEffectVolume=function(t){t>=100?t/=100:t>=10&&(t/=10),this.effectVolume=t,cc.audioEngine.setEffectsVolume(t),this.dispatch(i.Notify.Base.SET_LOCAL_STORAG,{key:o.LocalStorageProxy.EffectVolume,value:t})},t.prototype.setEnableMusic=function(){if(this.switchMusic>0){if(this.isMusicPlaying())return;this.playMusic(this.curMusicData)}else this.stopMusic()},t.prototype.getEnabledMusic=function(){return this.switchMusic>0},t.prototype.setEnableEffect=function(){this.switchEffect<=0&&this.stopEffect()},t.prototype.getEnabledEffect=function(){return this.switchEffect>0},t.prototype.playMusic=function(t){if(this.curMusicData=t,!(null===this.curMusicData||this.switchMusic<=0)){var e=this.BASE_PATH+t.path,n=!0;void 0!==t.loop&&(n=t.loop),this.loadMusic(e,n)}},t.prototype.stopMusic=function(){cc.audioEngine.stopMusic()},t.prototype.stopEffect=function(){cc.audioEngine.stopAllEffects()},t.prototype.pauseAll=function(){cc.audioEngine.pauseMusic()},t.prototype.resumeMusic=function(){cc.audioEngine.resumeMusic()},t.prototype.isMusicPlaying=function(){return cc.audioEngine.isMusicPlaying()},t.prototype.playEffect=function(t){if(!(this.switchEffect<=0)){var e=this.BASE_PATH+t.path,n=!1,o=null;void 0!==t.loop&&(n=t.loop),void 0!==t.cb&&(o=t.cb),this.loadEffect(e,n,o)}},t.prototype.setFinishCallback=function(t,e){cc.audioEngine.setFinishCallback(t,function(){e.call()})},t.prototype.loadEffect=function(t,e,n){if(this.cacheAudioClip.has(t)){var o=this.cacheAudioClip.get(t);if(s.ComUtils.isNotNull(o))return void this.playAudioClip(o,e,n)}else cc.resources.load(t,cc.AudioClip,function(o,i){o?c.Logger.warn("WARN : playEffect loadRes faile url=",t):(this.cachePaths.includes(t)&&this.cacheAudioClip.set(t,i),this.playAudioClip(i,e,n))}.bind(this))},t.prototype.playAudioClip=function(t,e,n){var o=!1;void 0!==e&&(o=e);var i=cc.audioEngine.playEffect(t,o);n&&this.setFinishCallback(i,n)},t.prototype.loadMusic=function(t,e){cc.resources.load(t,cc.AudioClip,function(t,n){if(t)c.Logger.warn("WARN : playMusic loadRes faile");else{var o=!0;void 0!==e&&(o=e),cc.audioEngine.playMusic(n,o)}})},t.instance=null,t}();n.AudioManager=l,cc._RF.pop()},{"../../app/const/AudioFile":"AudioFile","../../app/event/Notify":"Notify","../../app/model/LocalDataProxy":"LocalDataProxy","../event/EventDispatcher":"EventDispatcher","../utils/ComUtils":"ComUtils","../utils/Logger":"Logger"}],AwardAnim:[function(t,e,n){"use strict";cc._RF.push(e,"f8045bqlo9A0rK1BZ/3CREN","AwardAnim");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.AwardAnim=void 0;var a,s=t("./../const/Global"),c=t("./../../lib/utils/ComUtils"),l=t("../../lib/base/CxCompExt"),u=t("../event/Notify"),d=t("../const/AudioFile"),p=t("../../lib/base/ComPopup"),h=t("../event/GuiEvent");(function(t){t[t.COPY_NODE=1]="COPY_NODE",t[t.LIGHT_EFFECT=2]="LIGHT_EFFECT",t[t.GOLD=100]="GOLD",t[t.LABEL=1e3]="LABEL"})(a||(a={}));var f=cc._decorator,g=f.ccclass,_=f.property,y=f.requireComponent,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pfGold=null,e.labAddNum=null,e.skeleton=null,e.targetFrom=0,e}var n;return i(e,t),n=e,e.prototype.initEvent=function(){t.prototype.initEvent.call(this),this.bindEvent(h.GuiEvent.Anim.AWARD_PUT_ICON_POS,this.onPutAwardPos)},e.prototype.init=function(e){t.prototype.init.call(this),this.addNum=e.awardNum,this.scene=e.scene,this.fromPos=cc.Vec2.ZERO},e.prototype.isLobbyScene=function(){return this.scene===s.gSceneType.Lobby},e.prototype.start=function(){if(this.dispatch(h.GuiEvent.Anim.AWARD_GET_ICON_POS),null!=this.targetPos){this.isLobbyScene()?this.fromPos=cc.Vec2.ZERO:this.fromPos=cc.v2(0,250),this.dispatch(u.Notify.Base.PLAY_EFFECT,{path:d.AudioFile.Com.ADD_GOLD}),this.delayCall(this.close.bind(this),2.5);for(var t=0;t<13;t++){var e=cc.instantiate(this.pfGold);if(e.parent=this.node,e.zIndex=13-t+a.GOLD,!e)return;this.runGoldAnim(e,n.goldInitPos[t],t)}this.delayCall(this.addNumAnim.bind(this),1.3)}else this.close()},e.prototype.runGoldAnim=function(t,e,n){cc.tween(t).set({scale:.3,x:this.fromPos.x,y:this.fromPos.y}).delay(.03*n).call(function(){t.getComponent(cc.Animation).play()}).to(.53,{scale:.9,x:e.x+this.fromPos.x,y:e.y+this.fromPos.y}).set({zIndex:n+a.GOLD}).parallel(cc.tween().to(.97,{x:this.targetPos.x,y:this.targetPos.y}),cc.tween().delay(.9).call(function(){var e=t.getComponent(cc.Animation),n=e.getAnimationState("GoldAnim");e.setCurrentTime(n.duration/2),e.stop()})).set({active:!1}).start()},e.prototype.addNumAnim=function(){if(this.skeleton){var t=this.skeleton.node.parent.convertToNodeSpace(this.toWorldPos);this.skeleton.animation="fjb_g",this.skeleton.node.active=!0,this.skeleton.node.x=t.x,this.skeleton.node.y=t.y,this.skeleton.node.zIndex=a.LIGHT_EFFECT}this.labAddNum&&(t=this.labAddNum.node.parent.convertToNodeSpace(this.toWorldPos),this.labAddNum.string="+"+c.ComUtils.formatGoldStr(this.addNum||0),this.labAddNum.node.x=t.x+60,this.labAddNum.node.y=t.y,this.labAddNum.node.zIndex=a.LABEL,this.labAddNum.node.opacity=0,this.labAddNum.node.active=!0,cc.tween(this.labAddNum.node).parallel(cc.tween().to(.2,{opacity:255}).delay(.2).to(.6,{opacity:0}),cc.tween().by(1,{y:50})).start())},e.prototype.onPutAwardPos=function(t){t.tPos&&(this.toWorldPos=t.tPos,this.targetPos=this.node.convertToNodeSpaceAR(t.tPos),this.targetNode=t.node,this.targetFrom=t.from,this.unschedule(this.playPutAnim),this.scheduleOnce(this.playPutAnim,.1))},e.prototype.playPutAnim=function(){if(this.targetNode){this.isLobbyScene()?this.targetPos.y-=this.targetNode.height/2:this.targetPos.y+=this.targetNode.height/2;var t=this.targetNode.parent.convertToWorldSpaceAR(this.targetNode.position),e=this.node.convertToNodeSpace(t),n=cc.instantiate(this.targetNode);n.x=e.x,n.y=e.y,n.zIndex=a.COPY_NODE,n.opacity=0;var o=n.getComponent(cc.Widget);o&&(o.enabled=!1),n.parent=this.node,cc.tween(n).delay(.5).set({opacity:255}).to(.3,{scale:1.2}).delay(1.1).to(.1,{scale:1}).to(.1,{opacity:0}).call(function(){}).start()}},e.prototype.onDestroy=function(){this.unschedule(this.playPutAnim),t.prototype.onDestroy.call(this)},e.goldInitPos=[cc.v3(-120,53),cc.v3(-93,-54),cc.v3(111,50),cc.v3(107,-119),cc.v3(-43,48),cc.v3(-38,-113),cc.v3(64,-86),cc.v3(79,60),cc.v3(-145,5),cc.v3(-70,-36),cc.v3(85,4),cc.v3(21,46),cc.v3(0,-78)],r([_(cc.Prefab)],e.prototype,"pfGold",void 0),r([_(cc.Label)],e.prototype,"labAddNum",void 0),r([_(sp.Skeleton)],e.prototype,"skeleton",void 0),n=r([g,y(p.ComPopup)],e)}(l.CxCompExt);n.AwardAnim=m,cc._RF.pop()},{"../../lib/base/ComPopup":"ComPopup","../../lib/base/CxCompExt":"CxCompExt","../const/AudioFile":"AudioFile","../event/GuiEvent":"GuiEvent","../event/Notify":"Notify","./../../lib/utils/ComUtils":"ComUtils","./../const/Global":"Global"}],BankruptBonusDlg:[function(t,e,n){"use strict";cc._RF.push(e,"4f06dYONy1JyLEYevilBsfE","BankruptBonusDlg");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.BankruptBonusDlg=void 0;var a=t("../../../lib/base/Callback"),s=t("../../../lib/base/CxComponent"),c=t("../../../lib/i18n/i18nHelper"),l=t("../../../lib/utils/ComUtils"),u=t("../../const/Global"),d=t("../../event/Notify"),p=t("../../language/LanguageCfg"),h=t("../../model/AdDataProxy"),f=t("../../model/DataProxy"),g=t("../ComUI"),_=t("./BonusRewardItem"),y=cc._decorator,m=y.ccclass,b=y.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labUsedCount=null,e.labTotalCount=null,e.labBonusTips=null,e.pDefReward=null,e.pExtReward=null,e.btnWatchVideo=null,e.btnNormalClaim=null,e.richLabTips=null,e.bRecv=!1,e}return i(e,t),e.prototype.init=function(t){this.viewData=t.msgData},e.prototype.listEvent=function(){return new Map([[d.Notify.FFD.RTN_FFD_SCENEDATA,this.updateViewData],[d.Notify.AD.CANCELED,this.onAdCanceled],[d.Notify.AD.REWARD,this.onAdReward]])},e.prototype.start=function(){if(this.labBonusTips&&(this.labBonusTips.string=c.i18nHelper.getLanguage(p.LangKey.video_lottery_tips)),this.richLabTips){var t=c.i18nHelper.getLanguage([p.LangKey.video_to_free,this.viewData.usedCount,this.viewData.totalCount]);this.richLabTips.string=t}this.labUsedCount&&(this.labUsedCount.string=""+this.viewData.usedCount),this.labTotalCount&&(this.labTotalCount.string="/"+this.viewData.totalCount+"\uff09"),this.btnWatchVideo&&(this.btnWatchVideo.node.on("click",this.onWatchVideoClicked,this),this.btnWatchVideo.node.active=!1),this.btnNormalClaim&&(this.btnNormalClaim.node.on("click",this.onNormalClaimClicked,this),this.btnNormalClaim.node.active=!1),this.setVerticalOffset(),this.updateView()},e.prototype.initSingleRewardView=function(){this.viewData.bCanGG?(this.btnWatchVideo&&(this.btnWatchVideo.node.active=!0),this.btnNormalClaim&&(this.btnNormalClaim.node.active=!1),this.viewData&&this.viewData.awardList&&this.pExtReward&&(this.viewData.awardList[0]?(this.pExtReward.init(this.viewData.awardList[0]),this.pExtReward.setCallback(new a.Callback(this,this.onWatchVideoClicked,this.viewData.adSceneId))):(this.pExtReward.node.active=!1,this.pDefReward&&this.pDefReward.setSwitchBtn(!0)))):(this.btnWatchVideo&&(this.btnWatchVideo.node.active=!1),this.btnNormalClaim&&(this.btnNormalClaim.node.active=!0),this.pDefReward&&this.viewData&&this.viewData.defReward&&(this.viewData.defReward.index=1,this.pDefReward.init(this.viewData.defReward),this.pDefReward.setSwitchBtn(!1),this.pDefReward.setCallback(new a.Callback(this,this.onNormalClaimClicked))))},e.prototype.initTwoRewardView=function(){this.pDefReward&&this.viewData&&this.viewData.defReward&&(this.pDefReward.init(this.viewData.defReward),this.pDefReward.setSwitchBtn(!1),this.pDefReward.setCallback(new a.Callback(this,this.onNormalClaimClicked))),this.viewData&&this.viewData.awardList&&this.pExtReward&&(this.viewData.awardList[0]?(this.pExtReward.init(this.viewData.awardList[0]),this.pExtReward.setCallback(new a.Callback(this,this.onWatchVideoClicked,this.viewData.adSceneId))):(this.pExtReward.node.active=!1,this.pDefReward&&this.pDefReward.setSwitchBtn(!0)))},e.prototype.updateView=function(){this.viewData.bSingle?this.initSingleRewardView():this.initTwoRewardView(),this.viewData&&this.viewData.placementID&&this.dispatch(d.Notify.AD.LOAD_VIDEO,{userId:f.DataProxy.getInstance().userData.userId,placementID:this.viewData.placementID,adSceneId:h.RVADSceneID.PC})},e.prototype.updateViewData=function(t){t&&t.adSceneId===h.RVADSceneID.PC&&(this.viewData=this.viewData||{},this.viewData.placementID=t.placementID,this.viewData.awardList=t.awardList||[],this.viewData.bCanGG=t.bCanGG,this.viewData.adSceneId=t.adSceneId,this.viewData.bSingle=!0,this.viewData.defCanShow&&this.viewData.bCanGG?(this.viewData.bSingle=!1,this.updateView()):!1===this.viewData.defCanShow&&this.updateView())},e.prototype.onWatchVideoClicked=function(){cc.sys.isBrowser?this.onAdReward(this.viewData.adSceneId):this.dispatch(d.Notify.AD.OPEN_VIDEO,this.viewData.adSceneId)},e.prototype.onNormalClaimClicked=function(){this.bRecv=!0,this.dispatch(d.Notify.Other.GET_BRANKRUPT_GOLD),this.close()},e.prototype.onAdReward=function(t){this.bRecv=!0,this.dispatch(d.Notify.FFD.REQ_REWARD,t),this.close()},e.prototype.onAdCanceled=function(){g.ComUI.showToast(l.ComUtils.getLang(p.LangKey.close_video_ad_tips))},e.prototype.onDestroy=function(){this.bRecv||this.dispatch(d.Notify.Other.GET_GOLD_LAYER,{from:u.eGoldHelpType.HELP}),t.prototype.onDestroy.call(this)},r([b({type:cc.Label,tooltip:"\u5df2\u7ecf\u9886\u8fc7\u5956\u7684\u6b21\u6570"})],e.prototype,"labUsedCount",void 0),r([b({type:cc.Label,tooltip:"\u4e00\u5171\u80fd\u9886\u5956\u7684\u6b21\u6570"})],e.prototype,"labTotalCount",void 0),r([b({type:cc.Label,tooltip:"\u63d0\u793a\u4fe1\u606f"})],e.prototype,"labBonusTips",void 0),r([b({type:_.BonusRewardItem,tooltip:"\u9ed8\u8ba4\u5956\u52b1"})],e.prototype,"pDefReward",void 0),r([b({type:_.BonusRewardItem,tooltip:"\u9644\u52a0\u5956\u52b1"})],e.prototype,"pExtReward",void 0),r([b({type:cc.Button,tooltip:"\u89c2\u770b\u6309\u94ae\u9886\u53d6"})],e.prototype,"btnWatchVideo",void 0),r([b({type:cc.Button,tooltip:"\u666e\u901a\u9886\u53d6"})],e.prototype,"btnNormalClaim",void 0),r([b({type:cc.RichText,tooltip:"\u63d0\u793a\u4fe1\u606f"})],e.prototype,"richLabTips",void 0),r([m],e)}(s.CxComponent);n.BankruptBonusDlg=v,cc._RF.pop()},{"../../../lib/base/Callback":"Callback","../../../lib/base/CxComponent":"CxComponent","../../../lib/i18n/i18nHelper":"i18nHelper","../../../lib/utils/ComUtils":"ComUtils","../../const/Global":"Global","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../../model/AdDataProxy":"AdDataProxy","../../model/DataProxy":"DataProxy","../ComUI":"ComUI","./BonusRewardItem":"BonusRewardItem"}],BankruptDlg:[function(t,e,n){"use strict";cc._RF.push(e,"e78a6fkAIFNO79Evesvgld1","BankruptDlg");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.BankruptDlg=void 0;var a=t("../../lib/base/ComPopup"),s=t("../../lib/base/CxComponent"),c=t("../event/Notify"),l=cc._decorator,u=l.ccclass,d=l.property,p=l.requireComponent,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spBg=null,e.labTitle=null,e.labTips=null,e.btnGet=null,e.closeEvent=null,e}return i(e,t),e.prototype.init=function(t){t=t||{},this.labTitle&&(this.labTitle.string=t.title||"\u60a8\u7834\u4ea7\u4e86"),this.labTips&&(this.labTips.string=t.tips||""),t.cb&&"string"==typeof t.cb&&(this.closeEvent=t.cb)},e.prototype.start=function(){this.btnGet&&this.btnGet.node.on("click",this.onGetBtnClick,this)},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),this.closeEvent&&this.dispatch(this.closeEvent)},e.prototype.onGetBtnClick=function(){this.closeEvent=null,this.dispatch(c.Notify.Other.GET_BRANKRUPT_GOLD),this.onClose()},e.prototype.onClose=function(){this.node.destroy()},r([d(cc.Sprite)],e.prototype,"spBg",void 0),r([d(cc.Label)],e.prototype,"labTitle",void 0),r([d(cc.Label)],e.prototype,"labTips",void 0),r([d(cc.Button)],e.prototype,"btnGet",void 0),r([u,p(a.ComPopup)],e)}(s.CxComponent);n.BankruptDlg=h,cc._RF.pop()},{"../../lib/base/ComPopup":"ComPopup","../../lib/base/CxComponent":"CxComponent","../event/Notify":"Notify"}],BannerPosAdjust:[function(t,e,n){"use strict";cc._RF.push(e,"9510cvwn+BHwZxnJKjjk1YR","BannerPosAdjust");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.BannerPosAdjust=void 0;var a=t("./../../platform/AnyThinkSDK"),s=t("./../../../lib/utils/Display"),c=t("./../../model/DataProxy"),l=t("./../../../plugin/pb/protofile/CMD_FFDMsg"),u=t("../../../lib/base/CxComponent"),d=t("../../event/Notify"),p=cc._decorator,h=p.ccclass,f=p.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bannerType=l.BannerType.HALL,e.defPosY=0,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this);var e=this.node.getComponent(cc.Widget);this.defPosY=e?e.bottom:this.node.y;var n=c.DataProxy.getInstance().adData.getBannerIsOpenById(this.bannerType),o=a.AnyThinkSDK.getInstance().hasBanner();this.onSetBannerOnOff({type:this.bannerType,isOn:n&&o})},e.prototype.listEvent=function(){return new Map([[d.Notify.AD.SET_BANNER_ON_OFF,this.onSetBannerOnOff]])},e.prototype.onSetBannerOnOff=function(t){if(this.bannerType!==l.BannerType.GAME&&t&&t.type===this.bannerType){var e=s.Display.paddingBottom+s.Display.bannerHeight,n=this.node.getComponent(cc.Widget);n?(t.isOn?n.bottom==this.defPosY&&(n.isAbsoluteBottom?n.bottom+=e:n.bottom+=e/s.Display.height):n.bottom=this.defPosY,n.enabled=!1,n.enabled=!0):t.isOn?this.node.y==this.defPosY&&(this.node.y+=e):this.node.y=this.defPosY}},r([f({tooltip:"banner\u7684\u51fa\u73b0\u7684\u4f4d\u7f6e\uff1a\u5927\u5385 1 \u6e38\u620f 2 \u7ed3\u7b97 3"})],e.prototype,"bannerType",void 0),r([h],e)}(u.CxComponent);n.BannerPosAdjust=g,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../event/Notify":"Notify","./../../../lib/utils/Display":"Display","./../../../plugin/pb/protofile/CMD_FFDMsg":"CMD_FFDMsg","./../../model/DataProxy":"DataProxy","./../../platform/AnyThinkSDK":"AnyThinkSDK"}],Base64:[function(t,e,n){"use strict";cc._RF.push(e,"6446dra189I35KCznNbBOL6","Base64"),Object.defineProperty(n,"__esModule",{value:!0}),n.Base64=void 0;var o=function(){function t(){}return t.encode=function(e){for(var n,o,i,r,a,s,c,l="",u=0;u<e.length;)r=(n=e.charCodeAt(u++))>>2,a=(3&n)<<4|(o=e.charCodeAt(u++))>>4,s=(15&o)<<2|(i=e.charCodeAt(u++))>>6,c=63&i,isNaN(o)?s=c=64:isNaN(i)&&(c=64),l+=t.map.charAt(r)+t.map.charAt(a)+t.map.charAt(s)+t.map.charAt(c);return l},t.decodeString=function(e){var n,o,i,r,a,s,c="";e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var l=0;l<e.length;)n=t.map.indexOf(e.charAt(l++))<<2|(r=t.map.indexOf(e.charAt(l++)))>>4,o=(15&r)<<4|(a=t.map.indexOf(e.charAt(l++)))>>2,i=(3&a)<<6|(s=t.map.indexOf(e.charAt(l++))),c+=String.fromCharCode(n),64!=a&&(c+=String.fromCharCode(o)),64!=s&&(c+=String.fromCharCode(i));return c},t.decode=function(e,n){e=t.removePaddingChars(e);var o,i,r,a,s,c,l,u=(e=t.removePaddingChars(e)).length/4*3,d=0,p=0;for(o=n?new Uint8Array(n):new Uint8Array(u),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),d=0;d<u;d+=3)i=t.map.indexOf(e.charAt(p++))<<2|(s=t.map.indexOf(e.charAt(p++)))>>4,r=(15&s)<<4|(c=t.map.indexOf(e.charAt(p++)))>>2,a=(3&c)<<6|(l=t.map.indexOf(e.charAt(p++))),o[d]=i,64!=c&&(o[d+1]=r),64!=l&&(o[d+2]=a);return o},t.decodeArrayBuffer=function(e){var n=e.length/4*3,o=new ArrayBuffer(n);return t.decode(e,o),o},t.removePaddingChars=function(e){return 64==t.map.indexOf(e.charAt(e.length-1))?e.substring(0,e.length-1):e},t.base64encode=function(t){var e,n,o,i,r,a,s,c="",l=0;for(t=this._utf8_encode(t);l<t.length;)i=(e=t.charCodeAt(l++))>>2,r=(3&e)<<4|(n=t.charCodeAt(l++))>>4,a=(15&n)<<2|(o=t.charCodeAt(l++))>>6,s=63&o,isNaN(n)?a=s=64:isNaN(o)&&(s=64),c=c+this._keyStr.charAt(i)+this._keyStr.charAt(r)+this._keyStr.charAt(a)+this._keyStr.charAt(s);return c},t.base64decode=function(t){var e,n,o,i,r,a,s="",c=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<t.length;)e=this._keyStr.indexOf(t.charAt(c++))<<2|(i=this._keyStr.indexOf(t.charAt(c++)))>>4,n=(15&i)<<4|(r=this._keyStr.indexOf(t.charAt(c++)))>>2,o=(3&r)<<6|(a=this._keyStr.indexOf(t.charAt(c++))),s+=String.fromCharCode(e),64!==r&&(s+=String.fromCharCode(n)),64!==a&&(s+=String.fromCharCode(o));return this._utf8_decode(s)},t._utf8_encode=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var o=t.charCodeAt(n);o<128?e+=String.fromCharCode(o):o>127&&o<2048?(e+=String.fromCharCode(o>>6|192),e+=String.fromCharCode(63&o|128)):(e+=String.fromCharCode(o>>12|224),e+=String.fromCharCode(o>>6&63|128),e+=String.fromCharCode(63&o|128))}return e},t._utf8_decode=function(t){for(var e="",n=0,o=0,i=0,r=0;n<t.length;)(o=t.charCodeAt(n))<128?(e+=String.fromCharCode(o),n++):o>191&&o<224?(i=t.charCodeAt(n+1),e+=String.fromCharCode((31&o)<<6|63&i),n+=2):(i=t.charCodeAt(n+1),r=t.charCodeAt(n+2),e+=String.fromCharCode((15&o)<<12|(63&i)<<6|63&r),n+=3);return e},t.map="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t._keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t}();n.Base64=o,cc._RF.pop()},{}],BaseEvent:[function(t,e,n){"use strict";cc._RF.push(e,"56760N2q39Jn4ApfqaEoKFu","BaseEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.cx=void 0,function(t){(function(t){(function(t){t.CONNECTED="cx_notify_network_connected",t.CLOSED="cx_notify_network_closed",t.ERROR="cx_notify_network_error",t.RECEIVED="cx_notify_network_received"})(t.Network||(t.Network={}))})(t.Notify||(t.Notify={}))}(n.cx||(n.cx={})),cc._RF.pop()},{}],BasePopupMr:[function(t,e,n){"use strict";cc._RF.push(e,"d1c76+TH11M9qtmhNIAsL0E","BasePopupMr");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.BasePopupMr=void 0;var a=t("../../lib/base/CxCompExt"),s=t("../../lib/utils/Logger"),c=t("../event/GuiEvent"),l=t("../view/PopUpQueue"),u=t("./PopupLoader"),d=cc._decorator,p=d.ccclass,h=(d.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){t.prototype.init.call(this),this.popupLoader=this.getComponent(u.PopupLoader),this.popupLoader||s.Logger.error("[BasePopupMr onLoad] not found PopupLoader"),this.popUpQueue=this.getComponent(l.PopUpQueue),this.popUpQueue||s.Logger.warn("[BasePopupMr onLoad] not found PopUpQueue"),t.prototype.onLoad.call(this)},e.prototype.checkServerAutoPop=function(t,e){return!(!this.popUpQueue||(e&&e.autoPop?!this.popUpQueue.addPopEvent({name:t,data:e.data})||(!this.popupLoader||!this.popupLoader.isExistAutoLayer())&&(this.dispatch(c.GuiEvent.PopMsg.AUTO_POP_VIEW),0):(this.popUpQueue.rmPopEvent(t),1)))},e.prototype.recordAutoPop=function(){},e.prototype.rmInValidAutoPop=function(t){this.popUpQueue&&this.popUpQueue.rmPopEvent(t)},r([p],e)}(a.CxCompExt));n.BasePopupMr=h,cc._RF.pop()},{"../../lib/base/CxCompExt":"CxCompExt","../../lib/utils/Logger":"Logger","../event/GuiEvent":"GuiEvent","../view/PopUpQueue":"PopUpQueue","./PopupLoader":"PopupLoader"}],BaseScene:[function(t,e,n){"use strict";cc._RF.push(e,"5076ekr53FH04aVVyAjjhN7","BaseScene");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.BaseScene=void 0;var r=t("../../lib/manager/ResManager"),a=t("../../lib/utils/Logger"),s=t("../../lib/utils/ScreenAdapter"),c=t("../config/GameConfig"),l=t("../const/Global"),u=t("../../lib/base/CxCompExt"),d=t("../module/buryPoint/BuryPointUtils"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spBG=null,e.RootNode=null,e.normalLayer=null,e.effectLayer=null,e.popupLayer=null,e.replayLayer=null,e.systemLayer=null,e}return i(e,t),e.prototype.initLayer=function(){var t=this.node.getChildByName("background");t&&(this.spBG=t.getComponent(cc.Sprite)),this.RootNode=this.node.getChildByName("RootNode"),this.RootNode?(this.normalLayer=this.RootNode.getChildByName("Normal"),this.effectLayer=this.RootNode.getChildByName("Effect"),this.popupLayer=this.RootNode.getChildByName("Popup"),this.replayLayer=this.RootNode.getChildByName("Replay"),this.systemLayer=this.RootNode.getChildByName("System"),this.normalLayer||a.Logger.error("[BaseScene initLayer] not found normalLayer"),this.effectLayer||a.Logger.error("[BaseScene initLayer] not found effectLayer"),this.popupLayer||a.Logger.error("[BaseScene initLayer] not found popupLayer"),this.systemLayer||a.Logger.error("[BaseScene initLayer] not found systemLayer"),this.replayLayer||a.Logger.error("[BaseScene initLayer] not found replayLayer")):a.Logger.error("[BaseScene initLayer] not found RootNode");var e=this.node.getComponentInChildren(cc.Button);if(e&&(e.node.active=!1),c.GameConfig.isRelease()){var n=this.node.getComponentInChildren(cc.Button);n&&(n.node.active=!1)}},e.prototype.getRootNode=function(){return this.RootNode},e.prototype.getEffectLayer=function(){return this.effectLayer},e.prototype.getPopupLayer=function(){return this.popupLayer},e.prototype.getSystemLayer=function(){return this.systemLayer},e.prototype.addNode=function(t,e,n){t&&(e===l.gLayerLevel.Normal?t.parent=this.normalLayer:e===l.gLayerLevel.Effect?t.parent=this.effectLayer:e===l.gLayerLevel.Popup?t.parent=this.popupLayer:e===l.gLayerLevel.System?t.parent=this.systemLayer:e===l.gLayerLevel.Replay&&(t.parent=this.replayLayer),t.zIndex=n||0)},e.prototype.mountPrefab=function(t,e){var n=this,o=0,i=r.default.getInstance();t.forEach(function(t,e){if(t.prefab){var r=null,s=null,c=null,l=null,u=t.prefab;for(var d in o+=Object.keys(u).length,u)o--,r=u[d],(s=i.getPrefab(d,e))?(a.Logger.info("[mountPrefab] "+r.script),(c=cc.instantiate(s))?(l=c.getComponent(r.script))?(l.init&&l.init({}),n.addNode(c,r.level,r.zIndex)):a.Logger.error("[BaseScene mountPrefab] not found script of "+d+" "):a.Logger.error("[BaseScene mountPrefab] can not instantiate of "+d)):a.Logger.error("[BaseScene mountPrefab] not found prefab of "+d+" "+e)}}),0===o&&(a.Logger.info("[BaseScene mountPrefab] finished"),e&&e())},e.prototype.onLoad=function(){t.prototype.init.call(this),t.prototype.onLoad.call(this),this.initLayer(),d.BuryPointUtils.sendCache(),s.ScreenAdapter.setCanvas(cc.director.getScene().getComponentInChildren(cc.Canvas))},e.prototype.getSceneName=function(){return"BaseScene"},e.prototype.onTest=function(){var t=this;if(!c.GameConfig.isRelease()){var e=this.node.getChildByName("testlayer");e?e.active=!0:cc.assetManager.loadBundle("test",function(n,o){o&&o.load("prefab/TestLayer",cc.Prefab,function(n,o){o&&(e=cc.instantiate(o),t.node.addChild(e,1e3,"testlayer"))})})}},e}(u.CxCompExt);n.BaseScene=p,cc._RF.pop()},{"../../lib/base/CxCompExt":"CxCompExt","../../lib/manager/ResManager":"ResManager","../../lib/utils/Logger":"Logger","../../lib/utils/ScreenAdapter":"ScreenAdapter","../config/GameConfig":"GameConfig","../const/Global":"Global","../module/buryPoint/BuryPointUtils":"BuryPointUtils"}],BetaConfig:[function(t,e,n){"use strict";cc._RF.push(e,"578dfKUt2lDvYzoLuGKkGXF","BetaConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.BetaConfig=void 0;var o=t("./GameConfig"),i=function(){function t(){}return t.prototype.getGameWSUrl=function(){return"ws://testydl.wwg01.com/login"},t.prototype.getHotUpdateUrl=function(){return"http://testydl.wwg01.com/hotupdate"},t.prototype.getDownloadUrl=function(){return"http://testydl.wwg01.com/downheadimage/"},t.prototype.getUploadUrl=function(){return"http://testydl.wwg01.com/upheadimage"},t.prototype.getHttpServerUrl=function(){return"https://test.wwmj009.com/"},t.prototype.getResURL=function(){return"https://test.wwmj009.com/clientres/res/"+o.GameConfig.getInstance().getProjectId()+"/"+o.GameConfig.getInstance().getResVersion()},t.prototype.getHeadFolder=function(){return"uploadhead"},t.prototype.getHistoryListUrl=function(){return"https://www.test.wwmj009.com/fkzjlog"},t.prototype.getHistoryDetail=function(){return""},t.prototype.getStatsUrl=function(){return""},t.prototype.getPrivacyUrl=function(){return"http://res.puligame.com/privacy"},t.prototype.getProtocolUrl=function(){return"http://res.puligame.com/protocol"},t.prototype.getBuryPointUrl=function(){return"http://testydl.wwg01.com/tongji"},t.prototype.getRobotHeadUrl=function(t){return"http://testydl.wwg01.com/robotimage/"+t+".jpg"},t.prototype.getBundleUrl=function(){return"http://192.168.3.121/remote/"},t.prototype.getQueryOrderUrl=function(){return"orderno"},t}();n.BetaConfig=i,cc._RF.pop()},{"./GameConfig":"GameConfig"}],BitmapChar:[function(t,e,n){"use strict";cc._RF.push(e,"12c24XGn+JORpfyhVWRr8+s","BitmapChar");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.BitmapChar=void 0;var a=cc._decorator,s=a.ccclass,c=a.property,l=a.executeInEditMode,u=a.disallowMultiple,d=a.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pSpriteAtlas=null,e.pCharName="name_%s",e.pCharWidth=0,e.pCharHeight=0,e.pOffset=0,e}var n;return i(e,t),n=e,e.prototype.getCharWidth=function(){return this.pCharWidth||0},e.prototype.getCharHeight=function(){return this.pCharHeight||0},e.prototype.setString=function(t,e,n){if(t&&e&&e.length>0){var o=this.getCharWidth(),i=this.getCharHeight(),r=e.length,a=o*r+(r-1)*this.pOffset;t.width=a,t.height=i,t.anchorX=.5,t.anchorY=.5;var s=t.childrenCount;if(s>0)if(t.getChildByName("node_0"))for(var c=0;c<s;c++){var l=t.getChildByName("node_"+c);l&&(c<e.length?l.active=!1:l.removeFromParent())}else t.removeAllChildren();if(n&&(this.pCharName=n),this.pCharName&&this.pCharName.match("%s"))for(c=0;c<e.length;c++){var u=e.charAt(c);if(null!=u){var d=cc.js.formatStr(this.pCharName,u);if(d){var p=this.getSpriteFrame(d);if(p){var h=this.buildCharNode(t,c,p),f=-a/2+c*o+o/2+c*this.pOffset;h.x=f,h.y=0,h.anchorX=.5,h.anchorY=.5,h.name="node_"+c,h.active=!0,h.parent=t}}}}}},e.prototype.buildCharNode=function(t,e,n){var o=t.getChildByName("node_"+e);o||(o=new cc.Node);var i=o.getComponent(cc.Sprite);return i||(i=o.addComponent(cc.Sprite)),i.spriteFrame=n,o},e.prototype.getSpriteFrame=function(t){return this.pSpriteAtlas?this.pSpriteAtlas.getSpriteFrame(t):null},e.prototype.test=function(t){if(t){var e=t.getComponent(n);e&&e.setString(t,"101K","chip_text_green_%s")}},r([c({tooltip:"\u6587\u672c\u4f4d\u56fe\u6240\u5728\u56fe\u96c6",type:cc.SpriteAtlas})],e.prototype,"pSpriteAtlas",void 0),r([c({tooltip:"\u4f4d\u56fe\u540d\u79f0\u683c\u5f0f\uff0c\u4f4d\u56fe\u6587\u4ef6\u540d\u79f0\u4e3a chip_text_1, chip_text_2, \u5219\u53d6\u683c\u5f0f\u4e3a:chip_text_%s"})],e.prototype,"pCharName",void 0),r([c({tooltip:"\u5b57\u7b26\u5bbd\u5ea6"})],e.prototype,"pCharWidth",void 0),r([c({tooltip:"\u5b57\u7b26\u9ad8\u5ea6"})],e.prototype,"pCharHeight",void 0),r([c({tooltip:"\u5b57\u7b26\u95f4\u9694,\u53ef\u4ee5\u4e3a\u8d1f\u6570,\u9ed8\u8ba4\u4e3a0"})],e.prototype,"pOffset",void 0),n=r([s,l,u,d("\u81ea\u5b9a\u4e49/BitmapChar")],e)}(cc.Component);n.BitmapChar=p,cc._RF.pop()},{}],BitmapText:[function(t,e,n){"use strict";cc._RF.push(e,"2e65eOvsTpIdI9BZ5wUuAhH","BitmapText");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.BitmapText=void 0;var a=cc._decorator,s=a.ccclass,c=a.property,l=a.executeInEditMode,u=a.disallowMultiple,d=a.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pSpriteAtlas=null,e.pBitMap=null,e.pCharWidth=0,e.pCharHeight=0,e.pCharStart="0",e.pOffset=0,e}var n;return i(e,t),n=e,e.prototype.getCharWidth=function(){return this.pCharWidth||0},e.prototype.getCharHeight=function(){return this.pCharHeight||0},e.prototype.getCharStar=function(){var t=this.pCharStart;return t||(t="0"),t.charCodeAt(0)},e.prototype.setString=function(t,e,n){if(t&&e&&e.length>0){var o=this.getCharWidth(),i=this.getCharHeight(),r=this.getCharStar(),a=e.length,s=o*a+(a-1)*this.pOffset;t.width=s,t.height=i,t.anchorX=.5,t.anchorY=.5;var c=t.childrenCount;if(c>0)if(t.getChildByName("node_0"))for(var l=0;l<c;l++){var u=t.getChildByName("node_"+l);u&&(l<e.length?u.active=!1:u.removeFromParent())}else t.removeAllChildren();for(n&&this.setTextImage(n),l=0;l<e.length;l++){var d=e.charCodeAt(l);if(null!=d){var p=d-r;if(p>=0){var h=-s/2+l*o+o/2+l*this.pOffset,f=this.getOneCharNode(t,l,p,o,i);f.x=h,f.y=0,f.anchorX=.5,f.anchorY=.5,f.name="node_"+l,f.active=!0,f.parent=t}}}}},e.prototype.getOneCharNode=function(t,e,n,o,i){var r=t.getChildByName("node_"+e);r||(r=new cc.Node);var a=r.getComponent(cc.Sprite);return a||(a=r.addComponent(cc.Sprite)),a.spriteFrame=this.getSpriteFrame(n,o,i),r},e.prototype.getSpriteFrame=function(t,e,n){var o=this.pBitMap.clone(),i=new cc.Rect(o.getRect().x+t*e,o.getRect().y,e,n);return o.setRect(i),o},e.prototype.setTextImage=function(t){if(this.pSpriteAtlas){var e=this.pSpriteAtlas.getSpriteFrame(t);e&&(this.pBitMap=e)}},e.prototype.test=function(t){if(t){var e=t.getComponent(n);e&&e.setString(t,"123")}},r([c({tooltip:"\u6587\u672c\u4f4d\u56fe\u6240\u5728\u56fe\u96c6",type:cc.SpriteAtlas})],e.prototype,"pSpriteAtlas",void 0),r([c({tooltip:"\u6587\u672c\u4f4d\u56fe",type:cc.SpriteFrame})],e.prototype,"pBitMap",void 0),r([c({tooltip:"\u5b57\u7b26\u5bbd\u5ea6"})],e.prototype,"pCharWidth",void 0),r([c({tooltip:"\u5b57\u7b26\u9ad8\u5ea6"})],e.prototype,"pCharHeight",void 0),r([c({tooltip:"\u8d77\u59cb\u5b57\u7b26, \u57fa\u4e8eASCII\u7f16\u7801\u987a\u5e8f"})],e.prototype,"pCharStart",void 0),r([c({tooltip:"\u5b57\u7b26\u95f4\u9694,\u53ef\u4ee5\u4e3a\u8d1f\u6570,\u9ed8\u8ba4\u4e3a0"})],e.prototype,"pOffset",void 0),n=r([s,l,u,d("\u81ea\u5b9a\u4e49/BitmpaText")],e)}(cc.Component);n.BitmapText=p,cc._RF.pop()},{}],BonusDlg:[function(t,e,n){"use strict";cc._RF.push(e,"17db3nnDJZDG7G2TpQ4M/mx","BonusDlg");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.BonusDlg=void 0;var a=t("../../../lib/base/CxComponent"),s=t("../../../lib/utils/ComUtils"),c=t("../../const/Global"),l=t("../../event/Notify"),u=t("../../language/LanguageCfg"),d=t("../../model/ActivityDataProxy"),p=t("../../model/DataProxy"),h=t("./FreeBonusPage"),f=t("./GoldenBonusPage"),g=cc._decorator,_=g.ccclass,y=g.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ndBonusPage=null,e.toggleFree=null,e.toggleGolden=null,e.ndGoldenPassPage=null,e.labFree=null,e.labGolden=null,e.selectedColor=new cc.Color,e.selectedOutlineColor=new cc.Color,e.unSelectedColor=new cc.Color(0,0,0),e.unSelectedOutlineColor=new cc.Color,e.reddotFree=null,e.reddotGolden=null,e.bInFreePage=!1,e.isVip=!1,e}return i(e,t),e.prototype.init=function(){this.isVip=p.DataProxy.getInstance().userData.bIsGoldenPass,this.multiLanguage()},e.prototype.start=function(){this.initPage()},e.prototype.initPage=function(){this.FreeRedPoint(),this.GoldenRedPoint(),this.isVip?p.DataProxy.getInstance().glodenPassData.getRedPoint().dwRedPointNum>0?this.showGoldenBonusPage():this.showFreeBonusPage():p.DataProxy.getInstance().taskData.getTaskRedPoint(d.gRedDot.CD_TASK)>0?this.showFreeBonusPage():this.showGoldenBonusPage()},e.prototype.multiLanguage=function(){this.toggleFree.node.getComponentInChildren(cc.Label).string=s.ComUtils.getLang(u.LangKey.bonus_title_free),this.toggleGolden.node.getComponentInChildren(cc.Label).string=s.ComUtils.getLang(u.LangKey.bonus_title_golden)},e.prototype.listEvent=function(){return new Map([[l.Notify.GoldenPass.SUBSCRIBE_SUCC,this.buySucc],[l.Notify.GoldenPass.RESP_GOLDEN_BONUS_REDPOINT,this.onGoldenRedPointChange],[l.Notify.Activity.CHANGE_REDDOT_NUM,this.onFreeRedPointChange],[l.Notify.GoldenPass.SWICH_BONUS_PAGE,this.onSwitchPage],[l.Notify.GoldenPass.RESP_RECV_DAILY_REWARD,this.reqLatestGolenRedpoint]])},e.prototype.onClickToggleFreeBonus=function(){this.showFreeBonusPage()},e.prototype.onClickToggleGoldenBonus=function(){this.showGoldenBonusPage()},e.prototype.showFreeBonusPage=function(){cc.log("\u663e\u793a free"),this.bInFreePage=!0,this.labFree.node.color=this.selectedColor,this.labFree.node.getComponent(cc.LabelOutline).color=this.selectedOutlineColor,this.labGolden.node.color=this.unSelectedColor,this.labGolden.node.getComponent(cc.LabelOutline).color=this.unSelectedOutlineColor,this.ndBonusPage.active=!0,this.ndGoldenPassPage.active=!1,this.ndBonusPage.getComponent(h.FreeBonusPage).initView(),this.updateCheck()},e.prototype.showGoldenBonusPage=function(){cc.log("\u663e\u793a godlen"),this.bInFreePage=!1,this.labGolden.node.color=this.selectedColor,this.labGolden.node.getComponent(cc.LabelOutline).color=this.selectedOutlineColor,this.labFree.node.color=this.unSelectedColor,this.labFree.node.getComponent(cc.LabelOutline).color=this.unSelectedOutlineColor,this.ndBonusPage.active=!1,this.ndGoldenPassPage.active=!0,this.ndGoldenPassPage.getComponent(f.GoldenBonusPage).initView(),this.updateCheck()},e.prototype.FreeRedPoint=function(){var t=p.DataProxy.getInstance().taskData.getTaskRedPoint(d.gRedDot.CD_TASK);cc.log("free bonus \u7ea2\u70b9\u6570",t),this.reddotFree.active=t>0},e.prototype.GoldenRedPoint=function(){if(this.isVip){var t=p.DataProxy.getInstance().glodenPassData.getRedPoint().dwRedPointNum;cc.log("golden bonus \u7ea2\u70b9\u6570",t),this.reddotGolden.active=t>0}else this.reddotGolden.active=!0},e.prototype.onFreeRedPointChange=function(t){if(this.reddotFree.active=!1,t.activityId==d.gRedDot.CD_TASK){var e=t.redcount>0;this.reddotFree.active=e}},e.prototype.updateCheck=function(){this.toggleFree.isChecked=this.bInFreePage,this.toggleGolden.isChecked=!this.bInFreePage},e.prototype.onGoldenRedPointChange=function(){this.GoldenRedPoint()},e.prototype.reqLatestGolenRedpoint=function(){this.dispatch(l.Notify.GoldenPass.REQ_GOLDEN_BONUS_REDPOINT)},e.prototype.onSwitchPage=function(t){if(cc.log("\u5207\u6362\u754c\u9762",t),null==t||null==t)this.initPage();else if(this.FreeRedPoint(),this.GoldenRedPoint(),t==c.BonusPage.GOLDEN_BONUS)this.isVip?p.DataProxy.getInstance().glodenPassData.getRedPoint().dwRedPointNum>0&&this.showGoldenBonusPage():this.showGoldenBonusPage();else{var e=p.DataProxy.getInstance().taskData.getTaskRedPoint(d.gRedDot.CD_TASK);cc.log("free \u7ea2\u70b9\u6570",e),e>0&&this.showFreeBonusPage()}},e.prototype.buySucc=function(t){t.succ&&(this.isVip=!0)},r([y({type:cc.Node,tooltip:"bonus\u8282\u70b9"})],e.prototype,"ndBonusPage",void 0),r([y({type:cc.Toggle,tooltip:"toggleFree \u6309\u94ae"})],e.prototype,"toggleFree",void 0),r([y({type:cc.Toggle,tooltip:"toggleGolden \u6309\u94ae"})],e.prototype,"toggleGolden",void 0),r([y({type:cc.Node,tooltip:"\u9ec4\u91d1\u901a\u884c\u8bc1\u8282\u70b9"})],e.prototype,"ndGoldenPassPage",void 0),r([y({type:cc.Label,tooltip:"Toggle Free\u6587\u5b57"})],e.prototype,"labFree",void 0),r([y({type:cc.Label,tooltip:"Toggle Golden\u6587\u5b57"})],e.prototype,"labGolden",void 0),r([y(cc.Color)],e.prototype,"selectedColor",void 0),r([y(cc.Color)],e.prototype,"selectedOutlineColor",void 0),r([y(cc.Color)],e.prototype,"unSelectedColor",void 0),r([y(cc.Color)],e.prototype,"unSelectedOutlineColor",void 0),r([y({type:cc.Node,tooltip:"Free\u7ea2\u70b9"})],e.prototype,"reddotFree",void 0),r([y({type:cc.Node,tooltip:"Golden\u7ea2\u70b9"})],e.prototype,"reddotGolden",void 0),r([_],e)}(a.CxComponent);n.BonusDlg=m,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../../lib/utils/ComUtils":"ComUtils","../../const/Global":"Global","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../../model/ActivityDataProxy":"ActivityDataProxy","../../model/DataProxy":"DataProxy","./FreeBonusPage":"FreeBonusPage","./GoldenBonusPage":"GoldenBonusPage"}],BonusRewardItem:[function(t,e,n){"use strict";cc._RF.push(e,"2d3f65cRP5Eh6OeKc1F20mp","BonusRewardItem");var o,i,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.BonusRewardItem=void 0;var s=t("../../../lib/base/CxComponent"),c=t("../../../lib/utils/ComUtils"),l=t("../../const/Global"),u=t("../ComUI"),d=cc._decorator,p=d.ccclass,h=d.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labRewardNum=null,e.labRewardType=null,e.spRewardIcon=null,e.spRewardBg=null,e.btnWatchVideo=null,e.btnWatchVideoGray=null,e.btnNormalClaim=null,e}var n;return r(e,t),n=e,e.prototype.init=function(t){var e=n.AWARD[t.type];if(e){var o="";if(t.type===l.gShopHBType.CHIPS)o=e.pic;else if(void 0!==t.index){var i=t.index%4;0===i&&(i=1),o=""+e.pic+i}else o=e.pic+"2";this.spRewardIcon&&u.ComUI.setSprite(this.spRewardIcon.node,o),this.spRewardBg&&u.ComUI.setSprite(this.spRewardBg.node,e.bg),this.labRewardNum&&(this.labRewardNum.string=""+c.ComUtils.formatGoldStr(t.num)),this.labRewardType&&(this.labRewardType.string=e.name||"")}},e.prototype.setCallback=function(t){this.fnClaimCB=t},e.prototype.setSwitchBtn=function(t){this.btnNormalClaim&&(this.btnNormalClaim.node.active=t),this.btnWatchVideoGray&&(this.btnWatchVideoGray.node.active=!t),this.btnWatchVideo&&(this.btnWatchVideo.interactable=t)},e.prototype.setBtnUnenable=function(){this.btnWatchVideo&&(this.btnWatchVideo.interactable=!1,u.ComUI.enableNodeGray(this.btnWatchVideo.node,!0)),this.btnNormalClaim&&(this.btnNormalClaim.interactable=!1,u.ComUI.enableNodeGray(this.btnNormalClaim.node,!0))},e.prototype.start=function(){this.btnNormalClaim&&this.btnNormalClaim.node.on("click",this.onClickedCallback,this),this.btnWatchVideoGray&&this.btnWatchVideoGray.node.on("click",this.onClickedCallback,this),this.btnWatchVideo&&this.btnWatchVideo.node.on("click",this.onClickedCallback,this)},e.prototype.setBtnString=function(t){this.btnNormalClaim&&(this.btnNormalClaim.getComponentInChildren(cc.Label).string=t),this.btnWatchVideo&&(this.btnWatchVideo.getComponentInChildren(cc.Label).string=t)},e.prototype.onClickedCallback=function(){this.fnClaimCB&&this.fnClaimCB.call()},e.AWARD=((i={})[l.gShopHBType.GOLD]={pic:"shop_item_gold_icon_",bg:"com_award_bg_yellow",name:"Coins"},i[l.gShopHBType.POWER]={pic:"shop_power_icon_",bg:"com_award_bg_blue",name:"Tokens"},i[l.gShopHBType.CHIPS]={pic:"com_piece_icon_b",bg:"com_award_bg_yellow",name:"Chips"},i),a([h({type:cc.Label,tooltip:"\u5956\u52b1\u6570\u91cf"})],e.prototype,"labRewardNum",void 0),a([h({type:cc.Label,tooltip:"\u5956\u52b1\u7c7b\u578b"})],e.prototype,"labRewardType",void 0),a([h({type:cc.Sprite,tooltip:"\u5956\u52b1\u56fe\u7247"})],e.prototype,"spRewardIcon",void 0),a([h({type:cc.Sprite,tooltip:"\u5956\u52b1\u80cc\u666f"})],e.prototype,"spRewardBg",void 0),a([h({type:cc.Button,tooltip:"\u89c2\u770b\u6309\u94ae\u9886\u53d6"})],e.prototype,"btnWatchVideo",void 0),a([h({type:cc.Button,tooltip:"\u7070\u8272\u89c2\u770b\u6309\u94ae"})],e.prototype,"btnWatchVideoGray",void 0),a([h({type:cc.Button,tooltip:"\u666e\u901a\u9886\u53d6"})],e.prototype,"btnNormalClaim",void 0),n=a([p],e)}(s.CxComponent);n.BonusRewardItem=f,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../../lib/utils/ComUtils":"ComUtils","../../const/Global":"Global","../ComUI":"ComUI"}],BoostGiftItem:[function(t,e,n){"use strict";cc._RF.push(e,"e74d3NfG21Nb795y7C+7Qla","BoostGiftItem");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../lib/base/CxCompExt"),s=t("../../../lib/base/Language"),c=t("../../../lib/utils/ComUtils"),l=t("../../const/Global"),u=t("../../event/Notify"),d=t("../ComUI"),p=cc._decorator,h=p.ccclass,f=p.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnBuy=null,e.labOriginPrice=null,e.labNowPrice=null,e.labTips=null,e.spTips=null,e.spPower=null,e.labPower=null,e.spGold=null,e.labGold=null,e.tipsFrames=[],e.goldFrames=[],e.mGoodsInfo=null,e.delayLock=!0,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.btnBuy&&this.btnBuy.node.on("click",this.onClickBuy,this)},e.prototype.updateItem=function(t,e,n){var o=this,i=e;if(this.mGoodsInfo=i,this.labOriginPrice&&(this.labOriginPrice.string=c.ComUtils.getCurrencySymbol(i.dwCurrencyType)+""+i.dwForeSrcNum/100),this.labNowPrice&&(this.labNowPrice.string=c.ComUtils.getCurrencySymbol(i.dwCurrencyType)+""+i.dwSrcNum/100),this.labTips){var r=n[s.Language.getInstance().getLanguage()][t];r&&(this.labTips.getComponent(cc.LabelOutline).color=(new cc.Color).fromHEX(r.outLineColor),this.labTips.string=c.ComUtils.getLang(r.langKey))}this.spTips&&(this.spTips.spriteFrame=this.tipsFrames[t]),this.spGold&&(this.spGold.spriteFrame=this.goldFrames[t]),i.pExtraData&&i.pExtraData.mix&&i.pExtraData.mix.forEach(function(t){t&&t.type&&(t.type==l.gShopHBType.GOLD?o.labGold&&(o.labGold.string=c.ComUtils.formatGoldStr(t.num,1e3,0)):t.type==l.gShopHBType.POWER&&o.labPower&&(o.labPower.string=""+t.num))})},e.prototype.onClickBuy=function(){this.delayLock&&(cc.log("\u70b9\u51fb\u4e86\u8d2d\u4e70",this.mGoodsInfo),c.ComUtils.delayLimit(this,2e3),d.ComUI.addLoading({time:1}),this.mGoodsInfo&&this.dispatch(u.Notify.Shop.REQ_BUY_GOODS_ACTION,this.mGoodsInfo))},r([f({type:cc.Button,tooltip:"\u8d2d\u4e70\u6309\u94ae"})],e.prototype,"btnBuy",void 0),r([f({type:cc.Label,tooltip:"\u539f\u4ef7"})],e.prototype,"labOriginPrice",void 0),r([f({type:cc.Label,tooltip:"\u73b0\u4ef7"})],e.prototype,"labNowPrice",void 0),r([f({type:cc.Label,tooltip:"tips"})],e.prototype,"labTips",void 0),r([f({type:cc.Sprite,tooltip:"tips"})],e.prototype,"spTips",void 0),r([f({type:cc.Sprite,tooltip:"\u4f53\u529b\u56fe\u7247"})],e.prototype,"spPower",void 0),r([f({type:cc.Label,tooltip:"\u4f53\u529b\u6570\u5b57"})],e.prototype,"labPower",void 0),r([f({type:cc.Sprite,tooltip:"\u91d1\u5e01\u56fe\u7247"})],e.prototype,"spGold",void 0),r([f({type:cc.Label,tooltip:"\u91d1\u5e01\u6570\u5b57"})],e.prototype,"labGold",void 0),r([f({type:cc.SpriteFrame,tooltip:"\u5de6\u4e0a\u89d2\u63d0\u793aBG\u7cbe\u7075\u5e27\u7ec4"})],e.prototype,"tipsFrames",void 0),r([f({type:cc.SpriteFrame,tooltip:"\u91d1\u5e01\u7cbe\u7075\u5e27\u7ec4"})],e.prototype,"goldFrames",void 0),r([h],e)}(a.CxCompExt);n.default=g,cc._RF.pop()},{"../../../lib/base/CxCompExt":"CxCompExt","../../../lib/base/Language":"Language","../../../lib/utils/ComUtils":"ComUtils","../../const/Global":"Global","../../event/Notify":"Notify","../ComUI":"ComUI"}],BoostGiftLayer:[function(t,e,n){"use strict";cc._RF.push(e,"912bba5C6FDV6gizTvlIC0P","BoostGiftLayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../lib/base/CxCompExt"),s=t("../../../lib/utils/ComUtils"),c=t("../../base/component/ComListView"),l=t("../../const/Global"),u=t("../../event/Notify"),d=t("../../language/LanguageCfg"),p=t("../../model/DataProxy"),h=t("../ComUI"),f=t("./BoostGiftItem"),g=cc._decorator,_=g.ccclass,y=g.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollView=null,e.pfItem=null,e.btnClose=null,e.richTextTime=null,e.spBigTitleNoCoins=null,e.spBigTitleNoPower=null,e.boostType=l.eBoostType.gold,e}var n;return i(e,t),n=e,e.prototype.init=function(e){t.prototype.init.call(this,e),this.timeCountDown(e.leftTime||3),this.boostType=e.boosType,this.boostType==l.eBoostType.power?this.spBigTitleNoCoins&&(this.spBigTitleNoCoins.node.active=!1):this.spBigTitleNoPower&&(this.spBigTitleNoPower.node.active=!1);var n=p.DataProxy.getInstance().shopData.getBoostGiftData();n?this.onUpdateListView(n):this.dispatch(u.Notify.Shop.REQ_BOOST_GIFT)},e.prototype.start=function(){this.btnClose&&this.btnClose.node.on("click",this.onClickClose,this)},e.prototype.listEvent=function(){return new Map([[u.Notify.Shop.RSP_BOOST_GIFT,this.onUpdateListView],[u.Notify.Shop.RTN_BUY_GOODS_SUCCESS,this.onBuySuccess]])},e.prototype.showListView=function(t){var e={scrollView:this.scrollView,content:this.scrollView.content,itemPrefab:this.pfItem,itemClass:f.default,dataList:t,dataEx:n.ItemTips,space:0,top:0,bottom:0,createInterval:.05,scrollToIndex:0},o=this.node.getComponent(c.ComListView);null==o&&(o=this.node.addComponent(c.ComListView)),o.initParams(e),o.initScrollView(!0)},e.prototype.onUpdateListView=function(t){t.bIsTag&&this.showListView(t.goodsInfo)},e.prototype.onClickClose=function(){this.close()},e.prototype.timeCountDown=function(t){if(this.richTextTime){var e="<color=#ffffff>"+s.ComUtils.getLang(d.LangKey.boost_recharge)+"</c><color=#fff001> (%d)</color>";h.ComUI.StartCountDown(this.richTextTime,e,t,this.onClickClose.bind(this))}},e.prototype.onBuySuccess=function(){cc.log("\u8d2d\u4e70\u6210\u529f"),this.node.destroy()},e.ItemTips={en:[{langKey:d.LangKey.game_fclb_cheapest,outLineColor:"#228004"},{langKey:d.LangKey.game_fclb_popular,outLineColor:"#BB301A"},{langKey:d.LangKey.game_fclb_bestdeal,outLineColor:"#1E529D"}],it:[{langKey:d.LangKey.game_fclb_cheapest,outLineColor:"#228004"},{langKey:d.LangKey.game_fclb_popular,outLineColor:"#BB301A"},{langKey:d.LangKey.game_fclb_bestdeal,outLineColor:"#1E529D"}],zh:[{langKey:d.LangKey.game_fclb_cheapest,outLineColor:"#228004"},{langKey:d.LangKey.game_fclb_popular,outLineColor:"#BB301A"},{langKey:d.LangKey.game_fclb_bestdeal,outLineColor:"#1E529D"}]},r([y({type:cc.ScrollView})],e.prototype,"scrollView",void 0),r([y({type:cc.Prefab})],e.prototype,"pfItem",void 0),r([y({type:cc.Button})],e.prototype,"btnClose",void 0),r([y({type:cc.RichText,tooltip:"\u5012\u8ba1\u65f6"})],e.prototype,"richTextTime",void 0),r([y({type:cc.Sprite,tooltip:"\u5927\u6807\u9898\u91d1\u5e01\u4e0d\u8db3"})],e.prototype,"spBigTitleNoCoins",void 0),r([y({type:cc.Sprite,tooltip:"\u5927\u6807\u9898\u4f53\u529b\u4e0d\u8db3"})],e.prototype,"spBigTitleNoPower",void 0),n=r([_],e)}(a.CxCompExt);n.default=m,cc._RF.pop()},{"../../../lib/base/CxCompExt":"CxCompExt","../../../lib/utils/ComUtils":"ComUtils","../../base/component/ComListView":"ComListView","../../const/Global":"Global","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../../model/DataProxy":"DataProxy","../ComUI":"ComUI","./BoostGiftItem":"BoostGiftItem"}],BottomBarView:[function(t,e,n){"use strict";cc._RF.push(e,"b4262etiIxDUpSzBRD3BX/K","BottomBarView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.BottomBarView=void 0;var a=t("./CxComponent"),s=cc._decorator,c=s.ccclass,l=s.property,u=s.menu,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isCustomSpace=!1,e.spaceValue=150,e.mNode=null,e.mView=null,e}var n;return i(e,t),n=e,e.prototype.init=function(t){t&&(this.mNode=t.node,this.mView=t.script)},e.prototype.setBottomBar=function(t){this.mView&&this.mView.setBottomBar(t)&&this.setVerticalOffset()},e.prototype.hideBottomBar=function(t){void 0===t&&(t=!0),this.mView&&(this.mView.node.active=!t)},e.setBottomBar=function(t,e){if(t&&e){var o=t.getComponent(n);o&&o.setBottomBar&&o.setBottomBar(e)}},r([l({tooltip:"\u662f\u5426\u81ea\u5b9a\u4e49\u8ddd\u79bb\uff0c\u4e3atrue\u65f6spaceValue\u751f\u6548\uff0c\u5426\u5219\u53d6\u9ed8\u8ba4150"})],e.prototype,"isCustomSpace",void 0),r([l({tooltip:"\u4e0e\u5f39\u51fa\u6846\u7684\u5e95\u90e8\u7684\u8ddd\u79bb, \u5c45\u4e2d\u5bf9\u9f50, \u9ed8\u8ba4150"})],e.prototype,"spaceValue",void 0),n=r([c,u("\u81ea\u5b9a\u4e49/BottomBarView")],e)}(a.CxComponent);n.BottomBarView=d,cc._RF.pop()},{"./CxComponent":"CxComponent"}],BundleAssetCache:[function(t,e,n){"use strict";cc._RF.push(e,"6e886wlhyBE6pWQa8gtwbS4","BundleAssetCache"),Object.defineProperty(n,"__esModule",{value:!0}),n.BundleAssetCache=void 0;var o=t("../utils/Logger"),i=function(){function t(t){this._name=t,this.prefabCache=new Map,this.atlasCache=new Map,this.skeletonCache=new Map,this.imgCache=new Map}return t.prototype.destory=function(){var t=this.prefabCache;for(var e in t)t.hasOwnProperty(e)&&((a=t[e]).decRef(),cc.assetManager.releaseAsset(a));t.clear(),this.prefabCache=null;var n=this.atlasCache;for(var e in n)if(n.hasOwnProperty(e)){var o=n[e];o.decRef(),cc.assetManager.releaseAsset(o)}n.clear(),this.atlasCache=null;var i=this.skeletonCache;for(var e in i)i.hasOwnProperty(e)&&((a=i[e]).decRef(),cc.assetManager.releaseAsset(a));i.clear(),this.skeletonCache=null;var r=this.imgCache;for(var e in r){var a;r.hasOwnProperty(e)&&((a=r[e]).decRef(),cc.assetManager.releaseAsset(a))}r.clear(),this.imgCache=null},Object.defineProperty(t.prototype,"bundle",{get:function(){return cc.assetManager.getBundle(this._name)},enumerable:!1,configurable:!0}),t.prototype.loadPrefabArray=function(t,e){var n=this.bundle;n?n.load(t,function(t,n){var o=this;if(t)return e&&e(!0,null),void(e=null);n.forEach(function(t){o.prefabCache.set(t._name,t)}),e&&e(!1,n),e=null}.bind(this)):o.Logger.error("[BundleAssetCache] loadPrefabArray not found ",n)},t.prototype.loadPrefab=function(t,e){var n=this,i=n.bundle;if(!i)return o.Logger.error("[BundleAssetCache loadPrefab] not found ",i),e&&e(!0,null),void(e=null);var r=cc.path.basename(t),a=n.getPrafab(r);if(a)return e&&e(!1,a),void(e=null);i.load(t,cc.Prefab,function(i,a){if(i)return o.Logger.error("[BundleAssetCache loadPrefab] not found "+t+" ("+n._name+")",i),e&&e(!0,null),void(e=null);a.addRef(),n.prefabCache.set(r,a),e&&e(!1,a),e=null})},t.prototype.loadAtlasArray=function(t,e){var n=this;t.forEach(function(t){n.loadAtlas(t,e)})},t.prototype.loadAtlas=function(t,e){var n=this.bundle;if(!n)return o.Logger.error("[BundleAssetCache] loadAtlas not found ",n),void(e&&e(!0,null));var i=cc.path.basename(t),r=this.getAtlas(i);r?e&&e(!1,r):n.load(t,cc.SpriteAtlas,function(n,r){if(n)return o.Logger.error("BundleAssetCache loadAtlas not found "+t,n),void(e&&e(!0,null));r.addRef(),this.atlasCache.set(i,r),e&&e(!1,r)}.bind(this))},t.prototype.loadImg=function(t,e){var n=this.bundle;if(!n)return o.Logger.error("[BundleAssetCache] loadAtlas not found ",n),e&&e(!0,null),void(e=null);var i=cc.path.basename(t),r=this.imgCache.get(i);if(r)return e&&e(!1,r),void(e=null);n.load(t,cc.SpriteFrame,function(n,r){if(n)return o.Logger.error("BundleAssetCache loadImg not found "+t,n),e&&e(!0,null),void(e=null);r.addRef(),this.imgCache.set(i,r),e&&e(!1,r),e=null}.bind(this))},t.prototype.getPrafab=function(t){return this.prefabCache.get(t)},t.prototype.getAtlas=function(t){return this.atlasCache.get(t)},t.prototype.getSpriteFrame=function(t){for(var e=null,n=Array.from(this.atlasCache.keys()),o=0;o<n.length;o++){var i=this.atlasCache.get(n[o]);if(i&&(e=i.getSpriteFrame(t)))return e}return e},t.prototype.realsePrefabArray=function(t){var e=this;("string"==typeof t?[t]:t).forEach(function(t){var n=cc.path.basename(t),i=e.prefabCache.get(n);i&&(i.decRef(),cc.assetManager.releaseAsset(i),e.prefabCache.delete(n),o.Logger.info("realsePrefabArray "+t))})},t.prototype.realseSpriteAtlas=function(t){var e=this;("string"==typeof t?[t]:t).forEach(function(t){var n=cc.path.basename(t),i=e.atlasCache.get(n);i&&(i.decRef(),cc.assetManager.releaseAsset(i),e.atlasCache.delete(n),o.Logger.info("realseSpriteAtlas "+t))})},t.prototype.realseSpriteFrame=function(t){var e=this;("string"==typeof t?[t]:t).forEach(function(t){var n=cc.path.basename(t),i=e.imgCache.get(n);i&&(i.decRef(),cc.assetManager.releaseAsset(i),e.imgCache.delete(n),o.Logger.info("realseSpriteFrame "+t))})},t.prototype.relaseRes=function(t,e){e===cc.Prefab?this.realsePrefabArray(t):e===cc.SpriteAtlas?this.realseSpriteAtlas(t):e===cc.SpriteFrame&&this.realseSpriteFrame(t)},t.prototype.getSkeleton=function(t){return this.skeletonCache.get(t)},t.prototype.loadSkeleton=function(t,e){var n=cc.path.basename(t);if(t&&n){var i=this.getSkeleton(n);if(i)return void(e&&e(!1,i));var r=this.bundle;if(!r)return o.Logger.error("[BundleAssetCache] loadSkeleton not found ",r),void(e&&e(!0,null));var a=this;r.load(t,sp.SkeletonData,function(t,o){o&&(o.addRef(),a.skeletonCache.set(n,o),e&&e(!1,o))})}},t.prototype.print=function(){cc.log("#===== "+this.bundle+" =====#"),cc.log("prefab "+this.prefabCache.size),cc.log("altas "+this.atlasCache.size),cc.log("skeleton "+this.skeletonCache.size)},t}();n.BundleAssetCache=i,cc._RF.pop()},{"../utils/Logger":"Logger"}],BundleManager:[function(t,e,n){"use strict";cc._RF.push(e,"b23c6tNF0xDWKmGPqLgk/6J","BundleManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.BundleMgr=void 0;var o=t("../../app/config/GameConfig"),i=t("../../app/config/ResConfig"),r=t("../utils/Logger"),a=t("./ResManager"),s=function(){function t(){this._bundleSet=new Set,this._mapHashcode=new Map}return t.getInstance=function(){return this.instance||(this.instance=new t),this.instance},t.desInstance=function(){t.instance&&(t.instance._bundleSet.clear(),t.instance._bundleSet=null,this.instance=null)},t.prototype.checkUpdate=function(){return!cc.sys.isBrowser&&(cc.sys.isNative,!1)},t.prototype.loadHashCodeCfg=function(t,e){var n=this;cc.assetManager.loadRemote(t,cc.JsonAsset,function(t,o){if(t)return r.Logger.warn("[loadHashCodeCfg] err"),void(e&&e());if(o){console.log("[loadHashCodeCfg ] "+JSON.stringify(o.json));var i=o.json;if(i)for(var a in i)n._mapHashcode.set(a,i[a]);e&&e()}})},t.prototype.enterBundle=function(t){this.checkUpdate(t)||this.loadBundle(t.name,null)},t.prototype.loadBundle=function(t,e,n){void 0===n&&(n=""),n?this.loadBundleByHash(t,n,e):cc.assetManager.loadBundle(t,e)},t.prototype.loadBundleByHash=function(t,e,n){var i=o.GameConfig.getInstance().getBundleUrl()+t;console.log("[loadBundleByHash] url="+i),cc.assetManager.loadBundle(i,{version:""+e},n)},t.prototype.getBundle=function(t){return cc.assetManager.getBundle(t)},t.prototype.removeBundle=function(t){var e=cc.assetManager.getBundle(t);e&&(this._bundleSet.delete(t),cc.assetManager.removeBundle(e),a.default.getInstance().removeBundle(t))},t.prototype.loadSubpackage=function(t,e){var n=t,o=this._mapHashcode.get(n)||"";if(this._bundleSet.has(n))e&&e({completed:!0,name:n});else{var i=this;this.loadBundle(n,function(t,o){if(r.Logger.info("loadSubpackage "+n+" "+(t?"fail":"succ")),!t){var s=o.name;i._bundleSet.add(s),s.endsWith("Res")&&a.default.getInstance().initBundleCache(s),e&&e({completed:!0,name:s})}},o)}},t.prototype.loadBundles=function(t,e){var n=this;if(console.log("loadBundles",t),1==t.length)this.loadSubpackage(t[0],e);else if(t.length>1){var o=0,i=function(r){r.completed&&++o<t.length?n.loadSubpackage(t[o],i):e(r)};this.loadSubpackage(t[o],i)}},t.prototype.hasLoadBundleList=function(t){var e=!1;if(t&&t.length>0)for(var n=0;n<t.length;n++){var o=t[n];if(o&&this._bundleSet){if(!this._bundleSet.has(o)){e=!1;break}e=!0}}return e},t.prototype.getBundleDependList=function(t){var e=i.BundleDependConfig.DependList;if(e){for(var n=null,o=0;o<e.length;o++){var r=e[o];if(r.id==t){n=r;break}}if(n)return n.depend}return null},t.prototype.hasLoadBundles=function(t){if(t){var e=this.getBundleDependList(t);if(e)return this.hasLoadBundleList(e)}return!1},t.prototype.loadDependBundles=function(t,e){var n=this.getBundleDependList(t);n&&this.loadBundles(n,function(n){n.completed?e(n):r.Logger.error("loadDependBundles: error bundleName=",t)})},t.prototype.checkAndLoadBundles=function(t,e){this.hasLoadBundles(t)?e():this.loadDependBundles(t,e)},t.instance=null,t}();n.BundleMgr=s,cc._RF.pop()},{"../../app/config/GameConfig":"GameConfig","../../app/config/ResConfig":"ResConfig","../utils/Logger":"Logger","./ResManager":"ResManager"}],BuryPointUtils:[function(t,e,n){"use strict";cc._RF.push(e,"42a932ZaF1BrbwpGDA8m6Dp","BuryPointUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.BuryPointUtils=void 0;var o=t("../../../lib/network/HttpManager"),i=(t("../../../lib/utils/Logger"),t("../../config/GameConfig")),r=t("../../model/DataProxy"),a=t("../../platform/AnalyticsUtils"),s=t("../../platform/NativeApi"),c=function(){function t(){}return t.makeParams=function(e){t.appInfo||(t.appInfo={}),t.appInfo.verStr||(t.appInfo.verStr=i.GameConfig.g().getAppVersion()+", "+i.GameConfig.g().getResVersion()),t.appInfo.machineid||(t.appInfo.machineid=s.NativeApi.getMachineId()),t.appInfo.platformid||(t.appInfo.platformid=i.GameConfig.g().getPlatformId()),t.appInfo.projectid||(t.appInfo.projectid=i.GameConfig.g().getProjectId()),t.appInfo.userid||(t.appInfo.userid=r.DataProxy.getInstance().userData.userId||0);var n;return n=e.des&&e.extData?JSON.stringify({des:e.des,extData:e.extData}):JSON.stringify(e.des||e.extData||""),{sceneid:e.sceneid,pointid:e.pointid,machineid:t.appInfo.machineid,platformid:t.appInfo.platformid,projectid:t.appInfo.projectid,userid:e.userid||t.appInfo.userid,timestamp:e.timestamp||Math.floor(Date.now()/1e3),strother:n,ver:t.appInfo.verStr}},t.sendToServer=function(e){var n=this;if(cc.sys.isBrowser)return this.reqCount--,void t.sendNext();this.failCount++;var r=this.makeParams(e);o.HttpManager.Post({url:i.GameConfig.getInstance().getBuryPointUrl(),method:"post",body:r||null}).then(function(o){n.reqCount--,n.failCount--,o.ok?t.sendNext():(n.failCount++,n.insertAndSendMsg(e,!1))})},t.send=function(t,e){t.userid=r.DataProxy.getInstance().userData.userId||0,t.extData=e,t.timestamp=Math.floor(Date.now()/1e3),a.AnalyticsUtils.logEvent(t.des,JSON.stringify(t)),this.insertAndSendMsg(t,!0)},t.insertAndSendMsg=function(t,e){e?this.cache.push(t):this.cache.unshift(t),this.sendNext()},t.sendCache=function(){var t=this,e=setTimeout(function(){clearTimeout(e),t.reqCount=0,t.failCount=0,t.sendNext()},1e3)},t.sendNext=function(){if(!(this.failCount>=this.failCountMax||this.reqCount>=this.reqCountMax)){this.reqCount++;var t=this.cache.shift();t&&this.sendToServer(t)}},t.reqCount=0,t.reqCountMax=3,t.failCount=0,t.failCountMax=20,t.cache=[],t.appInfo=null,t}();n.BuryPointUtils=c,cc._RF.pop()},{"../../../lib/network/HttpManager":"HttpManager","../../../lib/utils/Logger":"Logger","../../config/GameConfig":"GameConfig","../../model/DataProxy":"DataProxy","../../platform/AnalyticsUtils":"AnalyticsUtils","../../platform/NativeApi":"NativeApi"}],BuryPoint:[function(t,e,n){"use strict";cc._RF.push(e,"7e784JudT5PTqbx2xJA5n9s","BuryPoint"),Object.defineProperty(n,"__esModule",{value:!0}),n.BuryPoint=void 0,function(t){(function(t){(function(t){t.SceneId=1,t.AppLaunch={sceneid:t.SceneId,pointid:1001,des:"\u6e38\u620f\u542f\u52a8\u5165\u53e3"},t.ShowLoginView={sceneid:t.SceneId,pointid:1002,des:"\u663e\u793a\u767b\u5f55\u754c\u9762"},t.YKBtnClick={sceneid:t.SceneId,pointid:1010,des:"\u70b9\u51fb\u6e38\u5ba2\u767b\u5f55\u6309\u94ae"},t.FaceBookBtnClick={sceneid:t.SceneId,pointid:1011,des:"\u70b9\u51fbfacebook\u767b\u5f55\u6309\u94ae"},t.AppleBtnClick={sceneid:t.SceneId,pointid:1012,des:"\u70b9\u51fbApple\u767b\u5f55\u6309\u94ae"}})(t.Login||(t.Login={})),function(t){t.SceneId=2,t.ShowLobbyView={sceneid:t.SceneId,pointid:2e3,des:"\u663e\u793a\u5927\u5385\u754c\u9762"},t.QuickStart={sceneid:t.SceneId,pointid:2001,des:"\u5feb\u901f\u5f00\u59cb"},t.ScopaClick={sceneid:t.SceneId,pointid:2002,des:"\u70b9\u51fbScopa\u6309\u94ae"},t.ScopneClick={sceneid:t.SceneId,pointid:2003,des:"\u70b9\u51fbScopne\u6309\u94ae"},t.BuyGoodsFinished={sceneid:t.SceneId,pointid:2004,des:"\u5546\u54c1\u5151\u6362\u4e0b\u53d1\u6210\u529f"},t.BuyGoodsFailed={sceneid:t.SceneId,pointid:2005,des:"\u5546\u54c1\u5151\u6362\u4e0b\u53d1\u5931\u8d25"}}(t.Lobby||(t.Lobby={})),function(t){t.SceneId=1,t.FaceBookLoginReq={sceneid:t.SceneId,pointid:1020,des:"Facebook\u767b\u5f55\u8bf7\u6c42"},t.FaceBookLoginSucc={sceneid:t.SceneId,pointid:1021,des:"Facebook\u767b\u5f55\u6210\u529f"},t.FaceBookSupport={sceneid:t.SceneId,pointid:1022,des:"Facebook\u670d\u52a1\u652f\u6301"},t.GooglePayReq={sceneid:t.SceneId,pointid:1023,des:"\u53d1\u8d77google\u652f\u4ed8"},t.GooglePaySucc={sceneid:t.SceneId,pointid:1024,des:"google\u652f\u4ed8\u6210\u529f"},t.GooglePayFail={sceneid:t.SceneId,pointid:1028,des:"google\u652f\u4ed8\u5931\u8d25"},t.AppleLoginReq={sceneid:t.SceneId,pointid:1025,des:"Apple\u767b\u5f55\u8bf7\u6c42"},t.AppleLoginSucc={sceneid:t.SceneId,pointid:1026,des:"Apple\u767b\u5f55\u6210\u529f"},t.FaceBookLogout={sceneid:t.SceneId,pointid:1027,des:"FB \u767b\u51fa"}}(t.SDK||(t.SDK={}))})(t.Operation||(t.Operation={})),function(t){(function(t){t.SceneId=10,t.AppLaunch={sceneid:t.SceneId,pointid:1,des:"\u5e94\u7528\u542f\u52a8"}})(t.App||(t.App={})),function(t){t.SceneId=11,t.GateNetworkBroken={sceneid:t.SceneId,pointid:1,des:"\u7f51\u5173\u65ad\u5f00\u8fde\u63a5"},t.GateReconnect={sceneid:t.SceneId,pointid:2,des:"\u7f51\u5173\u91cd\u65b0\u8fde\u63a5"},t.GateConnected={sceneid:t.SceneId,pointid:3,des:"\u7f51\u5173\u8fde\u63a5\u4e0a\u4e86"},t.CloseConnect={sceneid:t.SceneId,pointid:5,des:"\u65ad\u5f00\u8fde\u63a5\u4e4b\u524d\u7684\u8fde\u63a5"},t.NetStateChange={sceneid:t.SceneId,pointid:6,des:"\u7f51\u7edc\u72b6\u6001\u53d8\u5316\u4e86"},t.NetError={sceneid:t.SceneId,pointid:7,des:"\u7f51\u7edc\u51fa\u9519\u4e86"},t.GateDisConnect={sceneid:t.SceneId,pointid:8,des:"\u7f51\u5173\u65ad\u5f00\u4e86"},t.SetScoket={sceneid:t.SceneId,pointid:9,des:"\u8bbe\u7f6eScoket"},t.SendHeartbeat={sceneid:t.SceneId,pointid:10,des:"\u5fc3\u8df3"},t.ReceiveHearbeat={sceneid:t.SceneId,pointid:11,des:"\u6536\u5230\u5fc3\u8df3"},t.HeartbeatTimeout={sceneid:t.SceneId,pointid:12,des:"\u5fc3\u8df3\u8d85\u65f6"},t.GateLoginError={sceneid:t.SceneId,pointid:13,des:"\u7f51\u5173\u6ce8\u518c\u5927\u5385\u5931\u8d25 1:\u901a\u884c\u8bc1\u9519\u8bef; 2:\u8d26\u53f7\u5f02\u5e38"},t.ServerHint={sceneid:t.SceneId,pointid:15,des:"\u670d\u52a1\u5668\u63d0\u793a\u4fe1\u606f"},t.KickUserHint={sceneid:t.SceneId,pointid:16,des:"\u73a9\u5bb6\u88ab\u8e22"}}(t.Net||(t.Net={})),function(t){t.SceneId=12,t.UpdateFailed={sceneid:t.SceneId,pointid:1,des:"\u66f4\u65b0\u5931\u8d25"},t.UpdateReq={sceneid:t.SceneId,pointid:2,des:"\u8bf7\u6c42\u70ed\u66f4\u65b0"},t.UpdateReqFailed={sceneid:t.SceneId,pointid:3,des:"\u8bf7\u6c42\u70ed\u66f4\u65b0\u5931\u8d25"}}(t.VersionUpdate||(t.VersionUpdate={})),function(t){t.SceneId=13,t.ShowLoginView={sceneid:t.SceneId,pointid:2,des:"\u663e\u793a\u767b\u5f55\u754c\u9762"},t.YKBtnClick={sceneid:t.SceneId,pointid:3,des:"\u70b9\u51fb\u6e38\u5ba2\u767b\u5f55\u6309\u94ae"},t.FaceBookBtnClick={sceneid:t.SceneId,pointid:4,des:"\u70b9\u51fbfacebook\u767b\u5f55\u6309\u94ae"},t.AppleBtnClick={sceneid:t.SceneId,pointid:5,des:"\u70b9\u51fbApple\u767b\u5f55\u6309\u94ae"}}(t.Login||(t.Login={})),function(t){t.SceneId=14,t.ClickStore={sceneid:t.SceneId,pointid:1,des:"\u70b9\u51fbSTORE"},t.ClickMissions={sceneid:t.SceneId,pointid:2,des:"\u70b9\u51fbMISSIONS"},t.ClickFriends={sceneid:t.SceneId,pointid:3,des:"\u70b9\u51fbFRIENDS"},t.ClickMore={sceneid:t.SceneId,pointid:4,des:"\u70b9\u51fbMORE"},t.ClickFBBind={sceneid:t.SceneId,pointid:5,des:"\u70b9\u51fbFB Bind"},t.ClickCLAM={sceneid:t.SceneId,pointid:6,des:"\u70b9\u51fbCLAM"},t.ClickSupport={sceneid:t.SceneId,pointid:7,des:"\u70b9\u51fbSupport"},t.ClickSetLanguge={sceneid:t.SceneId,pointid:8,des:"\u70b9\u51fbSetLanguge"},t.ClickSetLogOut={sceneid:t.SceneId,pointid:9,des:"\u70b9\u51fbLogOut"},t.ClickMidfHead={sceneid:t.SceneId,pointid:10,des:"\u70b9\u51fb\u4fee\u6539\u5934\u50cf"},t.ClickSpecialSale={sceneid:t.SceneId,pointid:11,des:"\u5927\u5385\u70b9\u51fbSpecialSale"},t.ClickScopa={sceneid:t.SceneId,pointid:12,des:"\u5927\u5385\u70b9\u51fbScopa"},t.ClickTables={sceneid:t.SceneId,pointid:13,des:"\u5927\u5385\u70b9\u51fbTables"},t.ClickRank={sceneid:t.SceneId,pointid:13,des:"\u5927\u5385\u70b9\u51fbRank"},t.ClickTableBox={sceneid:t.SceneId,pointid:14,des:"\u5927\u5385\u70b9\u51fb\u684c\u5b50\u5b9d\u7bb1"},t.ClickBoxShop={sceneid:t.SceneId,pointid:15,des:"\u5927\u5385\u70b9\u51fb\u5b9d\u7bb1\u5546\u57ce"},t.ClickInvite={sceneid:t.SceneId,pointid:16,des:"\u5927\u5385\u70b9\u51fb\u9080\u8bf7"},t.ClickLottery={sceneid:t.SceneId,pointid:17,des:"\u5927\u5385\u70b9\u51fb\u62bd\u5956"},t.ClickGolden={sceneid:t.SceneId,pointid:18,des:"\u5927\u5385\u9ec4\u91d1\u901a\u884c\u8bc1"}}(t.Lobby||(t.Lobby={})),function(t){t.SceneId=15,t.FaceBookLoginSucc={sceneid:t.SceneId,pointid:3,des:"Facebook\u767b\u5f55\u6210\u529f"},t.FaceBookLoginFail={sceneid:t.SceneId,pointid:4,des:"Facebook\u767b\u5f55\u5931\u8d25"},t.ATLoadRVAD={sceneid:t.SceneId,pointid:5,des:"\u52a0\u8f7d\u89c6\u9891\u5e7f\u544a"},t.ATRVADLoaded={sceneid:t.SceneId,pointid:6,des:"\u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u5b8c\u6210"},t.ATRVADReward={sceneid:t.SceneId,pointid:7,des:"\u89c6\u9891\u5e7f\u544a\u5956\u52b1"},t.Invite={sceneid:t.SceneId,pointid:8,des:"\u53d1\u8d77\u9080\u8bf7"},t.InviteSucc={sceneid:t.SceneId,pointid:9,des:"\u9080\u8bf7\u6210\u529f"}}(t.SDK||(t.SDK={})),function(t){t.SceneId=16,t.ShowView={sceneid:t.SceneId,pointid:1,des:"\u663e\u793a\u6e38\u620f\u754c\u9762"},t.LoginGame={sceneid:t.SceneId,pointid:2,des:"\u767b\u5f55\u6e38\u620f"},t.Match={sceneid:t.SceneId,pointid:3,des:"\u5339\u914d"},t.GameStart={sceneid:t.SceneId,pointid:4,des:"\u6e38\u620f\u5f00\u59cb"},t.GameEnd={sceneid:t.SceneId,pointid:5,des:"\u6e38\u620f\u7ed3\u7b97"},t.ReconnectGame={sceneid:t.SceneId,pointid:6,des:"\u91cd\u65b0\u8fde\u63a5\u6e38\u620f"},t.OutCardError={sceneid:t.SceneId,pointid:7,des:"\u51fa\u724c\u9519\u8bef"},t.ExitGame={sceneid:t.SceneId,pointid:9,des:"\u9000\u51fa\u6e38\u620f"},t.GameReconnectStart={sceneid:t.SceneId,pointid:10,des:"\u6e38\u620f\u65ad\u7ebf\u91cd\u8fde\u5f00\u59cb"},t.GameReconnectSucc={sceneid:t.SceneId,pointid:11,des:"\u6e38\u620f\u65ad\u7ebf\u91cd\u8fde\u6210\u529f"},t.ClickLeave={sceneid:t.SceneId,pointid:21,des:"\u70b9\u51fb\u79bb\u5f00\u623f\u95f4"},t.ClickChat={sceneid:t.SceneId,pointid:22,des:"\u70b9\u51fb\u804a\u5929"},t.ClickRematch={sceneid:t.SceneId,pointid:23,des:"\u70b9\u51fb\u4e0b\u4e00\u5c40"},t.ClickHome={sceneid:t.SceneId,pointid:24,des:"\u70b9\u51fbHOME"},t.ClickDetail={sceneid:t.SceneId,pointid:25,des:"\u70b9\u51fbDetail"},t.ClickSpecialSale={sceneid:t.SceneId,pointid:26,des:"\u6e38\u620f\u70b9\u51fbSpecialSale"},t.ClickTableMap={sceneid:t.SceneId,pointid:27,des:"\u70b9\u51fb\u684c\u5b50\u5730\u56fe"},t.ClickBuild={sceneid:t.SceneId,pointid:28,des:"\u70b9\u51fbDeskbuild"},t.ClickSkin={sceneid:t.SceneId,pointid:29,des:"\u70b9\u51fbSkin"},t.ClickRank={sceneid:t.SceneId,pointid:30,des:"\u70b9\u51fb\u67e5\u770b\u6392\u4f4d"},t.ClickShop={sceneid:t.SceneId,pointid:31,des:"\u70b9\u51fb\u5546\u57ce"},t.MatchFail={sceneid:t.SceneId,pointid:32,des:"\u5339\u914d\u5931\u8d25"},t.MatchSucc={sceneid:t.SceneId,pointid:33,des:"\u5339\u914d\u6210\u529f"},t.MatchCancel={sceneid:t.SceneId,pointid:34,des:"\u5339\u914d\u53d6\u6d88"}}(t.Game||(t.Game={}))}(t.Debug||(t.Debug={}))}(n.BuryPoint||(n.BuryPoint={})),cc._RF.pop()},{}],ByteArray:[function(t,e,n){"use strict";cc._RF.push(e,"ed634gnC0RIdaGM+pP/ckGC","ByteArray"),Object.defineProperty(n,"__esModule",{value:!0}),n.ByteArray=n.EndianConst=n.Endian=void 0;var o,i,r=t("./Long"),a=t("../utils/Logger"),s=function(){function t(){}return t.LITTLE_ENDIAN="littleEndian",t.BIG_ENDIAN="bigEndian",t}();n.Endian=s,function(t){t[t.LITTLE_ENDIAN=0]="LITTLE_ENDIAN",t[t.BIG_ENDIAN=1]="BIG_ENDIAN"}(o=n.EndianConst||(n.EndianConst={})),function(t){t[t.SIZE_OF_BOOLEAN=1]="SIZE_OF_BOOLEAN",t[t.SIZE_OF_INT8=1]="SIZE_OF_INT8",t[t.SIZE_OF_INT16=2]="SIZE_OF_INT16",t[t.SIZE_OF_INT32=4]="SIZE_OF_INT32",t[t.SIZE_OF_LONG64=8]="SIZE_OF_LONG64",t[t.SIZE_OF_UINT8=1]="SIZE_OF_UINT8",t[t.SIZE_OF_UINT16=2]="SIZE_OF_UINT16",t[t.SIZE_OF_UINT32=4]="SIZE_OF_UINT32",t[t.SIZE_OF_FLOAT32=4]="SIZE_OF_FLOAT32",t[t.SIZE_OF_FLOAT64=8]="SIZE_OF_FLOAT64"}(i||(i={}));var c=function(){function t(t,e){void 0===e&&(e=0),this.bufferExtSize=0,this.EOF_byte=-1,this.EOF_code_point=-1,this.initBuffer(t,e)}return Object.defineProperty(t.prototype,"endian",{get:function(){return this.$endian==o.LITTLE_ENDIAN?s.LITTLE_ENDIAN:s.BIG_ENDIAN},set:function(t){this.$endian=t==s.LITTLE_ENDIAN?o.LITTLE_ENDIAN:o.BIG_ENDIAN},enumerable:!1,configurable:!0}),t.prototype.initBuffer=function(t,e){void 0===e&&(e=0),e<0&&(e=0),this.bufferExtSize=e;var n,o=0;if(t){var i=void 0;t instanceof Uint8Array?(i=t,o=t.length):(o=t.byteLength,i=new Uint8Array(t)),(n=0==e?new Uint8Array(o):new Uint8Array((1+(o/e|0))*e)).set(i)}else n=new Uint8Array(e);this.write_position=o,this._position=0,this._bytes=n,this.data=new DataView(n.buffer),this.endian=s.BIG_ENDIAN},t.prototype.reset=function(t,e){void 0===e&&(e=0),this.initBuffer(t,e)},t.prototype.setArrayBuffer=function(){},Object.defineProperty(t.prototype,"readAvailable",{get:function(){return this.write_position-this._position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buffer",{get:function(){return this.data.buffer.slice(0,this.write_position)},set:function(t){var e,n=t.byteLength,o=new Uint8Array(t),i=this.bufferExtSize;(e=0==i?new Uint8Array(n):new Uint8Array((1+(n/i|0))*i)).set(o),this.write_position=n,this._bytes=e,this.data=new DataView(e.buffer)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rawBuffer",{get:function(){return this.data.buffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bytes",{get:function(){return this._bytes},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataView",{get:function(){return this.data},set:function(t){this.buffer=t.buffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bufferOffset",{get:function(){return this.data.byteOffset},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(t){this._position=t,t>this.write_position&&(this.write_position=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this.write_position},set:function(t){this.write_position=t,this.data.byteLength>t&&(this._position=t),this._validateBuffer(t)},enumerable:!1,configurable:!0}),t.prototype._validateBuffer=function(t){if(this.data.byteLength<t){var e=this.bufferExtSize,n=void 0;(n=0==e?new Uint8Array(t):new Uint8Array((1+(t/e>>0))*e)).set(this._bytes),this._bytes=n,this.data=new DataView(n.buffer)}},Object.defineProperty(t.prototype,"bytesAvailable",{get:function(){return this.data.byteLength-this._position},enumerable:!1,configurable:!0}),t.prototype.clear=function(){var t=new ArrayBuffer(this.bufferExtSize);this.data=new DataView(t),this._bytes=new Uint8Array(t),this._position=0,this.write_position=0},t.prototype.readBoolean=function(){if(this.validate(i.SIZE_OF_BOOLEAN))return!!this._bytes[this.position++]},t.prototype.readByte=function(){if(this.validate(i.SIZE_OF_INT8))return this.data.getInt8(this.position++)},t.prototype.readBytes=function(t,e,n){if(void 0===e&&(e=0),void 0===n&&(n=0),t){var o=this._position,i=this.write_position-o;if(i<0)a.Logger.info("available less than 0");else{if(0==n)n=i;else if(n>i)return void a.Logger.info("length gt available");var r=t._position;t._position=0,t.validateBuffer(e+n),t._position=r,t._bytes.set(this._bytes.subarray(o,o+n),e),this.position+=n}}},t.prototype.remainBytes=function(){var t=this._position,e=this.write_position-t;return e<0?(a.Logger.info("available less than 0"),new Uint8Array):(this.position+=e,this._bytes.subarray(t,t+e))},t.prototype.readDouble=function(){if(this.validate(i.SIZE_OF_FLOAT64)){var t=this.data.getFloat64(this._position,this.$endian==o.LITTLE_ENDIAN);return this.position+=i.SIZE_OF_FLOAT64,t}},t.prototype.readFloat=function(){if(this.validate(i.SIZE_OF_FLOAT32)){var t=this.data.getFloat32(this._position,this.$endian==o.LITTLE_ENDIAN);return this.position+=i.SIZE_OF_FLOAT32,t}},t.prototype.readInt=function(){if(this.validate(i.SIZE_OF_INT32)){var t=this.data.getInt32(this._position,this.$endian==o.LITTLE_ENDIAN);return this.position+=i.SIZE_OF_INT32,t}},t.prototype.readShort=function(){if(this.validate(i.SIZE_OF_INT16)){var t=this.data.getInt16(this._position,this.$endian==o.LITTLE_ENDIAN);return this.position+=i.SIZE_OF_INT16,t}},t.prototype.readUnsignedByte=function(){if(this.validate(i.SIZE_OF_UINT8))return this._bytes[this.position++]},t.prototype.readUnsignedInt=function(){if(this.validate(i.SIZE_OF_UINT32)){var t=this.data.getUint32(this._position,this.$endian==o.LITTLE_ENDIAN);return this.position+=i.SIZE_OF_UINT32,t}},t.prototype.readUnsignedShort=function(){if(this.validate(i.SIZE_OF_UINT16)){var t=this.data.getUint16(this._position,this.$endian==o.LITTLE_ENDIAN);return this.position+=i.SIZE_OF_UINT16,t}},t.prototype.readUTF=function(){var t=this.readUnsignedShort();return t>0?this.readUTFBytes(t):""},t.prototype.readUTFBytes=function(t){if(this.validate(t)){var e=this.data,n=new Uint8Array(e.buffer,e.byteOffset+this._position,t);return this.position+=t,this.decodeUTF8(n)}},t.prototype.writeBoolean=function(t){this.validateBuffer(i.SIZE_OF_BOOLEAN),this._bytes[this.position++]=+t},t.prototype.writeByte=function(t){this.validateBuffer(i.SIZE_OF_INT8),this._bytes[this.position++]=255&t},t.prototype.writeBytes=function(t,e,n){var o;void 0===e&&(e=0),void 0===n&&(n=0),e<0||n<0||(o=0==n?t.length-e:Math.min(t.length-e,n))>0&&(this.validateBuffer(o),this._bytes.set(t._bytes.subarray(e,e+o),this._position),this.position=this._position+o)},t.prototype.writeDouble=function(t){this.validateBuffer(i.SIZE_OF_FLOAT64),this.data.setFloat64(this._position,t,this.$endian==o.LITTLE_ENDIAN),this.position+=i.SIZE_OF_FLOAT64},t.prototype.writeFloat=function(t){this.validateBuffer(i.SIZE_OF_FLOAT32),this.data.setFloat32(this._position,t,this.$endian==o.LITTLE_ENDIAN),this.position+=i.SIZE_OF_FLOAT32},t.prototype.writeInt=function(t){this.validateBuffer(i.SIZE_OF_INT32),this.data.setInt32(this._position,t,this.$endian==o.LITTLE_ENDIAN),this.position+=i.SIZE_OF_INT32},t.prototype.writeShort=function(t){this.validateBuffer(i.SIZE_OF_INT16),this.data.setInt16(this._position,t,this.$endian==o.LITTLE_ENDIAN),this.position+=i.SIZE_OF_INT16},t.prototype.writeUnsignedInt=function(t){this.validateBuffer(i.SIZE_OF_UINT32),this.data.setUint32(this._position,t,this.$endian==o.LITTLE_ENDIAN),this.position+=i.SIZE_OF_UINT32},t.prototype.writeUnsignedShort=function(t){this.validateBuffer(i.SIZE_OF_UINT16),this.data.setUint16(this._position,t,this.$endian==o.LITTLE_ENDIAN),this.position+=i.SIZE_OF_UINT16},t.prototype.writeUTF=function(t){var e=this.encodeUTF8(t),n=e.length;this.validateBuffer(i.SIZE_OF_UINT16+n),this.data.setUint16(this._position,n,this.$endian==o.LITTLE_ENDIAN),this.position+=i.SIZE_OF_UINT16,this._writeUint8Array(e,!1)},t.prototype.writeUTFBytes=function(t){this._writeUint8Array(this.encodeUTF8(t))},t.prototype.toString=function(){return"[ByteArray] length:"+this.length+", bytesAvailable:"+this.bytesAvailable},t.prototype._writeUint8Array=function(t,e){void 0===e&&(e=!0);var n=this._position,o=n+t.length;e&&this.validateBuffer(o),this.bytes.set(t,n),this.position=o},t.prototype.validate=function(t){var e=this._bytes.length;if(e>0&&this._position+t<=e)return!0},t.prototype.validateBuffer=function(t){this.write_position=t>this.write_position?t:this.write_position,t+=this._position,this._validateBuffer(t)},t.prototype.encodeUTF8=function(t){for(var e=0,n=this.stringToCodePoints(t),o=[];n.length>e;){var i=n[e++];if(this.inRange(i,55296,57343))this.encoderError(i);else if(this.inRange(i,0,127))o.push(i);else{var r=void 0,a=void 0;for(this.inRange(i,128,2047)?(r=1,a=192):this.inRange(i,2048,65535)?(r=2,a=224):this.inRange(i,65536,1114111)&&(r=3,a=240),o.push(this.div(i,Math.pow(64,r))+a);r>0;){var s=this.div(i,Math.pow(64,r-1));o.push(128+s%64),r-=1}}}return new Uint8Array(o)},t.prototype.decodeUTF8=function(t){for(var e,n=0,o="",i=0,r=0,a=0,s=0;t.length>n;){var c=t[n++];if(c==this.EOF_byte)e=0!=r?this.decoderError(!1):this.EOF_code_point;else if(0==r)this.inRange(c,0,127)?e=c:(this.inRange(c,194,223)?(r=1,s=128,i=c-192):this.inRange(c,224,239)?(r=2,s=2048,i=c-224):this.inRange(c,240,244)?(r=3,s=65536,i=c-240):this.decoderError(!1),i*=Math.pow(64,r),e=null);else if(this.inRange(c,128,191))if(a+=1,i+=(c-128)*Math.pow(64,r-a),a!==r)e=null;else{var l=i,u=s;i=0,r=0,a=0,s=0,e=this.inRange(l,u,1114111)&&!this.inRange(l,55296,57343)?l:this.decoderError(!1,c)}else i=0,r=0,a=0,s=0,n--,e=this.decoderError(!1,c);null!==e&&e!==this.EOF_code_point&&(e<=65535?e>0&&(o+=String.fromCharCode(e)):(e-=65536,o+=String.fromCharCode(55296+(e>>10&1023)),o+=String.fromCharCode(56320+(1023&e))))}return o},t.prototype.encoderError=function(){},t.prototype.decoderError=function(t,e){return e||65533},t.prototype.inRange=function(t,e,n){return e<=t&&t<=n},t.prototype.div=function(t,e){return Math.floor(t/e)},t.prototype.stringToCodePoints=function(t){for(var e=[],n=0,o=t.length;n<t.length;){var i=t.charCodeAt(n);if(this.inRange(i,55296,57343))if(this.inRange(i,56320,57343))e.push(65533);else if(n==o-1)e.push(65533);else{var r=t.charCodeAt(n+1);if(this.inRange(r,56320,57343)){var a=1023&i,s=1023&r;n+=1,e.push(65536+(a<<10)+s)}else e.push(65533)}else e.push(i);n+=1}return e},t.prototype.writeStrFixedLen=function(e,n){var o=t.GetByteArray();if(o.writeUTFBytes(e),o.length>=n)o.position=0,this.writeBytes(o,0,n);else{for(;o.length<n;)o.writeByte(0);this.writeBytes(o)}t.ReleaseByteArray(o)},t.prototype.readStrFixedLen=function(t){var e=this.readUTFBytes(t);return e.trim()},t.prototype.rIntArr=function(t){for(var e=new Array;t-- >0;)e.push(this.readInt());return e},t.prototype.writeIntArr=function(t,e){for(var n=0;n<e;n++)this.writeInt(n<t.length?t[n]:0)},t.prototype.readByteArr=function(t){for(var e=new Array;t-- >0;)e.push(this.readByte());return e},t.prototype.writeByteArr=function(t,e){for(var n=0;n<e;n++)this.writeByte(n<t.length?t[n]:0)},t.GetByteArray=function(e){var n=t._bytesPool.pop();return void 0===n?t._newByteArray(e):(void 0!==e&&n.reset(e),n)},t.ReleaseByteArray=function(e){e&&(e.clear(),t._bytesPool.push(e))},t._newByteArray=function(e){var n=new t(e);return n.endian=s.LITTLE_ENDIAN,n},t.prototype.read2ByteArr=function(t,e){for(var n=[],o=0;o<t;o++){for(var i=[],r=0;r<e;r++)i.push(this.readByte());n.push(i)}return n},t.prototype.read2AnyArr=function(t,e,n,o){for(var i=new Array,r=0;r<t;r++){for(var a=[],s=0;s<e;s++)a.push(n.call(o,this));i.push(a)}return i},t.prototype.readAnyArr=function(t,e,n){for(var o=new Array,i=0;i<t;i++)o.push(e.call(n,this));return o},t.prototype.readLong=function(){var t=new r.Long;return t.fromBytes(this,this.position),t.lowerUint},t.prototype.writeLong=function(t){t.toData(this)},t._bytesPool=new Array,t}();n.ByteArray=c,cc._RF.pop()},{"../utils/Logger":"Logger","./Long":"Long"}],CMD_DanMsg:[function(t,e,n){"use strict";cc._RF.push(e,"2a7705GbRpDiolUVevhlvOE","CMD_DanMsg"),Object.defineProperty(n,"__esModule",{value:!0}),n.DAN_SUB_MSG=n.MSG_SC_ResponseCfg=n.DuanCfgItem=n.MSG_SC_ResponseDuanDemote=n.MSG_SC_ResponseUpdateReward=n.MSG_SC_ResponseQuickUpdate=n.MSG_SC_ResponseDanRank=n.MSG_SC_ResponseDanInfo=n.Reward=n.RankItem=void 0;var o=function(){function t(){this.dwRank=0,this.dwUserID=0,this.strName="",this.dwGold=0,this.dwHope=0,this.reward=void 0,this.bGordenVip=!1}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create()),null!=t.dwRank&&e.uint32(8).uint32(t.dwRank),null!=t.dwUserID&&e.uint32(16).uint32(t.dwUserID),null!=t.strName&&e.uint32(26).string(t.strName),null!=t.dwGold&&e.uint32(32).int32(t.dwGold),null!=t.dwHope&&e.uint32(40).uint32(t.dwHope);for(var n=0,o=t.reward;n<o.length;n++){var r=o[n];null!=r&&i.encode(r,e.uint32(50).fork()).ldelim()}return null!=t.bGordenVip&&e.uint32(56).bool(t.bGordenVip),e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,r=void 0===n?o.len:o.pos+n,a=new t,s=!1;for(a.reward=[];o.pos<r&&!s;){var c=o.uint32();switch(c>>>3){case 0:s=!0;break;case 1:a.dwRank=o.uint32();break;case 2:a.dwUserID=o.uint32();break;case 3:a.strName=o.string();break;case 4:a.dwGold=o.int32();break;case 5:a.dwHope=o.uint32();break;case 6:a.reward.push(i.decode(o,o.uint32()));break;case 7:a.bGordenVip=o.bool();break;default:o.skipType(7&c)}}return a},t}();n.RankItem=o;var i=function(){function t(){this.dwType=0,this.dwNum=0,this.strExData=protobuf.util.newBuffer([])}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwType&&e.uint32(8).uint32(t.dwType),null!=t.dwNum&&e.uint32(16).int32(t.dwNum),null!=t.strExData&&e.uint32(42).bytes(t.strExData),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwType=o.uint32();break;case 2:r.dwNum=o.int32();break;case 5:r.strExData=o.bytes();break;default:o.skipType(7&s)}}return r},t}();n.Reward=i;var r=function(){function t(){this.dwDan1=0,this.dwDan2=0,this.dwNextDan1=0,this.dwNextDan2=0,this.dwLastDan1=0,this.dwLastDan2=0,this.dwMyRank=0,this.dwMyWinGold=0,this.dwQuickGold=0,this.dwHope=0,this.reward=void 0,this.dwTime=0,this.dwBaoJiRank=0,this.dwJiangJiRank=0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create()),null!=t.dwDan1&&e.uint32(8).uint32(t.dwDan1),null!=t.dwDan2&&e.uint32(16).uint32(t.dwDan2),null!=t.dwNextDan1&&e.uint32(24).uint32(t.dwNextDan1),null!=t.dwNextDan2&&e.uint32(32).uint32(t.dwNextDan2),null!=t.dwLastDan1&&e.uint32(40).uint32(t.dwLastDan1),null!=t.dwLastDan2&&e.uint32(48).uint32(t.dwLastDan2),null!=t.dwMyRank&&e.uint32(56).uint32(t.dwMyRank),null!=t.dwMyWinGold&&e.uint32(64).int32(t.dwMyWinGold),null!=t.dwQuickGold&&e.uint32(72).uint32(t.dwQuickGold),null!=t.dwHope&&e.uint32(80).uint32(t.dwHope);for(var n=0,o=t.reward;n<o.length;n++){var r=o[n];null!=r&&i.encode(r,e.uint32(90).fork()).ldelim()}return null!=t.dwTime&&e.uint32(96).uint32(t.dwTime),null!=t.dwBaoJiRank&&e.uint32(104).uint32(t.dwBaoJiRank),null!=t.dwJiangJiRank&&e.uint32(112).uint32(t.dwJiangJiRank),e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,r=void 0===n?o.len:o.pos+n,a=new t,s=!1;for(a.reward=[];o.pos<r&&!s;){var c=o.uint32();switch(c>>>3){case 0:s=!0;break;case 1:a.dwDan1=o.uint32();break;case 2:a.dwDan2=o.uint32();break;case 3:a.dwNextDan1=o.uint32();break;case 4:a.dwNextDan2=o.uint32();break;case 5:a.dwLastDan1=o.uint32();break;case 6:a.dwLastDan2=o.uint32();break;case 7:a.dwMyRank=o.uint32();break;case 8:a.dwMyWinGold=o.int32();break;case 9:a.dwQuickGold=o.uint32();break;case 10:a.dwHope=o.uint32();break;case 11:a.reward.push(i.decode(o,o.uint32()));break;case 12:a.dwTime=o.uint32();break;case 13:a.dwBaoJiRank=o.uint32();break;case 14:a.dwJiangJiRank=o.uint32();break;default:o.skipType(7&c)}}return a},t}();n.MSG_SC_ResponseDanInfo=r;var a=function(){function t(){this.bEnd=!1,this.tabList=void 0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create()),null!=t.bEnd&&e.uint32(8).bool(t.bEnd);for(var n=0,i=t.tabList;n<i.length;n++){var r=i[n];null!=r&&o.encode(r,e.uint32(18).fork()).ldelim()}return e},t.decode=function(e,n){var i=e instanceof Uint8Array?new protobuf.Reader(e):e,r=void 0===n?i.len:i.pos+n,a=new t,s=!1;for(a.tabList=[];i.pos<r&&!s;){var c=i.uint32();switch(c>>>3){case 0:s=!0;break;case 1:a.bEnd=i.bool();break;case 2:a.tabList.push(o.decode(i,i.uint32()));break;default:i.skipType(7&c)}}return a},t}();n.MSG_SC_ResponseDanRank=a;var s=function(){function t(){this.bUpdate=!1,this.bQuick=!1,this.dwDan1=0,this.dwDan2=0,this.dwNextDan1=0,this.dwNextDan2=0,this.dwRank=0,this.reward=void 0,this.dwType=0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create()),null!=t.bUpdate&&e.uint32(8).bool(t.bUpdate),null!=t.bQuick&&e.uint32(16).bool(t.bQuick),null!=t.dwDan1&&e.uint32(24).uint32(t.dwDan1),null!=t.dwDan2&&e.uint32(32).uint32(t.dwDan2),null!=t.dwNextDan1&&e.uint32(40).uint32(t.dwNextDan1),null!=t.dwNextDan2&&e.uint32(48).uint32(t.dwNextDan2),null!=t.dwRank&&e.uint32(56).uint32(t.dwRank);for(var n=0,o=t.reward;n<o.length;n++){var r=o[n];null!=r&&i.encode(r,e.uint32(66).fork()).ldelim()}return null!=t.dwType&&e.uint32(72).uint32(t.dwType),e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,r=void 0===n?o.len:o.pos+n,a=new t,s=!1;for(a.reward=[];o.pos<r&&!s;){var c=o.uint32();switch(c>>>3){case 0:s=!0;break;case 1:a.bUpdate=o.bool();break;case 2:a.bQuick=o.bool();break;case 3:a.dwDan1=o.uint32();break;case 4:a.dwDan2=o.uint32();break;case 5:a.dwNextDan1=o.uint32();break;case 6:a.dwNextDan2=o.uint32();break;case 7:a.dwRank=o.uint32();break;case 8:a.reward.push(i.decode(o,o.uint32()));break;case 9:a.dwType=o.uint32();break;default:o.skipType(7&c)}}return a},t}();n.MSG_SC_ResponseQuickUpdate=s;var c=function(){function t(){this.bError=!1,this.reward=void 0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create()),null!=t.bError&&e.uint32(8).bool(t.bError);for(var n=0,o=t.reward;n<o.length;n++){var r=o[n];null!=r&&i.encode(r,e.uint32(18).fork()).ldelim()}return e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,r=void 0===n?o.len:o.pos+n,a=new t,s=!1;for(a.reward=[];o.pos<r&&!s;){var c=o.uint32();switch(c>>>3){case 0:s=!0;break;case 1:a.bError=o.bool();break;case 2:a.reward.push(i.decode(o,o.uint32()));break;default:o.skipType(7&c)}}return a},t}();n.MSG_SC_ResponseUpdateReward=c;var l=function(){function t(){this.bDemote=!1,this.dwDan1=0,this.dwDan2=0,this.dwLastDan1=0,this.dwLastDan2=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.bDemote&&e.uint32(8).bool(t.bDemote),null!=t.dwDan1&&e.uint32(16).uint32(t.dwDan1),null!=t.dwDan2&&e.uint32(24).uint32(t.dwDan2),null!=t.dwLastDan1&&e.uint32(32).uint32(t.dwLastDan1),null!=t.dwLastDan2&&e.uint32(40).uint32(t.dwLastDan2),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.bDemote=o.bool();break;case 2:r.dwDan1=o.uint32();break;case 3:r.dwDan2=o.uint32();break;case 4:r.dwLastDan1=o.uint32();break;case 5:r.dwLastDan2=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_ResponseDuanDemote=l;var u=function(){function t(){this.dwDan1=0,this.dwDan2=0,this.dwGradeNum=0,this.dwRemainNum=0,this.dwQuickGold=0,this.strExData=""}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwDan1&&e.uint32(8).uint32(t.dwDan1),null!=t.dwDan2&&e.uint32(16).uint32(t.dwDan2),null!=t.dwGradeNum&&e.uint32(24).uint32(t.dwGradeNum),null!=t.dwRemainNum&&e.uint32(32).uint32(t.dwRemainNum),null!=t.dwQuickGold&&e.uint32(40).uint32(t.dwQuickGold),null!=t.strExData&&e.uint32(50).string(t.strExData),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwDan1=o.uint32();break;case 2:r.dwDan2=o.uint32();break;case 3:r.dwGradeNum=o.uint32();break;case 4:r.dwRemainNum=o.uint32();break;case 5:r.dwQuickGold=o.uint32();break;case 6:r.strExData=o.string();break;default:o.skipType(7&s)}}return r},t}();n.DuanCfgItem=u;var d=function(){function t(){this.tabCfg=void 0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create());for(var n=0,o=t.tabCfg;n<o.length;n++){var i=o[n];null!=i&&u.encode(i,e.uint32(10).fork()).ldelim()}return e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;for(r.tabCfg=[];o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.tabCfg.push(u.decode(o,o.uint32()));break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_ResponseCfg=d,n.DAN_SUB_MSG={MSG_CS_SHOW_DAN_LIST:2e3,MSG_SC_RESPONSE_SHOW_DAN_INFO:2001,MSG_SC_RESPONSE_SHOW_DAN_RANK:2002,MSG_CS_QUICK_UPDATE:2003,MSG_SC_RESPONSE_QUICK_UPDATE:2004,MSG_CS_GET_UPDATE_REWARD:2005,MSG_SC_RESPONSE_UPDATE_REWARD:2006,MSG_CS_DUAN_DEMOTE:2007,MSG_SC_RESPONSE_DUAN_DEMOTE:2008,MSG_CS_GRADE_CFG:2009,MSG_SC_GRADE_CFG:2010,UNRECOGNIZED:-1},cc._RF.pop()},{}],CMD_FFDMsg:[function(t,e,n){"use strict";cc._RF.push(e,"300719cUHBOCrnz8bDLa0zH","CMD_FFDMsg"),Object.defineProperty(n,"__esModule",{value:!0}),n.ChaPingType=n.BannerType=n.GGType=n.RedPointType=n.FFDScene=n.FFD_SUB_MSG=n.MSG_SC_RtnOtherGGInfo=n.OtherGGItem=n.GGInfo=n.MSG_SC_RtnFFDGG=n.ScenceGG=n.MSG_SC_ResponseRedpoint=n.MSG_CS_RedPoint=n.MSG_SC_RtnFFDReward=n.ChipItem=n.MSG_CS_GetFFDReward=n.MSG_SC_RtnFFDData=n.Reward=n.MSG_CS_GetFFDData=void 0;var o=function(){function t(){this.iScenceId=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.iScenceId&&e.uint32(8).int32(t.iScenceId),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.iScenceId=o.int32();break;default:o.skipType(7&s)}}return r},t}();n.MSG_CS_GetFFDData=o;var i=function(){function t(){this.dwType=0,this.dwNum=0,this.dwLevel=0,this.dwOdd=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwType&&e.uint32(8).uint32(t.dwType),null!=t.dwNum&&e.uint32(16).int32(t.dwNum),null!=t.dwLevel&&e.uint32(24).int32(t.dwLevel),null!=t.dwOdd&&e.uint32(32).int32(t.dwOdd),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwType=o.uint32();break;case 2:r.dwNum=o.int32();break;case 3:r.dwLevel=o.int32();break;case 4:r.dwOdd=o.int32();break;default:o.skipType(7&s)}}return r},t}();n.Reward=i;var r=function(){function t(){this.iScenceId=0,this.tabReward=void 0,this.bCanGG=!1,this.strExData=""}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create()),null!=t.iScenceId&&e.uint32(8).int32(t.iScenceId);for(var n=0,o=t.tabReward;n<o.length;n++){var r=o[n];null!=r&&i.encode(r,e.uint32(18).fork()).ldelim()}return null!=t.bCanGG&&e.uint32(24).bool(t.bCanGG),null!=t.strExData&&e.uint32(34).string(t.strExData),e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,r=void 0===n?o.len:o.pos+n,a=new t,s=!1;for(a.tabReward=[];o.pos<r&&!s;){var c=o.uint32();switch(c>>>3){case 0:s=!0;break;case 1:a.iScenceId=o.int32();break;case 2:a.tabReward.push(i.decode(o,o.uint32()));break;case 3:a.bCanGG=o.bool();break;case 4:a.strExData=o.string();break;default:o.skipType(7&c)}}return a},t}();n.MSG_SC_RtnFFDData=r;var a=function(){function t(){this.iScenceId=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.iScenceId&&e.uint32(8).int32(t.iScenceId),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.iScenceId=o.int32();break;default:o.skipType(7&s)}}return r},t}();n.MSG_CS_GetFFDReward=a;var s=function(){function t(){this.dwPieceId=0,this.dwStar=0,this.bNew=!1,this.dwTableId=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwPieceId&&e.uint32(8).uint32(t.dwPieceId),null!=t.dwStar&&e.uint32(16).uint32(t.dwStar),null!=t.bNew&&e.uint32(24).bool(t.bNew),null!=t.dwTableId&&e.uint32(32).uint32(t.dwTableId),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwPieceId=o.uint32();break;case 2:r.dwStar=o.uint32();break;case 3:r.bNew=o.bool();break;case 4:r.dwTableId=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.ChipItem=s;var c=function(){function t(){this.iScenceId=0,this.bCanGG=!1,this.reward=void 0,this.tabChips=void 0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create()),null!=t.iScenceId&&e.uint32(8).int32(t.iScenceId),null!=t.bCanGG&&e.uint32(16).bool(t.bCanGG);for(var n=0,o=t.reward;n<o.length;n++)null!=(c=o[n])&&i.encode(c,e.uint32(26).fork()).ldelim();for(var r=0,a=t.tabChips;r<a.length;r++){var c;null!=(c=a[r])&&s.encode(c,e.uint32(34).fork()).ldelim()}return e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,r=void 0===n?o.len:o.pos+n,a=new t,c=!1;for(a.reward=[],a.tabChips=[];o.pos<r&&!c;){var l=o.uint32();switch(l>>>3){case 0:c=!0;break;case 1:a.iScenceId=o.int32();break;case 2:a.bCanGG=o.bool();break;case 3:a.reward.push(i.decode(o,o.uint32()));break;case 4:a.tabChips.push(s.decode(o,o.uint32()));break;default:o.skipType(7&l)}}return a},t}();n.MSG_SC_RtnFFDReward=c;var l=function(){function t(){this.dwId=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwId&&e.uint32(8).uint32(t.dwId),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwId=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.MSG_CS_RedPoint=l;var u=function(){function t(){this.dwId=0,this.dwRedPointNum=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwId&&e.uint32(8).uint32(t.dwId),null!=t.dwRedPointNum&&e.uint32(16).uint32(t.dwRedPointNum),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwId=o.uint32();break;case 2:r.dwRedPointNum=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_ResponseRedpoint=u;var d=function(){function t(){this.iScenceId=0,this.strExData=""}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.iScenceId&&e.uint32(8).int32(t.iScenceId),null!=t.strExData&&e.uint32(18).string(t.strExData),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.iScenceId=o.int32();break;case 2:r.strExData=o.string();break;default:o.skipType(7&s)}}return r},t}();n.ScenceGG=d;var p=function(){function t(){this.tabGG=void 0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create());for(var n=0,o=t.tabGG;n<o.length;n++){var i=o[n];null!=i&&d.encode(i,e.uint32(10).fork()).ldelim()}return e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;for(r.tabGG=[];o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.tabGG.push(d.decode(o,o.uint32()));break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_RtnFFDGG=p;var h=function(){function t(){this.dwType=0,this.bOpen=!1,this.strExData=""}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwType&&e.uint32(8).uint32(t.dwType),null!=t.bOpen&&e.uint32(16).bool(t.bOpen),null!=t.strExData&&e.uint32(26).string(t.strExData),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwType=o.uint32();break;case 2:r.bOpen=o.bool();break;case 3:r.strExData=o.string();break;default:o.skipType(7&s)}}return r},t}();n.GGInfo=h;var f=function(){function t(){this.dwType=0,this.strGGName="",this.tabGGInfo=void 0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create()),null!=t.dwType&&e.uint32(8).uint32(t.dwType),null!=t.strGGName&&e.uint32(18).string(t.strGGName);for(var n=0,o=t.tabGGInfo;n<o.length;n++){var i=o[n];null!=i&&h.encode(i,e.uint32(26).fork()).ldelim()}return e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;for(r.tabGGInfo=[];o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwType=o.uint32();break;case 2:r.strGGName=o.string();break;case 3:r.tabGGInfo.push(h.decode(o,o.uint32()));break;default:o.skipType(7&s)}}return r},t}();n.OtherGGItem=f;var g=function(){function t(){this.tabItem=void 0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create());for(var n=0,o=t.tabItem;n<o.length;n++){var i=o[n];null!=i&&f.encode(i,e.uint32(10).fork()).ldelim()}return e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;for(r.tabItem=[];o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.tabItem.push(f.decode(o,o.uint32()));break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_RtnOtherGGInfo=g,n.FFD_SUB_MSG={MSG_CS_GET_FFD_DATA:2e3,MSG_SC_RTN_FFD_DATA:2001,MSG_CS_GET_FFD_REWARD:2002,MSG_SC_RTN_FFD_REWARD:2003,MSG_CS_SHOW_REDPOINT:2004,MSG_SC_RESPONSE_REDPOINT:2005,MSG_CS_GET_FFD_GG:2006,MSG_SC_RTN_FFD_GG:2007,MSG_CS_GET_OTHER_GG_INFO:2008,MSG_SC_RTN_OTHER_GG_CFG:2009,UNRECOGNIZED:-1},n.FFDScene={CD_TASK:1,PC:2,LOTTERY:3,OUTOFTOKENS:4,HIT_LUCKY:5,DAILY_TASK:10,UNRECOGNIZED:-1},n.RedPointType={DAILY_LOTERY:1,UNRECOGNIZED:-1},n.GGType={CHAPING:1,BANNER:2,UNRECOGNIZED:-1},n.BannerType={HALL:1,GAME:2,SETTLE:3,UNRECOGNIZED:-1},n.ChaPingType={GAME_TO_HALL:1,GAME_SETTLE:2,UNRECOGNIZED:-1},cc._RF.pop()},{}],CMD_GateMsg:[function(t,e,n){"use strict";cc._RF.push(e,"d6046Dhn09KSqARXARNqPSC","CMD_GateMsg"),Object.defineProperty(n,"__esModule",{value:!0}),n.SERVER_HINT_TYPE=n.ERROR_DISCON_TYPE=n.PLAZA_GATE_SUB_MSG=n.MSG_SC_KickUserHintMsg=n.MSG_SC_BroadcastMsg=n.MSG_SC_ServerHintMsg=n.MSG_SC_SockDisConMsg=n.MSG_CS_HeartMsg=n.MSG_CS_RtnLoginPlazaResult=n.MSG_CS_LoginPlaza=n.MSG_SC_UserOnLineOtherGame=void 0;var o=function(){function t(){this.dwGameType=0,this.dwGameID=0,this.dwGradeType=0,this.chGameName=protobuf.util.newBuffer([]),this.dwServerID=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwGameType&&e.uint32(8).uint32(t.dwGameType),null!=t.dwGameID&&e.uint32(16).uint32(t.dwGameID),null!=t.dwGradeType&&e.uint32(24).uint32(t.dwGradeType),null!=t.chGameName&&e.uint32(34).bytes(t.chGameName),null!=t.dwServerID&&e.uint32(40).uint32(t.dwServerID),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwGameType=o.uint32();break;case 2:r.dwGameID=o.uint32();break;case 3:r.dwGradeType=o.uint32();break;case 4:r.chGameName=o.bytes();break;case 5:r.dwServerID=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_UserOnLineOtherGame=o;var i=function(){function t(){this.strUUID=""}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.strUUID&&e.uint32(10).string(t.strUUID),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.strUUID=o.string();break;default:o.skipType(7&s)}}return r},t}();n.MSG_CS_LoginPlaza=i;var r=function(){function t(){this.dwErrorCode=0,this.dwLineNum=0,this.UserOnLineInfo=void 0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwErrorCode&&e.uint32(8).uint32(t.dwErrorCode),null!=t.dwLineNum&&e.uint32(16).uint32(t.dwLineNum),void 0!==t.UserOnLineInfo&&void 0!==t.UserOnLineInfo&&null!=t.UserOnLineInfo&&o.encode(t.UserOnLineInfo,e.uint32(26).fork()).ldelim(),e},t.decode=function(e,n){for(var i=e instanceof Uint8Array?new protobuf.Reader(e):e,r=void 0===n?i.len:i.pos+n,a=new t,s=!1;i.pos<r&&!s;){var c=i.uint32();switch(c>>>3){case 0:s=!0;break;case 1:a.dwErrorCode=i.uint32();break;case 2:a.dwLineNum=i.uint32();break;case 3:a.UserOnLineInfo=o.decode(i,i.uint32());break;default:i.skipType(7&c)}}return a},t}();n.MSG_CS_RtnLoginPlazaResult=r;var a=function(){function t(){this.strUUID=""}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.strUUID&&e.uint32(10).string(t.strUUID),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.strUUID=o.string();break;default:o.skipType(7&s)}}return r},t}();n.MSG_CS_HeartMsg=a;var s=function(){function t(){this.dwErrorType=1,this.dwLineNum=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwErrorType&&e.uint32(8).int32(t.dwErrorType),null!=t.dwLineNum&&e.uint32(16).uint32(t.dwLineNum),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwErrorType=o.int32();break;case 2:r.dwLineNum=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_SockDisConMsg=s;var c=function(){function t(){this.dwHintType=1,this.dwLineNum=0,this.dwGameID=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwHintType&&e.uint32(8).int32(t.dwHintType),null!=t.dwLineNum&&e.uint32(16).uint32(t.dwLineNum),null!=t.dwGameID&&e.uint32(24).uint32(t.dwGameID),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwHintType=o.int32();break;case 2:r.dwLineNum=o.uint32();break;case 3:r.dwGameID=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_ServerHintMsg=c;var l=function(){function t(){this.iChatType=0,this.dwUserID=0,this.bGender=!1,this.iColorValue=0,this.chUserNickName=protobuf.util.newBuffer([]),this.chSayInfo=protobuf.util.newBuffer([]),this.chCmdInfo=protobuf.util.newBuffer([])}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.iChatType&&e.uint32(8).int32(t.iChatType),null!=t.dwUserID&&e.uint32(16).uint32(t.dwUserID),null!=t.bGender&&e.uint32(24).bool(t.bGender),null!=t.iColorValue&&e.uint32(32).int32(t.iColorValue),null!=t.chUserNickName&&e.uint32(42).bytes(t.chUserNickName),null!=t.chSayInfo&&e.uint32(50).bytes(t.chSayInfo),null!=t.chCmdInfo&&e.uint32(58).bytes(t.chCmdInfo),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.iChatType=o.int32();break;case 2:r.dwUserID=o.uint32();break;case 3:r.bGender=o.bool();break;case 4:r.iColorValue=o.int32();break;case 5:r.chUserNickName=o.bytes();break;case 6:r.chSayInfo=o.bytes();break;case 7:r.chCmdInfo=o.bytes();break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_BroadcastMsg=l;var u=function(){function t(){this.dwUserID=0,this.chHintBuf=protobuf.util.newBuffer([])}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwUserID&&e.uint32(8).uint32(t.dwUserID),null!=t.chHintBuf&&e.uint32(18).bytes(t.chHintBuf),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwUserID=o.uint32();break;case 2:r.chHintBuf=o.bytes();break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_KickUserHintMsg=u,n.PLAZA_GATE_SUB_MSG={MSGID_CS_LOGIN_PLAZA:100,MSGID_SC_RTNLOGIN_RESULT:101,MSGID_CSS_HEARTMSG:102,MSGID_SC_DISCONNECT_MSG:103,MSGID_SC_SERVER_HINT_MSG:104,MSGID_SC_BROADCASTMSG:105,MSGID_SC_KICK_USER_HINTMSG:106,MSGID_SC_USER_OL_OTHER_GAME:107,UNRECOGNIZED:-1},n.ERROR_DISCON_TYPE={ERROR_STOP_SERVER:1,ERROR_UUID:2,ERROR_HEARTBREAK:3,ERROR_GATE_ERROR:4,ERROR_USER_ABNORMAL:5,UNRECOGNIZED:-1},n.SERVER_HINT_TYPE={SERVER_NOFINDSERVER:1,SERVER_USERNOEXIST:2,UNRECOGNIZED:-1},cc._RF.pop()},{}],CMD_LabaMsg:[function(t,e,n){"use strict";cc._RF.push(e,"b0237QEV5dJmbpexyfx2wbw","CMD_LabaMsg"),Object.defineProperty(n,"__esModule",{value:!0}),n.LABA_SERVER_SUB_MSG=n.Msg_SC_LabaInfo=void 0;var o=function(){function t(){this.dwUserID=0,this.chText=protobuf.util.newBuffer([]),this.dwType=0,this.dwTime=0,this.dwNum=0,this.dwScene=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwUserID&&e.uint32(8).uint32(t.dwUserID),null!=t.chText&&e.uint32(18).bytes(t.chText),null!=t.dwType&&e.uint32(24).uint32(t.dwType),null!=t.dwTime&&e.uint32(32).uint32(t.dwTime),null!=t.dwNum&&e.uint32(40).uint32(t.dwNum),null!=t.dwScene&&e.uint32(48).uint32(t.dwScene),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwUserID=o.uint32();break;case 2:r.chText=o.bytes();break;case 3:r.dwType=o.uint32();break;case 4:r.dwTime=o.uint32();break;case 5:r.dwNum=o.uint32();break;case 6:r.dwScene=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.Msg_SC_LabaInfo=o,n.LABA_SERVER_SUB_MSG={MSG_SC_LABA_INFO:2e3,UNRECOGNIZED:-1},cc._RF.pop()},{}],CMD_LoginMsg:[function(t,e,n){"use strict";cc._RF.push(e,"62135oaf91Lxoj+awHjGvLQ","CMD_LoginMsg"),Object.defineProperty(n,"__esModule",{value:!0}),n.LOGIN_TYPE=n.LOGIN_ERR_CODE=n.LOGIN_ACC_TYPE=n.LOGIN_SUB_MSG=n.MSG_CS_LoginData=n.MSG_SC_UserExistGame=n.MSG_SC_ProhibitGameList=n.MSG_SC_UserLoginSysMsg=n.MSG_SC_ProhibitLogin=n.MSG_SC_LoginFinish=n.MSG_SC_LogonError=n.MSG_SC_RtnRegAccountsInfo=n.MSG_SC_GameDNS=n.MSG_SC_LogonSuccess=n.MSG_SC_StopLoginMsg=n.MSG_SC_GameServerList=n.msgGameServerInfo=void 0;var o=function(){function t(){this.dwServerID=0,this.dwGameID=0,this.dwGameType=0,this.dwGradeType=0,this.dwOnLinePeopleNums=0,this.dwHighPeopleNums=0,this.dwVirtualPeopleNums=0,this.chGameName=protobuf.util.newBuffer([]),this.chClientData=protobuf.util.newBuffer([])}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwServerID&&e.uint32(8).uint32(t.dwServerID),null!=t.dwGameID&&e.uint32(32).uint32(t.dwGameID),null!=t.dwGameType&&e.uint32(40).uint32(t.dwGameType),null!=t.dwGradeType&&e.uint32(48).uint32(t.dwGradeType),null!=t.dwOnLinePeopleNums&&e.uint32(88).uint32(t.dwOnLinePeopleNums),null!=t.dwHighPeopleNums&&e.uint32(104).uint32(t.dwHighPeopleNums),null!=t.dwVirtualPeopleNums&&e.uint32(112).uint32(t.dwVirtualPeopleNums),null!=t.chGameName&&e.uint32(178).bytes(t.chGameName),null!=t.chClientData&&e.uint32(194).bytes(t.chClientData),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwServerID=o.uint32();break;case 4:r.dwGameID=o.uint32();break;case 5:r.dwGameType=o.uint32();break;case 6:r.dwGradeType=o.uint32();break;case 11:r.dwOnLinePeopleNums=o.uint32();break;case 13:r.dwHighPeopleNums=o.uint32();break;case 14:r.dwVirtualPeopleNums=o.uint32();break;case 22:r.chGameName=o.bytes();break;case 24:r.chClientData=o.bytes();break;default:o.skipType(7&s)}}return r},t}();n.msgGameServerInfo=o;var i=function(){function t(){this.gslist=void 0,this.tabGameTypeList=protobuf.util.emptyArray,this.dwPlayNowGameID=0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create());for(var n=0,i=t.gslist;n<i.length;n++)null!=(s=i[n])&&o.encode(s,e.uint32(10).fork()).ldelim();if(void 0!==t.tabGameTypeList&&t.tabGameTypeList.length)for(var r=0,a=t.tabGameTypeList;r<a.length;r++){var s=a[r];e.uint32(16).uint32(s)}return null!=t.dwPlayNowGameID&&e.uint32(24).uint32(t.dwPlayNowGameID),e},t.decode=function(e,n){var i=e instanceof Uint8Array?new protobuf.Reader(e):e,r=void 0===n?i.len:i.pos+n,a=new t,s=!1;for(a.gslist=[],a.tabGameTypeList=[];i.pos<r&&!s;){var c=i.uint32();switch(c>>>3){case 0:s=!0;break;case 1:a.gslist.push(o.decode(i,i.uint32()));break;case 2:if(2==(7&c))for(var l=i.uint32()+i.pos;i.pos<l;)a.tabGameTypeList.push(i.uint32());else a.tabGameTypeList.push(i.uint32());break;case 3:a.dwPlayNowGameID=i.uint32();break;default:i.skipType(7&c)}}return a},t}();n.MSG_SC_GameServerList=i;var r=function(){function t(){this.chStopLoginSay=protobuf.util.newBuffer([])}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.chStopLoginSay&&e.uint32(10).bytes(t.chStopLoginSay),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.chStopLoginSay=o.bytes();break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_StopLoginMsg=r;var a=function(){function t(){this.dwUserID=0,this.szNickName=protobuf.util.newBuffer([]),this.iGender=0,this.iIdentityTag=0,this.iSysFaceID=0,this.iUserCustFID=0,this.iRoleID=0,this.dwVIPGrade=0,this.dwGem=0,this.llGold=protobuf.util.Long?protobuf.util.LongBits.from(0).toLong():0,this.dwExchangeTicket=0,this.dwJuShu=0,this.dwConLoginDayNums=0,this.dwSysTime=0,this.IsNewUser=!1,this.IsRegUser=!1,this.dwHongBao=0,this.szUnderWrite=protobuf.util.newBuffer([]),this.bIsFristLogin=!1,this.iRegDayNum=0,this.dwPCGoldLimit=0,this.chMachineSerial=protobuf.util.newBuffer([])}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwUserID&&e.uint32(8).uint32(t.dwUserID),null!=t.szNickName&&e.uint32(18).bytes(t.szNickName),null!=t.iGender&&e.uint32(24).int32(t.iGender),null!=t.iIdentityTag&&e.uint32(32).int32(t.iIdentityTag),null!=t.iSysFaceID&&e.uint32(40).int32(t.iSysFaceID),null!=t.iUserCustFID&&e.uint32(48).int32(t.iUserCustFID),null!=t.iRoleID&&e.uint32(56).int32(t.iRoleID),null!=t.dwVIPGrade&&e.uint32(64).uint32(t.dwVIPGrade),null!=t.dwGem&&e.uint32(72).uint32(t.dwGem),null!=t.llGold&&e.uint32(80).int64(t.llGold),null!=t.dwExchangeTicket&&e.uint32(88).uint32(t.dwExchangeTicket),null!=t.dwJuShu&&e.uint32(96).uint32(t.dwJuShu),null!=t.dwConLoginDayNums&&e.uint32(104).uint32(t.dwConLoginDayNums),null!=t.dwSysTime&&e.uint32(112).uint32(t.dwSysTime),null!=t.IsNewUser&&e.uint32(120).bool(t.IsNewUser),null!=t.IsRegUser&&e.uint32(128).bool(t.IsRegUser),null!=t.dwHongBao&&e.uint32(136).uint32(t.dwHongBao),null!=t.szUnderWrite&&e.uint32(146).bytes(t.szUnderWrite),null!=t.bIsFristLogin&&e.uint32(152).bool(t.bIsFristLogin),null!=t.iRegDayNum&&e.uint32(160).int32(t.iRegDayNum),null!=t.dwPCGoldLimit&&e.uint32(168).uint32(t.dwPCGoldLimit),null!=t.chMachineSerial&&e.uint32(178).bytes(t.chMachineSerial),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwUserID=o.uint32();break;case 2:r.szNickName=o.bytes();break;case 3:r.iGender=o.int32();break;case 4:r.iIdentityTag=o.int32();break;case 5:r.iSysFaceID=o.int32();break;case 6:r.iUserCustFID=o.int32();break;case 7:r.iRoleID=o.int32();break;case 8:r.dwVIPGrade=o.uint32();break;case 9:r.dwGem=o.uint32();break;case 10:r.llGold=o.int64();break;case 11:r.dwExchangeTicket=o.uint32();break;case 12:r.dwJuShu=o.uint32();break;case 13:r.dwConLoginDayNums=o.uint32();break;case 14:r.dwSysTime=o.uint32();break;case 15:r.IsNewUser=o.bool();break;case 16:r.IsRegUser=o.bool();break;case 17:r.dwHongBao=o.uint32();break;case 18:r.szUnderWrite=o.bytes();break;case 19:r.bIsFristLogin=o.bool();break;case 20:r.iRegDayNum=o.int32();break;case 21:r.dwPCGoldLimit=o.uint32();break;case 22:r.chMachineSerial=o.bytes();break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_LogonSuccess=a;var s=function(){function t(){this.strgateaddr="",this.strgameURL="",this.stryunyingURL="",this.struploadfileURL="",this.strdownloadfileURL=""}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.strgateaddr&&e.uint32(10).string(t.strgateaddr),null!=t.strgameURL&&e.uint32(18).string(t.strgameURL),null!=t.stryunyingURL&&e.uint32(26).string(t.stryunyingURL),null!=t.struploadfileURL&&e.uint32(34).string(t.struploadfileURL),null!=t.strdownloadfileURL&&e.uint32(42).string(t.strdownloadfileURL),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.strgateaddr=o.string();break;case 2:r.strgameURL=o.string();break;case 3:r.stryunyingURL=o.string();break;case 4:r.struploadfileURL=o.string();break;case 5:r.strdownloadfileURL=o.string();break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_GameDNS=s;var c=function(){function t(){this.dwPlatformID=0,this.dwProjectID=0,this.dwUserID=0,this.chPlatformAccount=protobuf.util.newBuffer([]),this.chPlatformPWD=protobuf.util.newBuffer([]),this.LoginType=1}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwPlatformID&&e.uint32(8).uint32(t.dwPlatformID),null!=t.dwProjectID&&e.uint32(16).uint32(t.dwProjectID),null!=t.dwUserID&&e.uint32(24).uint32(t.dwUserID),null!=t.chPlatformAccount&&e.uint32(34).bytes(t.chPlatformAccount),null!=t.chPlatformPWD&&e.uint32(42).bytes(t.chPlatformPWD),null!=t.LoginType&&e.uint32(48).int32(t.LoginType),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwPlatformID=o.uint32();break;case 2:r.dwProjectID=o.uint32();break;case 3:r.dwUserID=o.uint32();break;case 4:r.chPlatformAccount=o.bytes();break;case 5:r.chPlatformPWD=o.bytes();break;case 6:r.LoginType=o.int32();break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_RtnRegAccountsInfo=c;var l=function(){function t(){this.ErrorCode=1,this.dwLineNum=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.ErrorCode&&e.uint32(8).int32(t.ErrorCode),null!=t.dwLineNum&&e.uint32(16).uint32(t.dwLineNum),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.ErrorCode=o.int32();break;case 2:r.dwLineNum=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_LogonError=l;var u=function(){function t(){this.dwUserID=0,this.strUUID="",this.chPlatformAccount=protobuf.util.newBuffer([]),this.chPlatformPWD=protobuf.util.newBuffer([])}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwUserID&&e.uint32(8).uint32(t.dwUserID),null!=t.strUUID&&e.uint32(18).string(t.strUUID),null!=t.chPlatformAccount&&e.uint32(26).bytes(t.chPlatformAccount),null!=t.chPlatformPWD&&e.uint32(34).bytes(t.chPlatformPWD),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwUserID=o.uint32();break;case 2:r.strUUID=o.string();break;case 3:r.chPlatformAccount=o.bytes();break;case 4:r.chPlatformPWD=o.bytes();break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_LoginFinish=u;var d=function(){function t(){this.chProhibitDescribt=protobuf.util.newBuffer([])}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.chProhibitDescribt&&e.uint32(10).bytes(t.chProhibitDescribt),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.chProhibitDescribt=o.bytes();break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_ProhibitLogin=d;var p=function(){function t(){this.chSayInfo=protobuf.util.newBuffer([]),this.iColorValue=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.chSayInfo&&e.uint32(10).bytes(t.chSayInfo),null!=t.iColorValue&&e.uint32(16).int32(t.iColorValue),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.chSayInfo=o.bytes();break;case 2:r.iColorValue=o.int32();break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_UserLoginSysMsg=p;var h=function(){function t(){this.dwPlatformID=0,this.dwProjectID=0,this.strGameList="",this.strNoShowList="",this.strSHNoShowList=""}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwPlatformID&&e.uint32(8).uint32(t.dwPlatformID),null!=t.dwProjectID&&e.uint32(16).uint32(t.dwProjectID),null!=t.strGameList&&e.uint32(26).string(t.strGameList),null!=t.strNoShowList&&e.uint32(34).string(t.strNoShowList),null!=t.strSHNoShowList&&e.uint32(42).string(t.strSHNoShowList),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwPlatformID=o.uint32();break;case 2:r.dwProjectID=o.uint32();break;case 3:r.strGameList=o.string();break;case 4:r.strNoShowList=o.string();break;case 5:r.strSHNoShowList=o.string();break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_ProhibitGameList=h;var f=function(){function t(){this.dwServerID=0,this.dwGameID=0,this.dwGameType=0,this.dwGradeType=0,this.chGameName=protobuf.util.newBuffer([])}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwServerID&&e.uint32(8).uint32(t.dwServerID),null!=t.dwGameID&&e.uint32(16).uint32(t.dwGameID),null!=t.dwGameType&&e.uint32(24).uint32(t.dwGameType),null!=t.dwGradeType&&e.uint32(32).uint32(t.dwGradeType),null!=t.chGameName&&e.uint32(42).bytes(t.chGameName),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwServerID=o.uint32();break;case 2:r.dwGameID=o.uint32();break;case 3:r.dwGameType=o.uint32();break;case 4:r.dwGradeType=o.uint32();break;case 5:r.chGameName=o.bytes();break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_UserExistGame=f;var g=function(){function t(){this.LoginType=1,this.dwPlatformID=0,this.dwProjectID=0,this.strVersion="",this.dwPlatformNumber=0,this.chPlatformAccount=protobuf.util.newBuffer([]),this.chPlatformPWD=protobuf.util.newBuffer([]),this.chNickName=protobuf.util.newBuffer([]),this.iGender=0,this.chTimeStamp=protobuf.util.newBuffer([]),this.chSign=protobuf.util.newBuffer([]),this.chMachineSerial=protobuf.util.newBuffer([]),this.chMachineType=protobuf.util.newBuffer([]),this.iSIMTypeID=0,this.iUseNetType=0,this.iDeviceType=0,this.jvalue=0,this.wvalue=0,this.strLoginCfg="",this.strResVersion=protobuf.util.newBuffer([]),this.strSysLanguage=protobuf.util.newBuffer([]),this.dwSysTime=0,this.dwSDKLoginType=0,this.dwInviteUserID=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.LoginType&&e.uint32(8).int32(t.LoginType),null!=t.dwPlatformID&&e.uint32(16).uint32(t.dwPlatformID),null!=t.dwProjectID&&e.uint32(24).uint32(t.dwProjectID),null!=t.strVersion&&e.uint32(34).string(t.strVersion),null!=t.dwPlatformNumber&&e.uint32(40).uint32(t.dwPlatformNumber),null!=t.chPlatformAccount&&e.uint32(50).bytes(t.chPlatformAccount),null!=t.chPlatformPWD&&e.uint32(58).bytes(t.chPlatformPWD),null!=t.chNickName&&e.uint32(66).bytes(t.chNickName),null!=t.iGender&&e.uint32(72).int32(t.iGender),null!=t.chTimeStamp&&e.uint32(82).bytes(t.chTimeStamp),null!=t.chSign&&e.uint32(90).bytes(t.chSign),null!=t.chMachineSerial&&e.uint32(98).bytes(t.chMachineSerial),null!=t.chMachineType&&e.uint32(106).bytes(t.chMachineType),null!=t.iSIMTypeID&&e.uint32(112).int32(t.iSIMTypeID),null!=t.iUseNetType&&e.uint32(120).int32(t.iUseNetType),null!=t.iDeviceType&&e.uint32(128).int32(t.iDeviceType),null!=t.jvalue&&e.uint32(137).double(t.jvalue),null!=t.wvalue&&e.uint32(145).double(t.wvalue),null!=t.strLoginCfg&&e.uint32(154).string(t.strLoginCfg),null!=t.strResVersion&&e.uint32(162).bytes(t.strResVersion),null!=t.strSysLanguage&&e.uint32(170).bytes(t.strSysLanguage),null!=t.dwSysTime&&e.uint32(176).uint32(t.dwSysTime),null!=t.dwSDKLoginType&&e.uint32(184).uint32(t.dwSDKLoginType),null!=t.dwInviteUserID&&e.uint32(192).uint32(t.dwInviteUserID),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.LoginType=o.int32();break;case 2:r.dwPlatformID=o.uint32();break;case 3:r.dwProjectID=o.uint32();break;case 4:r.strVersion=o.string();break;case 5:r.dwPlatformNumber=o.uint32();break;case 6:r.chPlatformAccount=o.bytes();break;case 7:r.chPlatformPWD=o.bytes();break;case 8:r.chNickName=o.bytes();break;case 9:r.iGender=o.int32();break;case 10:r.chTimeStamp=o.bytes();break;case 11:r.chSign=o.bytes();break;case 12:r.chMachineSerial=o.bytes();break;case 13:r.chMachineType=o.bytes();break;case 14:r.iSIMTypeID=o.int32();break;case 15:r.iUseNetType=o.int32();break;case 16:r.iDeviceType=o.int32();break;case 17:r.jvalue=o.double();break;case 18:r.wvalue=o.double();break;case 19:r.strLoginCfg=o.string();break;case 20:r.strResVersion=o.bytes();break;case 21:r.strSysLanguage=o.bytes();break;case 22:r.dwSysTime=o.uint32();break;case 23:r.dwSDKLoginType=o.uint32();break;case 24:r.dwInviteUserID=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.MSG_CS_LoginData=g,n.LOGIN_SUB_MSG={MSGID_CS_ACCOUNTS_LOGIN_GAME:1001,MSGID_SC_STOPLOGINMSG:1100,MSGID_SC_LOGON_SUCCESS:1102,MSGID_SC_LOGON_ERROR:1103,MSGID_SC_GAMESERVERINFO:1104,MSGID_SC_LOGON_FINISH:1105,MSGID_SC_PROHIBITLOGINMSG:1106,MSGID_SC_PROHIBITGAMELIST:1108,MSGID_SC_USEREXISTGAMEMSG:1109,MSGID_SC_RTNREGACCOUNTINFO:1110,MSGID_SC_RTNGAMEDNS:1111,UNRECOGNIZED:-1},n.LOGIN_ACC_TYPE={LOGIN_ACCOUNT_REGISTER:1,LOGIN_ACCOUNT_YK:2,LOGIN_ACCOUNT_LOGINREG:3,LOGIN_ACCOUNT_TOKEN:4,UNRECOGNIZED:-1},n.LOGIN_ERR_CODE={ERC_SC_ACCOUNTS_NOT_EXIST:1,ERC_SC_PASSWORD_ERCOR:2,ERC_SC_REGISTER_FAIL:3,ERC_SC_SEAL_ACCOUNTS:4,ERC_SC_LONG_NULLITY:5,ERC_SC_NETBREAK:6,ERC_SC_NOFIND_SERVER:7,ERC_SC_CHAR_ERROR:8,UNRECOGNIZED:-1},n.LOGIN_TYPE={GUEST:1,FACEBOOK:2,APPLE:3,WECHAT_MINI:4,UNRECOGNIZED:-1},cc._RF.pop()},{}],CMD_MatchingMsg:[function(t,e,n){"use strict";cc._RF.push(e,"4dfe4CiLd9P8rg4OyneHkpC","CMD_MatchingMsg"),Object.defineProperty(n,"__esModule",{value:!0}),n.CANCLE_MATCHING_ERR=n.MATCHING_ERR=n.MATCHING_GAME_SUB_MSG=n.MSG_SC_CancleMatching=n.MSG_SC_MatchingSuccess=n.MSG_SC_MatchingGameData=n.MSG_CS_MatchingGameData=void 0;var o=function(){function t(){this.dwUserID=0,this.chMatchingData=protobuf.util.newBuffer([])}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwUserID&&e.uint32(8).uint32(t.dwUserID),null!=t.chMatchingData&&e.uint32(18).bytes(t.chMatchingData),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwUserID=o.uint32();break;case 2:r.chMatchingData=o.bytes();break;default:o.skipType(7&s)}}return r},t}();n.MSG_CS_MatchingGameData=o;var i=function(){function t(){this.ErrorCode=0,this.dwLineNum=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.ErrorCode&&e.uint32(8).int32(t.ErrorCode),null!=t.dwLineNum&&e.uint32(16).uint32(t.dwLineNum),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.ErrorCode=o.int32();break;case 2:r.dwLineNum=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_MatchingGameData=i;var r=function(){function t(){this.dwEnterGameID=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwEnterGameID&&e.uint32(8).uint32(t.dwEnterGameID),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwEnterGameID=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_MatchingSuccess=r;var a=function(){function t(){this.ErrorCode=0,this.dwLineNum=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.ErrorCode&&e.uint32(8).int32(t.ErrorCode),null!=t.dwLineNum&&e.uint32(16).uint32(t.dwLineNum),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.ErrorCode=o.int32();break;case 2:r.dwLineNum=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_CancleMatching=a,n.MATCHING_GAME_SUB_MSG={MSGID_CS_MATCHING_GAME:1e3,MSGID_CS_CANCLE_MATCHING:1001,MSGID_SC_MATCHING_GAME:1500,MSGID_SC_MATCHING_SUCCESS:1501,MSGID_SC_CANCLE_MATCHING:1502,UNRECOGNIZED:-1},n.MATCHING_ERR={ERR_SC_SUCCESS:0,ERR_SC_LONG_NULLITY:1,ERR_SC_ACCOUNTS_NOT_EXIST:2,ERR_SC_NOFIND_CHAIR:3,ERR_SC_GATE_ERROR:4,ERR_SC_UUID:5,ERR_SC_GOLD_NOENOUGH:6,ERR_SC_TAIL_FAILED:7,ERR_SC_GOLD_TOOMUCH:8,ERR_SC_IN_GAME:9,ERR_SC_PS_NOENOUGH:10,UNRECOGNIZED:-1},n.CANCLE_MATCHING_ERR={ERR_SC_CANCLE_SUCCESS:0,ERR_SC_CANCLE_IN_GAME:1,ERR_SC_CANCLE_NO_USER:2,UNRECOGNIZED:-1},cc._RF.pop()},{}],CMD_OtherMsg:[function(t,e,n){"use strict";cc._RF.push(e,"f6cb1O3fS1BtJgYaB2v7pky","CMD_OtherMsg"),Object.defineProperty(n,"__esModule",{value:!0}),n.PC_PopUpId=n.RedPointType=n.FunctionId=n.PopUpId=n.ActivityId=n.OTHER_GAME_SUB_MSG=n.MSG_SC_DanSafeguard=n.MSG_SC_PCPopUpCFG=n.PC_PopItem=n.MSG_SC_GetComfortGiftBag=n.MSG_SC_ResponseComfortGiftBag=n.MSG_SC_ResponseRedpoint=n.MSG_CS_RedPoint=n.Msg_SC_SelectPaiTag=n.Msg_CS_SelectPaiTag=n.Msg_SC_GetPaiCfg=n.PaiItem=n.Msg_SC_RemoveNewTableTag=n.Msg_SC_SendNewTableTag=n.Msg_SC_UnlockNewTag=n.Msg_CS_UnlockNewTag=n.Msg_SC_SendNewTag=n.Msg_SC_SendFunUnlockCfg=n.FunUnlockItem=n.FunItem=n.Msg_SC_SendLevelReward=n.ChipItem=n.Msg_SC_SendExpLevel=n.Msg_SC_SendCfg=n.Msg_SC_GetPopUpCfg=n.PopUpItem=n.Msg_SC_GetInviteRewardResult=n.Msg_CS_GetInviteReward=n.Msg_SC_GetInviteData=n.tabInviteRewardInfo=n.Msg_SC_GetInviteCfg=n.Msg_SC_GetMysteryReward=n.Msg_SC_MysteryData=n.Reward=n.Msg_SC_SetCommentContentResult=n.Msg_CS_SetCommentContent=n.Msg_SC_SendFFTKResult=n.Msg_SC_SendUpdateResult=n.Msg_CS_UpdateUserGold=n.Msg_SC_UpGold=n.Msg_SC_GetBankruptGold=n.tabBankruptInfo=n.Msg_ActyDate=n.Msg_SC_OFAcity=void 0;var o=function(){function t(){this.OffOn=void 0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create());for(var n=0,o=t.OffOn;n<o.length;n++){var r=o[n];null!=r&&i.encode(r,e.uint32(10).fork()).ldelim()}return e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,r=void 0===n?o.len:o.pos+n,a=new t,s=!1;for(a.OffOn=[];o.pos<r&&!s;){var c=o.uint32();switch(c>>>3){case 0:s=!0;break;case 1:a.OffOn.push(i.decode(o,o.uint32()));break;default:o.skipType(7&c)}}return a},t}();n.Msg_SC_OFAcity=o;var i=function(){function t(){this.dwID=0,this.bIsNF=!1,this.chInfo=protobuf.util.newBuffer([])}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwID&&e.uint32(8).uint32(t.dwID),null!=t.bIsNF&&e.uint32(16).bool(t.bIsNF),null!=t.chInfo&&e.uint32(26).bytes(t.chInfo),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwID=o.uint32();break;case 2:r.bIsNF=o.bool();break;case 3:r.chInfo=o.bytes();break;default:o.skipType(7&s)}}return r},t}();n.Msg_ActyDate=i;var r=function(){function t(){this.dwDayPCNum=0,this.dwDayPCCount=0,this.dwPCGoldValue=0,this.dwPCGetGold=0,this.chInfo=protobuf.util.newBuffer([]),this.bCanGet=!1}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwDayPCNum&&e.uint32(8).uint32(t.dwDayPCNum),null!=t.dwDayPCCount&&e.uint32(16).uint32(t.dwDayPCCount),null!=t.dwPCGoldValue&&e.uint32(24).uint32(t.dwPCGoldValue),null!=t.dwPCGetGold&&e.uint32(32).uint32(t.dwPCGetGold),null!=t.chInfo&&e.uint32(42).bytes(t.chInfo),null!=t.bCanGet&&e.uint32(48).bool(t.bCanGet),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwDayPCNum=o.uint32();break;case 2:r.dwDayPCCount=o.uint32();break;case 3:r.dwPCGoldValue=o.uint32();break;case 4:r.dwPCGetGold=o.uint32();break;case 5:r.chInfo=o.bytes();break;case 6:r.bCanGet=o.bool();break;default:o.skipType(7&s)}}return r},t}();n.tabBankruptInfo=r;var a=function(){function t(){this.pcInfo=void 0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),void 0!==t.pcInfo&&void 0!==t.pcInfo&&null!=t.pcInfo&&r.encode(t.pcInfo,e.uint32(10).fork()).ldelim(),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,a=new t,s=!1;o.pos<i&&!s;){var c=o.uint32();switch(c>>>3){case 0:s=!0;break;case 1:a.pcInfo=r.decode(o,o.uint32());break;default:o.skipType(7&c)}}return a},t}();n.Msg_SC_GetBankruptGold=a;var s=function(){function t(){this.bIsResult=!1,this.dwGoldNum=0,this.iUserGold=0,this.byWrongInfo=protobuf.util.newBuffer([]),this.dwNewGoldNum=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.bIsResult&&e.uint32(8).bool(t.bIsResult),null!=t.dwGoldNum&&e.uint32(16).uint32(t.dwGoldNum),null!=t.iUserGold&&e.uint32(24).int32(t.iUserGold),null!=t.byWrongInfo&&e.uint32(34).bytes(t.byWrongInfo),null!=t.dwNewGoldNum&&e.uint32(40).uint32(t.dwNewGoldNum),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.bIsResult=o.bool();break;case 2:r.dwGoldNum=o.uint32();break;case 3:r.iUserGold=o.int32();break;case 4:r.byWrongInfo=o.bytes();break;case 5:r.dwNewGoldNum=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.Msg_SC_UpGold=s;var c=function(){function t(){this.dwUserID=0,this.iUpdateGold=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwUserID&&e.uint32(8).uint32(t.dwUserID),null!=t.iUpdateGold&&e.uint32(16).uint32(t.iUpdateGold),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwUserID=o.uint32();break;case 2:r.iUpdateGold=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.Msg_CS_UpdateUserGold=c;var l=function(){function t(){this.bIsResult=!1,this.iUpdateGold=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.bIsResult&&e.uint32(8).bool(t.bIsResult),null!=t.iUpdateGold&&e.uint32(16).uint32(t.iUpdateGold),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.bIsResult=o.bool();break;case 2:r.iUpdateGold=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.Msg_SC_SendUpdateResult=l;var u=function(){function t(){this.bIsXSLiBao=!1,this.bIsResult=!1,this.bIsShow5Star=!1,this.dwStarNumPop=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.bIsXSLiBao&&e.uint32(8).bool(t.bIsXSLiBao),null!=t.bIsResult&&e.uint32(16).bool(t.bIsResult),null!=t.bIsShow5Star&&e.uint32(24).bool(t.bIsShow5Star),null!=t.dwStarNumPop&&e.uint32(32).uint32(t.dwStarNumPop),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.bIsXSLiBao=o.bool();break;case 2:r.bIsResult=o.bool();break;case 3:r.bIsShow5Star=o.bool();break;case 4:r.dwStarNumPop=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.Msg_SC_SendFFTKResult=u;var d=function(){function t(){this.dwStar=0,this.byContent=protobuf.util.newBuffer([])}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwStar&&e.uint32(8).uint32(t.dwStar),null!=t.byContent&&e.uint32(18).bytes(t.byContent),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwStar=o.uint32();break;case 2:r.byContent=o.bytes();break;default:o.skipType(7&s)}}return r},t}();n.Msg_CS_SetCommentContent=d;var p=function(){function t(){this.dwError=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwError&&e.uint32(8).uint32(t.dwError),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwError=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.Msg_SC_SetCommentContentResult=p;var h=function(){function t(){this.dwType=0,this.dwNum=0,this.strExData=protobuf.util.newBuffer([])}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwType&&e.uint32(8).uint32(t.dwType),null!=t.dwNum&&e.uint32(16).int32(t.dwNum),null!=t.strExData&&e.uint32(26).bytes(t.strExData),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwType=o.uint32();break;case 2:r.dwNum=o.int32();break;case 3:r.strExData=o.bytes();break;default:o.skipType(7&s)}}return r},t}();n.Reward=h;var f=function(){function t(){this.bGet=!1,this.rewards=void 0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create()),null!=t.bGet&&e.uint32(8).bool(t.bGet);for(var n=0,o=t.rewards;n<o.length;n++){var i=o[n];null!=i&&h.encode(i,e.uint32(18).fork()).ldelim()}return e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;for(r.rewards=[];o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.bGet=o.bool();break;case 2:r.rewards.push(h.decode(o,o.uint32()));break;default:o.skipType(7&s)}}return r},t}();n.Msg_SC_MysteryData=f;var g=function(){function t(){this.bError=!1}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.bError&&e.uint32(8).bool(t.bError),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.bError=o.bool();break;default:o.skipType(7&s)}}return r},t}();n.Msg_SC_GetMysteryReward=g;var _=function(){function t(){this.iCode=0,this.tabRewardList=void 0,this.chTitle=protobuf.util.newBuffer([]),this.chDesc=protobuf.util.newBuffer([])}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create()),null!=t.iCode&&e.uint32(8).int32(t.iCode);for(var n=0,o=t.tabRewardList;n<o.length;n++){var i=o[n];null!=i&&h.encode(i,e.uint32(18).fork()).ldelim()}return null!=t.chTitle&&e.uint32(26).bytes(t.chTitle),null!=t.chDesc&&e.uint32(34).bytes(t.chDesc),e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;for(r.tabRewardList=[];o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.iCode=o.int32();break;case 2:r.tabRewardList.push(h.decode(o,o.uint32()));break;case 3:r.chTitle=o.bytes();break;case 4:r.chDesc=o.bytes();break;default:o.skipType(7&s)}}return r},t}();n.Msg_SC_GetInviteCfg=_;var y=function(){function t(){this.dwInvitedID=0,this.szInvitedNickName=protobuf.util.newBuffer([]),this.iGender=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwInvitedID&&e.uint32(8).uint32(t.dwInvitedID),null!=t.szInvitedNickName&&e.uint32(18).bytes(t.szInvitedNickName),null!=t.iGender&&e.uint32(24).int32(t.iGender),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwInvitedID=o.uint32();break;case 2:r.szInvitedNickName=o.bytes();break;case 3:r.iGender=o.int32();break;default:o.skipType(7&s)}}return r},t}();n.tabInviteRewardInfo=y;var m=function(){function t(){this.iCode=0,this.tabInviteRewardInfoList=void 0,this.tabRewardList=void 0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create()),null!=t.iCode&&e.uint32(8).int32(t.iCode);for(var n=0,o=t.tabInviteRewardInfoList;n<o.length;n++)null!=(a=o[n])&&y.encode(a,e.uint32(18).fork()).ldelim();for(var i=0,r=t.tabRewardList;i<r.length;i++){var a;null!=(a=r[i])&&h.encode(a,e.uint32(26).fork()).ldelim()}return e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;for(r.tabInviteRewardInfoList=[],r.tabRewardList=[];o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.iCode=o.int32();break;case 2:r.tabInviteRewardInfoList.push(y.decode(o,o.uint32()));break;case 3:r.tabRewardList.push(h.decode(o,o.uint32()));break;default:o.skipType(7&s)}}return r},t}();n.Msg_SC_GetInviteData=m;var b=function(){function t(){this.dwInvitedID=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwInvitedID&&e.uint32(8).uint32(t.dwInvitedID),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwInvitedID=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.Msg_CS_GetInviteReward=b;var v=function(){function t(){this.iCode=0,this.tabInviteRewardData=void 0,this.tabReward=void 0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create()),null!=t.iCode&&e.uint32(8).int32(t.iCode),void 0!==t.tabInviteRewardData&&void 0!==t.tabInviteRewardData&&null!=t.tabInviteRewardData&&y.encode(t.tabInviteRewardData,e.uint32(18).fork()).ldelim();for(var n=0,o=t.tabReward;n<o.length;n++){var i=o[n];null!=i&&h.encode(i,e.uint32(26).fork()).ldelim()}return e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;for(r.tabReward=[];o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.iCode=o.int32();break;case 2:r.tabInviteRewardData=y.decode(o,o.uint32());break;case 3:r.tabReward.push(h.decode(o,o.uint32()));break;default:o.skipType(7&s)}}return r},t}();n.Msg_SC_GetInviteRewardResult=v;var S=function(){function t(){this.dwPopUpId=0,this.dwPopNmu=0,this.dwPopIndex=0,this.dwJushu=0,this.dwPoplevel=0,this.dwPoppx=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwPopUpId&&e.uint32(8).uint32(t.dwPopUpId),null!=t.dwPopNmu&&e.uint32(16).uint32(t.dwPopNmu),null!=t.dwPopIndex&&e.uint32(24).uint32(t.dwPopIndex),null!=t.dwJushu&&e.uint32(32).uint32(t.dwJushu),null!=t.dwPoplevel&&e.uint32(40).uint32(t.dwPoplevel),null!=t.dwPoppx&&e.uint32(48).uint32(t.dwPoppx),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwPopUpId=o.uint32();break;case 2:r.dwPopNmu=o.uint32();break;case 3:r.dwPopIndex=o.uint32();break;case 4:r.dwJushu=o.uint32();break;case 5:r.dwPoplevel=o.uint32();break;case 6:r.dwPoppx=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.PopUpItem=S;var w=function(){function t(){this.tabItem=void 0,this.dwPopUpLimit=0,this.tabGameItem=void 0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create());for(var n=0,o=t.tabItem;n<o.length;n++)null!=(a=o[n])&&S.encode(a,e.uint32(10).fork()).ldelim();null!=t.dwPopUpLimit&&e.uint32(16).uint32(t.dwPopUpLimit);for(var i=0,r=t.tabGameItem;i<r.length;i++){var a;null!=(a=r[i])&&S.encode(a,e.uint32(26).fork()).ldelim()}return e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;for(r.tabItem=[],r.tabGameItem=[];o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.tabItem.push(S.decode(o,o.uint32()));break;case 2:r.dwPopUpLimit=o.uint32();break;case 3:r.tabGameItem.push(S.decode(o,o.uint32()));break;default:o.skipType(7&s)}}return r},t}();n.Msg_SC_GetPopUpCfg=w;var C=function(){function t(){this.byContent=protobuf.util.newBuffer([])}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.byContent&&e.uint32(10).bytes(t.byContent),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.byContent=o.bytes();break;default:o.skipType(7&s)}}return r},t}();n.Msg_SC_SendCfg=C;var I=function(){function t(){this.bChange=!1,this.dwLevel=0,this.dwCurrentLevel=0,this.tabReward=void 0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create()),null!=t.bChange&&e.uint32(8).bool(t.bChange),null!=t.dwLevel&&e.uint32(16).uint32(t.dwLevel),null!=t.dwCurrentLevel&&e.uint32(24).uint32(t.dwCurrentLevel);for(var n=0,o=t.tabReward;n<o.length;n++){var i=o[n];null!=i&&h.encode(i,e.uint32(34).fork()).ldelim()}return e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;for(r.tabReward=[];o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.bChange=o.bool();break;case 2:r.dwLevel=o.uint32();break;case 3:r.dwCurrentLevel=o.uint32();break;case 4:r.tabReward.push(h.decode(o,o.uint32()));break;default:o.skipType(7&s)}}return r},t}();n.Msg_SC_SendExpLevel=I;var D=function(){function t(){this.dwPieceId=0,this.dwStar=0,this.bNew=!1,this.dwTableId=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwPieceId&&e.uint32(8).uint32(t.dwPieceId),null!=t.dwStar&&e.uint32(16).uint32(t.dwStar),null!=t.bNew&&e.uint32(24).bool(t.bNew),null!=t.dwTableId&&e.uint32(32).uint32(t.dwTableId),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwPieceId=o.uint32();break;case 2:r.dwStar=o.uint32();break;case 3:r.bNew=o.bool();break;case 4:r.dwTableId=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.ChipItem=D;var L=function(){function t(){this.bError=!1,this.tabReward=void 0,this.tabChips=void 0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create()),null!=t.bError&&e.uint32(8).bool(t.bError);for(var n=0,o=t.tabReward;n<o.length;n++)null!=(a=o[n])&&h.encode(a,e.uint32(18).fork()).ldelim();for(var i=0,r=t.tabChips;i<r.length;i++){var a;null!=(a=r[i])&&D.encode(a,e.uint32(26).fork()).ldelim()}return e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;for(r.tabReward=[],r.tabChips=[];o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.bError=o.bool();break;case 2:r.tabReward.push(h.decode(o,o.uint32()));break;case 3:r.tabChips.push(D.decode(o,o.uint32()));break;default:o.skipType(7&s)}}return r},t}();n.Msg_SC_SendLevelReward=L;var R=function(){function t(){this.dwId=0,this.byContent=protobuf.util.newBuffer([])}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwId&&e.uint32(8).uint32(t.dwId),null!=t.byContent&&e.uint32(18).bytes(t.byContent),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwId=o.uint32();break;case 2:r.byContent=o.bytes();break;default:o.skipType(7&s)}}return r},t}();n.FunItem=R;var P=function(){function t(){this.dwLevel=0,this.tabFunItem=void 0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create()),null!=t.dwLevel&&e.uint32(8).uint32(t.dwLevel);for(var n=0,o=t.tabFunItem;n<o.length;n++){var i=o[n];null!=i&&R.encode(i,e.uint32(18).fork()).ldelim()}return e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;for(r.tabFunItem=[];o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwLevel=o.uint32();break;case 2:r.tabFunItem.push(R.decode(o,o.uint32()));break;default:o.skipType(7&s)}}return r},t}();n.FunUnlockItem=P;var T=function(){function t(){this.tabCfg=void 0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create());for(var n=0,o=t.tabCfg;n<o.length;n++){var i=o[n];null!=i&&P.encode(i,e.uint32(10).fork()).ldelim()}return e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;for(r.tabCfg=[];o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.tabCfg.push(P.decode(o,o.uint32()));break;default:o.skipType(7&s)}}return r},t}();n.Msg_SC_SendFunUnlockCfg=T;var E=function(){function t(){this.dwNum=0,this.tabId=protobuf.util.emptyArray}return t.encode=function(t,e){if(void 0===e&&(e=protobuf.Writer.create()),null!=t.dwNum&&e.uint32(8).uint32(t.dwNum),void 0!==t.tabId&&t.tabId.length)for(var n=0,o=t.tabId;n<o.length;n++){var i=o[n];e.uint32(16).uint32(i)}return e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;for(r.tabId=[];o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwNum=o.uint32();break;case 2:if(2==(7&s))for(var c=o.uint32()+o.pos;o.pos<c;)r.tabId.push(o.uint32());else r.tabId.push(o.uint32());break;default:o.skipType(7&s)}}return r},t}();n.Msg_SC_SendNewTag=E;var A=function(){function t(){this.dwId=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwId&&e.uint32(8).uint32(t.dwId),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwId=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.Msg_CS_UnlockNewTag=A;var N=function(){function t(){this.bError=!1}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.bError&&e.uint32(8).bool(t.bError),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.bError=o.bool();break;default:o.skipType(7&s)}}return r},t}();n.Msg_SC_UnlockNewTag=N;var G=function(){function t(){this.bHave=!1,this.tabTableId=protobuf.util.emptyArray}return t.encode=function(t,e){if(void 0===e&&(e=protobuf.Writer.create()),null!=t.bHave&&e.uint32(8).bool(t.bHave),void 0!==t.tabTableId&&t.tabTableId.length)for(var n=0,o=t.tabTableId;n<o.length;n++){var i=o[n];e.uint32(16).uint32(i)}return e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;for(r.tabTableId=[];o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.bHave=o.bool();break;case 2:if(2==(7&s))for(var c=o.uint32()+o.pos;o.pos<c;)r.tabTableId.push(o.uint32());else r.tabTableId.push(o.uint32());break;default:o.skipType(7&s)}}return r},t}();n.Msg_SC_SendNewTableTag=G;var M=function(){function t(){this.bError=!1}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.bError&&e.uint32(8).bool(t.bError),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.bError=o.bool();break;default:o.skipType(7&s)}}return r},t}();n.Msg_SC_RemoveNewTableTag=M;var O=function(){function t(){this.dwId=0,this.dwResourceId=0,this.szName=protobuf.util.newBuffer([])}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwId&&e.uint32(8).uint32(t.dwId),null!=t.dwResourceId&&e.uint32(16).uint32(t.dwResourceId),null!=t.szName&&e.uint32(26).bytes(t.szName),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwId=o.uint32();break;case 2:r.dwResourceId=o.uint32();break;case 3:r.szName=o.bytes();break;default:o.skipType(7&s)}}return r},t}();n.PaiItem=O;var k=function(){function t(){this.tabPai=void 0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create());for(var n=0,o=t.tabPai;n<o.length;n++){var i=o[n];null!=i&&O.encode(i,e.uint32(10).fork()).ldelim()}return e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;for(r.tabPai=[];o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.tabPai.push(O.decode(o,o.uint32()));break;default:o.skipType(7&s)}}return r},t}();n.Msg_SC_GetPaiCfg=k;var U=function(){function t(){this.dwPaiTag=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwPaiTag&&e.uint32(8).uint32(t.dwPaiTag),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwPaiTag=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.Msg_CS_SelectPaiTag=U;var B=function(){function t(){this.bError=!1,this.dwPaiTag=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.bError&&e.uint32(8).bool(t.bError),null!=t.dwPaiTag&&e.uint32(16).uint32(t.dwPaiTag),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.bError=o.bool();break;case 2:r.dwPaiTag=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.Msg_SC_SelectPaiTag=B;var x=function(){function t(){this.dwId=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwId&&e.uint32(8).uint32(t.dwId),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwId=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.MSG_CS_RedPoint=x;var F=function(){function t(){this.dwId=0,this.dwRedPointNum=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwId&&e.uint32(8).uint32(t.dwId),null!=t.dwRedPointNum&&e.uint32(16).uint32(t.dwRedPointNum),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwId=o.uint32();break;case 2:r.dwRedPointNum=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_ResponseRedpoint=F;var H=function(){function t(){this.bError=!1,this.tabReward=void 0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create()),null!=t.bError&&e.uint32(8).bool(t.bError);for(var n=0,o=t.tabReward;n<o.length;n++){var i=o[n];null!=i&&h.encode(i,e.uint32(18).fork()).ldelim()}return e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;for(r.tabReward=[];o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.bError=o.bool();break;case 2:r.tabReward.push(h.decode(o,o.uint32()));break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_ResponseComfortGiftBag=H;var j=function(){function t(){this.bError=!1,this.tabReward=void 0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create()),null!=t.bError&&e.uint32(8).bool(t.bError);for(var n=0,o=t.tabReward;n<o.length;n++){var i=o[n];null!=i&&h.encode(i,e.uint32(18).fork()).ldelim()}return e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;for(r.tabReward=[];o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.bError=o.bool();break;case 2:r.tabReward.push(h.decode(o,o.uint32()));break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_GetComfortGiftBag=j;var V=function(){function t(){this.chCfg=protobuf.util.newBuffer([])}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.chCfg&&e.uint32(10).bytes(t.chCfg),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.chCfg=o.bytes();break;default:o.skipType(7&s)}}return r},t}();n.PC_PopItem=V;var W=function(){function t(){this.tabItem=void 0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create());for(var n=0,o=t.tabItem;n<o.length;n++){var i=o[n];null!=i&&V.encode(i,e.uint32(10).fork()).ldelim()}return e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;for(r.tabItem=[];o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.tabItem.push(V.decode(o,o.uint32()));break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_PCPopUpCFG=W;var K=function(){function t(){this.bWeiHu=!1,this.dwTime=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.bWeiHu&&e.uint32(8).bool(t.bWeiHu),null!=t.dwTime&&e.uint32(16).uint32(t.dwTime),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.bWeiHu=o.bool();break;case 2:r.dwTime=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_DanSafeguard=K,n.OTHER_GAME_SUB_MSG={MSGID_CS_ACTIVITYOF:1,MSGID_SC_SENDACTIVIOF:2,MSGID_CS_GET_BANKRUPT_INFO:3,MSGID_SC_BANKRUPT_RESULT:4,MSGID_CS_GET_BANKRUPT_GOLD:5,MSGIDSC_BANKRUPT_GOLD_NUM:6,MSGID_CS_UPDATEUSER_GOLD:7,MSGID_SC_SENDUPDATEUSER_GOLDRESULT:8,MSGID_CS_FUFEITANKUANG:9,MSGID_SC_SENDFUFEITANKUANGRESULT:10,MSGID_CS_5STAR_COMMENT_CONTENT:11,MSGID_SC_5STAR_COMMENT_CONTENTRESULT:12,MSGID_CS_MYSTERY_DATA:13,MSGID_SC_SEND_MYSTERY_DATA:14,MSGID_CS_GET_MYSTERY_REWARD:15,MSGID_SC_SEND_GET_MYSTERY_REWARD:16,MSGID_CS_GET_INVITE_DATA:17,MSGID_SC_SEND_GET_INVITE_DATA:18,MSGID_CS_GET_INVITE_REWARD:19,MSGID_SC_SEND_GET_INVITE_REWARD:20,MSGID_CS_GET_INVITE_CFG:21,MSGID_SC_SEND_GET_INVITE_CFG:22,MSGID_CS_GET_POP_UP_CFG:23,MSGID_SC_RTN_POP_UP_CFG:24,MSGID_CS_GET_CFG:25,MSGID_SC_SEND_CFG:26,MSGID_CS_GET_EXP_LEVEL:27,MSGID_SC_SEND_EXP_LEVEL:28,MSGID_CS_GET_EXP_LEVEL_REWARD:29,MSGID_SC_SEND_EXP_LEVEL_REWARD:30,MSGID_CS_GET_FUNUNLOCK_CFG:31,MSGID_SC_SEND_FUNUNLOCK_CFG:32,MSGID_CS_GET_NEW_TAG:33,MSGID_SC_SEND_NEW_TAG:34,MSGID_CS_UNLOCK_NEW_TAG:35,MSGID_SC_UNLOCK_NEW_TAG:36,MSGID_CS_GET_NEWTABLE_TAG:37,MSGID_SC_SEND_NEWTABLE_TAG:38,MSGID_CS_REMOVE_NEWTABLE_TAG:39,MSGID_SC_REMOVE_NEWTABLE_TAG:40,MSGID_CS_GET_PAI_CFG:41,MSGID_SC_RTN_PAI_CFG:42,MSGID_CS_SELECT_PAI_TAG:43,MSGID_SC_RTN_PAI_TAG:44,MSGID_CS_SHOWT_REDPOINT:45,MSGID_SC_RESPONSE_REDPOINT:46,MSGID_CS_SHOWT_COMFORT_GIFT_BAG:47,MSGID_SC_RESPONSE_COMFORT_GIFT_BAG:48,MSGID_CS_GET_COMFORT_GIFT_BAG:49,MSGID_SC_RTN_COMFORT_GIFT_BAG:50,MSGID_CS_GET_PC_POP_CFG:51,MSGID_SC_RTN_PC_POP_CFG:52,MSGID_CS_GET_DAN_SAFEGUARD:53,MSGID_SC_RTN_DAN_SAFEGUARD:54,UNRECOGNIZED:-1},n.ActivityId={CD_ACTIVITY:1,DAILY_ACTIVITY:2,MRCJ_ACTIVITY:3,GG_ACTIVITY:4,YQXZJL_ACTIVITY:5,PAILEISELECT_ACTIVITY:6,UNRECOGNIZED:-1},n.PopUpId={INVITE_POPUP:1,LIBAO_POPUP:2,CD_POPUP:3,CHOUJIANG_POPUP:4,TASK_POPUP:5,SMLB_POPUP:6,DAN_POPUP:7,GRADE_POPUP:8,DESK_POPUP:9,GOODUP_POPUP:10,PC_POPUP:11,PCGIFT_POPUP:12,COMGIFT_POPUP:13,BOMB_POPUP:14,PC_FFD:15,UNRECOGNIZED:-1},n.FunctionId={WILD_FUNCTION:1,TABLE_FUNCTION:2,DAN_FUNCTION:3,UNRECOGNIZED:-1},n.RedPointType={PAI_TAG:1,UNRECOGNIZED:-1},n.PC_PopUpId={PC_BANKRUPT:1,PC_GIFT:2,UNRECOGNIZED:-1},cc._RF.pop()},{}],CMD_QueryMsg:[function(t,e,n){"use strict";cc._RF.push(e,"93ec7nDsCFAuqJf+FWhDwNn","CMD_QueryMsg"),Object.defineProperty(n,"__esModule",{value:!0}),n.QUERY_SUB_MSG=n.MSC_SC_UserOnlieGame=void 0;var o=function(){function t(){this.bInGame=!1,this.dwGameType=0,this.dwGameID=0,this.dwGradeType=0,this.dwServerID=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.bInGame&&e.uint32(8).bool(t.bInGame),null!=t.dwGameType&&e.uint32(16).uint32(t.dwGameType),null!=t.dwGameID&&e.uint32(24).uint32(t.dwGameID),null!=t.dwGradeType&&e.uint32(32).uint32(t.dwGradeType),null!=t.dwServerID&&e.uint32(40).uint32(t.dwServerID),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.bInGame=o.bool();break;case 2:r.dwGameType=o.uint32();break;case 3:r.dwGameID=o.uint32();break;case 4:r.dwGradeType=o.uint32();break;case 5:r.dwServerID=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.MSC_SC_UserOnlieGame=o,n.QUERY_SUB_MSG={MSG_CS_FIND_USER_ONLINE_GAME:1e3,MSG_SC_USER_ONLINE_GAME:1001,UNRECOGNIZED:-1},cc._RF.pop()},{}],CMD_ShopMsg:[function(t,e,n){"use strict";cc._RF.push(e,"bf227WH8OZMoIAhWVh61H46","CMD_ShopMsg"),Object.defineProperty(n,"__esModule",{value:!0}),n.ExChangType=n.SHOP_SUB_MSG=n.MSG_SC_RtnHelpGiftInfo=n.MSG_SC_ExchangeRtn=n.MSG_CS_ExchangeAction=n.MSG_SC_RtnExChangeInfo=n.MSG_SC_ExChangTypeItem=n.MSG_SC_ExchangeItem=n.MSG_SC_RtnSubReviveGiftInfo=n.MSG_SC_RtnSubPCGiftInfo=n.MSG_SC_RtnMixSubGiftInfo=n.MSG_SC_RtnInformGodenPassReward=n.MSG_SC_RtnSubsciptionInfo=n.MSG_GodenPass_Data=n.MSG_SC_OpenBox_Result=n.ChipItem=n.Reward=n.MSG_CS_OpenBox=n.MSG_SC_RtnBoxInfo=n.MSG_Box_Data=n.FuFeiType=n.RewardType=n.MSG_SC_RtnPayData=n.MSG_SC_BuyGoodsSuccess=n.MSG_SC_BuyGoodsFailed=n.MSG_CS_BuyGoodsAction=n.MSG_SC_RtnGoodsInfo=n.tagGoodsListData=n.msgPayMode=n.MSG_SC_GoodsItem=n.MSG_CS_OpenShopUI=void 0;var o=function(){function t(){this.iBuySrcID=0,this.strExData=protobuf.util.newBuffer([])}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.iBuySrcID&&e.uint32(8).int32(t.iBuySrcID),null!=t.strExData&&e.uint32(18).bytes(t.strExData),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.iBuySrcID=o.int32();break;case 2:r.strExData=o.bytes();break;default:o.skipType(7&s)}}return r},t}();n.MSG_CS_OpenShopUI=o;var i=function(){function t(){this.dwBGID=0,this.dwGoodsID=0,this.strProductNo="",this.strName=protobuf.util.newBuffer([]),this.dwSrcGoodsType=0,this.dwForeSrcNum=0,this.dwSrcNum=0,this.dwDesGoodsType=0,this.dwDesNum=0,this.dwExDesNum=0,this.dwDZ=0,this.strProductDes=protobuf.util.newBuffer([]),this.strExData=protobuf.util.newBuffer([]),this.tabPayData=void 0,this.dwCurrencyType=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwBGID&&e.uint32(8).uint32(t.dwBGID),null!=t.dwGoodsID&&e.uint32(16).uint32(t.dwGoodsID),null!=t.strProductNo&&e.uint32(26).string(t.strProductNo),null!=t.strName&&e.uint32(34).bytes(t.strName),null!=t.dwSrcGoodsType&&e.uint32(40).uint32(t.dwSrcGoodsType),null!=t.dwForeSrcNum&&e.uint32(48).uint32(t.dwForeSrcNum),null!=t.dwSrcNum&&e.uint32(56).uint32(t.dwSrcNum),null!=t.dwDesGoodsType&&e.uint32(64).uint32(t.dwDesGoodsType),null!=t.dwDesNum&&e.uint32(72).uint32(t.dwDesNum),null!=t.dwExDesNum&&e.uint32(80).uint32(t.dwExDesNum),null!=t.dwDZ&&e.uint32(88).uint32(t.dwDZ),null!=t.strProductDes&&e.uint32(98).bytes(t.strProductDes),null!=t.strExData&&e.uint32(106).bytes(t.strExData),void 0!==t.tabPayData&&void 0!==t.tabPayData&&null!=t.tabPayData&&r.encode(t.tabPayData,e.uint32(114).fork()).ldelim(),null!=t.dwCurrencyType&&e.uint32(120).uint32(t.dwCurrencyType),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,a=new t,s=!1;o.pos<i&&!s;){var c=o.uint32();switch(c>>>3){case 0:s=!0;break;case 1:a.dwBGID=o.uint32();break;case 2:a.dwGoodsID=o.uint32();break;case 3:a.strProductNo=o.string();break;case 4:a.strName=o.bytes();break;case 5:a.dwSrcGoodsType=o.uint32();break;case 6:a.dwForeSrcNum=o.uint32();break;case 7:a.dwSrcNum=o.uint32();break;case 8:a.dwDesGoodsType=o.uint32();break;case 9:a.dwDesNum=o.uint32();break;case 10:a.dwExDesNum=o.uint32();break;case 11:a.dwDZ=o.uint32();break;case 12:a.strProductDes=o.bytes();break;case 13:a.strExData=o.bytes();break;case 14:a.tabPayData=r.decode(o,o.uint32());break;case 15:a.dwCurrencyType=o.uint32();break;default:o.skipType(7&c)}}return a},t}();n.MSG_SC_GoodsItem=i;var r=function(){function t(){this.dwID=0,this.chName=protobuf.util.newBuffer([]),this.dwZS=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwID&&e.uint32(8).uint32(t.dwID),null!=t.chName&&e.uint32(18).bytes(t.chName),null!=t.dwZS&&e.uint32(24).uint32(t.dwZS),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwID=o.uint32();break;case 2:r.chName=o.bytes();break;case 3:r.dwZS=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.msgPayMode=r;var a=function(){function t(){this.chGemGoodsList=void 0,this.chGoldGoodsList=void 0,this.chDayTHGoodsInfo=void 0,this.strPayExData=void 0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create());for(var n=0,o=t.chGemGoodsList;n<o.length;n++)null!=(s=o[n])&&i.encode(s,e.uint32(10).fork()).ldelim();for(var r=0,a=t.chGoldGoodsList;r<a.length;r++){var s;null!=(s=a[r])&&i.encode(s,e.uint32(18).fork()).ldelim()}return void 0!==t.chDayTHGoodsInfo&&void 0!==t.chDayTHGoodsInfo&&null!=t.chDayTHGoodsInfo&&i.encode(t.chDayTHGoodsInfo,e.uint32(26).fork()).ldelim(),void 0!==t.strPayExData&&void 0!==t.strPayExData&&null!=t.strPayExData&&i.encode(t.strPayExData,e.uint32(34).fork()).ldelim(),e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,r=void 0===n?o.len:o.pos+n,a=new t,s=!1;for(a.chGemGoodsList=[],a.chGoldGoodsList=[];o.pos<r&&!s;){var c=o.uint32();switch(c>>>3){case 0:s=!0;break;case 1:a.chGemGoodsList.push(i.decode(o,o.uint32()));break;case 2:a.chGoldGoodsList.push(i.decode(o,o.uint32()));break;case 3:a.chDayTHGoodsInfo=i.decode(o,o.uint32());break;case 4:a.strPayExData=i.decode(o,o.uint32());break;default:o.skipType(7&c)}}return a},t}();n.tagGoodsListData=a;var s=function(){function t(){this.iBuySrcID=0,this.tabGoodsList=void 0,this.tabtagListData=void 0,this.strPayExData=protobuf.util.newBuffer([]),this.tabOtherGoodsList=void 0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create()),null!=t.iBuySrcID&&e.uint32(8).int32(t.iBuySrcID);for(var n=0,o=t.tabGoodsList;n<o.length;n++)null!=(u=o[n])&&i.encode(u,e.uint32(18).fork()).ldelim();for(var r=0,s=t.tabtagListData;r<s.length;r++)null!=(u=s[r])&&a.encode(u,e.uint32(26).fork()).ldelim();null!=t.strPayExData&&e.uint32(34).bytes(t.strPayExData);for(var c=0,l=t.tabOtherGoodsList;c<l.length;c++){var u;null!=(u=l[c])&&i.encode(u,e.uint32(42).fork()).ldelim()}return e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,r=void 0===n?o.len:o.pos+n,s=new t,c=!1;for(s.tabGoodsList=[],s.tabtagListData=[],s.tabOtherGoodsList=[];o.pos<r&&!c;){var l=o.uint32();switch(l>>>3){case 0:c=!0;break;case 1:s.iBuySrcID=o.int32();break;case 2:s.tabGoodsList.push(i.decode(o,o.uint32()));break;case 3:s.tabtagListData.push(a.decode(o,o.uint32()));break;case 4:s.strPayExData=o.bytes();break;case 5:s.tabOtherGoodsList.push(i.decode(o,o.uint32()));break;default:o.skipType(7&l)}}return s},t}();n.MSG_SC_RtnGoodsInfo=s;var c=function(){function t(){this.iBuySrcID=0,this.dwGoodsID=0,this.dwBGID=0,this.iPayModeID=0,this.strExData=protobuf.util.newBuffer([])}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.iBuySrcID&&e.uint32(8).int32(t.iBuySrcID),null!=t.dwGoodsID&&e.uint32(16).uint32(t.dwGoodsID),null!=t.dwBGID&&e.uint32(24).uint32(t.dwBGID),null!=t.iPayModeID&&e.uint32(32).int32(t.iPayModeID),null!=t.strExData&&e.uint32(42).bytes(t.strExData),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.iBuySrcID=o.int32();break;case 2:r.dwGoodsID=o.uint32();break;case 3:r.dwBGID=o.uint32();break;case 4:r.iPayModeID=o.int32();break;case 5:r.strExData=o.bytes();break;default:o.skipType(7&s)}}return r},t}();n.MSG_CS_BuyGoodsAction=c;var l=function(){function t(){this.iBuySrcID=0,this.dwGoodsID=0,this.errcode=0,this.errmessage=protobuf.util.newBuffer([]),this.errlineID=0,this.strOrderID="",this.strOtherInfo=protobuf.util.newBuffer([])}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.iBuySrcID&&e.uint32(8).int32(t.iBuySrcID),null!=t.dwGoodsID&&e.uint32(16).uint32(t.dwGoodsID),null!=t.errcode&&e.uint32(24).int32(t.errcode),null!=t.errmessage&&e.uint32(34).bytes(t.errmessage),null!=t.errlineID&&e.uint32(40).uint32(t.errlineID),null!=t.strOrderID&&e.uint32(50).string(t.strOrderID),null!=t.strOtherInfo&&e.uint32(58).bytes(t.strOtherInfo),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.iBuySrcID=o.int32();break;case 2:r.dwGoodsID=o.uint32();break;case 3:r.errcode=o.int32();break;case 4:r.errmessage=o.bytes();break;case 5:r.errlineID=o.uint32();break;case 6:r.strOrderID=o.string();break;case 7:r.strOtherInfo=o.bytes();break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_BuyGoodsFailed=l;var u=function(){function t(){this.iBuySrcID=0,this.dwGoodsID=0,this.strProductNo="",this.strName=protobuf.util.newBuffer([]),this.dwSrcGoodsType=0,this.dwForeSrcNum=0,this.dwSrcNum=0,this.dwDesGoodsType=0,this.dwDesNum=0,this.dwExDesNum=0,this.dwDZ=0,this.strProductDes=protobuf.util.newBuffer([]),this.strOrderID="",this.strExData=protobuf.util.newBuffer([]),this.iPayModeID=0,this.dwUSAPrice=0,this.dwBGID=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.iBuySrcID&&e.uint32(8).int32(t.iBuySrcID),null!=t.dwGoodsID&&e.uint32(16).uint32(t.dwGoodsID),null!=t.strProductNo&&e.uint32(26).string(t.strProductNo),null!=t.strName&&e.uint32(34).bytes(t.strName),null!=t.dwSrcGoodsType&&e.uint32(40).uint32(t.dwSrcGoodsType),null!=t.dwForeSrcNum&&e.uint32(48).uint32(t.dwForeSrcNum),null!=t.dwSrcNum&&e.uint32(56).uint32(t.dwSrcNum),null!=t.dwDesGoodsType&&e.uint32(64).uint32(t.dwDesGoodsType),null!=t.dwDesNum&&e.uint32(72).uint32(t.dwDesNum),null!=t.dwExDesNum&&e.uint32(80).uint32(t.dwExDesNum),null!=t.dwDZ&&e.uint32(88).uint32(t.dwDZ),null!=t.strProductDes&&e.uint32(98).bytes(t.strProductDes),null!=t.strOrderID&&e.uint32(106).string(t.strOrderID),null!=t.strExData&&e.uint32(114).bytes(t.strExData),null!=t.iPayModeID&&e.uint32(120).int32(t.iPayModeID),null!=t.dwUSAPrice&&e.uint32(128).uint32(t.dwUSAPrice),null!=t.dwBGID&&e.uint32(136).uint32(t.dwBGID),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.iBuySrcID=o.int32();break;case 2:r.dwGoodsID=o.uint32();break;case 3:r.strProductNo=o.string();break;case 4:r.strName=o.bytes();break;case 5:r.dwSrcGoodsType=o.uint32();break;case 6:r.dwForeSrcNum=o.uint32();break;case 7:r.dwSrcNum=o.uint32();break;case 8:r.dwDesGoodsType=o.uint32();break;case 9:r.dwDesNum=o.uint32();break;case 10:r.dwExDesNum=o.uint32();break;case 11:r.dwDZ=o.uint32();break;case 12:r.strProductDes=o.bytes();break;case 13:r.strOrderID=o.string();break;case 14:r.strExData=o.bytes();break;case 15:r.iPayModeID=o.int32();break;case 16:r.dwUSAPrice=o.uint32();break;case 17:r.dwBGID=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_BuyGoodsSuccess=u;var d=function(){function t(){this.strPayData=protobuf.util.newBuffer([])}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.strPayData&&e.uint32(10).bytes(t.strPayData),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.strPayData=o.bytes();break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_RtnPayData=d;var p=function(){function t(){this.dwType=0,this.dwNum=0,this.dwMaxNum=0,this.dwMinNum=0,this.chPieceInfo=protobuf.util.newBuffer([])}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwType&&e.uint32(8).uint32(t.dwType),null!=t.dwNum&&e.uint32(16).uint32(t.dwNum),null!=t.dwMaxNum&&e.uint32(24).uint32(t.dwMaxNum),null!=t.dwMinNum&&e.uint32(32).uint32(t.dwMinNum),null!=t.chPieceInfo&&e.uint32(42).bytes(t.chPieceInfo),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwType=o.uint32();break;case 2:r.dwNum=o.uint32();break;case 3:r.dwMaxNum=o.uint32();break;case 4:r.dwMinNum=o.uint32();break;case 5:r.chPieceInfo=o.bytes();break;default:o.skipType(7&s)}}return r},t}();n.RewardType=p;var h=function(){function t(){this.dwType=0,this.dwCoumNum=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwType&&e.uint32(8).uint32(t.dwType),null!=t.dwCoumNum&&e.uint32(16).uint32(t.dwCoumNum),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwType=o.uint32();break;case 2:r.dwCoumNum=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.FuFeiType=h;var f=function(){function t(){this.dwID=0,this.bIsEnabled=!1,this.dwType=0,this.dwBoxName=protobuf.util.newBuffer([]),this.dwStatus=0,this.dwSYTime=0,this.RewardList=void 0,this.BuyWay=void 0,this.chGoodInfo=void 0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create()),null!=t.dwID&&e.uint32(8).uint32(t.dwID),null!=t.bIsEnabled&&e.uint32(16).bool(t.bIsEnabled),null!=t.dwType&&e.uint32(24).uint32(t.dwType),null!=t.dwBoxName&&e.uint32(34).bytes(t.dwBoxName),null!=t.dwStatus&&e.uint32(40).uint32(t.dwStatus),null!=t.dwSYTime&&e.uint32(48).uint32(t.dwSYTime);for(var n=0,o=t.RewardList;n<o.length;n++)null!=(s=o[n])&&p.encode(s,e.uint32(58).fork()).ldelim();for(var r=0,a=t.BuyWay;r<a.length;r++){var s;null!=(s=a[r])&&h.encode(s,e.uint32(66).fork()).ldelim()}return void 0!==t.chGoodInfo&&void 0!==t.chGoodInfo&&null!=t.chGoodInfo&&i.encode(t.chGoodInfo,e.uint32(74).fork()).ldelim(),e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,r=void 0===n?o.len:o.pos+n,a=new t,s=!1;for(a.RewardList=[],a.BuyWay=[];o.pos<r&&!s;){var c=o.uint32();switch(c>>>3){case 0:s=!0;break;case 1:a.dwID=o.uint32();break;case 2:a.bIsEnabled=o.bool();break;case 3:a.dwType=o.uint32();break;case 4:a.dwBoxName=o.bytes();break;case 5:a.dwStatus=o.uint32();break;case 6:a.dwSYTime=o.uint32();break;case 7:a.RewardList.push(p.decode(o,o.uint32()));break;case 8:a.BuyWay.push(h.decode(o,o.uint32()));break;case 9:a.chGoodInfo=i.decode(o,o.uint32());break;default:o.skipType(7&c)}}return a},t}();n.MSG_Box_Data=f;var g=function(){function t(){this.dwCode=0,this.boxData=void 0,this.bIsHongDian=!1}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create()),null!=t.dwCode&&e.uint32(8).uint32(t.dwCode);for(var n=0,o=t.boxData;n<o.length;n++){var i=o[n];null!=i&&f.encode(i,e.uint32(18).fork()).ldelim()}return null!=t.bIsHongDian&&e.uint32(24).bool(t.bIsHongDian),e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;for(r.boxData=[];o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwCode=o.uint32();break;case 2:r.boxData.push(f.decode(o,o.uint32()));break;case 3:r.bIsHongDian=o.bool();break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_RtnBoxInfo=g;var _=function(){function t(){this.dwID=0,this.dwBuyWay=0,this.iBuySrcID=0,this.dwGoodsID=0,this.dwBGID=0,this.iPayModeID=0,this.strExData=protobuf.util.newBuffer([])}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwID&&e.uint32(8).uint32(t.dwID),null!=t.dwBuyWay&&e.uint32(16).uint32(t.dwBuyWay),null!=t.iBuySrcID&&e.uint32(24).int32(t.iBuySrcID),null!=t.dwGoodsID&&e.uint32(32).uint32(t.dwGoodsID),null!=t.dwBGID&&e.uint32(40).uint32(t.dwBGID),null!=t.iPayModeID&&e.uint32(48).int32(t.iPayModeID),null!=t.strExData&&e.uint32(58).bytes(t.strExData),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwID=o.uint32();break;case 2:r.dwBuyWay=o.uint32();break;case 3:r.iBuySrcID=o.int32();break;case 4:r.dwGoodsID=o.uint32();break;case 5:r.dwBGID=o.uint32();break;case 6:r.iPayModeID=o.int32();break;case 7:r.strExData=o.bytes();break;default:o.skipType(7&s)}}return r},t}();n.MSG_CS_OpenBox=_;var y=function(){function t(){this.dwType=0,this.dwNum=0,this.strExData=protobuf.util.newBuffer([])}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwType&&e.uint32(8).uint32(t.dwType),null!=t.dwNum&&e.uint32(16).int32(t.dwNum),null!=t.strExData&&e.uint32(42).bytes(t.strExData),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwType=o.uint32();break;case 2:r.dwNum=o.int32();break;case 5:r.strExData=o.bytes();break;default:o.skipType(7&s)}}return r},t}();n.Reward=y;var m=function(){function t(){this.dwPieceId=0,this.dwStar=0,this.bNew=!1,this.dwTableId=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwPieceId&&e.uint32(8).uint32(t.dwPieceId),null!=t.dwStar&&e.uint32(16).uint32(t.dwStar),null!=t.bNew&&e.uint32(24).bool(t.bNew),null!=t.dwTableId&&e.uint32(32).uint32(t.dwTableId),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwPieceId=o.uint32();break;case 2:r.dwStar=o.uint32();break;case 3:r.bNew=o.bool();break;case 4:r.dwTableId=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.ChipItem=m;var b=function(){function t(){this.bIsResult=!1,this.dwError=0,this.reward=void 0,this.tabChips=void 0,this.dwID=0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create()),null!=t.bIsResult&&e.uint32(8).bool(t.bIsResult),null!=t.dwError&&e.uint32(16).uint32(t.dwError);for(var n=0,o=t.reward;n<o.length;n++)null!=(a=o[n])&&y.encode(a,e.uint32(26).fork()).ldelim();for(var i=0,r=t.tabChips;i<r.length;i++){var a;null!=(a=r[i])&&m.encode(a,e.uint32(34).fork()).ldelim()}return null!=t.dwID&&e.uint32(40).uint32(t.dwID),e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;for(r.reward=[],r.tabChips=[];o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.bIsResult=o.bool();break;case 2:r.dwError=o.uint32();break;case 3:r.reward.push(y.decode(o,o.uint32()));break;case 4:r.tabChips.push(m.decode(o,o.uint32()));break;case 5:r.dwID=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_OpenBox_Result=b;var v=function(){function t(){this.bIsEnabled=!1,this.chName=protobuf.util.newBuffer([]),this.chInfo=protobuf.util.newBuffer([]),this.chGoodInfo=void 0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.bIsEnabled&&e.uint32(8).bool(t.bIsEnabled),null!=t.chName&&e.uint32(18).bytes(t.chName),null!=t.chInfo&&e.uint32(26).bytes(t.chInfo),void 0!==t.chGoodInfo&&void 0!==t.chGoodInfo&&null!=t.chGoodInfo&&i.encode(t.chGoodInfo,e.uint32(34).fork()).ldelim(),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,r=void 0===n?o.len:o.pos+n,a=new t,s=!1;o.pos<r&&!s;){var c=o.uint32();switch(c>>>3){case 0:s=!0;break;case 1:a.bIsEnabled=o.bool();break;case 2:a.chName=o.bytes();break;case 3:a.chInfo=o.bytes();break;case 4:a.chGoodInfo=i.decode(o,o.uint32());break;default:o.skipType(7&c)}}return a},t}();n.MSG_GodenPass_Data=v;var S=function(){function t(){this.dwCode=0,this.GodenPassData=void 0,this.dwTime=0,this.tabReward=void 0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create()),null!=t.dwCode&&e.uint32(8).uint32(t.dwCode);for(var n=0,o=t.GodenPassData;n<o.length;n++)null!=(a=o[n])&&v.encode(a,e.uint32(18).fork()).ldelim();null!=t.dwTime&&e.uint32(24).uint32(t.dwTime);for(var i=0,r=t.tabReward;i<r.length;i++){var a;null!=(a=r[i])&&y.encode(a,e.uint32(34).fork()).ldelim()}return e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;for(r.GodenPassData=[],r.tabReward=[];o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwCode=o.uint32();break;case 2:r.GodenPassData.push(v.decode(o,o.uint32()));break;case 3:r.dwTime=o.uint32();break;case 4:r.tabReward.push(y.decode(o,o.uint32()));break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_RtnSubsciptionInfo=S;var w=function(){function t(){this.reward=void 0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create());for(var n=0,o=t.reward;n<o.length;n++){var i=o[n];null!=i&&y.encode(i,e.uint32(10).fork()).ldelim()}return e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;for(r.reward=[];o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.reward.push(y.decode(o,o.uint32()));break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_RtnInformGodenPassReward=w;var C=function(){function t(){this.bIsTag=!1,this.dwTime=0,this.tabGoodsInfo=void 0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.bIsTag&&e.uint32(8).bool(t.bIsTag),null!=t.dwTime&&e.uint32(16).uint32(t.dwTime),void 0!==t.tabGoodsInfo&&void 0!==t.tabGoodsInfo&&null!=t.tabGoodsInfo&&i.encode(t.tabGoodsInfo,e.uint32(26).fork()).ldelim(),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,r=void 0===n?o.len:o.pos+n,a=new t,s=!1;o.pos<r&&!s;){var c=o.uint32();switch(c>>>3){case 0:s=!0;break;case 1:a.bIsTag=o.bool();break;case 2:a.dwTime=o.uint32();break;case 3:a.tabGoodsInfo=i.decode(o,o.uint32());break;default:o.skipType(7&c)}}return a},t}();n.MSG_SC_RtnMixSubGiftInfo=C;var I=function(){function t(){this.bIsTag=!1,this.tabGoodsInfo=void 0,this.dwBuyTotalCount=0,this.dwBuyCount=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.bIsTag&&e.uint32(8).bool(t.bIsTag),void 0!==t.tabGoodsInfo&&void 0!==t.tabGoodsInfo&&null!=t.tabGoodsInfo&&i.encode(t.tabGoodsInfo,e.uint32(18).fork()).ldelim(),null!=t.dwBuyTotalCount&&e.uint32(24).uint32(t.dwBuyTotalCount),null!=t.dwBuyCount&&e.uint32(32).uint32(t.dwBuyCount),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,r=void 0===n?o.len:o.pos+n,a=new t,s=!1;o.pos<r&&!s;){var c=o.uint32();switch(c>>>3){case 0:s=!0;break;case 1:a.bIsTag=o.bool();break;case 2:a.tabGoodsInfo=i.decode(o,o.uint32());break;case 3:a.dwBuyTotalCount=o.uint32();break;case 4:a.dwBuyCount=o.uint32();break;default:o.skipType(7&c)}}return a},t}();n.MSG_SC_RtnSubPCGiftInfo=I;var D=function(){function t(){this.bIsTag=!1,this.tabGoodsInfo=void 0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create()),null!=t.bIsTag&&e.uint32(8).bool(t.bIsTag);for(var n=0,o=t.tabGoodsInfo;n<o.length;n++){var r=o[n];null!=r&&i.encode(r,e.uint32(18).fork()).ldelim()}return e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,r=void 0===n?o.len:o.pos+n,a=new t,s=!1;for(a.tabGoodsInfo=[];o.pos<r&&!s;){var c=o.uint32();switch(c>>>3){case 0:s=!0;break;case 1:a.bIsTag=o.bool();break;case 2:a.tabGoodsInfo.push(i.decode(o,o.uint32()));break;default:o.skipType(7&c)}}return a},t}();n.MSG_SC_RtnSubReviveGiftInfo=D;var L=function(){function t(){this.dwGoodsID=0,this.strName=protobuf.util.newBuffer([]),this.dwSrcGoodsType=0,this.dwSrcNum=0,this.dwDesGoodsType=0,this.dwDesGoodsSubType=0,this.dwDesGoodsId=0,this.dwDesNum=0,this.dwDay=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwGoodsID&&e.uint32(8).uint32(t.dwGoodsID),null!=t.strName&&e.uint32(18).bytes(t.strName),null!=t.dwSrcGoodsType&&e.uint32(24).uint32(t.dwSrcGoodsType),null!=t.dwSrcNum&&e.uint32(32).uint32(t.dwSrcNum),null!=t.dwDesGoodsType&&e.uint32(40).uint32(t.dwDesGoodsType),null!=t.dwDesGoodsSubType&&e.uint32(48).uint32(t.dwDesGoodsSubType),null!=t.dwDesGoodsId&&e.uint32(56).uint32(t.dwDesGoodsId),null!=t.dwDesNum&&e.uint32(64).uint32(t.dwDesNum),null!=t.dwDay&&e.uint32(72).uint32(t.dwDay),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwGoodsID=o.uint32();break;case 2:r.strName=o.bytes();break;case 3:r.dwSrcGoodsType=o.uint32();break;case 4:r.dwSrcNum=o.uint32();break;case 5:r.dwDesGoodsType=o.uint32();break;case 6:r.dwDesGoodsSubType=o.uint32();break;case 7:r.dwDesGoodsId=o.uint32();break;case 8:r.dwDesNum=o.uint32();break;case 9:r.dwDay=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_ExchangeItem=L;var R=function(){function t(){this.iType=0,this.tabExChangeInfo=void 0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create()),null!=t.iType&&e.uint32(8).int32(t.iType);for(var n=0,o=t.tabExChangeInfo;n<o.length;n++){var i=o[n];null!=i&&L.encode(i,e.uint32(18).fork()).ldelim()}return e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;for(r.tabExChangeInfo=[];o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.iType=o.int32();break;case 2:r.tabExChangeInfo.push(L.decode(o,o.uint32()));break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_ExChangTypeItem=R;var P=function(){function t(){this.bIsTag=!1,this.list=void 0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create()),null!=t.bIsTag&&e.uint32(8).bool(t.bIsTag);for(var n=0,o=t.list;n<o.length;n++){var i=o[n];null!=i&&R.encode(i,e.uint32(18).fork()).ldelim()}return e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;for(r.list=[];o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.bIsTag=o.bool();break;case 2:r.list.push(R.decode(o,o.uint32()));break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_RtnExChangeInfo=P;var T=function(){function t(){this.dwGoodsID=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwGoodsID&&e.uint32(8).uint32(t.dwGoodsID),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwGoodsID=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.MSG_CS_ExchangeAction=T;var E=function(){function t(){this.dwError=0,this.item=void 0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwError&&e.uint32(8).uint32(t.dwError),void 0!==t.item&&void 0!==t.item&&null!=t.item&&L.encode(t.item,e.uint32(18).fork()).ldelim(),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwError=o.uint32();break;case 2:r.item=L.decode(o,o.uint32());break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_ExchangeRtn=E;var A=function(){function t(){this.bIsTag=!1,this.tabGoodsInfo=void 0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create()),null!=t.bIsTag&&e.uint32(8).bool(t.bIsTag);for(var n=0,o=t.tabGoodsInfo;n<o.length;n++){var r=o[n];null!=r&&i.encode(r,e.uint32(18).fork()).ldelim()}return e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,r=void 0===n?o.len:o.pos+n,a=new t,s=!1;for(a.tabGoodsInfo=[];o.pos<r&&!s;){var c=o.uint32();switch(c>>>3){case 0:s=!0;break;case 1:a.bIsTag=o.bool();break;case 2:a.tabGoodsInfo.push(i.decode(o,o.uint32()));break;default:o.skipType(7&c)}}return a},t}();n.MSG_SC_RtnHelpGiftInfo=A,n.SHOP_SUB_MSG={MSGID_CS_OPEN_SHOPUI:1e3,MSGID_SC_RTN_SHOPGOODSLIST:1001,MSGID_CS_BUY_GOODS_ACTION:1010,MSGID_CS_BUY_GOODS_ACTION_EX:1011,MSGID_SC_RTN_BUYGOODSFAILED:1012,MSGID_SC_RTN_BUYGOODSUCCESS:1013,MSGID_SC_RTN_PAY_DATA:1014,MSGID_SC_RTN_NEXTDAYGOODSINFO:1015,MSGID_SC_RTN_NODAYGOODSINFO:1016,MSGID_CS_OPEN_BOXSHOP:1017,MSGID_SC_RTN_BOXSHOPDATA:1018,MSGID_CS_BUY_OPENSHOPBOX:1019,MSGID_SC_BUY_OPENSHOPBOXRESULT:1020,MSGID_CS_GET_SUBSCIPTIONSHOP:1021,MSGID_SC_RTN_SUBSCIPTIONSHOPDATA:1022,MSGID_SC_RTN_INFORMGODENPASS:1023,MSGID_CS_GET_SUBMIXGIFT:1024,MSGID_SC_RTN_SUBMIXGIFTINFO:1025,MSGID_CS_GET_SUBPCGIFT:1026,MSGID_SC_RTN_SUBPCGIFTINFO:1027,MSGID_CS_GET_SUBREVIVEGIFT:1028,MSGID_SC_RTN_SUBREVIVEGIFTINFO:1029,MSGID_CS_GET_EXCHANGE:1030,MSGID_SC_RTN_EXCHANGEINFO:1031,MSGID_CS_EXCHANGE_ACTION:1032,MSGID_SC_RTN_EXCHANGE:1033,MSGID_CS_GET_SUBHELPGIFT:1040,MSGID_SC_RTN_SUBHELPGIFTINFO:1041,UNRECOGNIZED:-1},n.ExChangType={PS_TO_JPQ:1,UNRECOGNIZED:-1},cc._RF.pop()},{}],CMD_SubscribeMsg:[function(t,e,n){"use strict";cc._RF.push(e,"72884SwP4JI6Z5WIAbOZQpk","CMD_SubscribeMsg"),Object.defineProperty(n,"__esModule",{value:!0}),n.RedPointType=n.RewardType=n.SUBSCRIBE_SUB_MSG=n.MSG_SC_ResponseRedpoint=n.MSG_CS_RedPoint=n.MSG_SC_RtnGolenBounsInfo=n.MSG_SC_RtnGolenDailyReward=n.MSG_SC_RtnGolenDailyInfo=n.MSG_SC_RtnGolenPassInfo=n.MSG_SC_ReceiveAwardUpdate=n.MSG_SC_ReceiveAward=n.SpecificReward=n.ChipItem=n.MSG_CS_ReceiveAward=n.MSG_SC_RtnRewardListXH=n.MSG_SC_RtnRewardList=n.Reward=n.RewardItem=n.RewardGoods=void 0;var o=function(){function t(){this.dwGoodsType=0,this.dwNum=0,this.strExData=protobuf.util.newBuffer([])}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwGoodsType&&e.uint32(8).uint32(t.dwGoodsType),null!=t.dwNum&&e.uint32(16).int32(t.dwNum),null!=t.strExData&&e.uint32(26).bytes(t.strExData),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwGoodsType=o.uint32();break;case 2:r.dwNum=o.int32();break;case 3:r.strExData=o.bytes();break;default:o.skipType(7&s)}}return r},t}();n.RewardGoods=o;var i=function(){function t(){this.dwType=0,this.bUnlock=!1,this.bFinish=!1,this.bGetReward=!1,this.tabGoods=void 0,this.bFinishNew=!1}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwType&&e.uint32(8).uint32(t.dwType),null!=t.bUnlock&&e.uint32(16).bool(t.bUnlock),null!=t.bFinish&&e.uint32(24).bool(t.bFinish),null!=t.bGetReward&&e.uint32(32).bool(t.bGetReward),void 0!==t.tabGoods&&void 0!==t.tabGoods&&null!=t.tabGoods&&o.encode(t.tabGoods,e.uint32(42).fork()).ldelim(),null!=t.bFinishNew&&e.uint32(48).bool(t.bFinishNew),e},t.decode=function(e,n){for(var i=e instanceof Uint8Array?new protobuf.Reader(e):e,r=void 0===n?i.len:i.pos+n,a=new t,s=!1;i.pos<r&&!s;){var c=i.uint32();switch(c>>>3){case 0:s=!0;break;case 1:a.dwType=i.uint32();break;case 2:a.bUnlock=i.bool();break;case 3:a.bFinish=i.bool();break;case 4:a.bGetReward=i.bool();break;case 5:a.tabGoods=o.decode(i,i.uint32());break;case 6:a.bFinishNew=i.bool();break;default:i.skipType(7&c)}}return a},t}();n.RewardItem=i;var r=function(){function t(){this.dwId=0,this.dwNormalReward=void 0,this.dwSubscribeReward=void 0,this.dwTime=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwId&&e.uint32(8).uint32(t.dwId),void 0!==t.dwNormalReward&&void 0!==t.dwNormalReward&&null!=t.dwNormalReward&&i.encode(t.dwNormalReward,e.uint32(18).fork()).ldelim(),void 0!==t.dwSubscribeReward&&void 0!==t.dwSubscribeReward&&null!=t.dwSubscribeReward&&i.encode(t.dwSubscribeReward,e.uint32(26).fork()).ldelim(),null!=t.dwTime&&e.uint32(32).uint32(t.dwTime),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,r=void 0===n?o.len:o.pos+n,a=new t,s=!1;o.pos<r&&!s;){var c=o.uint32();switch(c>>>3){case 0:s=!0;break;case 1:a.dwId=o.uint32();break;case 2:a.dwNormalReward=i.decode(o,o.uint32());break;case 3:a.dwSubscribeReward=i.decode(o,o.uint32());break;case 4:a.dwTime=o.uint32();break;default:o.skipType(7&c)}}return a},t}();n.Reward=r;var a=function(){function t(){this.bGoldenPass=!1,this.dwTopicalId=0,this.dwMonth=0,this.dwTime=0,this.dwNowCup=0,this.dwNeedCup=0,this.dwLevel=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.bGoldenPass&&e.uint32(8).bool(t.bGoldenPass),null!=t.dwTopicalId&&e.uint32(16).uint32(t.dwTopicalId),null!=t.dwMonth&&e.uint32(24).uint32(t.dwMonth),null!=t.dwTime&&e.uint32(32).uint32(t.dwTime),null!=t.dwNowCup&&e.uint32(40).uint32(t.dwNowCup),null!=t.dwNeedCup&&e.uint32(48).uint32(t.dwNeedCup),null!=t.dwLevel&&e.uint32(56).uint32(t.dwLevel),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.bGoldenPass=o.bool();break;case 2:r.dwTopicalId=o.uint32();break;case 3:r.dwMonth=o.uint32();break;case 4:r.dwTime=o.uint32();break;case 5:r.dwNowCup=o.uint32();break;case 6:r.dwNeedCup=o.uint32();break;case 7:r.dwLevel=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_RtnRewardList=a;var s=function(){function t(){this.bEnd=!1,this.tabReward=void 0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create()),null!=t.bEnd&&e.uint32(8).bool(t.bEnd);for(var n=0,o=t.tabReward;n<o.length;n++){var i=o[n];null!=i&&r.encode(i,e.uint32(18).fork()).ldelim()}return e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,a=new t,s=!1;for(a.tabReward=[];o.pos<i&&!s;){var c=o.uint32();switch(c>>>3){case 0:s=!0;break;case 1:a.bEnd=o.bool();break;case 2:a.tabReward.push(r.decode(o,o.uint32()));break;default:o.skipType(7&c)}}return a},t}();n.MSG_SC_RtnRewardListXH=s;var c=function(){function t(){this.dwId=0,this.dwType=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwId&&e.uint32(8).uint32(t.dwId),null!=t.dwType&&e.uint32(16).uint32(t.dwType),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwId=o.uint32();break;case 2:r.dwType=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.MSG_CS_ReceiveAward=c;var l=function(){function t(){this.dwPieceId=0,this.dwStar=0,this.bNew=!1,this.dwTableId=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwPieceId&&e.uint32(8).uint32(t.dwPieceId),null!=t.dwStar&&e.uint32(16).uint32(t.dwStar),null!=t.bNew&&e.uint32(24).bool(t.bNew),null!=t.dwTableId&&e.uint32(32).uint32(t.dwTableId),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwPieceId=o.uint32();break;case 2:r.dwStar=o.uint32();break;case 3:r.bNew=o.bool();break;case 4:r.dwTableId=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.ChipItem=l;var u=function(){function t(){this.dwType=0,this.dwNum=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwType&&e.uint32(8).uint32(t.dwType),null!=t.dwNum&&e.uint32(16).int32(t.dwNum),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwType=o.uint32();break;case 2:r.dwNum=o.int32();break;default:o.skipType(7&s)}}return r},t}();n.SpecificReward=u;var d=function(){function t(){this.dwId=0,this.dwType=0,this.bError=!1,this.reward=void 0,this.tabChips=void 0,this.dwNowCup=0,this.dwNeedCup=0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create()),null!=t.dwId&&e.uint32(8).uint32(t.dwId),null!=t.dwType&&e.uint32(16).uint32(t.dwType),null!=t.bError&&e.uint32(24).bool(t.bError);for(var n=0,o=t.reward;n<o.length;n++)null!=(a=o[n])&&u.encode(a,e.uint32(34).fork()).ldelim();for(var i=0,r=t.tabChips;i<r.length;i++){var a;null!=(a=r[i])&&l.encode(a,e.uint32(42).fork()).ldelim()}return null!=t.dwNowCup&&e.uint32(48).uint32(t.dwNowCup),null!=t.dwNeedCup&&e.uint32(56).uint32(t.dwNeedCup),e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;for(r.reward=[],r.tabChips=[];o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwId=o.uint32();break;case 2:r.dwType=o.uint32();break;case 3:r.bError=o.bool();break;case 4:r.reward.push(u.decode(o,o.uint32()));break;case 5:r.tabChips.push(l.decode(o,o.uint32()));break;case 6:r.dwNowCup=o.uint32();break;case 7:r.dwNeedCup=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_ReceiveAward=d;var p=function(){function t(){this.bGet=!1,this.tabReward=void 0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.bGet&&e.uint32(8).bool(t.bGet),void 0!==t.tabReward&&void 0!==t.tabReward&&null!=t.tabReward&&r.encode(t.tabReward,e.uint32(18).fork()).ldelim(),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,a=new t,s=!1;o.pos<i&&!s;){var c=o.uint32();switch(c>>>3){case 0:s=!0;break;case 1:a.bGet=o.bool();break;case 2:a.tabReward=r.decode(o,o.uint32());break;default:o.skipType(7&c)}}return a},t}();n.MSG_SC_ReceiveAwardUpdate=p;var h=function(){function t(){this.bGetReward=!1,this.dwTopicalId=0,this.dwNowCup=0,this.dwNeedCup=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.bGetReward&&e.uint32(8).bool(t.bGetReward),null!=t.dwTopicalId&&e.uint32(16).uint32(t.dwTopicalId),null!=t.dwNowCup&&e.uint32(24).uint32(t.dwNowCup),null!=t.dwNeedCup&&e.uint32(32).uint32(t.dwNeedCup),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.bGetReward=o.bool();break;case 2:r.dwTopicalId=o.uint32();break;case 3:r.dwNowCup=o.uint32();break;case 4:r.dwNeedCup=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_RtnGolenPassInfo=h;var f=function(){function t(){this.bVip=!1,this.bGet=!1,this.reward=void 0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create()),null!=t.bVip&&e.uint32(8).bool(t.bVip),null!=t.bGet&&e.uint32(16).bool(t.bGet);for(var n=0,o=t.reward;n<o.length;n++){var i=o[n];null!=i&&u.encode(i,e.uint32(26).fork()).ldelim()}return e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;for(r.reward=[];o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.bVip=o.bool();break;case 2:r.bGet=o.bool();break;case 3:r.reward.push(u.decode(o,o.uint32()));break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_RtnGolenDailyInfo=f;var g=function(){function t(){this.bError=!1,this.reward=void 0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create()),null!=t.bError&&e.uint32(8).bool(t.bError);for(var n=0,o=t.reward;n<o.length;n++){var i=o[n];null!=i&&u.encode(i,e.uint32(18).fork()).ldelim()}return e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;for(r.reward=[];o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.bError=o.bool();break;case 2:r.reward.push(u.decode(o,o.uint32()));break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_RtnGolenDailyReward=g;var _=function(){function t(){this.dwType=0,this.tabReward=void 0,this.tabDailyReward=void 0,this.dwTime=0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create()),null!=t.dwType&&e.uint32(8).uint32(t.dwType);for(var n=0,o=t.tabReward;n<o.length;n++)null!=(a=o[n])&&u.encode(a,e.uint32(18).fork()).ldelim();for(var i=0,r=t.tabDailyReward;i<r.length;i++){var a;null!=(a=r[i])&&u.encode(a,e.uint32(26).fork()).ldelim()}return null!=t.dwTime&&e.uint32(32).uint32(t.dwTime),e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;for(r.tabReward=[],r.tabDailyReward=[];o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwType=o.uint32();break;case 2:r.tabReward.push(u.decode(o,o.uint32()));break;case 3:r.tabDailyReward.push(u.decode(o,o.uint32()));break;case 4:r.dwTime=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_RtnGolenBounsInfo=_;var y=function(){function t(){this.dwId=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwId&&e.uint32(8).uint32(t.dwId),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwId=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.MSG_CS_RedPoint=y;var m=function(){function t(){this.dwId=0,this.dwRedPointNum=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwId&&e.uint32(8).uint32(t.dwId),null!=t.dwRedPointNum&&e.uint32(16).uint32(t.dwRedPointNum),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwId=o.uint32();break;case 2:r.dwRedPointNum=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_ResponseRedpoint=m,n.SUBSCRIBE_SUB_MSG={MSG_CS_GET_REWARD_LIST:1e3,MSG_SC_RTN_REWARD_LIST:1001,MSG_SC_RTN_REWARD_XH_LIST:1011,MSG_CS_RECEIVE_AWARD:1002,MSG_SC_RECEIVE_AWARD:1003,MSG_SC_RECEIVE_AWARD_UPDATE:1010,MSG_CS_GET_GOLENPASS_INFO:1004,MSG_SC_RTN_GOLENPASS_INFO:1005,MSG_CS_GET_GOLDEN_DAILY_INFO:1006,MSG_SC_RTN_GOLDEN_DAILY_INFO:1007,MSG_CS_GET_GOLDEN_DAILY_REWARD:1008,MSG_SC_RTN_GOLDEN_DAILY_REWARD:1009,MSG_CS_GET_GOLDEN_BOUNS_INFO:1012,MSG_SC_GET_GOLDEN_BOUNS_INFO:1013,MSGID_CS_SHOWT_REDPOINT:1014,MSGID_SC_RESPONSE_REDPOINT:1015,UNRECOGNIZED:-1},n.RewardType={NORMAL_TYPE:1,SUBSCRIBE_TYPE:2,UNRECOGNIZED:-1},n.RedPointType={GOLDEN_BONUS:1,UNRECOGNIZED:-1},cc._RF.pop()},{}],CMD_TaskMsg:[function(t,e,n){"use strict";cc._RF.push(e,"450e2+SqndBgrpT/DEYWq/G","CMD_TaskMsg"),Object.defineProperty(n,"__esModule",{value:!0}),n.RedPointType=n.TaskType=n.TASK_GAME_SUB_MSG=n.MSG_SC_ResponseRedpoint=n.MSG_CS_RedPoint=n.Msg_SendRewardResult=n.Msg_TimingReward=n.Msg_Info_Reward=n.Msg_SC_TaskRewardResult=n.Msg_CS_GetDayTaskReward=n.Msg_SC_DayTaskList=n.Msg_TaskList=void 0;var o=function(){function t(){this.dwID=0,this.dwTaskType=0,this.szText=protobuf.util.newBuffer([]),this.dwStatus=0,this.dwTotalCount=0,this.dwCurCount=0,this.dwRewardType=0,this.dwRewardValue=0,this.dwTaskPX=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwID&&e.uint32(8).uint32(t.dwID),null!=t.dwTaskType&&e.uint32(16).uint32(t.dwTaskType),null!=t.szText&&e.uint32(26).bytes(t.szText),null!=t.dwStatus&&e.uint32(32).uint32(t.dwStatus),null!=t.dwTotalCount&&e.uint32(40).uint32(t.dwTotalCount),null!=t.dwCurCount&&e.uint32(48).uint32(t.dwCurCount),null!=t.dwRewardType&&e.uint32(56).uint32(t.dwRewardType),null!=t.dwRewardValue&&e.uint32(64).uint32(t.dwRewardValue),null!=t.dwTaskPX&&e.uint32(72).uint32(t.dwTaskPX),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwID=o.uint32();break;case 2:r.dwTaskType=o.uint32();break;case 3:r.szText=o.bytes();break;case 4:r.dwStatus=o.uint32();break;case 5:r.dwTotalCount=o.uint32();break;case 6:r.dwCurCount=o.uint32();break;case 7:r.dwRewardType=o.uint32();break;case 8:r.dwRewardValue=o.uint32();break;case 9:r.dwTaskPX=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.Msg_TaskList=o;var i=function(){function t(){this.taskinfo=void 0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create());for(var n=0,i=t.taskinfo;n<i.length;n++){var r=i[n];null!=r&&o.encode(r,e.uint32(10).fork()).ldelim()}return e},t.decode=function(e,n){var i=e instanceof Uint8Array?new protobuf.Reader(e):e,r=void 0===n?i.len:i.pos+n,a=new t,s=!1;for(a.taskinfo=[];i.pos<r&&!s;){var c=i.uint32();switch(c>>>3){case 0:s=!0;break;case 1:a.taskinfo.push(o.decode(i,i.uint32()));break;default:i.skipType(7&c)}}return a},t}();n.Msg_SC_DayTaskList=i;var r=function(){function t(){this.dwCode=0,this.chID=protobuf.util.newBuffer([])}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwCode&&e.uint32(8).uint32(t.dwCode),null!=t.chID&&e.uint32(18).bytes(t.chID),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwCode=o.uint32();break;case 2:r.chID=o.bytes();break;default:o.skipType(7&s)}}return r},t}();n.Msg_CS_GetDayTaskReward=r;var a=function(){function t(){this.bIsResult=!1,this.dwGold=0,this.taskinfo=void 0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create()),null!=t.bIsResult&&e.uint32(8).bool(t.bIsResult),null!=t.dwGold&&e.uint32(16).uint32(t.dwGold);for(var n=0,i=t.taskinfo;n<i.length;n++){var r=i[n];null!=r&&o.encode(r,e.uint32(26).fork()).ldelim()}return e},t.decode=function(e,n){var i=e instanceof Uint8Array?new protobuf.Reader(e):e,r=void 0===n?i.len:i.pos+n,a=new t,s=!1;for(a.taskinfo=[];i.pos<r&&!s;){var c=i.uint32();switch(c>>>3){case 0:s=!0;break;case 1:a.bIsResult=i.bool();break;case 2:a.dwGold=i.uint32();break;case 3:a.taskinfo.push(o.decode(i,i.uint32()));break;default:i.skipType(7&c)}}return a},t}();n.Msg_SC_TaskRewardResult=a;var s=function(){function t(){this.bIsGet=!1,this.dwType=0,this.iSurplusTime=0,this.dwRewardGold=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.bIsGet&&e.uint32(8).bool(t.bIsGet),null!=t.dwType&&e.uint32(16).uint32(t.dwType),null!=t.iSurplusTime&&e.uint32(24).int32(t.iSurplusTime),null!=t.dwRewardGold&&e.uint32(32).uint32(t.dwRewardGold),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.bIsGet=o.bool();break;case 2:r.dwType=o.uint32();break;case 3:r.iSurplusTime=o.int32();break;case 4:r.dwRewardGold=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.Msg_Info_Reward=s;var c=function(){function t(){this.rewardInfo=void 0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),void 0!==t.rewardInfo&&void 0!==t.rewardInfo&&null!=t.rewardInfo&&s.encode(t.rewardInfo,e.uint32(10).fork()).ldelim(),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var c=o.uint32();switch(c>>>3){case 0:a=!0;break;case 1:r.rewardInfo=s.decode(o,o.uint32());break;default:o.skipType(7&c)}}return r},t}();n.Msg_TimingReward=c;var l=function(){function t(){this.bIsResult=!1,this.dwGold=0,this.rewardInfo=void 0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.bIsResult&&e.uint32(8).bool(t.bIsResult),null!=t.dwGold&&e.uint32(16).uint32(t.dwGold),void 0!==t.rewardInfo&&void 0!==t.rewardInfo&&null!=t.rewardInfo&&s.encode(t.rewardInfo,e.uint32(26).fork()).ldelim(),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var c=o.uint32();switch(c>>>3){case 0:a=!0;break;case 1:r.bIsResult=o.bool();break;case 2:r.dwGold=o.uint32();break;case 3:r.rewardInfo=s.decode(o,o.uint32());break;default:o.skipType(7&c)}}return r},t}();n.Msg_SendRewardResult=l;var u=function(){function t(){this.dwId=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwId&&e.uint32(8).uint32(t.dwId),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwId=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.MSG_CS_RedPoint=u;var d=function(){function t(){this.dwId=0,this.dwRedPointNum=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwId&&e.uint32(8).uint32(t.dwId),null!=t.dwRedPointNum&&e.uint32(16).uint32(t.dwRedPointNum),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwId=o.uint32();break;case 2:r.dwRedPointNum=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.MSG_SC_ResponseRedpoint=d,n.TASK_GAME_SUB_MSG={MSG_CS_GET_TIMINGREWARD:2050,MSG_SC_SENDTIMINGREWARD:2051,MSG_CS_GET_REWARD_TIME:2052,MSG_SC_SENDREWARDRESULT:2053,MSG_CS_GET_DAYTASK:2054,MSG_SC_SENDDAYTASK:2055,MSG_CS_GET_DAYTASKREWARD:2056,MSG_SC_SENDTASKSUCCSSE:2057,MSG_CS_SHOWT_REDPOINT:2058,MSG_SC_RESPONSE_REDPOINT:2059,UNRECOGNIZED:-1},n.TaskType={WIN_TASK:1,DuiJu_TASK:2,LOGIN_TASK:3,LOTTERY_TASK:4,CLASSIC_TASK:5,GOWILD_TASK:6,SETTEBELLO_TASK:7,SCOPA_TASK:8,PAY_TASK:9,UNRECOGNIZED:-1},n.RedPointType={CD_TASK:1,DAILY_TASK:2,UNRECOGNIZED:-1},cc._RF.pop()},{}],CMD_UserInfoMsg:[function(t,e,n){"use strict";cc._RF.push(e,"4b1bejX+SFHqLmZo7vzhU8X","CMD_UserInfoMsg"),Object.defineProperty(n,"__esModule",{value:!0}),n.USERINFO_GAME_SUB_MSG=n.Msg_SC_SendPS_Info=n.Msg_SC_UpdateFaceIDResult=n.Msg_CS_GeustUpDateFaceID=n.Msg_SC_ExtSessionResult=n.Msg_CS_ExtSessionTime=n.Msg_SC_RtnBindAccountInfo=n.Msg_SC_BindUserAccountResult=n.Msg_CS_BindUserAccount=n.Msg_SC_UserGoldInfo=n.Msg_SC_RtnUserNameHeadURL=n.Msg_CS_GetUserNameHeadURL=n.Msg_SC_RtnUpdateNameHeadResult=n.Msg_CS_UpdateNameHeadURL=n.Msg_SC_UpdateGenderResult=n.Msg_CS_UpdateUserGender=n.Msg_SC_UpdateNNResult=n.Msg_CS_UpdateUserNickName=n.Msg_SC_UpdateUnderWriteResult=n.Msg_CS_UpdateUnderWrite=n.Msg_SC_UserInfo=n.Msg_SC_PS_Date=n.Msg_GameID_Win=n.Msg_CS_GetUserInfo=void 0;var o=function(){function t(){this.dwUserID=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwUserID&&e.uint32(8).uint32(t.dwUserID),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwUserID=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.Msg_CS_GetUserInfo=o;var i=function(){function t(){this.chGameName=protobuf.util.newBuffer([]),this.dwTotalCount=0,this.dwWinCount=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.chGameName&&e.uint32(10).bytes(t.chGameName),null!=t.dwTotalCount&&e.uint32(16).uint32(t.dwTotalCount),null!=t.dwWinCount&&e.uint32(24).uint32(t.dwWinCount),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.chGameName=o.bytes();break;case 2:r.dwTotalCount=o.uint32();break;case 3:r.dwWinCount=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.Msg_GameID_Win=i;var r=function(){function t(){this.dwBasicPS=0,this.dwCurPS=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwBasicPS&&e.uint32(8).uint32(t.dwBasicPS),null!=t.dwCurPS&&e.uint32(16).uint32(t.dwCurPS),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwBasicPS=o.uint32();break;case 2:r.dwCurPS=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.Msg_SC_PS_Date=r;var a=function(){function t(){this.dwUserID=0,this.dwRoleID=0,this.chNickName=protobuf.util.newBuffer([]),this.iFaceID=0,this.dwUserCustFID=0,this.szCity=protobuf.util.newBuffer([]),this.dwGem=0,this.llGold=protobuf.util.Long?protobuf.util.LongBits.from(0).toLong():0,this.dwTotalCount=0,this.dwWinCount=0,this.gameWin=void 0,this.strHeadURL="",this.iGender=0,this.PsData=void 0,this.dwUseTableId=0,this.tabHaveTableId=protobuf.util.emptyArray,this.bIsGoldenPass=!1,this.dwExpLevel=0,this.dwNextLevelExp=0,this.dwNowExp=0,this.dwPaiTagId=0,this.dwDan1=0,this.dwDan2=0}return t.encode=function(t,e){void 0===e&&(e=protobuf.Writer.create()),null!=t.dwUserID&&e.uint32(8).uint32(t.dwUserID),null!=t.dwRoleID&&e.uint32(16).uint32(t.dwRoleID),null!=t.chNickName&&e.uint32(26).bytes(t.chNickName),null!=t.iFaceID&&e.uint32(32).int32(t.iFaceID),null!=t.dwUserCustFID&&e.uint32(40).int32(t.dwUserCustFID),null!=t.szCity&&e.uint32(50).bytes(t.szCity),null!=t.dwGem&&e.uint32(56).uint32(t.dwGem),null!=t.llGold&&e.uint32(64).int64(t.llGold),null!=t.dwTotalCount&&e.uint32(72).uint32(t.dwTotalCount),null!=t.dwWinCount&&e.uint32(80).uint32(t.dwWinCount);for(var n=0,o=t.gameWin;n<o.length;n++)null!=(c=o[n])&&i.encode(c,e.uint32(90).fork()).ldelim();if(null!=t.strHeadURL&&e.uint32(98).string(t.strHeadURL),null!=t.iGender&&e.uint32(104).int32(t.iGender),void 0!==t.PsData&&void 0!==t.PsData&&null!=t.PsData&&r.encode(t.PsData,e.uint32(114).fork()).ldelim(),null!=t.dwUseTableId&&e.uint32(120).uint32(t.dwUseTableId),void 0!==t.tabHaveTableId&&t.tabHaveTableId.length)for(var a=0,s=t.tabHaveTableId;a<s.length;a++){var c=s[a];e.uint32(128).uint32(c)}return null!=t.bIsGoldenPass&&e.uint32(136).bool(t.bIsGoldenPass),null!=t.dwExpLevel&&e.uint32(144).uint32(t.dwExpLevel),null!=t.dwNextLevelExp&&e.uint32(152).uint32(t.dwNextLevelExp),null!=t.dwNowExp&&e.uint32(160).uint32(t.dwNowExp),null!=t.dwPaiTagId&&e.uint32(168).int32(t.dwPaiTagId),null!=t.dwDan1&&e.uint32(176).uint32(t.dwDan1),null!=t.dwDan2&&e.uint32(184).uint32(t.dwDan2),e},t.decode=function(e,n){var o=e instanceof Uint8Array?new protobuf.Reader(e):e,a=void 0===n?o.len:o.pos+n,s=new t,c=!1;for(s.gameWin=[],s.tabHaveTableId=[];o.pos<a&&!c;){var l=o.uint32();switch(l>>>3){case 0:c=!0;break;case 1:s.dwUserID=o.uint32();break;case 2:s.dwRoleID=o.uint32();break;case 3:s.chNickName=o.bytes();break;case 4:s.iFaceID=o.int32();break;case 5:s.dwUserCustFID=o.int32();break;case 6:s.szCity=o.bytes();break;case 7:s.dwGem=o.uint32();break;case 8:s.llGold=o.int64();break;case 9:s.dwTotalCount=o.uint32();break;case 10:s.dwWinCount=o.uint32();break;case 11:s.gameWin.push(i.decode(o,o.uint32()));break;case 12:s.strHeadURL=o.string();break;case 13:s.iGender=o.int32();break;case 14:s.PsData=r.decode(o,o.uint32());break;case 15:s.dwUseTableId=o.uint32();break;case 16:if(2==(7&l))for(var u=o.uint32()+o.pos;o.pos<u;)s.tabHaveTableId.push(o.uint32());else s.tabHaveTableId.push(o.uint32());break;case 17:s.bIsGoldenPass=o.bool();break;case 18:s.dwExpLevel=o.uint32();break;case 19:s.dwNextLevelExp=o.uint32();break;case 20:s.dwNowExp=o.uint32();break;case 21:s.dwPaiTagId=o.int32();break;case 22:s.dwDan1=o.uint32();break;case 23:s.dwDan2=o.uint32();break;default:o.skipType(7&l)}}return s},t}();n.Msg_SC_UserInfo=a;var s=function(){function t(){this.dwUserID=0,this.szUnderWrite=protobuf.util.newBuffer([])}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwUserID&&e.uint32(8).uint32(t.dwUserID),null!=t.szUnderWrite&&e.uint32(18).bytes(t.szUnderWrite),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwUserID=o.uint32();break;case 2:r.szUnderWrite=o.bytes();break;default:o.skipType(7&s)}}return r},t}();n.Msg_CS_UpdateUnderWrite=s;var c=function(){function t(){this.bResult=!1,this.szUnderWrite=protobuf.util.newBuffer([])}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.bResult&&e.uint32(8).bool(t.bResult),null!=t.szUnderWrite&&e.uint32(18).bytes(t.szUnderWrite),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.bResult=o.bool();break;case 2:r.szUnderWrite=o.bytes();break;default:o.skipType(7&s)}}return r},t}();n.Msg_SC_UpdateUnderWriteResult=c;var l=function(){function t(){this.byNickName=protobuf.util.newBuffer([])}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.byNickName&&e.uint32(10).bytes(t.byNickName),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.byNickName=o.bytes();break;default:o.skipType(7&s)}}return r},t}();n.Msg_CS_UpdateUserNickName=l;var u=function(){function t(){this.iRtnCode=0,this.byNickName=protobuf.util.newBuffer([])}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.iRtnCode&&e.uint32(8).int32(t.iRtnCode),null!=t.byNickName&&e.uint32(18).bytes(t.byNickName),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.iRtnCode=o.int32();break;case 2:r.byNickName=o.bytes();break;default:o.skipType(7&s)}}return r},t}();n.Msg_SC_UpdateNNResult=u;var d=function(){function t(){this.iGender=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.iGender&&e.uint32(8).int32(t.iGender),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.iGender=o.int32();break;default:o.skipType(7&s)}}return r},t}();n.Msg_CS_UpdateUserGender=d;var p=function(){function t(){this.iGender=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.iGender&&e.uint32(8).int32(t.iGender),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.iGender=o.int32();break;default:o.skipType(7&s)}}return r},t}();n.Msg_SC_UpdateGenderResult=p;var h=function(){function t(){this.byNickName=protobuf.util.newBuffer([]),this.strHeadURL=""}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.byNickName&&e.uint32(10).bytes(t.byNickName),null!=t.strHeadURL&&e.uint32(18).string(t.strHeadURL),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.byNickName=o.bytes();break;case 2:r.strHeadURL=o.string();break;default:o.skipType(7&s)}}return r},t}();n.Msg_CS_UpdateNameHeadURL=h;var f=function(){function t(){this.iRtnCode=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.iRtnCode&&e.uint32(8).int32(t.iRtnCode),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.iRtnCode=o.int32();break;default:o.skipType(7&s)}}return r},t}();n.Msg_SC_RtnUpdateNameHeadResult=f;var g=function(){function t(){this.dwUserID=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwUserID&&e.uint32(8).uint32(t.dwUserID),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwUserID=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.Msg_CS_GetUserNameHeadURL=g;var _=function(){function t(){this.byNickName=protobuf.util.newBuffer([]),this.strHeadURL="",this.dwUserID=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.byNickName&&e.uint32(10).bytes(t.byNickName),null!=t.strHeadURL&&e.uint32(18).string(t.strHeadURL),null!=t.dwUserID&&e.uint32(24).uint32(t.dwUserID),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.byNickName=o.bytes();break;case 2:r.strHeadURL=o.string();break;case 3:r.dwUserID=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.Msg_SC_RtnUserNameHeadURL=_;var y=function(){function t(){this.dwUserID=0,this.dwGem=0,this.llGold=protobuf.util.Long?protobuf.util.LongBits.from(0).toLong():0,this.dwHongBaoNum=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwUserID&&e.uint32(8).uint32(t.dwUserID),null!=t.dwGem&&e.uint32(16).uint32(t.dwGem),null!=t.llGold&&e.uint32(24).int64(t.llGold),null!=t.dwHongBaoNum&&e.uint32(32).uint32(t.dwHongBaoNum),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwUserID=o.uint32();break;case 2:r.dwGem=o.uint32();break;case 3:r.llGold=o.int64();break;case 4:r.dwHongBaoNum=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.Msg_SC_UserGoldInfo=y;var m=function(){function t(){this.dwUserID=0,this.strBindInfo=protobuf.util.newBuffer([])}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwUserID&&e.uint32(8).uint32(t.dwUserID),null!=t.strBindInfo&&e.uint32(18).bytes(t.strBindInfo),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwUserID=o.uint32();break;case 2:r.strBindInfo=o.bytes();break;default:o.skipType(7&s)}}return r},t}();n.Msg_CS_BindUserAccount=m;var b=function(){function t(){this.dwUserID=0,this.iCode=0,this.strNewAccount="",this.strNickName=protobuf.util.newBuffer([]),this.llUPGold=protobuf.util.Long?protobuf.util.LongBits.from(0).toLong():0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwUserID&&e.uint32(8).uint32(t.dwUserID),null!=t.iCode&&e.uint32(16).int32(t.iCode),null!=t.strNewAccount&&e.uint32(26).string(t.strNewAccount),null!=t.strNickName&&e.uint32(34).bytes(t.strNickName),null!=t.llUPGold&&e.uint32(40).int64(t.llUPGold),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwUserID=o.uint32();break;case 2:r.iCode=o.int32();break;case 3:r.strNewAccount=o.string();break;case 4:r.strNickName=o.bytes();break;case 5:r.llUPGold=o.int64();break;default:o.skipType(7&s)}}return r},t}();n.Msg_SC_BindUserAccountResult=b;var v=function(){function t(){this.bIsBind=!1,this.chRewardList=protobuf.util.newBuffer([])}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.bIsBind&&e.uint32(8).bool(t.bIsBind),null!=t.chRewardList&&e.uint32(18).bytes(t.chRewardList),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.bIsBind=o.bool();break;case 2:r.chRewardList=o.bytes();break;default:o.skipType(7&s)}}return r},t}();n.Msg_SC_RtnBindAccountInfo=v;var S=function(){function t(){this.strSession=""}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.strSession&&e.uint32(10).string(t.strSession),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.strSession=o.string();break;default:o.skipType(7&s)}}return r},t}();n.Msg_CS_ExtSessionTime=S;var w=function(){function t(){this.iCode=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.iCode&&e.uint32(8).int32(t.iCode),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.iCode=o.int32();break;default:o.skipType(7&s)}}return r},t}();n.Msg_SC_ExtSessionResult=w;var C=function(){function t(){this.dwFaceID=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwFaceID&&e.uint32(8).uint32(t.dwFaceID),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwFaceID=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.Msg_CS_GeustUpDateFaceID=C;var I=function(){function t(){this.dwUserID=0,this.bIsResult=!1,this.dwFaceID=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwUserID&&e.uint32(8).uint32(t.dwUserID),null!=t.bIsResult&&e.uint32(16).bool(t.bIsResult),null!=t.dwFaceID&&e.uint32(24).uint32(t.dwFaceID),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwUserID=o.uint32();break;case 2:r.bIsResult=o.bool();break;case 3:r.dwFaceID=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.Msg_SC_UpdateFaceIDResult=I;var D=function(){function t(){this.PsData=void 0,this.dwSYTime=0,this.dwGetPSValue=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),void 0!==t.PsData&&void 0!==t.PsData&&null!=t.PsData&&r.encode(t.PsData,e.uint32(10).fork()).ldelim(),null!=t.dwSYTime&&e.uint32(16).uint32(t.dwSYTime),null!=t.dwGetPSValue&&e.uint32(24).uint32(t.dwGetPSValue),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,a=new t,s=!1;o.pos<i&&!s;){var c=o.uint32();switch(c>>>3){case 0:s=!0;break;case 1:a.PsData=r.decode(o,o.uint32());break;case 2:a.dwSYTime=o.uint32();break;case 3:a.dwGetPSValue=o.uint32();break;default:o.skipType(7&c)}}return a},t}();n.Msg_SC_SendPS_Info=D,n.USERINFO_GAME_SUB_MSG={MSGID_CS_GET_USERINFO:2e3,MSGID_SC_USERINFO_SUCCESS:2001,MSGID_CS_UPDATE_UNDERWRITE:2002,MSGID_SC_UPDATE_UNDERWRIT_FINISH:2003,MSGID_CS_UPDATE_NICKNAME:2010,MSGID_SC_UPDATENNRESULT:2011,MSGID_CS_UPDATE_GENDER:2012,MSGID_SC_UPDATE_GENDER_RESULT:2013,MSGID_CS_UPDATENAMEHEADURL:2014,MSGID_SC_RTNNAMEHEADRESULT:2015,MSGID_CS_GETNAMEHEADURL:2016,MSGID_SC_RTNUSERNAMEHEADURL:2017,MSGID_CS_GET_USER_GOLD:2018,MSGID_SC_USER_GOLD_RESULT:2019,MSGID_CS_USER_BINDACCOUNT:2020,MSGID_SC_USER_BINDRESULT:2021,MSGID_CS_EXTEND_SESSIONTIME:2030,MSGID_SC_EXTENDSESSION_RESULT:2031,MSGID_CS_USERINFOENTRY:2050,MSGID_SC_USER_RTNBINDACCINFO:2051,MSGID_CS_UPDATEUSERFACEID:2052,MSGID_SC_SENDUPDATEFACEIDRESULT:2053,MSGID_CS_GET_USER_PSDATA:2054,MSGID_SC_SEND_PSINFO:2055,UNRECOGNIZED:-1},cc._RF.pop()},{}],CallBackManager:[function(t,e,n){"use strict";cc._RF.push(e,"9fd25p7FFlMS4xfMtYIDR+a","CallBackManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.CallBackManager=void 0;var o=t("../event/Notify"),i=t("./../../lib/event/EventDispatcher"),r=function(){function t(){this.isPause=!1,this.eventQueue=new Array,this.callMap=new Map,this.initEvent()}return t.getInstance=function(){return t.sInstance||(t.sInstance=new t),t.sInstance},t.desInstance=function(){t.sInstance&&(i.EventDispatcher.getInstance().remove(this),t.sInstance.clear(),t.sInstance.callMap=null,t.sInstance.eventQueue=null,t.sInstance=null)},t.prototype.init=function(){this.initEvent()},t.prototype.initEvent=function(){i.EventDispatcher.getInstance().add(o.Notify.Base.ON_APP_PAUSE,this.onAppPause,this,0),i.EventDispatcher.getInstance().add(o.Notify.Base.ON_APP_RESUME,this.onAppResume,this,0)},t.prototype.clear=function(){this.callMap.clear(),this.eventQueue.length=0},t.prototype.onAppPause=function(){this.isPause=!0},t.prototype.onAppResume=function(){this.isPause=!1,this.popEvent()},t.prototype.register=function(t,e){this.unregister(t),this.callMap.set(t,e)},t.prototype.unregister=function(t){this.callMap.delete(t)},t.prototype.pushEvent=function(t,e){var n={name:t,data:e};this.eventQueue.push(n),this.isPause||this.popEvent()},t.prototype.popEvent=function(){for(var t=this.eventQueue.shift();t;){var e=this.callMap.get(t.name);e&&"function"==typeof e.call&&e.call(t.data),t=this.eventQueue.shift()}},t.sInstance=null,t}();n.CallBackManager=r,cc._RF.pop()},{"../event/Notify":"Notify","./../../lib/event/EventDispatcher":"EventDispatcher"}],Callback:[function(t,e,n){"use strict";cc._RF.push(e,"e51f1Uxsc1JFYXFo8qi7Y5Z","Callback");var o=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),i=0;for(e=0;e<n;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,i++)o[i]=r[a];return o};Object.defineProperty(n,"__esModule",{value:!0}),n.Callback=void 0;var i=function(){function t(t,e,n){this.target=t,this.func=e,this.params=n}return t.prototype.call=function(t){var e,n=[];(this.params||t)&&(this.params?(n.push(this.params),n.push(t)):n=[t]),(e=this.func).call.apply(e,o([this.target],n))},t}();n.Callback=i,cc._RF.pop()},{}],CardSkinPreview:[function(t,e,n){"use strict";cc._RF.push(e,"eb82bMMSBJLaIGXxwtrcgqA","CardSkinPreview");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../lib/base/CxComponent"),s=t("../../../lib/utils/ComUtils"),c=t("../../../lib/utils/Logger"),l=t("../../config/ResConfig"),u=t("../../event/Notify"),d=cc._decorator,p=d.ccclass,h=d.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labSkinName=null,e.spSelected=null,e.spSkin=null,e.spAltlas=null,e.mSkinId=0,e}return i(e,t),e.prototype.init=function(t,e,n,o){var i=t;this.mSkinId=i.dwId,this.node.width=n,this.labSkinName.fontSize=o,this.setSkinPreview(i.dwResourceId,s.ComUtils.u8ToUTF8Str(i.szName)),this.selected(e==this.mSkinId)},e.prototype.start=function(){this.node.on("click",this.onClick,this)},e.prototype.listEvent=function(){return new Map([])},e.prototype.setSkinPreview=function(t,e){var n="skin_"+l.PokerResMgr.CARD_SKIN_PREVIEW_LIST[t],o=this.spAltlas.getSpriteFrame(n);o?this.spSkin.spriteFrame=o:c.Logger.error("\u627e\u4e0d\u5230\u724c\u76ae\u80a4: "+n),this.labSkinName.string=e},e.prototype.selected=function(t){this.spSelected.node.active=t},e.prototype.onSelect=function(t){this.selected(t==this.mSkinId)},e.prototype.onClick=function(){this.dispatch(u.Notify.CardSkin.SELECT_CARD_SKIN,this.mSkinId)},r([h({type:cc.Label,tooltip:"\u76ae\u80a4\u540d\u79f0"})],e.prototype,"labSkinName",void 0),r([h({type:cc.Sprite,tooltip:"\u9009\u4e2d\u72b6\u6001\u6807\u7b7e"})],e.prototype,"spSelected",void 0),r([h({type:cc.Sprite,tooltip:"\u76ae\u80a4\u9884\u89c8\u56fe\u7247"})],e.prototype,"spSkin",void 0),r([h({type:cc.SpriteAtlas})],e.prototype,"spAltlas",void 0),r([p],e)}(a.CxComponent);n.default=f,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../../lib/utils/ComUtils":"ComUtils","../../../lib/utils/Logger":"Logger","../../config/ResConfig":"ResConfig","../../event/Notify":"Notify"}],CardSkinSelectLayer:[function(t,e,n){"use strict";cc._RF.push(e,"93c83jW7dtA1LVD2LOTf6x1","CardSkinSelectLayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../lib/base/CxCompExt"),s=t("../../../lib/base/PopupView"),c=t("../../../lib/i18n/i18nHelper"),l=t("../../event/Notify"),u=t("../../language/LanguageCfg"),d=t("../../model/ActivityDataProxy"),p=t("../../model/DataProxy"),h=t("./CardSkinPreview"),f=cc._decorator,g=f.ccclass,_=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labInfo=null,e.btnConfirm=null,e.labConfirm=null,e.scrollView=null,e.pfCardPreview=null,e.gridWidth=280,e.skinNameFontSize=36,e.mGridArr=[],e.mCurSkinId=0,e.mNewSkinId=0,e}return i(e,t),e.prototype.init=function(e){t.prototype.init.call(this,e)},e.prototype.onLoad=function(){t.prototype.onLoad.call(this);var e=p.DataProxy.getInstance().userData.cardSkinId||1;this.mCurSkinId=e,this.mNewSkinId=e;var n=p.DataProxy.getInstance().otherData.cardSkinCfg;this.showCardSkinPreviews(n)},e.prototype.initEvent=function(){this.bindEvent(l.Notify.CardSkin.SELECT_CARD_SKIN,this.onChange)},e.prototype.start=function(){this.btnConfirm&&(this.btnConfirm.node.on("click",this.onClickConfirm,this),cc.Button);var t=this.getComponent(s.PopupView);if(t){var e=c.i18nHelper.makeLanguage(u.LangKey.title_card_skin).toString();t.setTitle(e)}this.labInfo&&(this.labInfo.language=c.i18nHelper.makeLanguage(u.LangKey.txt_select_card_skin)),this.labConfirm&&(this.labConfirm.language=c.i18nHelper.makeLanguage(u.LangKey.text_confirm))},e.prototype.showCardSkinPreviews=function(t){var e=this;if(this.pfCardPreview){t.forEach(function(t){var n=cc.instantiate(e.pfCardPreview);e.scrollView.content.addChild(n),e.mGridArr.push(n);var o=n.getComponent(h.default);o&&o.init(t,e.mCurSkinId,e.gridWidth,e.skinNameFontSize)});var n=0,o=this.scrollView.content.getComponent(cc.Layout);o&&(n=o.spacingY);var i=Math.ceil(t.length/3)*(this.pfCardPreview.data.height+n);this.scrollView.content.height=i}},e.prototype.onClickConfirm=function(){cc.log("\u8bf7\u6c42\u4fee\u6539\u76ae\u80a4",this.mNewSkinId),this.dispatch(l.Notify.Other.REQ_CHANGE_CARD_SKIN,this.mNewSkinId),this.dispatch(l.Notify.Activity.CHANGE_REDDOT_NUM,{activityId:d.gRedDot.SETTING,redcount:0}),this.close()},e.prototype.onChange=function(t){this.mNewSkinId=t,this.mGridArr.forEach(function(e){e.getComponent(h.default).onSelect(t)})},r([_({type:cc.Label,tooltip:"\u9875\u9762\u63cf\u8ff0\u4fe1\u606f"})],e.prototype,"labInfo",void 0),r([_({type:cc.Button,tooltip:"\u786e\u8ba4\u6309\u94ae"})],e.prototype,"btnConfirm",void 0),r([_({type:cc.Label,tooltip:"\u786e\u8ba4\u6309\u94ae\u6587\u5b57"})],e.prototype,"labConfirm",void 0),r([_({type:cc.ScrollView,tooltip:""})],e.prototype,"scrollView",void 0),r([_({type:cc.Prefab,tooltip:"\u724c\u9884\u89c8\u76ae\u80a4\u6a21\u677f"})],e.prototype,"pfCardPreview",void 0),r([_({type:cc.Integer,tooltip:"\u683c\u5b50\u7684\u5bbd\u5ea6"})],e.prototype,"gridWidth",void 0),r([_({type:cc.Integer,tooltip:"\u76ae\u80a4\u540d\u79f0\u7684\u5b57\u4f53\u5927\u5c0f"})],e.prototype,"skinNameFontSize",void 0),r([g],e)}(a.CxCompExt);n.default=y,cc._RF.pop()},{"../../../lib/base/CxCompExt":"CxCompExt","../../../lib/base/PopupView":"PopupView","../../../lib/i18n/i18nHelper":"i18nHelper","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../../model/ActivityDataProxy":"ActivityDataProxy","../../model/DataProxy":"DataProxy","./CardSkinPreview":"CardSkinPreview"}],ComBottomBar:[function(t,e,n){"use strict";cc._RF.push(e,"2be97MdHitOuLFqofrMjtJ1","ComBottomBar");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.ComBottomBar=void 0;var a=t("../../../lib/base/CxComponent"),s=t("../../const/Global"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pSpriteAtlas=null,e.pLeftBtn=null,e.pRightBtn=null,e.pCenterBtn=null,e.mBarConfig=null,e}return i(e,t),e.prototype.start=function(){this.mBarConfig&&this.setBottomBarInternal(this.mBarConfig)},e.prototype.setBottomBar=function(t){return!!(t&&t.length>=1&&t.length<=2)&&(this.mBarConfig=t,!0)},e.prototype.setBottomBarInternal=function(t){if(t&&t.length>0){var e=!1;if(this.pLeftBtn&&(this.pLeftBtn.node.active=!1),this.pRightBtn&&(this.pRightBtn.node.active=!1),this.pCenterBtn&&(this.pCenterBtn.node.active=!1),1==t.length?(e=!0,this.mBarConfig=t,this.setBarMenu(this.pCenterBtn,this.mBarConfig[0],!0)):2==t.length&&(e=!0,this.mBarConfig=t,this.setBarMenu(this.pLeftBtn,this.mBarConfig[0],!1),this.setBarMenu(this.pRightBtn,this.mBarConfig[1],!1)),this.node)return this.node.active=e,!0}return!1},e.prototype.setBarMenu=function(t,e,n){if(null!=t&&null!=e){var o=null,i=null,r=t.node.getChildByName("Background");r&&(i=r.getChildByName("layout"))&&(o=i.getChildByName("Label"),i.getChildByName("icon"));var a=this.getStyle(e.style);if(o&&a){t.node.active=!0;var s=o.getComponent(cc.Label);s&&(e.text&&(s.language=e.text),e.textSize&&(s.fontSize=e.textSize),s.node.color=(new cc.Color).fromHEX(a.textColor));var c=o.getComponent(cc.LabelOutline);if(c){var l=e.outlineColor?e.outlineColor:a.outlineColor;c.color=(new cc.Color).fromHEX(l)}var u=o.getComponent(cc.LabelShadow);u&&(l=e.outlineColor?e.outlineColor:a.outlineColor,u.color=(new cc.Color).fromHEX(l));var d=n?a.iconLong:a.icon,p=this.pSpriteAtlas.getSpriteFrame(d);if(p){var h=r.getComponent(cc.Sprite);h&&(h.spriteFrame=p)}}}},e.prototype.getStyle=function(t){for(var e=[{key:s.gColorStyle.GREEN,textColor:"#FFFFFF",outlineColor:"#135100",icon:"com_btn_green",iconLong:"com_btn_green_long"},{key:s.gColorStyle.YELLOW,textColor:"#FFFFFF",outlineColor:"#9b4102",icon:"com_btn_yellow",iconLong:"com_btn_yellow_long"},{key:s.gColorStyle.RED,textColor:"#FFFFFF",outlineColor:"#ac0e0e",icon:"com_btn_red",iconLong:"com_btn_red_long"},{key:s.gColorStyle.ORANGE,textColor:"#FFFFFF",outlineColor:"#9b1f02",icon:"com_btn_orange",iconLong:"com_btn_orange_long"},{key:s.gColorStyle.DARKBLUE,textColor:"#FFFFFF",outlineColor:"#122964",icon:"com_btn_dark_blue",iconLong:"com_btn_dark_blue_long"},{key:s.gColorStyle.GRAY,textColor:"#FFFFFF",outlineColor:"#858585",icon:"com_btn_gray",iconLong:"com_btn_gray_long"}],n=0;n<e.length;n++){var o=e[n];if(t&&t==o.key)return o}return null},e.prototype.onClickBottomBar=function(t,e){e&&this.doCallBack(e)},e.prototype.doCallBack=function(t){var e=-1;if("left"==t?e=0:"right"==t?e=1:"center"==t&&(e=0),this.mBarConfig&&e>=0){var n=this.mBarConfig[e];n&&n.callback&&n.callback()}},r([u(cc.SpriteAtlas)],e.prototype,"pSpriteAtlas",void 0),r([u(cc.Button)],e.prototype,"pLeftBtn",void 0),r([u(cc.Button)],e.prototype,"pRightBtn",void 0),r([u(cc.Button)],e.prototype,"pCenterBtn",void 0),r([l],e)}(a.CxComponent);n.ComBottomBar=d,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../const/Global":"Global"}],ComDataProxy:[function(t,e,n){"use strict";cc._RF.push(e,"521d2LUkNlJi5PuS8H6myAp","ComDataProxy"),Object.defineProperty(n,"__esModule",{value:!0}),n.ComDataProxy=void 0;var o=t("../const/Global"),i=function(){function t(){this.mInGame=!1,this.mLastClickGameId=0,this.bClickTableLettery=!1,this.lobbyEnterType=null,this.lobbyGameType=null}return t.prototype.clear=function(){},t.prototype.setEnterLobbyType=function(t){this.lobbyEnterType=t},t.prototype.getEnterLobbyType=function(){return null!=this.lobbyEnterType?this.lobbyEnterType:o.gLobbyEnterType.Main},t.prototype.setLobbyGameType=function(t){this.lobbyGameType=t},t.prototype.setInGame=function(t){this.mInGame=t},t.prototype.isInGame=function(){return this.mInGame},t.prototype.getLobbyGameType=function(){return null!=this.lobbyGameType?this.lobbyGameType:o.gHuskyGameType.SCOPA_GOLD},t.prototype.setLastClickGame=function(t){this.mLastClickGameId=t},t.prototype.getLastClickGame=function(){return this.mLastClickGameId},t.NAME="com_data_proxy",t}();n.ComDataProxy=i,cc._RF.pop()},{"../const/Global":"Global"}],ComDialog:[function(t,e,n){"use strict";cc._RF.push(e,"edbaaiImfRJZ5dHCU4TiIZF","ComDialog");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./../../view/ComUI"),s=t("../../../lib/base/CxComponent"),c=t("../../../lib/utils/ComUtils"),l=t("../../language/LanguageCfg"),u=t("../../const/Global"),d=t("../../../lib/base/Language"),p=cc._decorator,h=p.ccclass,f=p.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pSpriteAtlas=null,e.spBg=null,e.titleNode=null,e.txtTitle=null,e.btnClose=null,e.spSubBg=null,e.rtContent=null,e.btnCancel=null,e.btnSure=null,e.textFmt="<color=#FFFFFF><outline color=#1D5A9D width=3>%s</outline></c>",e.warnFmt='<img src="com_img_warning"/>',e.strTitle="Tips",e.text="",e.cb1=null,e.cb2=null,e.canClose1=!0,e.canClose2=!0,e.closeCb=null,e.destoryCb=null,e.isHideMenu=!1,e.isClose=!0,e.isOutClose=!0,e.subNode=null,e.dialogWidth=735,e.dialogHeight=450,e.textWidth=0,e.textHeight=0,e.offsetUp=90,e.offsetDown=160,e.offsetSides=40,e.contentMinH=e.dialogHeight-e.offsetUp-e.offsetDown,e.mBtnCfgArr=[],e.mbShowWarnIcon=!1,e.mFontSize=40,e.mLineHeight=56,e.mAlign=cc.macro.TextAlignment.LEFT,e.mMaxTextWidth=800,e}return i(e,t),e.prototype.init=function(t){this.text=t.text||"",this.cb1=t.cb1||null,this.cb2=t.cb2||null,this.closeCb=t.closeCb||null,this.destoryCb=t.destoryCb||null,this.subNode=t.subNode||null,t.title?this.strTitle=t.title:this.titleNode.active=!1,void 0!==t.canClose1&&(this.canClose1=t.canClose1),void 0!==t.canClose2&&(this.canClose2=t.canClose2),void 0!==t.hideMenu&&(this.isHideMenu=t.hideMenu),void 0!==t.close&&(this.isClose=t.close),void 0!==t.outClose&&(this.isOutClose=t.outClose),t.btnCfgArr&&(this.mBtnCfgArr=t.btnCfgArr),t.warnIcon&&(this.mbShowWarnIcon=!0),t.fontSize&&(this.mFontSize=t.fontSize),t.align&&(this.mAlign=t.align),t.lineHeight&&(this.mLineHeight=Math.max(t.lineHeight,this.mFontSize))},e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},e.prototype.start=function(){var t=this;this.txtTitle.language=this.strTitle,this.rtContent.fontSize=this.mFontSize,this.rtContent.lineHeight=this.mLineHeight,this.text=this.text||"",this.text&&Array.isArray(this.text)&&this.text[0].startsWith(u.USING_LAN_KEY)&&(this.text=d.Language.getInstance().get(this.text)),this.mbShowWarnIcon?this.rtContent.string=""+this.warnFmt+cc.js.formatStr(this.textFmt,this.text):this.rtContent.string=cc.js.formatStr(this.textFmt,this.text),this.rtContent.horizontalAlign=cc.macro.TextAlignment.CENTER,this.rtContent.node.height>=2*this.rtContent.lineHeight&&(this.rtContent.horizontalAlign=this.mAlign||cc.macro.TextAlignment.LEFT),this.scheduleOnce(function(){t.initContentText(),t.initButton(),t.initSubNode()})},e.prototype.onDestroy=function(){this.destoryCb&&this.destoryCb(),t.prototype.onDestroy.call(this)},e.prototype.initContentText=function(){this.textHeight=this.rtContent.node.height,this.textHeight>this.contentMinH&&(this.spBg.node.height=this.textHeight+this.offsetDown+this.offsetUp),this.rtContent.node.y=(this.offsetDown-this.offsetUp)/2,this.btnClose.node.active=this.isClose,this.isOutClose?a.ComUI.addMask(this.node,this.spBg.node):a.ComUI.addMask(this.node)},e.prototype.initButton=function(){if(!1===this.isHideMenu){if(null===this.cb2?(this.btnCancel.node.active=!1,this.btnSure.node.x=0,this.btnSure.node.active=!0,this.setButtonStyle(this.btnSure,this.mBtnCfgArr[0],!0)):(this.btnCancel.node.active=!0,this.btnSure.node.active=!0),this.btnCancel){var t=this.btnCancel.getComponentInChildren(cc.Label);t&&(t.language=c.ComUtils.getLang(l.LangKey.text_cancel)),this.setButtonStyle(this.btnCancel,this.mBtnCfgArr[0],!0)}if(this.btnSure){var e=this.btnSure.getComponentInChildren(cc.Label);e&&(e.language=c.ComUtils.getLang(l.LangKey.text_ok)),this.setButtonStyle(this.btnSure,this.mBtnCfgArr[1],!0)}this.setVerticalOffset()}},e.prototype.setButtonStyle=function(t,e,n){if(null!=t&&null!=e){var o=a.ComUI.getBtnStyle(e.style),i=e.text,r=t.getComponentInChildren(cc.Label),s=t.node.getChildByName("Background");if(r){i&&(r.string=i),o&&(r.node.color=(new cc.Color).fromHEX(o.textColor));var c=r.getComponent(cc.LabelOutline);c&&(c.color=(new cc.Color).fromHEX(o.outlineColor));var l=r.getComponent(cc.LabelShadow);l&&(l.color=(new cc.Color).fromHEX(o.outlineColor))}if(s){var u=n?o.iconLong:o.icon,d=this.pSpriteAtlas.getSpriteFrame(u);if(d){var p=s.getComponent(cc.Sprite);p&&(p.spriteFrame=d)}}}},e.prototype.onCancelMenu=function(){this.cb1&&this.cb1(null),this.canClose1&&this.node.destroy()},e.prototype.onSureMenu=function(){this.cb2?(this.cb2(null),this.canClose2&&this.node.destroy()):(this.cb1&&this.cb1(null),this.canClose1&&this.node.destroy())},e.prototype.initSubNode=function(){this.subNode&&this.spBg.node.addChild(this.subNode)},e.prototype.onCloseMenu=function(){this.closeCb&&this.closeCb(),this.node.destroy()},r([f(cc.SpriteAtlas)],e.prototype,"pSpriteAtlas",void 0),r([f(cc.Sprite)],e.prototype,"spBg",void 0),r([f(cc.Node)],e.prototype,"titleNode",void 0),r([f(cc.Label)],e.prototype,"txtTitle",void 0),r([f(cc.Button)],e.prototype,"btnClose",void 0),r([f(cc.Sprite)],e.prototype,"spSubBg",void 0),r([f(cc.RichText)],e.prototype,"rtContent",void 0),r([f(cc.Button)],e.prototype,"btnCancel",void 0),r([f(cc.Button)],e.prototype,"btnSure",void 0),r([f(cc.String)],e.prototype,"textFmt",void 0),r([f(cc.String)],e.prototype,"warnFmt",void 0),r([h],e)}(s.CxComponent);n.default=g,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../../lib/base/Language":"Language","../../../lib/utils/ComUtils":"ComUtils","../../const/Global":"Global","../../language/LanguageCfg":"LanguageCfg","./../../view/ComUI":"ComUI"}],ComDropEntry:[function(t,e,n){"use strict";cc._RF.push(e,"1a2b2zXN3NHOaog/epXmyIq","ComDropEntry");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.ComDroupEntry=void 0;var a=t("../../../lib/base/CxComponent"),s=t("../../event/GuiEvent"),c=t("./ComDropSwitch"),l=cc._decorator,u=l.ccclass,d=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pfSwitch=null,e}return i(e,t),e.prototype.listEvent=function(){return new Map([[s.GuiEvent.UI.COM_DROP_TOUCH_BEGAN_MISS,this.onTouchBeganMiss]])},e.prototype.init=function(t){var e=t.root.anchorX,n=t.root.anchorY;this.node.anchorX=e,this.node.anchorY=n,this.node.width=t.size.width,this.node.height=t.size.height;for(var o=0;o<t.list.length;o++){var i=cc.instantiate(this.pfSwitch),r=i.getComponent(c.ComDropSwitch);r||(r=i.addComponent(c.ComDropSwitch)),r.init(t.list[o]),this.node.addChild(i)}},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.addTouchEvent(),this.onTouchBeganMiss()},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),this.removeTouchEvent()},e.prototype.addTouchEvent=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchBegan,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMoved,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},e.prototype.removeTouchEvent=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchBegan,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMoved,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},e.prototype.onTouchBegan=function(t){var e=t.getLocation();this.dispatch(s.GuiEvent.UI.COM_DROP_TOUCH_BEGAN,e)},e.prototype.onTouchMoved=function(){},e.prototype.onTouchEnd=function(){},e.prototype.onTouchCancel=function(){},e.prototype.onTouchBeganMiss=function(){this.node._touchListener&&this.node._touchListener.setSwallowTouches(!1)},r([d(cc.Prefab)],e.prototype,"pfSwitch",void 0),r([u],e)}(a.CxComponent);n.ComDroupEntry=p,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../event/GuiEvent":"GuiEvent","./ComDropSwitch":"ComDropSwitch"}],ComDropItem:[function(t,e,n){"use strict";cc._RF.push(e,"4b04a6rtgFDuKC42x+5/vm4","ComDropItem");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.ComDropItem=void 0;var a=t("../../../lib/base/CxComponent"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgContent=null,e.txtContent=null,e.colorWhite=cc.color(255,255,255),e.colorYellow=cc.color(136,98,49),e}return i(e,t),e.prototype.init=function(t,e,n){t%2==0&&(this.bgContent.node.color=this.colorWhite),this.txtContent.string=e,this.node.x=this.node.getComponent(cc.Widget).left,this.node.y=-(2+(t+1)*(n.height-8)),this.node.width=n.width-31,this.node.height=n.height-8},e.prototype.reset=function(t){this.txtContent.string=t},r([l(cc.Sprite)],e.prototype,"bgContent",void 0),r([l(cc.Label)],e.prototype,"txtContent",void 0),r([c],e)}(a.CxComponent);n.ComDropItem=u,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent"}],ComDropSwitch:[function(t,e,n){"use strict";cc._RF.push(e,"0f655k67ZlIy5cczQqDgmvh","ComDropSwitch");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.ComDropSwitch=void 0;var a=t("../../../lib/base/CxComponent"),s=t("../../../lib/utils/ComUtils"),c=t("../../event/GuiEvent"),l=t("../../view/ComUI"),u=t("./ComDropItem"),d=cc._decorator,p=d.ccclass,h=d.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pfItem=null,e.bgCurrent=null,e.spArrow=null,e.txtCurrent=null,e.bgNextList=null,e.delayLock=!0,e.lockTime=1e3,e.isTouchStartIn=!1,e.mCurIndex=0,e.mSwitchListData=null,e.mDropItemList=[],e}return i(e,t),e.prototype.listEvent=function(){return new Map([[c.GuiEvent.UI.COM_DROP_TOUCH_BEGAN,this.onTouchBegan]])},e.prototype.init=function(t){this.mTag=t.tag,this.mCurIndex=t.defIndex||0,this.mSwitchListData=this.parseData(t.options);var e=t.root;this.node.parent=e,this.node.zIndex=100,null!=t.size&&(this.bgCurrent.node.width=t.size.width,this.bgCurrent.node.height=t.size.height),this.bgCurrentSize=this.bgCurrent.node.getContentSize(),this.bgCurrent.node.position=t.pos},e.prototype.parseData=function(t){for(var e=s.ComUtils.clone(t),n=0;n<e.length;n++){var o=e[n];if(null==o.order){o.order=[],o.order.push(o.index);for(var i=0;i<e.length;i++){var r=e[i];r.index!=o.index&&o.order.push(r.index)}}}return e},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.initUI()},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this)},e.prototype.initUI=function(){this.mSwitchListData.length>0&&(this.txtCurrent.string=this.mSwitchListData[0].text);for(var t=1;t<this.mSwitchListData.length;t++){var e=cc.instantiate(this.pfItem),n=e.getComponent(u.ComDropItem);n||(n=e.addComponent(u.ComDropItem)),n.init(t,this.mSwitchListData[t].text,this.bgCurrentSize),this.bgNextList.node.addChild(e),this.mDropItemList.push(n)}},e.prototype.resetContent=function(){this.txtCurrent.string=this.mSwitchListData[this.mCurIndex].text;for(var t=0;t<this.mDropItemList.length;t++){var e=this.getIndexByIdx(t+1);this.mDropItemList[t].reset(this.mSwitchListData[e].text)}},e.prototype.getIndexByIdx=function(t){return this.mSwitchListData[this.mCurIndex].order[t]},e.prototype.onTouchBegan=function(t){this.isTouchStartIn=!1;var e=t,n=this.bgCurrent.node.convertToWorldSpaceAR(cc.Vec2.ZERO);if(cc.rect(n.x,n.y,this.bgCurrent.node.width,this.bgCurrent.node.height).contains(e)&&(this.delayLock?(this.bgNextList.node.active=!this.bgNextList.node.active,this.isTouchStartIn=!0):l.ComUI.showToast("Don't switch too often",1)),this.bgNextList.node.active)for(var o=0;o<this.mDropItemList.length;o++){var i=this.mDropItemList[o].node.convertToWorldSpaceAR(cc.Vec2.ZERO);cc.rect(i.x,i.y,this.mDropItemList[o].node.width,this.mDropItemList[o].node.height).contains(e)&&(this.onOtherDateSelect(o),this.isTouchStartIn=!0,this.bgNextList.node.active=!1)}this.isTouchStartIn||(this.bgNextList.node.active=!1,this.dispatch(c.GuiEvent.UI.COM_DROP_TOUCH_BEGAN_MISS))},e.prototype.onOtherDateSelect=function(t){if(this.delayLock){var e=this.getIndexByIdx(t+1);this.mCurIndex=e,this.resetContent(),this.dispatch(c.GuiEvent.UI.COM_DROP_CLICK_INDEX,{tag:this.mTag,index:this.mCurIndex}),s.ComUtils.delayLimit(this,this.lockTime)}},r([h(cc.Prefab)],e.prototype,"pfItem",void 0),r([h(cc.Sprite)],e.prototype,"bgCurrent",void 0),r([h(cc.Sprite)],e.prototype,"spArrow",void 0),r([h(cc.Label)],e.prototype,"txtCurrent",void 0),r([h(cc.Sprite)],e.prototype,"bgNextList",void 0),r([p],e)}(a.CxComponent);n.ComDropSwitch=f,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../../lib/utils/ComUtils":"ComUtils","../../event/GuiEvent":"GuiEvent","../../view/ComUI":"ComUI","./ComDropItem":"ComDropItem"}],ComFunctions:[function(t,e,n){"use strict";cc._RF.push(e,"bc3193G37RHD6g1Fv1syXr9","ComFunctions"),Object.defineProperty(n,"__esModule",{value:!0}),n.ComFunctions=void 0;var o=t("../../lib/base/PopUpLogic"),i=t("../../lib/event/EventDispatcher"),r=t("../../lib/utils/ComUtils"),a=t("../event/GuiEvent"),s=t("../event/Notify"),c=t("../model/DataProxy"),l=t("../module/match/GameMatchManager"),u=function(){function t(){}return t.performWithDelay=function(t,e,n){t&&e&&cc.tween(t).delay(n).call(function(){e&&e()}).start()},t.schedule=function(t,e,n){t&&e&&cc.tween(t).repeatForever(cc.tween(t).delay(n).call(function(){e&&e()})).start()},t.parseTableReward=function(t){var e=new Array;return t&&t.forEach(function(t){var n={};if(n.dwNum=t.dwNum,n.dwType=t.dwType,n.bNew=t.bNew,n.dwMaxNum=0,t.strExData&&t.strExData.length>0){var o=r.ComUtils.u8ToUTF8Str(t.strExData);if(!r.ComUtils.isTextEmpty(o)){var i=JSON.parse(o);i&&(n.dwMaxNum=i.maxnum||0)}}e.push(n)}),e},t.parseChipArray=function(t){var e=Array();return t&&t.forEach(function(t){var n={};n.dwPieceId=t.dwPieceId,n.dwStar=t.dwStar,n.bNew=t.bNew,n.dwTableId=t.dwTableId,e.push(n)}),e},t.isUnlock=function(t){var e=c.DataProxy.getInstance().userData.level;return c.DataProxy.getInstance().otherData.isUnlock(t,e)},t.isBankRupt=function(){return!(c.DataProxy.getInstance().userData.gold>=c.DataProxy.getInstance().otherData.bankruptCfg.dwGoldLimit)},t.GoldHelpByGameId=function(){console.info("\u7834\u4ea7\u793c\u5305\u7528\u5b8c\u4e86,\u5f39\u8ba1\u8d39\u70b9");var t=null,e=c.DataProxy.getInstance().comData.isInGame();e?t=l.GameMatchManager.getSaveGameId():0==(t=c.DataProxy.getInstance().comData.getLastClickGame())&&(t=l.GameMatchManager.getSaveGameId());var n=c.DataProxy.getInstance().configData.getGameConfigByGameId(t);i.EventDispatcher.getInstance().dispatch(s.Notify.Game.REMATCH_BTN_CLIKCABLE),e?o.PopUpLogic.getInstance().canAutoPopByName(a.GuiEvent.PopMsg.DISPLAY_GOLD_HELP)&&i.EventDispatcher.getInstance().dispatch(a.GuiEvent.PopMsg.DISPLAY_GOLD_HELP,{autoPop:!0,data:{canMatchGame:!1,gameConfig:n}}):i.EventDispatcher.getInstance().dispatch(a.GuiEvent.PopMsg.DISPLAY_GOLD_HELP,{canMatchGame:!1,gameConfig:n})},t}();n.ComFunctions=u,cc._RF.pop()},{"../../lib/base/PopUpLogic":"PopUpLogic","../../lib/event/EventDispatcher":"EventDispatcher","../../lib/utils/ComUtils":"ComUtils","../event/GuiEvent":"GuiEvent","../event/Notify":"Notify","../model/DataProxy":"DataProxy","../module/match/GameMatchManager":"GameMatchManager"}],ComGoldInfo:[function(t,e,n){"use strict";cc._RF.push(e,"2fb59N7U5pFVIXz9zZG7P0M","ComGoldInfo");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../script/app/event/Notify"),s=t("../../../../script/lib/base/CxComponent"),c=t("../../../../script/lib/utils/ComUtils"),l=t("../../const/Global"),u=t("../../model/DataProxy"),d=t("../../event/GuiEvent"),p=cc._decorator,h=p.ccclass,f=p.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pGoldLabel=null,e.pGoldIcon=null,e.pProgressBar=null,e}return i(e,t),e.prototype.start=function(){this.initGoldInfo()},e.prototype.listEvent=function(){return new Map([[a.Notify.Base.UPDATE_CURRENCY,this.initGoldInfo],[a.Notify.Base.UPDATE_USERINFO,this.initGoldInfo],[a.Notify.UserInfo.UPDATE_USER_GOLD,this.initGoldInfo],[d.GuiEvent.Anim.AWARD_GET_ICON_POS,this.onPutAwardPosInfo]])},e.prototype.initGoldInfo=function(){var t=u.DataProxy.getInstance().userData.gold;if(null!=t){var e=c.ComUtils.formatGoldStr(t);this.pGoldLabel&&(this.pGoldLabel.string=e)}this.pProgressBar&&(this.pProgressBar.progress=t/1)},e.prototype.onClick=function(){this.dispatch(d.GuiEvent.PopMsg.DISPLAY_SHOP_LAYER,{tag:l.gShopBuyGroup.GOLD_GROUP})},e.prototype.onPutAwardPosInfo=function(){this.pGoldIcon&&this.dispatch(d.GuiEvent.Anim.AWARD_PUT_ICON_POS,{tPos:this.pGoldIcon.parent.convertToWorldSpaceAR(cc.v2(this.pGoldIcon.x,this.pGoldIcon.y)),node:this.pGoldIcon.parent.parent})},r([f(cc.Label)],e.prototype,"pGoldLabel",void 0),r([f(cc.Node)],e.prototype,"pGoldIcon",void 0),r([f(cc.ProgressBar)],e.prototype,"pProgressBar",void 0),r([h],e)}(s.CxComponent);n.default=g,cc._RF.pop()},{"../../../../script/app/event/Notify":"Notify","../../../../script/lib/base/CxComponent":"CxComponent","../../../../script/lib/utils/ComUtils":"ComUtils","../../const/Global":"Global","../../event/GuiEvent":"GuiEvent","../../model/DataProxy":"DataProxy"}],ComHead:[function(t,e,n){"use strict";cc._RF.push(e,"699d89FdOdOt4MOP06/EhQx","ComHead");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.ComHead=void 0;var a=t("../../../lib/base/CxComponent"),s=t("../../const/Global"),c=t("../../view/rank/RankInfo"),l=cc._decorator,u=l.ccclass,d=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.atlas=null,e.mask=null,e.spKuangGold=null,e.spKuangWhite=null,e.spHead=null,e.spHeadBg=null,e.labLevel=null,e.spAtlRankHead=null,e.spRankLv=null,e.spRankLvNum=null,e.strPath="",e.mGender=0,e}return i(e,t),e.prototype.getHeadSize=function(){return this.node.getContentSize()},e.prototype.setHeadScale=function(t){this.node.scale=t},e.prototype.setHeadSize=function(t){var e=this.getHeadSize(),n=t.width/e.width,o=t.height/e.height;this.node.scaleX=n,this.node.scaleY=o},e.prototype.setHeadKuang=function(t){this.spKuangWhite.node.active=0===t,this.spKuangGold.node.active=0!==t},e.prototype.setSelect=function(t){this.spKuangGold&&(this.spKuangGold.node.active=t),this.spKuangWhite&&(this.spKuangWhite.node.active=!t)},e.prototype.setDefaultHead=function(t){var e=t.faceId||0,n=t.sex||s.Gender.BOY;if(e>0){var o=this.getFaceIcon(e),i=this.atlas.getSpriteFrame(o);i&&(this.spHead.spriteFrame=i)}else this.defaultHead(n)},e.prototype.defaultHead=function(t){this.mGender=s.Gender.UNKNOW===t?s.Gender.BOY:t;var e=this.getDefaultIcon(this.mGender);this.spHead.spriteFrame=this.atlas.getSpriteFrame(e),this.updateMaterial(0)},e.prototype.getFaceIcon=function(t){return"com_head_icon_"+t},e.prototype.getDefaultIcon=function(t){return t==s.Gender.GIRL?"com_head_icon_1":"com_head_icon_2"},e.prototype.updateHead=function(t){void 0!==t&&cc.isValid(this.node&&this.spHead)&&(this.spHead.spriteFrame=new cc.SpriteFrame(t),this.updateMaterial(1))},e.prototype.setRobotHead=function(){this.spHead.spriteFrame=this.atlas.getSpriteFrame("com_head_robot")},e.prototype.setLevel=function(t){null!=t&&null!=t&&t>=0?(this.labLevel.string=""+t,this.labLevel.node.parent.active=!0):this.labLevel.node.parent.active=!1},e.prototype.setHeadBgVisible=function(t){this.spHeadBg&&(this.spHeadBg.node.active=t)},e.prototype.setRankLevel=function(t,e){if(this.spRankLv&&this.spRankLvNum)if(t&&t&&0!=e&&0!=e){this.spRankLv.node.active=!0;var n="rank_lv_"+c.default.rankName[t-1];this.spAtlRankHead&&this.spAtlRankHead.getSpriteFrame(n)&&(this.spRankLv.spriteFrame=this.spAtlRankHead.getSpriteFrame(n));var o="rank_num_"+c.default.rankName[t-1]+"_"+e;this.spAtlRankHead&&this.spAtlRankHead.getSpriteFrame(o)&&(this.spRankLvNum.spriteFrame=this.spAtlRankHead.getSpriteFrame(o))}else this.spRankLv.node.active=!1},e.prototype.updateMaterial=function(t){1==t?(this.setMaskEnable(!1),this.changeMaterial(1)):(this.setMaskEnable(!1),this.changeMaterial(0))},e.prototype.setMaskEnable=function(t){this.mask&&(this.mask.enabled=t)},e.prototype.changeMaterial=function(t){if(this.spHead){var e=this.spHead.getMaterial(t);e&&this.spHead.setMaterial(0,e)}},r([d(cc.SpriteAtlas)],e.prototype,"atlas",void 0),r([d(cc.Mask)],e.prototype,"mask",void 0),r([d(cc.Sprite)],e.prototype,"spKuangGold",void 0),r([d(cc.Sprite)],e.prototype,"spKuangWhite",void 0),r([d(cc.Sprite)],e.prototype,"spHead",void 0),r([d(cc.Sprite)],e.prototype,"spHeadBg",void 0),r([d(cc.Label)],e.prototype,"labLevel",void 0),r([d(cc.SpriteAtlas)],e.prototype,"spAtlRankHead",void 0),r([d(cc.Sprite)],e.prototype,"spRankLv",void 0),r([d(cc.Sprite)],e.prototype,"spRankLvNum",void 0),r([u],e)}(a.CxComponent);n.ComHead=p,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../const/Global":"Global","../../view/rank/RankInfo":"RankInfo"}],ComListView:[function(t,e,n){"use strict";cc._RF.push(e,"c47427glhhCjJmDd0W5Jfk0","ComListView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.ComListView=void 0;var a=t("../../../lib/base/CxComponent"),s=t("../../../lib/event/EventDispatcher"),c=t("../../event/Notify"),l=t("../../view/ComFunctions"),u=cc._decorator,d=u.ccclass,p=(u.property,u.menu),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mScrollView=null,e.mContent=null,e.mItemPrefab=null,e.mItemClass=null,e.mDataList=null,e.mDataEx=null,e.mSpace=0,e.mTop=0,e.mBottom=0,e.mCreateInterval=0,e.mScrollToIndex=0,e.prefabCellWidth=0,e.prefabCellHeight=0,e.lastContentPosX=0,e.lastContentPosY=0,e._showZone=0,e._cellSize=0,e.rowAllNum=0,e.rowItemCounts=0,e.rowCacheNum=0,e.itemViewList=new Array,e._isUpdate=!1,e.updateTimer=0,e.updateInterval=0,e._createFinished=!1,e}var n;return i(e,t),n=e,e.prototype.initParams=function(t){this.mScrollView=t.scrollView,this.mContent=t.content,this.mItemPrefab=t.itemPrefab,this.mItemClass=t.itemClass,this.mDataList=t.dataList||[],this.mDataEx=t.dataEx,this.mSpace=t.space||0,this.mTop=t.top||0,this.mBottom=t.bottom||0,this.mCreateInterval=t.createInterval||0,this.mScrollToIndex=t.scrollToIndex||0},e.prototype.resetListData=function(t){this.mDataList=t||[],cc.log("\u91cd\u7f6e\u5217\u8868\u6570\u636e",this.mDataList)},e.prototype.resetExterndData=function(t){this.mDataEx=t,cc.log("\u91cd\u7f6e\u6269\u5c55\u6570\u636e",this.mDataEx)},e.prototype.initScrollView=function(t){void 0===t&&(t=!1),this.initListData(),t?this.initItemListImme(this.mScrollToIndex):this.initItemList()},e.prototype.initListData=function(){this.mItemPrefab instanceof cc.Prefab?(this.prefabCellWidth=this.mItemPrefab.data.width,this.prefabCellHeight=this.mItemPrefab.data.height):this.mItemPrefab instanceof cc.Node&&(this.prefabCellWidth=this.mItemPrefab.width,this.prefabCellHeight=this.mItemPrefab.height),this.mScrollView.vertical?(this._showZone=this.mScrollView.node.height,this._cellSize=this.prefabCellHeight,this.rowItemCounts=Math.ceil(this._showZone/(this._cellSize+this.mSpace))):(this._showZone=this.mScrollView.node.width,this._cellSize=this.prefabCellWidth,this.rowItemCounts=Math.ceil(this._showZone/(this._cellSize+this.mSpace))),this.rowAllNum=this.mDataList.length,this.rowCacheNum=this.rowItemCounts+n.CachesNum,this.mScrollView.node.on("scrolling",this.scrolling.bind(this),this),this.mScrollView.node.on("scroll-ended",this.scrollEnded.bind(this),this)},e.prototype.initItemList=function(){var t=this;if(this._isUpdate=!1,this.clearItem(),this.mContent.removeComponent(cc.Layout),this.mItemPrefab&&this.mDataList&&this.mItemClass){for(var e=function(e){l.ComFunctions.performWithDelay(n.node,function(){t.createItem(e,t.mDataList[e]),e==t.rowCacheNum-1&&(t._createFinished=!0,t.ScrollTo(t.mScrollToIndex,.1*t.mScrollToIndex))},n.mCreateInterval*e)},n=this,o=0;o<this.rowCacheNum;o++)e(o);this.mScrollView.vertical?this.mContent.height=this.rowAllNum*(this.prefabCellHeight+this.mSpace)+this.mTop+this.mBottom:this.mContent.width=this.rowAllNum*(this.prefabCellWidth+this.mSpace)+this.mTop+this.mBottom}},e.prototype.initItemListImme=function(t){var e=this;void 0===t&&(t=0),this._isUpdate=!1,this.clearItem(),this.mContent.removeComponent(cc.Layout),t<=0?t=0:t>this.mDataList.length-this.rowCacheNum&&(t=this.mDataList.length-this.rowCacheNum);var n=this.mDataList.slice(t,this.mDataList.length);if(this.mItemPrefab&&n&&this.mItemClass){for(var o=function(o){l.ComFunctions.performWithDelay(i.node,function(){e.createItem(o+t,n[o]),o==e.rowCacheNum-1&&(e._createFinished=!0,e.ScrollTo(e.mScrollToIndex,0),e.mScrollView.scrollToOffset(new cc.Vec2(0,e.calScrollOffset(t))))},i.mCreateInterval*o)},i=this,r=0;r<this.rowCacheNum;r++)o(r);this.mScrollView.vertical?this.mContent.height=this.rowAllNum*(this.prefabCellHeight+this.mSpace)+this.mTop+this.mBottom:this.mContent.width=this.rowAllNum*(this.prefabCellWidth+this.mSpace)+this.mTop+this.mBottom}},e.prototype.createItem=function(t,e){var n=this.itemViewList[t];if(e){n||(n=cc.instantiate(this.mItemPrefab),this.mContent&&(this.mContent.addChild(n,t),this.itemViewList.push(n))),n.active=!0;var o=n.getComponent(this.mItemClass);o&&o.updateItem&&o.updateItem(t,e,this.mDataEx),n.__itemID=t,n.x=0,n.y=-t*(this._cellSize+this.mSpace)-(this._cellSize+this.mSpace)/2-this.mTop}},e.prototype.getPositionInView=function(t){var e=t.parent.convertToWorldSpaceAR(t.position);return this.mScrollView.node.convertToNodeSpaceAR(e)},e.prototype.calScrollOffset=function(t){return 0==t?0:this.mTop+(this.mItemPrefab.data.height+this.mSpace)*t},e.prototype.ScrollTo=function(t,e){void 0===e&&(e=0);var n=0;this.mItemPrefab instanceof cc.Prefab?n=this.mItemPrefab.data.height:this.mItemPrefab instanceof cc.Node&&(n=this.mItemPrefab.height);var o=0==t?0:this.mTop+(n+this.mSpace)*t;if(-1===e)if(this.itemViewList[0]){var i=this.itemViewList[0];e=i.__itemID?.1*i.__itemID:.1*this.mDataList.length}else e=.1*this.mDataList.length;this.mScrollView.stopAutoScroll(),this.mScrollView.scrollToOffset(new cc.Vec2(0,o),e+.1),this.scrolling(),s.EventDispatcher.getInstance().dispatch(c.Notify.Ranking.TO_INDEX)},e.prototype.calScrollDistance=function(t,e,n){void 0===n&&(n=3);var o=0;return e>=n&&(o=(e-1)*t),o},e.prototype.scrolling=function(){this._isUpdate=!0},e.prototype.scrollEnded=function(){var t=this;l.ComFunctions.performWithDelay(this.node,function(){t._isUpdate=!1},.1*this.mDataList.length)},e.prototype.update=function(t){if(this._isUpdate&&this.itemViewList&&this.mScrollView&&this._createFinished&&(this.updateTimer+=t,!(this.updateTimer<this.updateInterval))){this.updateTimer=0;var e=this.itemViewList,n=this._showZone;if(this.mScrollView.vertical){for(var o=this.mScrollView.content.y<this.lastContentPosY,i=(this._cellSize+this.mSpace)*this.rowCacheNum,r=0;r<this.rowCacheNum;r++){var a=e[r];if(cc.isValid(a)){var s=this.getPositionInView(e[r]);if(o){var c=n*(0-this.mScrollView.node.anchorY);if(s.y+(this._cellSize+this.mSpace)/2<c){if((p=a.__itemID-this.rowCacheNum)<0)continue;a.__itemID=p;var l=this.mDataList[p];a.y=a.y+i,a.zIndex=p,(h=a.getComponent(this.mItemClass))&&h.updateItem&&l&&h.updateItem(p,l,this.mDataEx)}}else{var u=n*(1-this.mScrollView.node.anchorY);if(s.y-(this._cellSize+this.mSpace)/2>u){if((p=a.__itemID+this.rowCacheNum)>=this.rowAllNum)continue;a.__itemID=p,l=this.mDataList[p],a.y=a.y-i,a.zIndex=p,(h=a.getComponent(this.mItemClass))&&h.updateItem&&l&&h.updateItem(p,l,this.mDataEx)}}}}this.lastContentPosY=this.mScrollView.content.y}else{var d=this.mScrollView.content.x<this.lastContentPosX;for(i=(this._cellSize+this.mSpace)*this.rowCacheNum,r=0;r<this.rowCacheNum;r++)if(a=this.itemViewList[r])if(s=this.getPositionInView(a),d){if(s.x-(this._cellSize+this.mSpace)/2<=-i/2){if((p=a.__itemID-this.rowCacheNum)<0)continue;a.__itemID=p,l=this.mDataList[p],a.x=a.x+i,(h=a.getComponent(this.mItemClass))&&h.updateItem&&l&&h.updateItem(p,l,this.mDataEx)}}else if(s.x+(this._cellSize+this.mSpace)/2>=i/2){var p,h;if((p=a.__itemID+this.rowCacheNum)>=this.rowAllNum)continue;a.__itemID=p,l=this.mDataList[p],a.x=a.x-i,(h=a.getComponent(this.mItemClass))&&h.updateItem&&l&&h.updateItem(p,l,this.mDataEx)}this.lastContentPosX=this.mScrollView.content.x}}},e.prototype.handleUpdateOpacity=function(){if(this.mContent&&this.mScrollView)for(var t=cc.rect(-this.mScrollView.node.width/2,-this.mContent.y-this.mContent.height/2,this.mScrollView.node.width,this.mScrollView.node.height),e=0;e<this.mContent.children.length;e++){var n=this.mContent.children[e];if(n){var o=n.getBoundingBox();t.intersects(o)?n.opacity=255:n.opacity=0}}},e.prototype.clearItem=function(){this.itemViewList.forEach(function(t){t.active=!1})},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),this.itemViewList=[]},e.CachesNum=1,n=r([d,p("\u81ea\u5b9a\u4e49/ComListView")],e)}(a.CxComponent);n.ComListView=h,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../../lib/event/EventDispatcher":"EventDispatcher","../../event/Notify":"Notify","../../view/ComFunctions":"ComFunctions"}],ComLoadingRes:[function(t,e,n){"use strict";cc._RF.push(e,"8a35ftNSZdKD5UMLWKi/u4J","ComLoadingRes");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.ComLoadingRes=void 0;var a=t("./../../../lib/event/EventDispatcher"),s=t("../../../lib/base/CxComponent"),c=t("../../../lib/manager/ResManager"),l=t("../../../lib/utils/Logger"),u=t("../../event/Notify"),d=cc._decorator,p=d.ccclass,h=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loaders=new Map,e}return i(e,t),e.prototype.listEvent=function(){return new Map([[u.Notify.Base.LOAD_RES_START,this.onLoadResStart]])},e.prototype.onLoadResStart=function(t){if(t&&t.name&&t.config){var e=this.loaders.get(t.name);e?e.clear():(e=new f(t.name),this.loaders.set(t.name,e)),e.setProcessCB(this.onLoadProcess.bind(this)),e.setFinishCB(this.onLoadFinish.bind(this)),e.startLoad(t)}},e.prototype.onLoadProcess=function(){},e.prototype.onLoadFinish=function(t,e,n){n&&(e?a.EventDispatcher.getInstance().dispatch(u.Notify.Base.LOAD_RES_FINISH,n):a.EventDispatcher.getInstance().dispatch(u.Notify.Base.LOAD_RES_FAILUE,n)),this.loaders.delete(t.name)},r([p],e)}(s.CxComponent));n.ComLoadingRes=h;var f=function(){function t(t){this.name=t,this.completeCount=0,this.loadTotalCount=0,this.startLoadTime=0,this.timeOut=30,this.extParam=null,this.timeOutId=0}return t.prototype.setProcessCB=function(t){this.fnProcessCB=t},t.prototype.setFinishCB=function(t){this.fnFinishCB=t},t.prototype.clear=function(){this.stopTimeoutTimer(),this.extParam&&(this.extParam=null),this.loadTotalCount=0,this.completeCount=0,this.fnProcessCB=null,this.fnProcessCB=null},t.prototype.startTimeoutTimer=function(){this.stopTimeoutTimer(),this.timeOutId=setTimeout(this.loadFinish.bind(this),1e3*this.timeOut)},t.prototype.stopTimeoutTimer=function(){clearTimeout(this.timeOutId)},t.prototype.startLoad=function(t){var e=this;this.clear(),this.extParam=t;var n=t.config;if(!n||n==={})return l.Logger.warn("[ResLoader startLoad] name("+this.name+") config is empty"),void(this.fnFinishCB&&this.fnFinishCB(this,!1,null));n.forEach(function(t){t.prefab&&(e.loadTotalCount+=Object.keys(t.prefab).length),t.altas&&(e.loadTotalCount+=t.altas.length)}),this.startTimeoutTimer(),this.startLoadTime=Date.now();var o=c.default.getInstance();n.forEach(function(t,n){if(t.altas&&t.altas.length>0&&o.loadAtlasArray(t.altas,n,e.loadProgress.bind(e)),t.prefab){var i=null,r=t.prefab;for(var a in r)i=r[a],o.loadPrefab(i.path,n,e.loadProgress.bind(e))}})},t.prototype.loadProgress=function(t,e){t||(e&&Array.isArray(e)?this.completeCount+=e.length:this.completeCount++),this.fnProcessCB&&this.fnProcessCB(this,this.completeCount,this.loadTotalCount),this.completeCount==this.loadTotalCount&&this.loadFinish()},t.prototype.loadFinish=function(){Date.now(),this.completeCount<this.loadTotalCount?this.fnFinishCB&&this.fnFinishCB(this,!1,{params:this.extParam,totalCount:this.loadTotalCount,completeCount:this.completeCount}):this.fnFinishCB&&this.fnFinishCB(this,!0,this.extParam),this.clear()},t}();cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../../lib/manager/ResManager":"ResManager","../../../lib/utils/Logger":"Logger","../../event/Notify":"Notify","./../../../lib/event/EventDispatcher":"EventDispatcher"}],ComMoreListTest:[function(t,e,n){"use strict";cc._RF.push(e,"81112VOYNlH8KdcXgD4FKtA","ComMoreListTest");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../lib/base/CxComponent"),s=t("../../base/component/ComMoreListView"),c=t("../../event/Notify"),l=t("./Sprite1Test"),u=t("./Sprite2Test"),d=t("./Sprite3Test"),p=cc._decorator,h=p.ccclass,f=p.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mScrvList=null,e.mpre1=null,e.mpre2=null,e.mpre3=null,e.comListView=null,e}return i(e,t),e.prototype.listEvent=function(){return new Map([[c.Notify.Test.INIT_DATA,this.initData],[c.Notify.Test.SHOW_VIEW,this.show],[c.Notify.Test.CLOSE_DATA,this.clean]])},e.prototype.start=function(){this.comListView=this.node.getComponent(s.ComMoreListView),null==this.comListView&&(this.comListView=this.node.addComponent(s.ComMoreListView))},e.prototype.initData=function(){var t={scrollView:this.mScrvList,content:this.mScrvList.content,itemPrefabList:[this.mpre1,this.mpre2,this.mpre3],itemClassList:[l.default,u.default,d.default],dataList:[{preId:1,data:1},{preId:2,data:2},{preId:0,data:3},{preId:1,data:4},{preId:2,data:5},{preId:0,data:6},{preId:1,data:7},{preId:2,data:8},{preId:0,data:9},{preId:1,data:10},{preId:2,data:11},{preId:0,data:12},{preId:1,data:13},{preId:2,data:14},{preId:0,data:15}],space:25,dataEx:null,top:50,bottom:30};this.comListView.initParamsList(t)},e.prototype.show=function(){this.comListView.initScrollViewList()},e.prototype.clean=function(){this.comListView.clearItem()},r([f(cc.ScrollView)],e.prototype,"mScrvList",void 0),r([f(cc.Prefab)],e.prototype,"mpre1",void 0),r([f(cc.Prefab)],e.prototype,"mpre2",void 0),r([f(cc.Prefab)],e.prototype,"mpre3",void 0),r([h],e)}(a.CxComponent);n.default=g,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../base/component/ComMoreListView":"ComMoreListView","../../event/Notify":"Notify","./Sprite1Test":"Sprite1Test","./Sprite2Test":"Sprite2Test","./Sprite3Test":"Sprite3Test"}],ComMoreListView:[function(t,e,n){"use strict";cc._RF.push(e,"a9483Wzcs9GJ5l99/VFpzE/","ComMoreListView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.ComMoreListView=void 0;var a=t("../../../lib/base/CxComponent"),s=t("../../view/ComFunctions"),c=cc._decorator,l=c.ccclass,u=(c.property,c.menu),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mScrollView=null,e.mContent=null,e.mItemPrefabList=null,e.mItemClassList=null,e.mDataList=null,e.mDataEx=null,e.mSpace=0,e.mTop=0,e.mBottom=0,e.mCreateInterval=0,e.mScrollToIndex=0,e.showSize=0,e.prefabSizeList=[],e.prefabNodeList=[],e.mScrollWhere=null,e.lastContentPosY=0,e.rowAllNum=0,e.itemViewList=new Array,e._isUpdate=!1,e.updateTimer=0,e.updateInterval=0,e._createFinished=!1,e}var n;return i(e,t),n=e,e.prototype.initParamsList=function(t){this.mScrollView=t.scrollView,this.mContent=t.content,this.mItemPrefabList=t.itemPrefabList,this.mItemClassList=t.itemClassList,this.mDataList=t.dataList,this.mDataEx=t.dataEx,this.mSpace=t.space||0,this.mTop=t.top||0,this.mBottom=t.bottom||0,this.mCreateInterval=t.createInterval||0,this.mScrollToIndex=t.scrollToIndex||0,this.prefabSizeList=[];for(var e=0;e<this.mItemPrefabList.length;e++){var n=new Array;this.prefabNodeList.push(n)}this.lastContentPosY=this.mScrollView.content.y},e.prototype.resetListData=function(t){this.mDataList=t,cc.log("\u91cd\u7f6e\u5217\u8868\u6570\u636e",this.mDataList)},e.prototype.resetExterndData=function(t){this.mDataEx=t,cc.log("\u91cd\u7f6e\u6269\u5c55\u6570\u636e",this.mDataEx)},e.prototype.initScrollViewList=function(){this.initListDataList(),this.initItemList()},e.prototype.initListDataList=function(){var t=!1;if(this.mScrollView&&this.mScrollView.vertical){this.showSize=this.mScrollView.node.getChildByName("view").height,null==this.mScrollWhere&&(this.mScrollWhere=this.mScrollView.getContentPosition().y);var e=0;this.prefabSizeList=[];for(var n=0;n<this.mDataList.length;n++)0==n?e=this.mTop:e+=this.mSpace,this.prefabSizeList.push(e),e+=this.mItemPrefabList[this.mDataList[n].preId].data.height,this.prefabSizeList.push(e);e>this.showSize&&(t=!0)}else cc.log("\u4e0d\u5904\u7406\u6a2a\u7248");t&&(this.mScrollView.node.on("scrolling",this.scrolling.bind(this),this),this.mScrollView.node.on("scroll-ended",this.scrollEnded.bind(this),this))},e.prototype.initItemList=function(){var t=this;if(this.clearItem(),this.mItemPrefabList&&this.mDataList&&this.mItemClassList){var e=0,o=function(){var n=e;s.ComFunctions.performWithDelay(i.node,function(){t.createItem(n,t.mDataList[n].preId)},i.mCreateInterval*n),e++},i=this;do{o()}while(2*e<this.prefabSizeList.length&&this.prefabSizeList[2*e-1]<this.showSize);if(2*e<this.prefabSizeList.length)for(var r=function(o){s.ComFunctions.performWithDelay(a.node,function(){t.createItem(e+o,t.mDataList[e+o].preId),o==n.CachesNum-1&&(t._createFinished=!0,t.ScrollTo(t.mScrollToIndex))},a.mCreateInterval*(e+o))},a=this,c=0;c<n.CachesNum;c++)r(c);this.mScrollView.vertical&&(this.mContent.height=this.prefabSizeList[this.prefabSizeList.length-1]+this.mBottom)}},e.prototype.clearItem=function(){this.itemViewList.forEach(function(t){t.destroy()}),this.itemViewList=[]},e.prototype.createItem=function(t,e){var n=this.mDataList[t],o=this.itemViewList[t];if(o||(o=cc.instantiate(this.mItemPrefabList[e])),o&&n.data){var i=o.getComponent(this.mItemClassList[e]);i&&i.updateItem&&i.updateItem(t,n.data,this.mDataEx),o.__itemID=t,this.itemViewList.push(o),this.mContent&&this.mContent.addChild(o,t),o.x=0,o.y=-(this.prefabSizeList[2*t]+this.prefabSizeList[2*t+1])/2}},e.prototype.ScrollTo=function(t,e){var n=this;void 0===e&&(e=0);var o=0==t?0:this.prefabSizeList[2*t-1]+1;s.ComFunctions.performWithDelay(this.node,function(){n.mScrollView.scrollToOffset(new cc.Vec2(0,o),0,!1),n.scrolling()},e)},e.prototype.scrolling=function(){this._isUpdate=!0},e.prototype.scrollEnded=function(){var t=this;s.ComFunctions.performWithDelay(this.node,function(){t._isUpdate=!1},.5)},e.prototype.update=function(t){if(this._isUpdate&&this.itemViewList&&this.mScrollView&&this._createFinished&&(this.updateTimer+=t,!(this.updateTimer<this.updateInterval)&&(this.updateTimer=0,this.mScrollView.vertical))){if(this.mScrollView.content.y>this.lastContentPosY){if((c=this.itemViewList[this.itemViewList.length-1].__itemID)==this.mDataList.length-1)return;if(this.mScrollView.content.y-this.mScrollWhere+this.showSize>this.prefabSizeList[2*c])if(s=this.prefabNodeList[this.mDataList[c+1].preId].shift()){s.active=!0,s.__itemID=c+1,s.y=-(this.prefabSizeList[2*(c+1)]+this.prefabSizeList[2*(c+1)+1])/2;var e=this.mDataList[c+1].data;(a=s.getComponent(this.mItemClassList[this.mDataList[c+1].preId]))&&a.updateItem&&e&&a.updateItem(c+1,e,this.mDataEx),this.itemViewList.push(s)}else{var n=c+1,o=this.mDataList[n].preId;(a=(r=cc.instantiate(this.mItemPrefabList[o])).getComponent(this.mItemClassList[o]))&&a.updateItem&&a.updateItem(n,this.mDataList[n].data,this.mDataEx),r.__itemID=n,this.itemViewList.push(r),this.mContent&&this.mContent.addChild(r),r.x=0,r.y=-(this.prefabSizeList[2*n]+this.prefabSizeList[2*n+1])/2}var i=this.itemViewList[0].__itemID;this.mScrollView.content.y-this.mScrollWhere>this.prefabSizeList[2*i+1]&&((s=this.itemViewList.shift()).active=!1,this.prefabNodeList[this.mDataList[i].preId].push(s))}else{if(i=0,cc.isValid(this.itemViewList[0])&&this.itemViewList[0].__itemID&&(i=this.itemViewList[0].__itemID),0==i)return;if(this.mScrollView.content.y-this.mScrollWhere<=this.prefabSizeList[2*i])if(s=this.prefabNodeList[this.mDataList[i-1].preId].shift())s.active=!0,s.__itemID=i-1,s.y=-(this.prefabSizeList[2*(i-1)]+this.prefabSizeList[2*(i-1)+1])/2,e=this.mDataList[i-1].data,(a=s.getComponent(this.mItemClassList[this.mDataList[i-1].preId]))&&a.updateItem&&e&&a.updateItem(i-1,e,this.mDataEx),this.itemViewList.unshift(s);else{var r,a;n=i-1,o=this.mDataList[n].preId,(a=(r=cc.instantiate(this.mItemPrefabList[o])).getComponent(this.mItemClassList[o]))&&a.updateItem&&a.updateItem(n,this.mDataList[n].data,this.mDataEx),r.__itemID=n,this.itemViewList.unshift(r),this.mContent&&this.mContent.addChild(r),r.x=0,r.y=-(this.prefabSizeList[2*n]+this.prefabSizeList[2*n+1])/2}var s,c=this.itemViewList[this.itemViewList.length-1].__itemID;this.mScrollView.content.y-this.mScrollWhere+this.showSize<=this.prefabSizeList[2*c]&&((s=this.itemViewList.pop()).active=!1,this.prefabNodeList[this.mDataList[c].preId].push(s))}this.lastContentPosY=this.mScrollView.content.y}},e.CachesNum=1,n=r([l,u("\u81ea\u5b9a\u4e49/ComMoreListView")],e)}(a.CxComponent);n.ComMoreListView=d,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../view/ComFunctions":"ComFunctions"}],ComNotice:[function(t,e,n){"use strict";cc._RF.push(e,"02692NFWtxOUbhRLbUnk5Ol","ComNotice");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./../../../lib/base/ComPopup"),s=t("../../../lib/base/CxComponent"),c=cc._decorator,l=c.ccclass,u=c.property,d=c.requireComponent,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spBg=null,e.labTitle=null,e.scrollView=null,e.labRTText=null,e.labCenterText=null,e.paddingLR=36,e.paddingTop=90,e.paddingBottom=36,e}return i(e,t),e.prototype.init=function(t){this.bgSize=this.spBg.node.getContentSize();var e=new cc.Size(2*this.paddingLR,this.paddingTop+this.paddingBottom);t.size instanceof cc.Size&&(this.bgSize=t.size,this.spBg.node.setContentSize(this.bgSize),this.scrollView.node.setContentSize(new cc.Size(this.bgSize.width-e.width,this.bgSize.height-e.height))),t.title&&(this.labTitle.string=t.title),t.bCenter?(this.labCenterText.string=t.text,this.labRTText.node.active=!1):(this.labRTText.node.width=this.bgSize.width-e.width,this.labRTText.string=t.text,this.labCenterText.node.active=!1)},e.prototype.start=function(){this.labRTText.node.height>this.scrollView.node.height?this.scrollView.vertical=!0:this.scrollView.vertical=!1},r([u(cc.Sprite)],e.prototype,"spBg",void 0),r([u(cc.Label)],e.prototype,"labTitle",void 0),r([u(cc.ScrollView)],e.prototype,"scrollView",void 0),r([u(cc.Label)],e.prototype,"labRTText",void 0),r([u(cc.Label)],e.prototype,"labCenterText",void 0),r([l,d(a.ComPopup)],e)}(s.CxComponent);n.default=p,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","./../../../lib/base/ComPopup":"ComPopup"}],ComPopupMgr:[function(t,e,n){"use strict";cc._RF.push(e,"f11d2r6HotCsIAbqhhGWsjn","ComPopupMgr");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.ComPopupMgr=n.ViewOpenState=void 0;var a=t("./../../lib/utils/ComUtils"),s=t("../const/Global"),c=t("../event/Notify"),l=t("../config/ResourceUIConfig"),u=t("../event/GuiEvent"),d=t("../model/DataProxy"),p=t("../../lib/manager/PrefabItemMgr"),h=t("./BasePopupMr"),f=function(){function t(t){this.mScript="",this.mRet=!1,this.mScript=t,this.mRet=!1}return Object.defineProperty(t.prototype,"scriptName",{get:function(){return this.mScript},set:function(t){this.mScript=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"opened",{get:function(){return this.mRet},set:function(t){this.mRet=t},enumerable:!1,configurable:!0}),t}();n.ViewOpenState=f;var g=cc._decorator,_=g.ccclass,y=(g.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playGoldAnimTime=99999,e.playPowerAnimTime=99999,e}return i(e,t),e.prototype.listEvent=function(){return t.prototype.listEvent.call(this),new Map([[c.Notify.Base.CHECK_VIEW_IS_OPENED,this.onCheckViewIsOpened],[c.Notify.MatchGame.MATCH_VIEW,this.onMatchGame],[u.GuiEvent.PopMsg.DISPLAY_GOLD_HELP,this.onOpenGoldHelp],[u.GuiEvent.PopMsg.DISPLAY_BANKRUPT_GIFT,this.onOpenBankRuptGift],[u.GuiEvent.PopMsg.DISPLAY_RICH_LAYER,this.onOpenGoldRichLayer],[u.GuiEvent.PopMsg.DISPLAY_NOT_ENOUGH_LAYER,this.onOpenGoldNotEnoughLayer],[u.GuiEvent.PopMsg.DISPLAY_POWER_NOT_ENOUGH,this.onOpenPowerNotEnoughLayer],[u.GuiEvent.PopMsg.DISPLAY_POLICY_LAYER,this.onOpenPolicyLayer],[u.GuiEvent.PopMsg.DISPLAY_SHOP_SPECIAL_SALE,this.onOpenShopSpecialSale],[u.GuiEvent.PopMsg.DISPLAY_SHOP_LAYER,this.onOpenShop],[u.GuiEvent.PopMsg.DISPLAY_SHOP_BOX_LAYER,this.onOpenShopBoxLayer],[u.GuiEvent.PopMsg.DISPLAY_SHOP_BOX_DETAIL,this.onOpenShopBoxDetail],[u.GuiEvent.PopMsg.DISPLAY_INFO_DIALOG,this.onOpenUserLayer],[u.GuiEvent.PopMsg.DISPLAY_FIVE_STAR_LAYER,this.onOpenFiveStarLayer],[u.GuiEvent.PopMsg.DISPLAY_FIVE_STAR_EDITOR,this.onOpenFiveStaEditor],[u.GuiEvent.PopMsg.DISPLAY_DESK_BUILD_LAYER,this.onOpenDeskBuildLayer],[u.GuiEvent.Anim.COM_AWARD_ANIM,this.onPlayAwardAnim],[u.GuiEvent.Anim.COM_POWER_ANIM,this.onPlayPowerAnim],[u.GuiEvent.PopMsg.DISPLAY_DESK_BUILD_LAYER,this.onOpenDeskBuildLayer],[u.GuiEvent.PopMsg.DISPLAY_TABLE_PROGRESS,this.onShowTableProgress],[u.GuiEvent.PopMsg.DISPLAY_COMPLT_TABLE,this.onShowCompleteTable],[u.GuiEvent.PopMsg.DISPLAY_TABLE_GUIDE,this.onShowTableGuide],[u.GuiEvent.PopMsg.DISPLAY_GET_MORE_CHIPS_DLG,this.onGetMoreTableChips],[u.GuiEvent.PopMsg.DISPLAY_VIDEO_LOTTERY,this.onOpenVideoLottery],[u.GuiEvent.PopMsg.DISPLAY_LOTTERY_ODDS_LAYER,this.onOpenLotteryOddLayer],[u.GuiEvent.PopMsg.DISPLAY_BONUS,this.onOpenBonusDlg],[u.GuiEvent.PopMsg.DISPLAY_MISSION_BONUS,this.onOpenMissionBonusDlg],[u.GuiEvent.PopMsg.DISPLAY_BANKRUPT_BONUS,this.onOpenBankruptBonusDlg],[u.GuiEvent.PopMsg.DISPLAY_OUTTOKENS_BONUS,this.onOpenOutOfTokensBonusDlg],[u.GuiEvent.PopMsg.DISPLAY_GOLDEN_PASS_SHOP,this.onOpenGoldenPassShop],[u.GuiEvent.PopMsg.DISPLAY_GOLDEN_PASS_MIAN_VIEW,this.onOpenGoldenPassMianView],[u.GuiEvent.PopMsg.DISPLAY_GOLDEN_PASS_REWARD_PREVIEW,this.onOpenGoldenPassRewardPreview],[u.GuiEvent.PopMsg.DISPLAY_GOLDEN_PASS_DAILY_REWARD,this.onOpenGoldenPassDailyReward],[u.GuiEvent.PopMsg.DISPLAY_GOLDEN_PASS_BUY_SUCC,this.onGoldenPassBuySucc],[u.GuiEvent.PopMsg.DISPLAY_GOLDEN_PASS_SIMPLE_BUY,this.onGoldenPassSimpleBuyLayer],[u.GuiEvent.PopMsg.SHOW_TABLE_BOX_REWARD,this.onShowTableBoxReward],[u.GuiEvent.PopMsg.DISPLAY_HIT_BONUS,this.onOpenHitBonusDlg],[u.GuiEvent.PopMsg.DISPLAY_RULE_TIPS,this.onRuleHelp],[u.GuiEvent.PopMsg.DISPLAY_LEVEL_UP_LAYER,this.onShowLevelUp],[u.GuiEvent.PopMsg.DISPLAY_LEVEL_UNLOCK_LAYER,this.onShowLevelUnlock],[u.GuiEvent.PopMsg.DISPLAY_CARD_SKIN_GUIDE_LAYER,this.onShowCardSkinGuideLayer],[u.GuiEvent.PopMsg.DISPLAY_CARD_SKIN_CHANGE_LAYER,this.onShowCardSkinChangeLayer],[u.GuiEvent.PopMsg.DISPLAY_REVENEGE_LAYER,this.onShowRevenegeLayer],[u.GuiEvent.PopMsg.RANK_PROMOTION,this.onShowRankUp],[u.GuiEvent.PopMsg.RANK_REWARD,this.onShowReward],[u.GuiEvent.PopMsg.DSIPLAY_BOOST_GIFT,this.onOpenBoostGiftLayer]])},e.prototype.onOpenUserLayer=function(t){var e=l.ResourceUIConfig.popup.ComUserProfile;this.popupLoader.showPopup(e,s.gAssetBundleName.RESOURCES,t)},e.prototype.onOpenGoldHelp=function(t){if(!this.checkServerAutoPop(u.GuiEvent.PopMsg.DISPLAY_GOLD_HELP,t)){t||(t={});var e=d.DataProxy.getInstance();t.gold=e.userData.gold,t.bankruptCfg=e.otherData.bankruptCfg,t.tangKuangInfo=e.otherData.tangKuangInfo,t.specailSale=e.shopData.getGoodsByGroup(s.gShopBuyGroup.SPECIAL_SALE),t.goodsList=e.shopData.getGoodsByGroup(s.gShopBuyGroup.GOLD_GROUP);var n=l.ResourceUIConfig.popup.GoldNotEnoughLayer;this.popupLoader.showPopup(n,s.gAssetBundleName.RESOURCES,{msgData:t})}},e.prototype.onOpenBankRuptGift=function(t){if(!this.checkServerAutoPop(u.GuiEvent.PopMsg.DISPLAY_BANKRUPT_GIFT,t)){var e=l.ResourceUIConfig.popup.GoldBankRuptLayer;this.popupLoader.showPopup(e,s.gAssetBundleName.RESOURCES,t)}},e.prototype.onOpenGoldRichLayer=function(t){var e=l.ResourceUIConfig.popup.GoldRichLayer;this.popupLoader.showPopup(e,s.gAssetBundleName.RESOURCES,t)},e.prototype.onOpenGoldNotEnoughLayer=function(t){t||(t={});var e=d.DataProxy.getInstance();t.gold=e.userData.gold,t.goodsList=e.shopData.getGoodsByGroup(s.gShopBuyGroup.GOLD_GROUP);var n=l.ResourceUIConfig.popup.GoldNotEnoughLayer;this.popupLoader.showPopup(n,s.gAssetBundleName.RESOURCES,{msgData:t})},e.prototype.onOpenPowerNotEnoughLayer=function(t){t||(t={});var e=d.DataProxy.getInstance().shopData.getGoodsByGroup(s.gShopBuyGroup.POWER_GROUP);e&&(t.goodsInfo=e[0]),t.powerInfo=d.DataProxy.getInstance().userData.powerInfo;var n=l.ResourceUIConfig.popup.PowerNotEnoughBonusDlg;this.popupLoader.showPopup(n,s.gAssetBundleName.RESOURCES,t)},e.prototype.onOpenPolicyLayer=function(t){var e=l.ResourceUIConfig.popup.PolicyLayer;this.popupLoader.showPopup(e,s.gAssetBundleName.RESOURCES,t)},e.prototype.checkShopData=function(){var t=d.DataProxy.getInstance().shopData.getShopInfo();return t||this.dispatch(c.Notify.Shop.REQ_SHOP_BASE_INFO),t},e.prototype.onOpenShop=function(t){t||(t={}),t.shopInfo=this.checkShopData();var e=a.ComUtils.isLobbyScene()?l.ResourceUIConfig.popup.ShopLayer:l.ResourceUIConfig.popup.GameShopLayer;this.popupLoader.showPopup(e,s.gAssetBundleName.RESOURCES,t)},e.prototype.onOpenShopSpecialSale=function(t){if(d.DataProxy.getInstance().shopData.mMixGiftData.bIsTag&&!this.checkServerAutoPop(u.GuiEvent.PopMsg.DISPLAY_SHOP_SPECIAL_SALE,t)){var e=l.ResourceUIConfig.popup.ShopSpecialSale;this.popupLoader.showPopup(e,s.gAssetBundleName.RESOURCES)}},e.prototype.onOpenShopBoxLayer=function(t){var e=l.ResourceUIConfig.popup.ShopBoxLayer;this.popupLoader.showPopup(e,s.gAssetBundleName.RESOURCES,t)},e.prototype.onOpenShopBoxDetail=function(t){var e=l.ResourceUIConfig.popup.ShopBoxDetail;this.popupLoader.showPopup(e,s.gAssetBundleName.RESOURCES,t)},e.prototype.onOpenFiveStarLayer=function(t){if(t||(t={}),t.dwStarNumPop||(t.dwStarNumPop=5),!this.checkServerAutoPop(u.GuiEvent.PopMsg.DISPLAY_FIVE_STAR_LAYER,t)){var e=l.ResourceUIConfig.popup.FiveStarLayer;this.popupLoader.showPopup(e,s.gAssetBundleName.RESOURCES,t)}},e.prototype.onOpenFiveStaEditor=function(t){t||(t={}),t.star||(t.star=5);var e=l.ResourceUIConfig.popup.FiveStarEditor;this.popupLoader.showPopup(e,s.gAssetBundleName.RESOURCES,t)},e.prototype.onOpenDeskBuildLayer=function(t){var e=l.ResourceUIConfig.popup.DeskBuildLayer;this.popupLoader.showPopup(e,s.gAssetBundleName.RESOURCES,t)},e.prototype.onMatchGame=function(t){var e=l.ResourceUIConfig.popup.MatchView;this.popupLoader.showPopup(e,s.gAssetBundleName.RESOURCES,t)},e.prototype.onPlayAwardAnim=function(t){if(!(Date.now()-this.playGoldAnimTime<=2e4)){this.playGoldAnimTime=Date.now();var e=l.ResourceUIConfig.popup.AwardAnim;this.popupLoader.showPopup(e,s.gAssetBundleName.RESOURCES,t)}},e.prototype.onPlayPowerAnim=function(t){if(!(Date.now()-this.playPowerAnimTime<=2e4)){this.playPowerAnimTime=Date.now();var e=l.ResourceUIConfig.popup.PowerAnim;this.popupLoader.showPopup(e,s.gAssetBundleName.RESOURCES,t)}},e.prototype.onShowTableProgress=function(t){var e=p.PrefabItemMgr.getInstance().get("TableProgressView",s.gAssetBundleName.TABLES_RES);this.popupLoader.showPopup(e,s.gAssetBundleName.TABLES_RES,t)},e.prototype.onShowCompleteTable=function(t){if(!this.checkServerAutoPop(u.GuiEvent.PopMsg.DISPLAY_COMPLT_TABLE,t)){var e=p.PrefabItemMgr.getInstance().get("TableCompleteView",s.gAssetBundleName.TABLES_RES);this.popupLoader.showPopup(e,s.gAssetBundleName.TABLES_RES,t)}},e.prototype.onShowTableGuide=function(t){var e=p.PrefabItemMgr.getInstance().get("TableGuideDlg",s.gAssetBundleName.TABLES_RES);this.popupLoader.showPopup(e,s.gAssetBundleName.TABLES_RES,t)},e.prototype.onGetMoreTableChips=function(t){var e=p.PrefabItemMgr.getInstance().get("TableGetMoreChipsDlg",s.gAssetBundleName.TABLES_RES);this.popupLoader.showPopup(e,s.gAssetBundleName.TABLES_RES,t)},e.prototype.onOpenVideoLottery=function(t){if(!this.checkServerAutoPop(u.GuiEvent.PopMsg.DISPLAY_VIDEO_LOTTERY,t)){var e=p.PrefabItemMgr.getInstance().get("VideoLottery",s.gAssetBundleName.RESOURCES);this.popupLoader.showPopup(e,s.gAssetBundleName.RESOURCES,t)}},e.prototype.onOpenLotteryOddLayer=function(t){if(!this.checkServerAutoPop(u.GuiEvent.PopMsg.DISPLAY_LOTTERY_ODDS_LAYER,t)){var e=p.PrefabItemMgr.getInstance().get("LotteryOddLayer",s.gAssetBundleName.RESOURCES);this.popupLoader.showPopup(e,s.gAssetBundleName.RESOURCES,t)}},e.prototype.onOpenBonusDlg=function(t){if(!this.checkServerAutoPop(u.GuiEvent.PopMsg.DISPLAY_BONUS,t)){var e=p.PrefabItemMgr.getInstance().get("BonusDlg",s.gAssetBundleName.RESOURCES);this.popupLoader.showPopup(e,s.gAssetBundleName.RESOURCES,t)}},e.prototype.onOpenMissionBonusDlg=function(t){if(!this.checkServerAutoPop(u.GuiEvent.PopMsg.DISPLAY_MISSION_BONUS,t)){var e=p.PrefabItemMgr.getInstance().get("MissionBonusDlg",s.gAssetBundleName.RESOURCES);this.popupLoader.showPopup(e,s.gAssetBundleName.RESOURCES,t)}},e.prototype.onOpenBankruptBonusDlg=function(t){if(!this.checkServerAutoPop(u.GuiEvent.PopMsg.DISPLAY_BANKRUPT_BONUS,t)){var e;e=t.bSingle?"BankruptBonusOneDlg":"BankruptBonusTwoDlg";var n=p.PrefabItemMgr.getInstance().get(e,s.gAssetBundleName.RESOURCES);this.popupLoader.showPopup(n,s.gAssetBundleName.RESOURCES,{msgData:t})}},e.prototype.onOpenGoldenPassShop=function(){var t=d.DataProxy.getInstance().shopData.getSubsciptData(),e=p.PrefabItemMgr.getInstance().get("GoldenPassShop",s.gAssetBundleName.ACTIVITY_RES);this.popupLoader.showPopup(e,s.gAssetBundleName.ACTIVITY_RES,t)},e.prototype.onOpenGoldenPassMianView=function(t){var e=p.PrefabItemMgr.getInstance().get("GoldenPassMainView",s.gAssetBundleName.ACTIVITY_RES);this.popupLoader.showPopup(e,s.gAssetBundleName.ACTIVITY_RES,t)},e.prototype.onOpenGoldenPassRewardPreview=function(t){var e=p.PrefabItemMgr.getInstance().get("GoldenPassRewardPreview",s.gAssetBundleName.ACTIVITY_RES);this.popupLoader.showPopup(e,s.gAssetBundleName.ACTIVITY_RES,t)},e.prototype.onOpenGoldenPassDailyReward=function(){},e.prototype.onGoldenPassBuySucc=function(t){var e=p.PrefabItemMgr.getInstance().get("GoldenPassPaySucc",s.gAssetBundleName.ACTIVITY_RES);this.popupLoader.showPopup(e,s.gAssetBundleName.ACTIVITY_RES,t)},e.prototype.onGoldenPassSimpleBuyLayer=function(t){var e=p.PrefabItemMgr.getInstance().get("GoldenPassSimplePay",s.gAssetBundleName.ACTIVITY_RES);this.popupLoader.showPopup(e,s.gAssetBundleName.ACTIVITY_RES,t)},e.prototype.onShowTableBoxReward=function(t){var e=p.PrefabItemMgr.getInstance().get("TableBoxRewardLayer",s.gAssetBundleName.TABLES_RES);this.popupLoader.showPopup(e,s.gAssetBundleName.TABLES_RES,t)},e.prototype.onOpenOutOfTokensBonusDlg=function(t){t||(t={});var e=d.DataProxy.getInstance().shopData.getGoodsByGroup(s.gShopBuyGroup.POWER_GROUP);e&&(t.goodsInfo=e[0]),t.powerInfo=d.DataProxy.getInstance().userData.powerInfo;var n=l.ResourceUIConfig.popup.PowerNotEnoughBonusDlg;this.popupLoader.showPopup(n,s.gAssetBundleName.RESOURCES,t)},e.prototype.onOpenHitBonusDlg=function(t){if(!this.checkServerAutoPop(u.GuiEvent.PopMsg.DISPLAY_HIT_BONUS,t)){var e=l.ResourceUIConfig.popup.HitBonusDlg;this.popupLoader.showPopup(e,s.gAssetBundleName.RESOURCES,t)}},e.prototype.onCheckViewIsOpened=function(t){var e=this.isViewOpened(t);this.dispatch(c.Notify.Base.RTN_CHECK_VIEW_IS_OPENED,{ret:e,scriptName:t})},e.prototype.isViewOpened=function(t){return this.popupLoader.isViewOpen(t)},e.prototype.onRuleHelp=function(t){var e=l.ResourceUIConfig.popup.ScopaRuleTips;this.popupLoader.showPopup(e,s.gAssetBundleName.RESOURCES,t)},e.prototype.onShowLevelUp=function(t){if(!this.checkServerAutoPop(u.GuiEvent.PopMsg.DISPLAY_LEVEL_UP_LAYER,t)){var e=l.ResourceUIConfig.popup.LevelUpLayer;this.popupLoader.showPopup(e,s.gAssetBundleName.RESOURCES,t)}},e.prototype.onShowLevelUnlock=function(t){var e=l.ResourceUIConfig.popup.LevelUnlockLayer;this.popupLoader.showPopup(e,s.gAssetBundleName.RESOURCES,t)},e.prototype.onShowCardSkinGuideLayer=function(t){var e=l.ResourceUIConfig.popup.CardSkinGuideLayer;this.popupLoader.showPopup(e,s.gAssetBundleName.RESOURCES,t)},e.prototype.onShowCardSkinChangeLayer=function(t){var e=l.ResourceUIConfig.popup.CardSkinChangeLayer;this.popupLoader.showPopup(e,s.gAssetBundleName.RESOURCES,t)},e.prototype.onShowRevenegeLayer=function(t){if(!this.checkServerAutoPop(u.GuiEvent.PopMsg.DISPLAY_REVENEGE_LAYER,t)){var e=l.ResourceUIConfig.popup.GoldRevengeLayer;this.popupLoader.showPopup(e,s.gAssetBundleName.RESOURCES,t)}},e.prototype.onShowRankUp=function(t){if(!this.checkServerAutoPop(u.GuiEvent.PopMsg.RANK_PROMOTION,t)){var e=l.ResourceUIConfig.popup.RankUp;this.popupLoader.showPopup(e,s.gAssetBundleName.RESOURCES,t)}},e.prototype.onShowReward=function(t){var e=l.ResourceUIConfig.popup.RankReward;this.popupLoader.showPopup(e,s.gAssetBundleName.RESOURCES,t)},e.prototype.onOpenBoostGiftLayer=function(t){var e=l.ResourceUIConfig.popup.BoostGiftLayer;this.popupLoader.showPopup(e,s.gAssetBundleName.RESOURCES,t)},r([_],e)}(h.BasePopupMr));n.ComPopupMgr=y,cc._RF.pop()},{"../../lib/manager/PrefabItemMgr":"PrefabItemMgr","../config/ResourceUIConfig":"ResourceUIConfig","../const/Global":"Global","../event/GuiEvent":"GuiEvent","../event/Notify":"Notify","../model/DataProxy":"DataProxy","./../../lib/utils/ComUtils":"ComUtils","./BasePopupMr":"BasePopupMr"}],ComPopup:[function(t,e,n){"use strict";cc._RF.push(e,"f0a17oJPvFIsbN7ZEjX+4qj","ComPopup");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.ComPopup=void 0;var a=t("../../app/event/GuiEvent"),s=t("../../app/event/Notify"),c=t("./CxCompExt"),l=cc._decorator,u=l.ccclass,d=l.property,p=l.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enterAnim=!0,e.exitAnim=!1,e.needMask=!0,e.outClose=!0,e.boxNode=null,e.swallowTouch=!0,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){this.enterAnim&&this.doEnterAnim()},e.prototype.getBoxNode=function(){return this.boxNode||this.node},e.prototype.doEnterAnim=function(){this.enterAnim&&cc.tween(this.node).set({scale:.9,opacity:255}).to(.1,{scale:1.03,opacity:255}).to(.23,{scale:1,opacity:255}).start()},e.prototype.doExitAnim=function(){},e.prototype.onDestroy=function(){this.dispatch(a.GuiEvent.PopMsg.RM_SUB_VIEW,this.node.uuid),this.dispatch(s.Notify.Base.POP_NEXT_WATING_LAYER),t.prototype.onDestroy.call(this)},e.prototype.close=function(){this.node.destroy()},r([d({tooltip:"\u662f\u5426\u5f00\u542f\u8fdb\u5165\u7684\u52a8\u753b"})],e.prototype,"enterAnim",void 0),r([d({tooltip:"\u662f\u5426\u5f00\u542f\u9000\u51fa\u7684\u52a8\u753b"})],e.prototype,"exitAnim",void 0),r([d({tooltip:"\u662f\u5426\u9700\u8981\u7070\u8272\u906e\u7f69\u5c42"})],e.prototype,"needMask",void 0),r([d({tooltip:"\u70b9\u51fb\u8282\u70b9\u5916\u9762\u662f\u5426\u5173\u95ed\u754c\u9762"})],e.prototype,"outClose",void 0),r([d({type:cc.Node,tooltip:"\u5185\u5bb9\u8282\u70b9\uff1a\u4e0d\u8d4b\u503c\u5219\u4ee5\u6839\u8282\u70b9\u4e3a\u5185\u5bb9\u8282\u70b9"})],e.prototype,"boxNode",void 0),r([d({tooltip:"\u541e\u6389\u4e8b\u4ef6"})],e.prototype,"swallowTouch",void 0),r([u,p("\u81ea\u5b9a\u4e49/ComPopup")],e)}(c.CxCompExt);n.ComPopup=h,cc._RF.pop()},{"../../app/event/GuiEvent":"GuiEvent","../../app/event/Notify":"Notify","./CxCompExt":"CxCompExt"}],ComPowerInfo:[function(t,e,n){"use strict";cc._RF.push(e,"2fd8ddmw0ZEY4+tVo3cUdB2","ComPowerInfo");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../script/app/event/Notify"),s=t("../../../../script/app/language/LanguageCfg"),c=t("../../../../script/lib/base/CxComponent"),l=t("../../../../script/lib/utils/ComUtils"),u=t("../../../../script/lib/utils/Logger"),d=t("../../const/Global"),p=t("../../event/GuiEvent"),h=t("../../model/DataProxy"),f=cc._decorator,g=f.ccclass,_=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pPowerIcon=null,e.pProgressBar=null,e.pPowerLabel=null,e.pTimeSprite=null,e.pTimeLabel=null,e.pExtraLabel=null,e.mPowerInfo=null,e.mStartTime=0,e.mTimeCount=0,e.mCheckCnt=0,e.mShowTime=0,e.fromScene=0,e.subView=0,e}return i(e,t),e.prototype.listEvent=function(){return new Map([[a.Notify.Base.UPDATE_CURRENCY,this.initPowerInfo],[a.Notify.Base.UPDATE_POWER_INFO,this.updatePowerInfo],[p.GuiEvent.Anim.POWER_GET_ICON_POS,this.onPutPowerPosInfo]])},e.prototype.start=function(){this.mPowerInfo=h.DataProxy.getInstance().userData.powerInfo,null==this.mPowerInfo&&this.dispatch(a.Notify.UserInfo.REQ_USER_POWER_DATA),this.initPowerInfo(),this.initTimer()},e.prototype.init=function(t){u.Logger.info("ComPowerInfo: init data=",t),t&&(this.fromScene=t.fromScene,this.subView=t.subView)},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),this.stopTimer()},e.prototype.initPowerInfo=function(){var t=this.mPowerInfo;if(null!=t){var e=0,n="",o=0;if(t.dwCurPS>t.dwBasicPS?(e=1,n=t.dwBasicPS+"/"+t.dwBasicPS,o=t.dwCurPS-t.dwBasicPS):(e=t.dwCurPS/t.dwBasicPS,n=t.dwCurPS+"/"+t.dwBasicPS),this.pPowerLabel&&(this.pPowerLabel.string=n),this.pProgressBar&&(this.pProgressBar.progress=e),this.pExtraLabel&&(this.pExtraLabel.node.active=!1),this.pTimeSprite&&(this.pTimeSprite.node.active=!1),o>0)this.pExtraLabel&&(this.pExtraLabel.node.active=!0,this.pExtraLabel.string="+"+o);else if(this.mShowTime>0&&t.dwGetPSValue>0&&this.pTimeLabel){this.pTimeSprite&&(this.pTimeSprite.node.active=!0);var i=l.ComUtils.formatTimeString(this.mShowTime),r=l.ComUtils.getLang(s.LangKey.power_text_after);this.pTimeLabel.string="+"+t.dwGetPSValue+" "+r+" "+i}}},e.prototype.updatePowerInfo=function(){this.mPowerInfo=h.DataProxy.getInstance().userData.powerInfo,this.initPowerInfo(),this.initTimer()},e.prototype.onClick=function(){this.dispatch(p.GuiEvent.PopMsg.DISPLAY_SHOP_LAYER,{tag:d.gShopBuyGroup.POWER_GROUP})},e.prototype.initTimer=function(){this.mPowerInfo&&(this.mTimeCount=this.mPowerInfo.dwTimeCount,this.mCheckCnt=0,this.stopTimer(),this.mPowerInfo.dwSYTime>0&&this.mTimeCount<this.mPowerInfo.dwSYTime&&(this.startTimer(),this.mShowTime=this.mPowerInfo.dwSYTime-this.mTimeCount,this.mStartTime=Math.floor((new Date).getTime()/1e3)))},e.prototype.startTimer=function(){this.schedule(this.updateTimer,1)},e.prototype.stopTimer=function(){this.unschedule(this.updateTimer)},e.prototype.updateTimer=function(){this.mTimeCount++,this.mCheckCnt++,20==this.mCheckCnt&&(this.mCheckCnt=0,this.mTimeCount=Math.floor((new Date).getTime()/1e3)-this.mStartTime,u.Logger.info("updateTimer() correct mTimeCount="+this.mTimeCount)),this.mPowerInfo&&this.mPowerInfo.dwSYTime>0?this.mTimeCount>=this.mPowerInfo.dwSYTime?(this.mPowerInfo.dwSYTime=0,this.mTimeCount=0,this.mShowTime=0,this.mCheckCnt=0,u.Logger.info("updateTimer() time over"),this.stopTimer(),this.dispatch(a.Notify.UserInfo.REQ_USER_POWER_DATA)):(this.mShowTime=this.mPowerInfo.dwSYTime-this.mTimeCount,this.mPowerInfo.dwTimeCount=this.mTimeCount):this.stopTimer(),this.initPowerInfo()},e.prototype.onPutPowerPosInfo=function(){this.pPowerIcon&&this.dispatch(p.GuiEvent.Anim.POWER_PUT_ICON_POS,{tPos:this.pPowerIcon.parent.convertToWorldSpaceAR(cc.v2(this.pPowerIcon.x,this.pPowerIcon.y)),node:this.pPowerIcon.parent.parent,from:this.subView})},r([_(cc.Node)],e.prototype,"pPowerIcon",void 0),r([_(cc.ProgressBar)],e.prototype,"pProgressBar",void 0),r([_(cc.Label)],e.prototype,"pPowerLabel",void 0),r([_(cc.Sprite)],e.prototype,"pTimeSprite",void 0),r([_(cc.Label)],e.prototype,"pTimeLabel",void 0),r([_(cc.Label)],e.prototype,"pExtraLabel",void 0),r([g],e)}(c.CxComponent);n.default=y,cc._RF.pop()},{"../../../../script/app/event/Notify":"Notify","../../../../script/app/language/LanguageCfg":"LanguageCfg","../../../../script/lib/base/CxComponent":"CxComponent","../../../../script/lib/utils/ComUtils":"ComUtils","../../../../script/lib/utils/Logger":"Logger","../../const/Global":"Global","../../event/GuiEvent":"GuiEvent","../../model/DataProxy":"DataProxy"}],ComSpeaker:[function(t,e,n){"use strict";cc._RF.push(e,"b6517RJZ4BCOYHZdBFpovTk","ComSpeaker");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.ComSpeaker=void 0;var a=t("../../../lib/base/CxComponent"),s=t("../../../lib/utils/ScreenAdapter"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ndMask=null,e.txtContent=null,e.scrollSpeed=120,e.speakQueue=[],e.maxQueue=10,e.isPlaying=!1,e.tweenNext=null,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.startPos=this.txtContent.node.position,s.ScreenAdapter.paddingTop(this.ndMask.parent)},e.prototype.addSpeak=function(t){this.push(t),this.isPlaying||this.next()},e.prototype.next=function(){var t=this.pop();t?this.displayContent(t):this.node.destroy()},e.prototype.push=function(t){if(this.speakQueue.length>=this.maxQueue)for(var e=0;e<this.speakQueue.length-this.maxQueue+1;++e)this.pop();this.speakQueue.push(t)},e.prototype.pop=function(){return this.speakQueue.shift()},e.prototype.clean=function(){this.speakQueue=[]},e.prototype.displayContent=function(t){var e=this;this.isPlaying=!0,this.txtContent.string=t.text||"",this.txtContent.node.active=!1,this.ndMask.width,this.scheduleOnce(function(){e.txtContent.node.active=!0,e.txtContent.node.position=e.startPos,e.scrollTween()})},e.prototype.scrollTween=function(){var t=this,e=this.txtContent.node.width+this.ndMask.width,n=e/this.scrollSpeed;cc.tween(this.txtContent.node).by(n,{position:cc.v3(-e,0)}).call(function(){t.delayNext(0)}).start()},e.prototype.delayNext=function(t){var e=this;this.tweenNext=cc.tween(this.node).delay(t).call(function(){e.whenSpeakEnd()}).start()},e.prototype.whenSpeakEnd=function(){this.isPlaying=!1,this.stopTween(),this.next()},e.prototype.stopTween=function(){this.tweenNext&&(this.tweenNext.stop(),this.tweenNext=null)},r([u(cc.Node)],e.prototype,"ndMask",void 0),r([u(cc.Label)],e.prototype,"txtContent",void 0),r([u(cc.Integer)],e.prototype,"scrollSpeed",void 0),r([l],e)}(a.CxComponent);n.ComSpeaker=d,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../../lib/utils/ScreenAdapter":"ScreenAdapter"}],ComSubLayer:[function(t,e,n){"use strict";cc._RF.push(e,"0ffe49IG85BSrscO2AkKUlN","ComSubLayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./ComSubView"),s=t("../../../lib/base/CxComponent"),c=t("../../const/Global"),l=t("../../config/ResourceUIConfig"),u=t("../../../lib/manager/ResManager"),d=t("../../../lib/base/ComPopup"),p=t("../../../lib/manager/NodePoolMgr"),h=cc._decorator,f=h.ccclass,g=(h.property,h.requireComponent),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mSubNode=null,e.mSubScript=null,e.mTitle=null,e.mTitleLang=null,e.mSize=null,e.mBarParams=null,e.delayLock=!0,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.node.on(a.ComSubView.CLOSE_EVENT,this.close,this,!0);var e=this.initParams();this.loadView(e||{})},e.prototype.setTitle=function(t){this.mSubScript?this.mSubScript.setTitle(t):this.mTitle=t},e.prototype.setSize=function(t){this.mSubScript?this.mSubScript.setSize(t):this.mSize=t},e.prototype.setBottomBar=function(t){this.mSubScript?this.mSubScript.setBottomBar(t)&&this.setVerticalOffset():this.mBarParams=t},e.prototype.loadFinish=function(){if(this.mSubScript&&(this.mTitle&&(this.mSubScript.setTitle(this.mTitle),this.mTitle=null),this.mSize&&(this.mSubScript.setSize(this.mSize),this.mSize=null),this.mBarParams)){var t=this.mSubScript.setBottomBar(this.mBarParams);this.mBarParams=null,t&&this.setVerticalOffset()}},e.prototype.loadView=function(t){var e=t.parent||this.node,n=p.NodePoolMgr.getInstance().getPool(a.ComSubView.NAME).get();if(n)this.addSubView(e,n,t);else{var o=this;u.default.getInstance().loadPrefab(l.ResourceUIConfig.prefab.ComSubView.path,c.gAssetBundleName.RESOURCES,function(n,i){if(i&&cc.isValid(o)){var r=cc.instantiate(i);r&&o.addSubView(e,r,t)}})}},e.prototype.addSubView=function(t,e,n){var o=e.getComponent(a.ComSubView);o&&t&&e&&(t.addChild(e,-1,a.ComSubView.NAME),o.init(n),o.setSize(t.getContentSize()),this.mSubNode=e,this.mSubScript=o,this.loadFinish&&this.loadFinish())},e.prototype.close=function(){this.mSubNode&&p.NodePoolMgr.getInstance().getPool(a.ComSubView.NAME).size()<2&&p.NodePoolMgr.getInstance().getPool(a.ComSubView.NAME).put(this.mSubNode),t.prototype.close.call(this)},r([f,g(d.ComPopup)],e)}(s.CxComponent);n.default=_,cc._RF.pop()},{"../../../lib/base/ComPopup":"ComPopup","../../../lib/base/CxComponent":"CxComponent","../../../lib/manager/NodePoolMgr":"NodePoolMgr","../../../lib/manager/ResManager":"ResManager","../../config/ResourceUIConfig":"ResourceUIConfig","../../const/Global":"Global","./ComSubView":"ComSubView"}],ComSubView:[function(t,e,n){"use strict";cc._RF.push(e,"8a928JtPYpLaajpAKvcnico","ComSubView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.ComSubView=void 0;var a=t("../../../lib/base/ComPopup"),s=t("../../../lib/base/CxComponent"),c=t("../../const/AudioFile"),l=t("../../event/Notify"),u=cc._decorator,d=u.ccclass,p=u.property,h=u.requireComponent,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pSpriteAtlas=null,e.spMask=null,e.spBg=null,e.titleBg=null,e.titleSprite=null,e.pContentBg=null,e.txtTitle=null,e.btnClose=null,e.pBottomBar=null,e.pLeftBtn=null,e.pRightBtn=null,e.pCenterBtn=null,e.titleSF=[],e.titleOutColor=[],e.closeListener=null,e.mIsStartIn=!1,e.mRect=null,e.mOutClose=!1,e.mIsMask=!1,e.mBarConfig=null,e}var n;return i(e,t),n=e,e.prototype.unuse=function(){this.pContentBg&&(this.pContentBg.active=!1),this.pBottomBar&&(this.pBottomBar.active=!1),this.pLeftBtn&&(this.pLeftBtn.node.active=!1),this.pRightBtn&&(this.pRightBtn.node.active=!1),this.pCenterBtn&&(this.pCenterBtn.node.active=!1),this.titleBg&&(this.titleBg.node.active=!0)},e.prototype.init=function(t){var e;t&&(t.size&&this.setSize(t.size),t.title&&this.setTitle(t.title),null!=t.showTitle&&this.titleBg&&(this.titleBg.node.active=t.showTitle),null!=t.titleColor&&1===t.titleColor?(this.titleBg&&this.titleSF.length>1&&(this.titleBg.spriteFrame=this.titleSF[t.titleColor]),this.txtTitle&&this.titleOutColor.length>1&&(e=this.txtTitle.getComponent(cc.LabelOutline))&&(e.color=this.titleOutColor[t.titleColor])):(this.titleBg&&this.titleSF.length>1&&(this.titleBg.spriteFrame=this.titleSF[0]),this.txtTitle&&this.titleOutColor.length>1&&(e=this.txtTitle.getComponent(cc.LabelOutline))&&(e.color=this.titleOutColor[0])),null!=t.showSubBG&&this.setContentBG(t.showSubBG),this.mOutClose=null==t.outClose||t.outClose,this.mIsMask=null==t.isMask||t.isMask,this.initMask(),t.closeListener&&(this.closeListener=t.closeListener))},e.prototype.initParams=function(t){this.init(t)},e.prototype.changeTitle=function(){var t=this.txtTitle.string.length;if(t>11){var e=this.titleBg.node.width;(e+=60*(t-11))>720&&(e=720),e<548&&(e=548),this.titleBg.node.width=e}},e.prototype.initMask=function(){var t=this.getComponent(a.ComPopup);t&&(t.outClose=this.mOutClose)},e.prototype.getBg=function(){return this.spBg},e.prototype.getWidth=function(){return this.spBg.width},e.prototype.getHeight=function(){return this.spBg.height},e.prototype.onClose=function(){this.node.parent.emit(n.CLOSE_EVENT),this.closeListener?this.closeListener():this.node.parent&&this.node.parent.destroy()},e.prototype.onCloseMenu=function(){this.dispatch(l.Notify.Base.PLAY_EFFECT,{path:c.AudioFile.Com.BACK}),this.onClose()},e.prototype.onClickTitle=function(){},e.prototype.setSize=function(t){var e=t.width/this.getBg().width,n=t.height/this.getBg().height;this.getBg().width=t.width,this.getBg().height=t.height,this.pContentBg&&(this.pContentBg.width=this.pContentBg.width*e,this.pContentBg.height=this.pContentBg.height*n)},e.prototype.setTitle=function(t){this.txtTitle&&(this.txtTitle.language=t,this.changeTitle())},e.prototype.setTitleFontSize=function(t){this.txtTitle&&(this.txtTitle.fontSize=t)},e.prototype.setTitleBGSprite=function(t){this.titleBg&&t&&(this.titleBg.spriteFrame=t)},e.prototype.setTitleIconSprite=function(t){this.titleSprite&&t&&(this.titleSprite.spriteFrame=t,this.titleSprite.node.active=!0,this.txtTitle&&(this.txtTitle.node.active=!1))},e.prototype.setTitleColor=function(t){if(t&&t.length>0&&this.txtTitle){this.txtTitle.node.color=t[0];var e=t[1]?t[1]:t[0],n=this.txtTitle.getComponent(cc.LabelOutline);n&&(n.color=e);var o=this.txtTitle.getComponent(cc.LabelShadow);o&&(o.color=e)}},e.prototype.setTitleShow=function(t){this.titleBg&&(this.titleBg.node.active=t)},e.prototype.setContentBG=function(t){this.pContentBg&&(this.pContentBg.active=t)},e.prototype.setCloseButton=function(t){this.btnClose&&(this.btnClose.node.active=t)},e.prototype.setBottomBar=function(t){if(t&&t.length>0){var e=!1;if(this.pLeftBtn&&(this.pLeftBtn.node.active=!1),this.pRightBtn&&(this.pRightBtn.node.active=!1),this.pCenterBtn&&(this.pCenterBtn.node.active=!1),1==t.length?(e=!0,this.mBarConfig=t,this.setBarMenu(this.pCenterBtn,this.mBarConfig[0],!0)):2==t.length&&(e=!0,this.mBarConfig=t,this.setBarMenu(this.pLeftBtn,this.mBarConfig[0],!1),this.setBarMenu(this.pRightBtn,this.mBarConfig[1],!1)),this.pBottomBar)return this.pBottomBar.active=e,!0}return!1},e.prototype.setBarMenu=function(t,e,n){if(null!=t){t.node.active=!0;var o=t.node.getChildByName("Background");if(o){var i=o.getChildByName("Label"),r=this.getStyle(e.style);if(i&&r){var a=i.getComponent(cc.Label);a&&(e.text&&(a.language=e.text),e.textSize&&(a.fontSize=e.textSize),a.node.color=(new cc.Color).fromHEX(r.textColor));var s=i.getComponent(cc.LabelOutline);if(s){var c=e.outlineColor?e.outlineColor:r.outlineColor;s.color=(new cc.Color).fromHEX(c)}var l=i.getComponent(cc.LabelShadow);l&&(c=e.outlineColor?e.outlineColor:r.outlineColor,l.color=(new cc.Color).fromHEX(c));var u=n?r.iconLong:r.icon,d=this.pSpriteAtlas.getSpriteFrame(u);if(d){var p=o.getComponent(cc.Sprite);p&&(p.spriteFrame=d)}}}}},e.prototype.getStyle=function(t){for(var e=[{key:"green",textColor:"#FFFFFF",outlineColor:"#135100",icon:"com_btn_green",iconLong:"com_btn_green_long"},{key:"yellow",textColor:"#FFFFFF",outlineColor:"#9b4102",icon:"com_btn_yellow",iconLong:"com_btn_yellow_long"},{key:"red",textColor:"#FFFFFF",outlineColor:"#ac0e0e",icon:"com_btn_red",iconLong:"com_btn_red_long"},{key:"orange",textColor:"#FFFFFF",outlineColor:"#9b1f02",icon:"com_btn_orange",iconLong:"com_btn_orange_long"},{key:"darkblue",textColor:"#FFFFFF",outlineColor:"#122964",icon:"com_btn_dark_blue",iconLong:"com_btn_dark_blue_long"}],n=0;n<e.length;n++){var o=e[n];if(t&&t==o.key)return o}return null},e.prototype.onClickBottomBar=function(t,e){e&&this.doCallBack(e)},e.prototype.doCallBack=function(t){var e=-1;if("left"==t?e=0:"right"==t?e=1:"center"==t&&(e=0),this.mBarConfig&&e>=0){var n=this.mBarConfig[e];n&&n.callback&&n.callback()}},e.NAME="ComSubView",e.CLOSE_EVENT="comsubview_close",r([p(cc.SpriteAtlas)],e.prototype,"pSpriteAtlas",void 0),r([p(cc.Node)],e.prototype,"spMask",void 0),r([p(cc.Node)],e.prototype,"spBg",void 0),r([p(cc.Sprite)],e.prototype,"titleBg",void 0),r([p(cc.Sprite)],e.prototype,"titleSprite",void 0),r([p(cc.Node)],e.prototype,"pContentBg",void 0),r([p(cc.Label)],e.prototype,"txtTitle",void 0),r([p(cc.Button)],e.prototype,"btnClose",void 0),r([p(cc.Node)],e.prototype,"pBottomBar",void 0),r([p(cc.Button)],e.prototype,"pLeftBtn",void 0),r([p(cc.Button)],e.prototype,"pRightBtn",void 0),r([p(cc.Button)],e.prototype,"pCenterBtn",void 0),r([p({type:[cc.SpriteFrame],tooltip:"\u6807\u9898\u80cc\u666f\u56fe\u7247"})],e.prototype,"titleSF",void 0),r([p({type:[cc.Color],tooltip:"\u6807\u9898\u63cf\u8fb9\u7684\u989c\u8272"})],e.prototype,"titleOutColor",void 0),n=r([d,h(a.ComPopup)],e)}(s.CxComponent);n.ComSubView=f,cc._RF.pop()},{"../../../lib/base/ComPopup":"ComPopup","../../../lib/base/CxComponent":"CxComponent","../../const/AudioFile":"AudioFile","../../event/Notify":"Notify"}],ComTableViewCell:[function(t,e,n){"use strict";cc._RF.push(e,"9e9b4HXZHJNEIeXcLZA+IuS","ComTableViewCell");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.ComTableViewCell=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.getSize=function(){return 0},e.prototype.init=function(){},e.prototype.uninit=function(){},e.prototype.reload=function(){},e}(cc.Component);n.ComTableViewCell=r,cc._RF.pop()},{}],ComTableView:[function(t,e,n){"use strict";cc._RF.push(e,"cfb7ba+CBBLXpZMOM4WaZzH","ComTableView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=a.menu,u=cc.Enum({Horizontal:0,Vertical:1}),d=(cc.Enum({Single:0,Multiple:1}),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.horizontal=!1,e.vertical=!0,e.scrollEvents=[],e._cell=null,e.cellData=null,e.cellCount=0,e.childCount=0,e.startIndex=0,e.maxStartIndex=0,e.endIndex=0,e.anchorCenterX=0,e.anchorCenterY=0,e.anchorLeftX=0,e.anchorTopY=0,e.cellAnchorX=0,e.cellAnchorY=0,e.customSize=!1,e.cellAccumSizes=[],e.cellSizes=[],e.cellSize=0,e.updateRefreshOnce=!1,e.updateRefreshForce=!1,e.updateCellsOn=!1,e.updateCellsOnce=!1,e}return i(e,t),Object.defineProperty(e.prototype,"cell",{get:function(){return this._cell},set:function(t){this.clear(),this.cellPool.clear(),this._cell=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrollModel",{get:function(){return this.horizontal?u.Horizontal:u.Vertical},set:function(){cc.error("[tableView] \u4e0d\u5141\u8bb8\u52a8\u6001\u4fee\u6539scrollModel")},enumerable:!1,configurable:!0}),e.prototype.onDestroy=function(){for(;this.cellPool.size();)this.cellPool.get().destroy();t.prototype.onDestroy&&t.prototype.onDestroy.call(this)},e.prototype.onEnable=function(){this.node.on("scroll-began",this.onScrollBegin,this),this.node.on("scroll-ended",this.onScrollEnd,this),t.prototype.onEnable&&t.prototype.onEnable.call(this)},e.prototype.onDisable=function(){this.node.off("scroll-began",this.onScrollBegin,this),this.node.off("scroll-ended",this.onScrollEnd,this),t.prototype.onDisable&&t.prototype.onDisable.call(this)},e.prototype.onScrollBegin=function(){this.updateCellsOn=!0},e.prototype.onScrollEnd=function(){this.updateCellsOn=!1,this.updateCellsOnce=!0},e.prototype.getCellCount=function(){return this.cellCount},e.prototype.setCellCount=function(t){"number"==typeof t&&t>=0?this.cellCount=t:cc.error("[tableView] setCellCount \u53c2\u6570\u9519\u8bef")},e.prototype.getCellData=function(){return this.cellData},e.prototype.setCellData=function(t){void 0!==t&&(this.cellData=t)},e.prototype.getCellRange=function(){var t=this.content.children;return 0==t.length?{min:-1,max:-1}:{min:t[0].tvIndex,max:t[t.length-1].tvIndex}},e.prototype.refreshScrollBar=function(){this._updateScrollBar(this._getHowMuchOutOfBoundary())},e.prototype.refresh=function(t){void 0===t&&(t=!0),this.updateRefreshOnce=!0,t&&(this.updateRefreshForce=!0)},e.prototype.refreshSync=function(t){void 0===t&&(t=!0),this.stopRefresh(),this.initData(),this.updateCells(t)},e.prototype.stopRefresh=function(){this.updateRefreshOnce=!1,this.updateRefreshForce=!1},e.prototype.init=function(t,e,n){this.clsName=e,this.dalegate=n,this.clear(),this.cellPool=new cc.NodePool(this.clsName),this.setCellCount(t),this.initData(),this.stopAutoScroll(),this.scrollToOrigin(),this.updateCells(!0)},e.prototype.clear=function(){this.cellCount=0,this.childCount=0,this.startIndex=0,this.endIndex=0,this.maxStartIndex=0,this.content[this.horizontal?"width":"height"]=0,this.stopRefresh(),this.updateCellCount()},e.prototype.reload=function(t,e){var n=this;if(void 0===t&&(t=0),void 0===e)this.content.children.forEach(function(e){e.tvIndex>=t&&n.reloadCell(e)});else{if(e<=0)return;if(t<0&&(t+=this.cellCount),t+e<0)return;this.content.children.forEach(function(o){o.tvIndex>=t&&o.tvIndex<t+e&&n.reloadCell(o)})}},e.prototype.insert=function(t,e,n){if(void 0===t&&(t=-1),void 0===e&&(e=1),!(e<=0)){t<0&&(t=t+this.cellCount+1),t<0&&(t=0),this.setCellData(n);for(var o=this.content.children,i=o.length-1;i>=0;i--){var r=o[i];r._tvIndex>=t&&(r._tvIndex+=e)}this.setCellCount(this.cellCount+e),this.refresh()}},e.prototype.remove=function(t,e,n){if(void 0===t&&(t=-1),void 0===e&&(e=1),!(e<=0)){t<0&&(t+=this.cellCount);var o=t+e;if(t<0&&(t=0),o>this.cellCount&&(o=this.cellCount),e=o-t,!(t>=this.cellCount||o<=0||e<0||t>=o)){this.setCellData(n);for(var i=this.content.children,r=i.length-1;r>=0;r--){var a=i[r];a._tvIndex>=t&&(a._tvIndex<o?a._tvIndex=-1:a._tvIndex-=e)}this.setCellCount(this.cellCount-e),this.refresh()}}},e.prototype.getCell=function(){var t=null;return(t=this.cellPool.size()?this.cellPool.get():cc.instantiate(this.cell)).tvIndex=-1,t._tvIndex=-1,t},e.prototype.putCell=function(t){this.cellPool.put(t)},e.prototype.initCell=function(t,e){if(e>=0){if(cc.log("initCell",e,t),t.tvIndex!=e||t.tvIndex!=t._tvIndex){var n=t.getComponent(this.clsName);t.tvIndex>=0&&n.uninit(),this.dalegate.cellAtIndex(e,t,this)}t.tvIndex=e,t._tvIndex=e}},e.prototype.uninitCell=function(t){t.tvIndex>=0&&(t.getComponent(this.clsName).uninit(),t.tvIndex=-1,t._tvIndex=-1)},e.prototype.reloadCell=function(t){this.dalegate.cellAtIndex(t.tvIndex,t,this)},e.prototype.getViewCell=function(){if(this.cell){var t=this.cell.data.getComponent(this.clsName);if(t)return t.constructor||cc.js.getClassByName(cc.js.getClassName(t))}return null},e.prototype.getDefaultCellSize=function(){return this.cell?this.cell.data.getContentSize():cc.Size.ZERO},e.prototype.getDefaultCellAnchor=function(){return this.cell?this.cell.data.getAnchorPoint():cc.Vec2.ZERO},e.prototype.getScrollLengh=function(){var t=this.getScrollOffset(),e=this.horizontal?-t.x:t.y;return e<0?0:e},e.prototype.initData=function(){var t=this.getViewCell(),e=this.getDefaultCellSize(),n=this.horizontal?"width":"height",o=this.content.parent[n];if(this.customSize=!!t&&!!t.hasOwnProperty("getSize"),this.cellSize=e[n],this.cellAccumSizes.length=0,this.cellSizes.length=0,this.maxStartIndex=0,this.startIndex=0,this.endIndex=0,this.customSize)for(var i=0,r=0,a=0;i<this.cellCount;i++)(!(a=t.getSize(i,this.cellData))||a<0)&&(a=this.cellSize),this.cellSizes.push(a),r+=a,this.cellAccumSizes.push(r);if(this.customSize){this.childCount=this.cellCount;var s=this.cellAccumSizes.length-1;for(r=this.cellAccumSizes[s],i=1,a=0;i<=s;i++)if(r-(a=this.cellAccumSizes[s-i])>=o){this.childCount=i+1;break}}else this.childCount=Math.ceil(o/this.cellSize)+1;this.cellCount>this.childCount?this.maxStartIndex=this.cellCount-this.childCount:this.maxStartIndex=0,this.customSize?this.content[n]=this.cellAccumSizes[this.cellAccumSizes.length-1]||0:this.content[n]=this.cellSize*this.cellCount;var c=this.getDefaultCellAnchor();this.anchorCenterX=(.5-this.content.anchorX)*this.content.width,this.anchorCenterY=(.5-this.content.anchorY)*this.content.height,this.anchorLeftX=(0-this.content.anchorX)*this.content.width,this.anchorTopY=(1-this.content.anchorY)*this.content.height,this.cellAnchorX=c.x,this.cellAnchorY=1-c.y},e.prototype.updateCellCount=function(){var t=this.content.children;if(t.length!=this.childCount)if(t.length>this.childCount){for(var e=null,n=t.length-1;n>=this.childCount;n--)((e=t[n])._tvIndex<this.startIndex||e._tvIndex>this.endIndex)&&(this.uninitCell(e),this.putCell(e));for(n=t.length-1;n>=this.childCount;n--)e=t[n],this.uninitCell(e),this.putCell(e)}else for(n=t.length;n<this.childCount;n++)this.content.addChild(this.getCell())},e.prototype.getStartIndex=function(t){var e=0,n=this.maxStartIndex;if(this.customSize){var o=this.cellAccumSizes;if(o.length<5)for(;e<n&&!(o[e]>t);e++);else for(var i=0,r=n,a=0;r>=i;){if(t==(a=o[e=Math.floor((r+i)/2)])){e<n&&(e+=1);break}if(t<a&&(0==e||t>=o[e-1]))break;t>a?i=e+1:r=e-1}}else(e=Math.floor(t/this.cellSize))<0?e=0:e>n&&(e=n);return e},e.prototype.updateCellRange=function(){var t=this.getScrollLengh();if(this.startIndex=this.getStartIndex(t),this.customSize){var e=this.content.parent[this.horizontal?"width":"height"],n=this.cellAccumSizes.length;if(this.cellAccumSizes[n-1]-e<=t)this.childCount=n-this.startIndex;else for(var o=this.cellAccumSizes[this.startIndex],i=this.startIndex+1,r=0;i<n;i++)if((r=this.cellAccumSizes[i])-e>=t){this.childCount=r-o>=e?i-this.startIndex+1:i-this.startIndex+2;break}}this.endIndex=this.startIndex+this.childCount-1},e.prototype.updateCell=function(t,e){"number"==typeof e?this.initCell(t,e):(this.initCell(t,t._tvIndex),e=t.tvIndex),this.horizontal?(this.customSize?t.x=this.anchorLeftX-this.cellSizes[e]*this.cellAnchorX+this.cellAccumSizes[e]:t.x=this.anchorLeftX-this.cellSize*this.cellAnchorX+this.cellSize*(e+1),t.y=this.anchorCenterY):(this.customSize?t.y=this.anchorTopY+this.cellSizes[e]*this.cellAnchorY-this.cellAccumSizes[e]:t.y=this.anchorTopY+this.cellSize*this.cellAnchorY-this.cellSize*(e+1),t.x=this.anchorCenterX)},e.prototype.updateCells=function(t){var e=this;if(void 0===t&&(t=!1),this.updateCellsOnce=!1,this.updateCellRange(),this.updateCellCount(),this.childCount){var n=this.startIndex,o=this.endIndex,i=this.content.children;if(t||i[0]._tvIndex!=n||i[i.length-1]._tvIndex!=o){var r=[],a=[];if(i.forEach(function(t){t._tvIndex<n||t._tvIndex>o||t._tvIndex!=t.tvIndex?(e.uninitCell(t),a.push(t)):r.push(t)}),0==a.length)t&&i.forEach(function(t){return e.updateCell(t)});else if(0==r.length)i.forEach(function(t,o){return e.updateCell(t,n+o)});else for(var s=n,c=0,l=0,u=0;s<=o;s++,u++)c<r.length&&s==r[c]._tvIndex?this.updateCell(r[c++]):this.updateCell(a[l++],s)}}},e.prototype.scrollToIndex=function(){cc.log("[tableView] scrollToIndex")},e.prototype.getPerScrollOffset=function(){return this.horizontal?cc.v2(this.getScrollOffset().x/this.getMaxScrollOffset().x,0):cc.v2(0,this.getScrollOffset().y/this.getMaxScrollOffset().y)},e.prototype.scrollToPerOffset=function(t,e,n){this.horizontal?t.x*=this.getMaxScrollOffset().x:t.y*=this.getMaxScrollOffset().y,this.scrollToOffset(t,e,n)},e.prototype.scrollToOrigin=function(t,e){this.horizontal?this.scrollToLeft(t,e):this.scrollToTop(t,e)},e.prototype.stopAutoScroll=function(){!this.updateCellsOnce&&this.updateCellsOn&&(this.updateCellsOnce=!0),t.prototype.stopAutoScroll.call(this)},e.prototype.scrollToBottom=function(e,n){e?this.updateCellsOn=!0:this.updateCellsOnce=!0,t.prototype.scrollToBottom.call(this,e,n)},e.prototype.scrollToTop=function(e,n){e?this.updateCellsOn=!0:this.updateCellsOnce=!0,t.prototype.scrollToTop.call(this,e,n)},e.prototype.scrollToLeft=function(e,n){e?this.updateCellsOn=!0:this.updateCellsOnce=!0,t.prototype.scrollToLeft.call(this,e,n)},e.prototype.scrollToRight=function(e,n){e?this.updateCellsOn=!0:this.updateCellsOnce=!0,t.prototype.scrollToRight.call(this,e,n)},e.prototype.scrollToOffset=function(e,n,o){n?this.updateCellsOn=!0:this.updateCellsOnce=!0,t.prototype.scrollToOffset.call(this,e,n,o)},e.prototype.update=function(e){t.prototype.update.call(this,e),this.updateRefreshOnce&&this.refreshSync(this.updateRefreshForce),(this.updateCellsOn||this.updateCellsOnce)&&this.updateCells()},r([c({visible:!1,override:!0})],e.prototype,"horizontal",void 0),r([c({visible:!1,override:!0})],e.prototype,"vertical",void 0),r([c({type:cc.Component.EventHandler,visible:!1,override:!0})],e.prototype,"scrollEvents",void 0),r([c(cc.Prefab)],e.prototype,"_cell",void 0),r([c({type:cc.Prefab,tooltip:"\u6e32\u67d3\u8282\u70b9"})],e.prototype,"cell",null),r([c({type:u,tooltip:"\u6ed1\u52a8\u65b9\u5411"})],e.prototype,"scrollModel",null),r([s,l("\u81ea\u5b9a\u4e49/ComTableView")],e)}(cc.ScrollView));n.default=d,cc._RF.pop()},{}],ComTimer:[function(t,e,n){"use strict";cc._RF.push(e,"b17cbUO5rdDxK57dDfjx2bY","ComTimer"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../../lib/utils/Logger"),i=function(){function t(){this.mStartTime=0,this.mTotolTime=0,this.mListener=null,this.mObj=null,this.mName="",this._timerID=0,this._showTime=0,this._timeCount=0,this._checkNum=0}return t.prototype.start=function(t){cc.log("ComTimer: Timer start()"),this.mStartTime=t.startTime||0,this.mTotolTime=t.totalTime||0,this.mListener=t.callback,this.mObj=t.obj,this.mName=t.name||"",this.mStartTime||(this.mStartTime=Math.floor((new Date).getTime()/1e3)),this.initTimer()},t.prototype.clear=function(){cc.log("ComTimer: clear()"),this.stopTimer()},t.prototype.initTimer=function(){cc.log("ComTimer: initTimer()"),this._timeCount=0,this._checkNum=0,this._showTime=0,this.stopTimer(),this.mTotolTime>0&&(this._timeCount=Math.floor((new Date).getTime()/1e3)-this.mStartTime,cc.log("desk: initTimer() count="+this._timeCount),this._timeCount>=0&&this._timeCount<this.mTotolTime&&(this.startTimer(),this._showTime=this.mTotolTime-this._timeCount)),this.mObj&&cc.isValid(this.mObj)&&this.mListener&&this.mListener(this._showTime,!1)},t.prototype.startTimer=function(){cc.log("desk: startTimer()"),this._timerID=setInterval(this.updateTimer.bind(this),1e3)},t.prototype.stopTimer=function(){o.Logger.info("stopTimer()"),this._timerID&&this._timerID>0&&(clearInterval(this._timerID),this._timerID=0)},t.prototype.updateTimer=function(){if(this.mTotolTime>0){this._timeCount++,this._checkNum++;var t=!1;20==this._checkNum&&(this._checkNum=0,this._timeCount=Math.floor((new Date).getTime()/1e3)-this.mStartTime),this._timeCount>=this.mTotolTime?(this.stopTimer(),t=!0,this._timeCount=0,this._checkNum=0,this._showTime=0):this._showTime=this.mTotolTime-this._timeCount,this.mObj&&cc.isValid(this.mObj)&&this.mListener&&this.mListener(this._showTime,t)}else this.stopTimer()},t}();n.default=i,cc._RF.pop()},{"../../../lib/utils/Logger":"Logger"}],ComUI:[function(t,e,n){"use strict";cc._RF.push(e,"dfcaevcp9BIG4AlvNYFwUNx","ComUI"),Object.defineProperty(n,"__esModule",{value:!0}),n.ComUI=n.Tag=void 0;var o,i=t("./../const/Global"),r=t("../../lib/utils/Display"),a=t("../../lib/utils/Logger"),s=t("../config/GameConfig"),c=t("../config/ResourceUIConfig"),l=t("../../lib/network/HttpManager"),u=t("../../lib/manager/ResManager"),d=t("../model/DataProxy"),p=t("../../lib/manager/BundleManager"),h=t("../../lib/manager/ResConfigHandler"),f=t("../base/component/ComHead"),g=t("../../lib/utils/ComUtils");n.Tag={Loading:"9999",Toast:"9995",Speaker:"9994",Dialog:"9990",ChatMessage:"9985",ChatEmoj:"9980",ChatVoice:"9975"},function(t){t[t.Loading=9999]="Loading",t[t.Toast=9995]="Toast",t[t.Dialog=9985]="Dialog"}(o||(o={}));var _=function(){function t(){}return t.showDialog=function(t){var e=cc.director.getScene();u.default.getInstance().loadPrefab(c.ResourceUIConfig.prefab.ComDialog.path,i.gAssetBundleName.RESOURCES,function(i,a){if(a){if(t.parent&&!cc.isValid(t.parent))return;if(!cc.isValid(e))return;var s=cc.instantiate(a),c=s.getComponent("ComDialog");c||(c=s.addComponent("ComDialog")),c.init(t);var l=t.parent;void 0===l&&(l=e),s.x=t.x||r.Display.cx,s.y=t.y||r.Display.cy,l.addChild(s,o.Dialog,n.Tag.Dialog),e=null}})},t.dismissDialog=function(t){null==t&&(t=cc.director.getScene());for(var e=t.children.length-1;e>=0;e--){var o=t.children[e];o.name==n.Tag.Dialog&&(o.removeFromParent(!0),o.destroy())}},t.showToast=function(t,e,a,s){void 0===a&&(a=1),void 0===s&&(s=!1),u.default.getInstance().loadPrefab(c.ResourceUIConfig.prefab.Toast.path,i.gAssetBundleName.RESOURCES,function(i,c){if(c){var l=cc.instantiate(c),u=l.getComponent("Toast");u||(u=l.addComponent("Toast")),u.show(t,e,s),l.x=r.Display.cx,l.y=r.Display.cy+740,a&&(l.y=1==a?r.Display.cy+740:2===a?r.Display.cy:140),cc.director.getScene().addChild(l,o.Toast,n.Tag.Toast)}})},t.rmToast=function(e){null==e&&(e=cc.director.getScene()),t.removeChild(e,n.Tag.Toast)},t.addLoading=function(t){u.default.getInstance().loadPrefab(c.ResourceUIConfig.prefab.Loading.path,i.gAssetBundleName.RESOURCES,function(e,o){if(o){var i=t||{},r=cc.instantiate(o),a=r.getComponent("Loading");if(null!=i.parent)null==i.parent.getChildByName(n.Tag.Loading)&&i.parent.addChild(r,8888,n.Tag.Loading);else{var s=cc.director.getScene();null==s.getChildByName(n.Tag.Loading)&&s.addChild(r,8888,n.Tag.Loading)}a&&a.show(t)}})},t.rmLoading=function(e){null==e&&(e=cc.director.getScene()),t.removeChild(e,n.Tag.Loading)},t.removeChild=function(t,e){if(t){var n=t.getChildByName(e);n&&n.removeFromParent(!0)}},t.createOptionGroup=function(){},t.addMask=function(t,e,n){u.default.getInstance().loadPrefab(c.ResourceUIConfig.prefab.Mask.path,i.gAssetBundleName.RESOURCES,function(o,i){if(i&&i&&cc.isValid(t)){var r=cc.instantiate(i),a=r.getComponent("Mask");a&&a.init(t,e,n),r.y=-75,t.addChild(r,-10,"Mask")}})},t.createUserInfoMenu=function(){},t.createUserHead=function(t){u.default.getInstance().loadPrefab(c.ResourceUIConfig.prefab.ComHead.path,i.gAssetBundleName.RESOURCES,function(e,n){if(n){if(!cc.isValid(t.parent))return void a.Logger.error("[comui createUserHead] parent is invalid");if(!cc.isValid(n))return void a.Logger.error("[comui createUserHead] prefab is invalid");var o=cc.instantiate(n);if(!o)return void a.Logger.error("[comui createUserHead] ist is null");var i=void 0,r=o.getComponent(f.ComHead);if(o.parent=t.parent,void 0!==t.pos&&(o.x=t.pos.x,o.y=t.pos.y),void 0!==t.scale?r.setHeadScale(t.scale):void 0!==t.size&&r.setHeadSize(t.size),void 0!==t.kuang&&r.setHeadKuang(t.kuang),void 0!==t.isSelect&&r.setSelect(t.isSelect),void 0!==t.showBg&&r.setHeadBgVisible(t.showBg),r.setLevel(t.level),r.setRankLevel(t.rankLever,t.rankStartLever),t.robot&&(i=s.GameConfig.getInstance().getRobotHeadUrl(t.custFaceId)),t.userId===d.DataProxy.getInstance().userData.userId){var c=d.DataProxy.getInstance().userData.userHead;if(c)return void r.updateHead(c)}var l=d.DataProxy.getInstance().gameData.getGameUserHead(t.userId);if(l)return void r.updateHead(l);if(r.setDefaultHead({faceId:t.faceId||0,sex:t.sex}),!t.robot&&t.userId&&(i=s.GameConfig.getInstance().getUserImagePicDownURL(t.userId)),t.url&&(i=t.url),i&&cc.sys.isNative){if(i=i.trim(),!1===/^(https?:\/\/)/.test(i))return void r.setDefaultHead({faceId:t.faceId,sex:t.sex});cc.assetManager.loadRemote(i,{ext:".jpg"},function(e,n){if(e){if(a.Logger.warn("Load Head Fail UserId: "+t.userId),!cc.isValid(r))return;r.setDefaultHead({faceId:t.faceId,sex:t.sex})}else{if(!cc.isValid(r))return;r.updateHead(n),t.save&&d.DataProxy.getInstance().gameData.setGameUserHead(t.userId,n)}})}}})},t.downLoadImage=function(t){return new Promise(function(e,n){l.HttpManager.Download({url:t}).then(function(t){e(t.bytes)}).catch(function(){n(!1)})})},t.upLoadImage=function(t){l.HttpManager.Upload({url:t.url,method:"post",exData:t.exData||"",body:t.body}).then(function(e){t.callback&&t.callback(e)}).catch(function(){})},t.downAndUpLoadHead=function(e,n,o){t.downLoadImage(e).then(function(e){var i=s.GameConfig.getInstance().getUpLoadHeadUrl();t.upLoadImage({url:i,exData:n+".jpg",body:e,callback:function(t){o&&o(t)}})})},t.createSprite=function(t,e){var n=new cc.Node,o=n.addComponent(cc.Sprite);return this.setSprite(n,t,e),o},t.setSprite=function(t,e,n){if(void 0===n&&(n=i.gAssetBundleName.RESOURCES),t&&e){var o=t.getComponent(cc.Sprite);if(o){var r=1;if(e&&e.startsWith("#")&&(r=2,e=e.substr(1,e.length)),1==r&&n){var s=u.default.getInstance().getSpriteFrame(e,n);s?o.spriteFrame=s:a.Logger.error("[ComUI setSprite] type=1 not fond "+e)}else u.default.getInstance().loadSpriteAsync(""+e,n).then(function(t){if(t){var n=new cc.SpriteFrame;n.setTexture(t),o.spriteFrame=n}else a.Logger.error("[ComUI setSprite] type=2 not fond "+e)})}}},t.createLable=function(t){var e=new cc.Node,n=e.addComponent(cc.Label);if(n.string=t.string,t.font&&(n.font=t.font),t.fontSize&&(n.fontSize=t.fontSize),t.horizontalAlign&&(n.horizontalAlign=t.horizontalAlign),t.lineHeight&&(n.lineHeight=t.lineHeight),t.verticalAlign&&(n.verticalAlign=t.verticalAlign),t.enableBold&&(n.enableBold=t.enableBold),t.enableItalic&&(n.enableItalic=t.enableItalic),t.enableUnderline&&(n.enableUnderline=t.enableUnderline),t.overflow&&(n.overflow=t.overflow),t.font&&(n.font=t.font),t.position&&(e.position=cc.v3(t.position)),t.color&&(e.color=t.color),t.outline){var o=e.addComponent(cc.LabelOutline);t.outlineColor&&(o.color=t.outlineColor),t.outlineWidth&&(o.width=t.outlineWidth)}return n.cacheMode=cc.Label.CacheMode.BITMAP,n},t.changeLabel=function(t,e){if(t&&e){e.fontSize&&(t.fontSize=e.fontSize),e.color&&(t.node.color=(new cc.Color).fromHEX(e.color)),void 0!==e.opacity&&(t.node.opacity=e.opacity);var n=t.node.getComponent(cc.LabelOutline);n&&(e.outline?(n.enabled=!0,n.color=(new cc.Color).fromHEX(e.outline)):n.enabled=!1)}},t.showSpeaker=function(t,e,o){var a=e||cc.director.getScene(),s=o||cc.v2(r.Display.cx,r.Display.cy),l=a.getChildByName(n.Tag.Speaker);if(l){var d=l.getComponent("ComSpeaker");d&&d.addSpeak(t)}else u.default.getInstance().loadPrefab(c.ResourceUIConfig.prefab.ComSpeaker.path,i.gAssetBundleName.RESOURCES,function(e,o){if(o){var i=cc.instantiate(o),r=i.getComponent("ComSpeaker");r||(r=i.addComponent("ComSpeaker")),r.addSpeak(t),i.x=s.x,i.y=s.y,a.addChild(i,0,n.Tag.Speaker)}})},t.createSkeleton=function(t,e,n){void 0===n&&(n=i.gAssetBundleName.RESOURCES);var o=t.getComponent(sp.Skeleton);return o||(o=t.addComponent(sp.Skeleton)),o},t.createParticle=function(t,e,n){if(void 0===n&&(n=i.gAssetBundleName.RESOURCES),t){var o=t.parent;o&&u.default.getInstance().loadParticle(e,n,function(e,n){if(!e&&cc.isValid(o)){var i=new cc.Node;i.parent=o,i.zIndex=t.zIndex||10,i.x=t.x||0,i.y=t.y||0;var r=i.addComponent(cc.ParticleSystem);r.file=n,r.autoRemoveOnFinish=!0}})}},t.getPrefabFromBundle=function(t,e){var n=h.ResConfigHandler.getBundleConfig(t);if(n&&n.has(t)){var o=n.get(t);if(o){var i=o.prefab;if(i)return i[e]}}return null},t.addPrefabToNode=function(t,e,n){n&&t&&u.default.getInstance().loadPrefab(n.path,e,function(e,o){if(e)cc.error("addPrefabToNode fail "+n.path);else if(o&&cc.isValid(t)){var i=cc.instantiate(o);i&&(cc.log("addPrefabToNode() add ok path=",n.path),t.addChild(i))}})},t.loadPrefabFromBundle=function(t,e,n){var o=this;t&&e&&n&&p.BundleMgr.getInstance().checkAndLoadBundles(e,function(){n.forEach(function(n){var i=o.getPrefabFromBundle(e,n);i&&o.addPrefabToNode(t,e,i)})})},t.setSpriteImage=function(t,e,n){if(t&&e&&n){var o=e.getSpriteFrame(n);o&&(t.spriteFrame=o)}},t.playSkeletonAnim=function(t,e,n,o){t&&(t.node.active=!0,t.setToSetupPose(),t.clearTracks(),t.enabled=!0,t.animation=e,t.paused=!1,null!=n&&(t.loop=n),t.setCompleteListener(function(){o&&o()}))},t.enableNodeGray=function(t,e,n){if(void 0===n&&(n=[]),t){[cc.Sprite,cc.Label].forEach(function(o){var i=t.getComponentsInChildren(o);i&&i.forEach(function(t){var o=!1;if(n.every(function(e){if(e===t.node.name)return o=!0,!1}),!o){var i=cc.Material.createWithBuiltin(e?"2d-gray-sprite":"2d-sprite",0);t.setMaterial(0,i),!e&&i.define("USE_TEXTURE",!0,0,!1)}})});var o=[];[sp.Skeleton].forEach(function(e){var n=t.getComponentsInChildren(e);n&&o.push(n)}),o.length>0&&cc.assetManager.loadBundle(i.gAssetBundleName.RESOURCES,function(n,i){if(n)return console.error(n);var r=e?"material/gray-spine":"material/normal-spine";i.load(r,cc.Material,function(e,n){n&&cc.isValid(t)&&o.forEach(function(t){t.forEach(function(t){t.setMaterial(0,n),t.markForRender(!0)})})})})}},t.getLabelSize=function(e){if(!e)return cc.Size.ZERO;var n=t.createLable({string:e.string,fontSize:e.fontSize,font:e.font});return n.node.parent=cc.director.getScene(),n.node.opacity=0,n.node.zIndex=-100,cc.tween(n.node).delay(.1).removeSelf().start(),new cc.Size(n.node.width,n.node.height)},t.changeRedDot=function(t,e){var n;if(e){if(n=t.getChildByName("reddot")){n.active=!0;var o=n.getComponentInChildren(cc.Label);o&&(o.node.active=e>1,e>1&&(o.string=""+e))}}else(n=t.getChildByName("reddot"))&&(n.active=!1)},t.serialize=function(t){var e=t.nodes,n=t.startX||0,o=t.anchor||0;if(e){var i,r,a=0;e.forEach(function(t){t.node.active&&(a=a+t.node.width*t.node.scale+t.gap||0)});for(var s=n-a*o,c=0;c<e.length;c++)(r=e[c].node).active&&(s+=e[c].gap||0,i=r.width*r.anchorX*r.scale,r.x=s+i,s=r.x+r.width*r.scale-i)}},t.LabelToGolden=function(t){if(t){t.node.color=(new cc.Color).fromHEX("#FEEF4E");var e=t.node.getComponent(cc.LabelOutline);e&&(e.enabled=!1,e.color=(new cc.Color).fromHEX("#bd4b06"),e.width=3,e.enabled=!0)}},t.StartTimeCountDown=function(e,n,o){void 0===o&&(o=null),t.StopTimeCountDown(e),e.string=g.ComUtils.formatTimeString(n,"00:00:00");var i=Date.now();cc.tween(e.node).repeatForever(cc.tween(e.node).call(function(){var r=Date.now(),a=(r-i)/1e3;i=r,(n-=a)>=0?e.string=g.ComUtils.formatTimeString(Math.floor(n),"00:00:00"):(t.StopTimeCountDown(e),o&&o())}).delay(.5)).start()},t.StopTimeCountDown=function(t){cc.isValid(t)&&cc.Tween.stopAllByTarget(t.node)},t.StartCountDown=function(e,n,o,i){t.StopTimeCountDown(e),o<=0||(cc.isValid(e)&&(e.string=cc.js.formatStr(n,o)),cc.tween(e.node).repeat(o,cc.tween().delay(1).call(function(){--o>0&&cc.isValid(e)?e.string=cc.js.formatStr(n,o):(t.StopTimeCountDown(e),i&&i())})).start())},t.getBtnStyle=function(t){for(var e=[{key:i.gColorStyle.GREEN,textColor:"#FFFFFF",outlineColor:"#135100",icon:"com_btn_green",iconLong:"com_btn_green_long"},{key:i.gColorStyle.YELLOW,textColor:"#FFFFFF",outlineColor:"#9b4102",icon:"com_btn_yellow",iconLong:"com_btn_yellow_long"},{key:i.gColorStyle.RED,textColor:"#FFFFFF",outlineColor:"#ac0e0e",icon:"com_btn_red",iconLong:"com_btn_red_long"},{key:i.gColorStyle.ORANGE,textColor:"#FFFFFF",outlineColor:"#9b1f02",icon:"com_btn_orange",iconLong:"com_btn_orange_long"},{key:i.gColorStyle.DARKBLUE,textColor:"#FFFFFF",outlineColor:"#122964",icon:"com_btn_dark_blue",iconLong:"com_btn_dark_blue_long"},{key:i.gColorStyle.GRAY,textColor:"#FFFFFF",outlineColor:"#858585",icon:"com_btn_gray",iconLong:"com_btn_gray_long"}],n=0;n<e.length;n++){var o=e[n];if(t&&t==o.key)return o}return null},t.playGoldChangeAction=function(t,e){void 0===e&&(e=50),t&&(cc.Tween.stopAllByTarget(t),t.active=!0,t.y=e,t.opacity=0,cc.tween(t).delay(1.3).to(.2,{opacity:255}).delay(.3).by(.5,{opacity:-255,y:80}).start())},t}();n.ComUI=_,cc._RF.pop()},{"../../lib/manager/BundleManager":"BundleManager","../../lib/manager/ResConfigHandler":"ResConfigHandler","../../lib/manager/ResManager":"ResManager","../../lib/network/HttpManager":"HttpManager","../../lib/utils/ComUtils":"ComUtils","../../lib/utils/Display":"Display","../../lib/utils/Logger":"Logger","../base/component/ComHead":"ComHead","../config/GameConfig":"GameConfig","../config/ResourceUIConfig":"ResourceUIConfig","../model/DataProxy":"DataProxy","./../const/Global":"Global"}],ComUserProfile:[function(t,e,n){"use strict";cc._RF.push(e,"de8b0RaFNNM3pEdsJpujuE8","ComUserProfile");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./../../../lib/base/CxComponent"),s=t("../../../../script/app/language/LanguageCfg"),c=t("../../../../script/lib/utils/ComUtils"),l=t("../../../lib/base/ComPopup"),u=t("./UserInfoPanel"),d=t("./UserTablePanel"),p=cc._decorator,h=p.ccclass,f=p.property,g=p.requireComponent,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnClose=null,e.toggleProfile=null,e.toggleTable=null,e.ndProfile=null,e.ndTable=null,e.userId=0,e.myUserId=0,e.bInGame=!1,e.bZoomIn=!0,e.delayLock=!0,e}return i(e,t),e.prototype.init=function(t){this.viewData=t,this.userId=t.userId,this.myUserId=t.myUserId,this.bInGame=t.bInGame||!1,this.initLayer()},e.prototype.isMySelfInfo=function(){return this.myUserId===this.userId},e.prototype.initParams=function(){return{title:"",showTitle:!1,showSubBG:!1}},e.prototype.initLayer=function(){if(this.toggleProfile){this.toggleProfile.node.on("toggle",this.onProfileToggleClick,this);for(var t=0,e=this.toggleProfile.getComponentsInChildren(cc.Label);t<e.length;t++)e[t].string=c.ComUtils.getLang(s.LangKey.text_profile)}if(this.toggleTable){this.toggleTable.node.on("toggle",this.onTableToggleClick,this);for(var n=0,o=this.toggleTable.getComponentsInChildren(cc.Label);n<o.length;n++)o[n].string=c.ComUtils.getLang(s.LangKey.text_table)}this.btnClose&&this.btnClose.node.on("click",this.onClose,this),this.swtichPanel(!1)},e.prototype.onProfileToggleClick=function(t){t.isChecked&&this.swtichPanel(!1)},e.prototype.onTableToggleClick=function(t){t.isChecked&&this.swtichPanel(!0)},e.prototype.onClose=function(){this.node.destroy(),this.viewData=null},e.prototype.swtichPanel=function(t){t?(this.ndTable&&(this.ndTable.active=!0,this.pUserTablePanel||(this.pUserTablePanel=this.ndTable.getComponent(d.default),this.pUserTablePanel&&this.pUserTablePanel.init({curTableId:this.viewData.curTableId,ownTableList:this.viewData.ownTableList||[1],bMySelf:this.isMySelfInfo()}))),this.ndProfile&&(this.ndProfile.active=!1)):(this.ndTable&&(this.ndTable.active=!1),this.ndProfile&&(this.ndProfile.active=!0,this.pUserInfoPanel||(this.pUserInfoPanel=this.getComponent(u.default),this.pUserInfoPanel&&this.pUserInfoPanel.init(this.viewData))))},r([f(cc.Button)],e.prototype,"btnClose",void 0),r([f(cc.Toggle)],e.prototype,"toggleProfile",void 0),r([f(cc.Toggle)],e.prototype,"toggleTable",void 0),r([f(cc.Node)],e.prototype,"ndProfile",void 0),r([f(cc.Node)],e.prototype,"ndTable",void 0),r([h,g(l.ComPopup)],e)}(a.CxComponent);n.default=_,cc._RF.pop()},{"../../../../script/app/language/LanguageCfg":"LanguageCfg","../../../../script/lib/utils/ComUtils":"ComUtils","../../../lib/base/ComPopup":"ComPopup","./../../../lib/base/CxComponent":"CxComponent","./UserInfoPanel":"UserInfoPanel","./UserTablePanel":"UserTablePanel"}],ComUtils:[function(t,e,n){"use strict";cc._RF.push(e,"afe27287a5Ovagksx0HZp9J","ComUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.ComUtils=void 0;var o=t("./StringBuffer"),i=t("../i18n/i18nHelper"),r=t("../../app/language/LanguageImpl"),a=t("./Display"),s=t("../../app/const/Global"),c=t("../network/HttpManager"),l=t("../../app/config/GameConfig"),u=t("../../app/model/DataProxy"),d=function(){function t(){}return t.withd=function(t,e){return null!=t?t:e},t.pad=function(t,e){for(var n=t.toString();n.length<e;)n="0"+n;return n},t.random=function(t,e){return this.isNull(e)&&(e=t+1),Math.round(Math.random()*(e-t))+t},t.utf8StrToU8=function(t){for(var e=[],n=0,o=0;o<t.length;o++){var i=t.charCodeAt(o);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&o+1<t.length&&56320==(64512&t.charCodeAt(o+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++o)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return new Uint8Array(e)},t.u8ToUTF8Str=function(t){for(var e=[],n=0,o=0;n<t.length;){var i=t[n++];if(i<128)e[o++]=String.fromCharCode(i);else if(i>191&&i<224){var r=t[n++];e[o++]=String.fromCharCode((31&i)<<6|63&r)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(r=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[o++]=String.fromCharCode(55296+(a>>10)),e[o++]=String.fromCharCode(56320+(1023&a))}else{r=t[n++];var s=t[n++];e[o++]=String.fromCharCode((15&i)<<12|(63&r)<<6|63&s)}}return e.join("")},t.objToU8=function(e){if(e){var n=JSON.stringify(e);if(n)return t.utf8StrToU8(n)}return null},t.color=function(t,e,n){var o=0;return o|=t<<16,(o|=e<<8)|n},t.subStr=function(t,e,n){if(this.isTextEmpty(t))return"";for(var o=function(t){for(var e=[],n=0,o=0,i=0;i<t.length;){var r=i;if(65039!=(n=t.charCodeAt(i++)))if(o){var a=65536+(o-55296<<10)+(n-56320);e.push({v:a,pos:r}),o=0}else 55296<=n&&n<=56319?o=n:e.push({v:n,pos:r})}return e}(t),i=0,r=0,a=0;a<o.length;++a){var s=1;if(o[a].v>=128&&(s=2),i+s>e)break;r=a,i+=s}if(o.length-1==r)return t;var c="";return n&&(c="..."),t.substring(0,o[r].pos+1)+c},t.isTextEmpty=function(t){return void 0===t||null==t||0==t.trim().length},t.isNotNull=function(t){return void 0!==t&&null!=t},t.isNull=function(t){return void 0===t||null==t},t.startsWith=function(t,e){return 0===t.indexOf(e)},t.formatGoldStr=function(t,e,n){void 0===e&&(e=1e5);var o="";if(t<(e=e||1e5))o=this.numberFormat(t,0,".",",","floor");else{null==n&&(n=2);var i=0,r="";t<1e6?(r="K",i=t/1e3):1e6<=t&&t<1e9?(r="M",i=t/1e6):1e9<=t&&(r="B",i=t/1e9);var a=this.numberFormat(i,n,".",",","floor");a.endsWith(".00")&&(a=a.substring(0,a.length-3)),o=a+r}return o},t.numberFormat=function(t,e,n,o,i){t=(t+"").replace(/[^0-9+-Ee.]/g,""),i=i||"ceil";for(var r=isFinite(+t)?+t:0,a=isFinite(+e)?Math.abs(e):0,s=void 0===o?",":o,c=void 0===n?".":n,l=(a?function(t,e){var n=Math.pow(10,e);return""+parseFloat(Math[i](parseFloat((t*n).toFixed(2*e))).toFixed(2*e))/n}(r,a):""+Math.round(r)).split("."),u=/(-?\d+)(\d{3})/;u.test(l[0]);)l[0]=l[0].replace(u,"$1"+s+"$2");return(l[1]||"").length<a&&(l[1]=l[1]||"",l[1]+=new Array(a-l[1].length+1).join("0")),l.join(c)},t.clone=function(t){if(!t||[]==t||{}==t)return t;var e;e=Array.isArray(t)?[]:{};for(var n=0,o=Object.keys(t);n<o.length;n++){var i=o[n];if(null==t[i])e[i]=null;else{var r="object"==typeof t[i]?this.clone(t[i]):t[i];e[i]=r}}return e},t.splitPathName=function(t){var e=t.split("/");return 0==e.length?t:e[e.length-1]},t.formatTT=function(e){return e.getFullYear()+"-"+t.pad(e.getMonth()+1,2)+"-"+t.pad(e.getDate(),2)+" "+e.getHours()+":"+t.pad(e.getMinutes(),2)+":"+t.pad(e.getSeconds(),2)},t.formatTimeString=function(t,e){var n="";if(null!=t){var o=0,i=0,r=0;e&&("00:00:00"==e?(o=Math.floor(t/3600),i=Math.floor(t%3600/60),r=Math.floor(t%3600%60),n=this.padTime(o)+":"+this.padTime(i)+":"+this.padTime(r)):"00:00"==e&&(i=Math.floor(t/60),r=Math.floor(t%60),n=this.padTime(i)+":"+this.padTime(r))),0==n.length&&(t>=3600?(o=Math.floor(t/3600),i=Math.floor(t%3600/60),r=Math.floor(t%3600%60),n=this.padTime(o)+":"+this.padTime(i)+":"+this.padTime(r)):(i=Math.floor(t/60),r=Math.floor(t%60),n=this.padTime(i)+":"+this.padTime(r)))}return n},t.padTime=function(t){return t<10?"0"+t:""+t},t.numToChinese=function(t){var e=["\u96f6","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d"],n=["","\u5341","\u767e","\u5343","\u4e07"],o=function(t){for(var o=t.toString().split("").reverse(),i="",r=0;r<o.length;r++)i=(0==r&&0==o[r]?"":r>0&&0==o[r]&&0==o[r-1]?"":e[o[r]]+(0==o[r]?n[0]:n[r]))+i;return i},i=Math.floor(t/1e4),r=(t%1e4).toString();return r.toString().length<4&&(r="0"+r),i?o(i)+"\u4e07"+o(r):o(t)},t.getRndInteger=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},t.randomString=function(e){for(var n=new o.StringBuffer,i=0;i<e;i++){var r=t.random(0,t.fileNameCharSet.length-1);n.append(t.fileNameCharSet.substring(r,r+1))}return n.toString()},t.compareVersion=function(t,e){for(var n=t.split("."),o=e.split("."),i=Math.max(n.length,o.length);n.length<i;)n.push("0");for(;o.length<i;)o.push("0");for(var r=0;r<i;r++){var a=parseInt(n[r]),s=parseInt(o[r]);if(a>s)return 1;if(a<s)return-1}return 0},t.delayLimit=function(t,e){if(void 0===e&&(e=1e3),void 0!==t.delayLock&&1==t.delayLock){t.delayLock=!1;var n=setTimeout(function(){t.delayLock=!0,clearTimeout(n)},e)}},t.isIOS=function(){return cc.sys.os==cc.sys.OS_OSX||cc.sys.os==cc.sys.OS_IOS},t.isAndroid=function(){return cc.sys.os==cc.sys.OS_ANDROID},t.getPlatform=function(){return this.isAndroid()?2:this.isIOS()?3:1},t.formatStr=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return cc.js.formatStr(t,e)},t.makeLang=function(t,e){return i.i18nHelper.makeLanguage(t,e)},t.getLang=function(t,e){return e?this.makeLang(t,e):r.LanguageImpl.i18n[t]||""},t.setLangText=function(t,e,n){t&&e&&(t.language=i.i18nHelper.makeLanguage(e,n))},t.loadRemoteImg=function(t,e){return new Promise(function(n,o){var i=cc.path.extname(t),r=cc.path.basename(t,i),a="";if(platform.getLocalImgPath(r,e).then(function(t){a=t}),cc.sys.isNative)if(jsb.fileUtils.isFileExist(a))t=jsb.fileUtils.fullPathForFilename(a);else{var s=cc.path.dirname(a);jsb.fileUtils.createDirectory(s)}cc.assetManager.loadRemote(t,{ext:i||".jpg"},function(e,i){e?o("[loadRemoteImg] fail url="+t):n(i)})})},t.playEnterAction=function(t,e,n,o,i,r){if(null!=t&&t.active){var s=e.x,c=e.y,l=0,u=0;switch(n){case"left_right":l=-a.Display.cx-o-a.Display.paddingLeft,u=c;break;case"right_left":l=a.Display.cx+o+a.Display.paddingRight,u=c;break;case"top_bottom":l=s,u=a.Display.cy+o+a.Display.paddingTop;break;case"bottom_top":l=s,u=-a.Display.cy-o-a.Display.paddingBottom}var d=255;i&&(d=125),cc.tween(t).set({opacity:d,x:l,y:u}).to(r,{position:cc.v3(s,c),opacity:255},{easing:cc.easing.sineOut}).start()}},t.getCurrencySymbol=function(t){var e="";return t&&(t==s.gMoneyType.EURO?e="\u20ac":t==s.gMoneyType.DOLLAR?e="$":t==s.gMoneyType.RMB?e="\xa5":t==s.gMoneyType.HK&&(e="HK$")),e},t.getCurrencyCode=function(t){var e="";return t&&(t==s.gMoneyType.EURO?e="EUR":t==s.gMoneyType.DOLLAR?e="USD":t==s.gMoneyType.RMB?e="CNY":t==s.gMoneyType.HK&&(e="HKD")),e},t.genShortLink=function(t){return new Promise(function(e,n){var o=l.GameConfig.getInstance().getShortLink()+t;c.HttpManager.Get(o).then(function(t){if(console.log("genShortLink "+JSON.stringify(t)),t.ok&&t.data){var o=JSON.parse(t.data);if(0===o.code)return void e(o.short_link)}n("error")})})},t.isLobbyScene=function(){return!u.DataProxy.getInstance().comData.isInGame()},t.numberToLan=function(t,e){var n={en:["","one","two","three","four","five","six","seven","eight","night","ten"],it:["","uno","due","tre","quattro","cinque","sei","sette","otto","nove","dieci"],es:["","uno","dos","tres","cuatro","cinco","seis","siete","ocho","nueve","diez"],zh:["","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341"]};return n[e]?n[e][t]:n.en[t]},t.stringToCamelCase=function(t){var e=[];return(t=t.toLowerCase()).split(" ").forEach(function(t){e.push(t.charAt(0).toUpperCase()+t.substring(1))}),e.join(" ")},t.fileNameCharSet="01234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",t}();n.ComUtils=d,cc._RF.pop()},{"../../app/config/GameConfig":"GameConfig","../../app/const/Global":"Global","../../app/language/LanguageImpl":"LanguageImpl","../../app/model/DataProxy":"DataProxy","../i18n/i18nHelper":"i18nHelper","../network/HttpManager":"HttpManager","./Display":"Display","./StringBuffer":"StringBuffer"}],ConfigDataProxy:[function(t,e,n){"use strict";cc._RF.push(e,"84200cbONRJm7GeB6dvyAh7","ConfigDataProxy"),Object.defineProperty(n,"__esModule",{value:!0}),n.RoomRuleParser=n.ConfigDataProxy=void 0;var o=t("./../../lib/utils/ComUtils"),i=t("./../const/Global"),r=function(){function t(){this._wxLibVersion="",this._mapAllGame=null,this._entryGameTypeList=[i.gHuskyGameType.SCOPA_GOLD,i.gHuskyGameType.SCOPA_GOLD_A],this._enterType=0,this._mapAllGame=new Map}return Object.defineProperty(t.prototype,"wxLibVersion",{get:function(){return this._wxLibVersion},set:function(t){this._wxLibVersion=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstPlayNowGameId",{get:function(){return this._firstPlayNowGameId||i.gHuskyGameType.SCOPA_GOLD},set:function(t){this._firstPlayNowGameId=t},enumerable:!1,configurable:!0}),t.prototype.clear=function(){this._mapAllGame.clear()},t.prototype.setEnterType=function(t){this._enterType=t},t.prototype.getEnterType=function(){return this._enterType},t.prototype.isLocalDefine=function(t){var e=!1;for(var n in i.gHuskyGameType)if(i.gHuskyGameType.hasOwnProperty(n)&&t===Number(n)){e=!0;break}return e},t.prototype.addGameInfo=function(t){var e=t.dwGameType;if(!1!==this.isLocalDefine(e)){var n=this._mapAllGame.get(e);n||(n=new Array,this._mapAllGame.set(e,n)),n.push(t),i.Global.addGame(t.dwGameID,e)}},t.prototype.sortByGameType=function(t){var e=this._mapAllGame.get(t);e&&e.sort(function(t,e){return t.dwGameID-e.dwGameID})},t.prototype.getGameConfigByGameId=function(t){var e=null;return this._mapAllGame.forEach(function(n){if(n)for(var o=0;o<n.length;o++){var i=n[o];i&&i.dwGameID==t&&(e=i)}}),e},t.prototype.getGameConfigList=function(t){return this._mapAllGame.get(t)},t.prototype.canEnterGameByGold=function(t,e){var n=this.getGameConfigByGameId(t),o=this.getEnterType();if(n&&n.chClientData&&null!=e){var i=n.chClientData.dg,r=n.chClientData.ug;if(null!=i&&null!=r)if(0==r){if(e>=i)return!0}else if(0==o){if(e>=i&&e<r)return!0}else if(e>=i)return!0}return!1},t.prototype.isGoldEnoughEnterGameType=function(t,e){return!!this.getCanEnterGameConfigByGold(t,e)},t.prototype.isGoldOverLimit=function(t,e){var n=this.getGameConfigByGameId(t);return!!(n&&n.chClientData&&e&&e>n.chClientData.ug&&0!=n.chClientData.ug)},t.prototype.isGoldPoorByGameId=function(t,e){e=e||0;var n=this.getGameConfigByGameId(t);return!!(n&&n.chClientData&&e<n.chClientData.dg)},t.prototype.getQuickGameConfig=function(t,e,n){var o=this._mapAllGame.get(t);if(o){for(var i=-1,r=o.length-1;r>=0;r--)if((c=o[r]).chClientData){var a=c.chClientData.dwps,s=c.chClientData.uwps;if(null!=a&&null!=s)if(0==s){if(n>=a){i=r;break}}else if(n>=a&&n<s){i=r;break}}if(i>=0)for(r=i;r>=0;r--){var c;if((c=o[r]).chClientData){var l=c.chClientData.dg,u=c.chClientData.ug;if(null!=l&&null!=u)if(0==u){if(e>=l)return c}else if(e>=l)return c}}}return null},t.prototype.getQuickGameConfigByGold=function(t,e){var n=this._mapAllGame.get(t);if(n)for(var o=n.length-1;o>=0;o--){var i=n[o];if(i.chClientData){var r=i.chClientData.dg,a=i.chClientData.ug;if(null!=r&&null!=a)if(0==a){if(e>=r)return i}else if(e>=r&&e<a)return i}}return null},t.prototype.getGameConfigByGold=function(t,e,n,o){void 0===o&&(o=!1);var i=this._mapAllGame.get(t);if(i){for(var r=0,a=0;a<i.length;a++)if(i[a].dwGameID===e){r=a;break}if(o){if(r<=0)return null;for(a=r-1;a>=0;a--)if((l=i[a]).chClientData){var s=l.chClientData.dg,c=l.chClientData.ug;if(null!=s&&null!=c)if(0==c){if(n>=s)return l}else if(n>=s)return l}}else{if(r==i.length-1)return null;for(a=r+1;a<i.length;a++){var l;if((l=i[a]).chClientData&&null!=(s=l.chClientData.dg)&&n>=s)return l}}}return null},t.prototype.getCanEnterGameConfigByGold=function(t,e){var n=this.getEnterType(),o=this._mapAllGame.get(t);if(o)for(var i=o.length-1;i>=0;i--){var r=o[i];if(r.chClientData){var a=r.chClientData.dg,s=r.chClientData.ug;if(null!=a&&null!=s)if(0==s){if(e>=a)return r}else if(0==n){if(e>=a&&e<s)return r}else if(e>=a)return r}}return null},t.prototype.isPowerEnoughEnterGameId=function(t,e){var n=this.getGameConfigByGameId(t);return!!(n&&n.chClientData&&e&&e>=(n.chClientData.consumeps||0))},t.prototype.isPowerEnoughEnterGameType=function(t,e){var n=this._mapAllGame.get(t);if(n)for(var o=n.length-1;o>=0;o--){var i=n[o];if(i.chClientData&&e>=(i.chClientData.consumeps||0))return!0}return!1},t.prototype.findCloserGameConfigByGold=function(t,e){t=t||0;var n=this.getGameConfigByGameId(t);if(n){var o=n.chClientData.dg,i=n.chClientData.ug;if(0==i)return o<=e?n:e<o?this.getGameConfigByGold(n.dwGameType,t,e,!0):this.getGameConfigByGold(n.dwGameType,t,e,!1);if(o<=e&&e<i)return n;if(e<o)return this.getGameConfigByGold(n.dwGameType,t,e,!0);if(e>=i)return this.getGameConfigByGold(n.dwGameType,t,e,!1)}return null},t.prototype.getEnterGameCheckResultByGameId=function(t,e,n){var o={powerCanEnter:!1,bPowerPoor:!1,bPowerRich:!1,goldCanEnter:!1,bGoldPoor:!1,bGoldRich:!1},i=this.getGameConfigByGameId(t);if(!i)return null;var r=i.chClientData;if(r){var a=r.consumeps||0,s=r.dwps,c=r.uwps;n>=a&&(o.powerCanEnter=!0),s>n?o.bPowerPoor=!0:0!=c&&c<n&&(o.bPowerRich=!0)}if(r){var l=r.dg,u=r.ug;l>e?o.bGoldPoor=!0:0!=u&&u<e&&(o.bGoldRich=!0),0==u?l<=e&&(o.goldCanEnter=!0):l<=e&&e<u&&(o.goldCanEnter=!0)}return o},t.prototype.isGameTypeExist=function(t){return this._mapAllGame.has(t)},t.prototype.isGameIdExist=function(t){return!!this.getGameConfigByGameId(t)},t.prototype.findGameInfoByGoldAndPower=function(t,e){var n=this,o=null;return this._mapAllGame.forEach(function(i,r){o||(o=n.getQuickGameConfig(r,t,e))}),o},t.prototype.setEntryGameTypeList=function(t){t&&t.length>0&&(this._entryGameTypeList=o.ComUtils.clone(t))},t.prototype.getEntryGameTypeList=function(){return this._entryGameTypeList},t.prototype.getGameTypeByGameId=function(t){var e=this.getGameConfigByGameId(t);return e?e.dwGameType:0},t}();n.ConfigDataProxy=r;var a=function(){function t(t){this.cfg=t,t=t||{}}return t.prototype.isAScopa=function(){return 1===this.cfg.ascopa},t.prototype.isSettleNormal=function(){return 1===this.cfg.settlegoldmode},t.prototype.isWild=function(){return 1===this.cfg.wild},t}();n.RoomRuleParser=a,cc._RF.pop()},{"./../../lib/utils/ComUtils":"ComUtils","./../const/Global":"Global"}],Crc32:[function(t,e,n){"use strict";cc._RF.push(e,"0b0faCb6sZIRITPlDZZ/efV","Crc32"),Object.defineProperty(n,"__esModule",{value:!0}),n.Crc32=void 0;var o=function(){function t(){}return t.crc32=function(e,n){var o=n,i=e.position;e.position=0;for(var r=0;r<e.length;r++)o=o<<8^t.TABLES[255&(o>>24^e.readUnsignedByte())];return e.position=i,o},t.TABLES=[0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188],t}();n.Crc32=o,cc._RF.pop()},{}],CreateRoomInfo:[function(t,e,n){"use strict";cc._RF.push(e,"ee5abHJpE9Oa6Cqxq3OHfmI","CreateRoomInfo"),Object.defineProperty(n,"__esModule",{value:!0}),n.CreateRoomInfo=void 0;var o=t("../../../lib/event/EventDispatcher"),i=t("../../../lib/utils/ComUtils"),r=t("../../const/Global"),a=t("../LocalDataProxy"),s=t("../../event/Notify"),c=t("../DataProxy"),l=function(){function t(){this.allRoomInfo=new Map}return t.getInstance=function(){return null===t.instance&&(t.instance=new t),t.instance},t.prototype.isLocalDefine=function(t){var e=!1,n=r.Global.convertGameType(t);for(var o in r.gHuskyGameType)if(r.gHuskyGameType.hasOwnProperty(o)&&n===Number(o)){e=!0;break}return e},t.prototype.setCreateInfo=function(t){!1!==this.isLocalDefine(t.gid)&&this.allRoomInfo.set(t.gid,t)},t.prototype.getGameList=function(){var t=new Array;return this.allRoomInfo.forEach(function(e,n){t.push(n)}),t},t.prototype.getCreateInfoByGid=function(t){return this.allRoomInfo.get(t)},t.prototype.setLastGameId=function(t){o.EventDispatcher.getInstance().dispatch(s.Notify.Base.SET_LOCAL_STORAG,{key:a.LocalStorageProxy.LastGid,value:t})},t.prototype.getLastGameId=function(){var t=Number(c.DataProxy.getInstance().localData.get(a.LocalStorageProxy.LastGid,this.getGameList()[0]));return void 0===this.allRoomInfo.get(t)&&(t=this.getGameList()[0]),t},t.prototype.ecodeLocalInfo=function(){var t=this.getLastGameId(),e=this.getCreateInfoByGid(t),n={};this.ecode(e,n);var i=JSON.stringify(n);o.EventDispatcher.getInstance().dispatch(s.Notify.Base.SET_LOCAL_STORAG,{key:cc.js.formatStr(a.LocalStorageProxy.CreateInfo,t),value:i})},t.prototype.ecode=function(t,e){if("object"==typeof t)for(var n in t)if(t.hasOwnProperty(n)){var o=t[n];if("object"==typeof o)Array.isArray(o)?(e[n]=[],this.ecode(o,e[n])):(e[n]={},this.ecode(o,e[n]));else{var i=String(n).toLowerCase();-1===i.indexOf("def")&&-1===i.indexOf("diy")&&-1===i.indexOf("dp")||(e[n]=o)}}},t.prototype.decodeLocalInfo=function(){var t=this.getLastGameId(),e=this.getCreateInfoByGid(t),n=c.DataProxy.getInstance().localData.get(cc.js.formatStr(a.LocalStorageProxy.CreateInfo,t),"");if(!i.ComUtils.isTextEmpty(n)){var o=JSON.parse(n);this.decode(o,e)}return t},t.prototype.decode=function(t,e){if(void 0!==e&&"object"==typeof t)for(var n in t)if(t.hasOwnProperty(n)){var o=t[n];"object"==typeof o?this.decode(o,e[n]):e[n]=o}},t.prototype.clear=function(){this.allRoomInfo=new Map},t.instance=null,t}();n.CreateRoomInfo=l,cc._RF.pop()},{"../../../lib/event/EventDispatcher":"EventDispatcher","../../../lib/utils/ComUtils":"ComUtils","../../const/Global":"Global","../../event/Notify":"Notify","../DataProxy":"DataProxy","../LocalDataProxy":"LocalDataProxy"}],CurrencyChangeHandler:[function(t,e,n){"use strict";cc._RF.push(e,"d5135l7xgVM/qtSXkoq/2g0","CurrencyChangeHandler");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.CurrencyChangeHandler=void 0,t("./../../../lib/utils/Logger");var r=t("../../base/handler/ProxyHandler"),a=t("../../event/Notify"),s=t("../../../plugin/pb/protofile/GlobalMsgDef"),c=t("../../../plugin/pb/protofile/GoldGemChangeMsgDef"),l=t("../../const/Global"),u=t("../../event/GuiEvent"),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getName=function(){return"CurrencyChangeHandler"},e.prototype.protocolConfig=function(){return[{protocol:c.Msg_SC_DataChange,subid:c.USERDATA_CHANG_SUB_MSG.MSG_SC_GOLD_CHANGE,cb:this.onGoldChangeMsg},{protocol:c.Msg_SC_DataChange,subid:c.USERDATA_CHANG_SUB_MSG.MSG_SC_HONGBAO_CHANGE,cb:this.onHongBaoChangeMsg},{protocol:c.Msg_SC_DataChange,subid:c.USERDATA_CHANG_SUB_MSG.MSG_SC_GEM_CHANGE,cb:this.onGemChangeMsg},{protocol:c.Msg_SC_DataChange,subid:c.USERDATA_CHANG_SUB_MSG.MSG_SC_PS_CHANGE,cb:this.onPowerChangeMsg}]},e.prototype.initEvent=function(){t.prototype.initEvent.call(this)},e.prototype.getMainID=function(){return s.MAIN_MSG_ID.MAIN_MSG_USERDATA_CHANGE_ID},e.prototype.clear=function(){this.removeEvent(null)},e.prototype.onGoldChangeMsg=function(t){var e=t.data;if(e.dwUserID==this.userData.userId){var n={userId:this.userData.userId,gold:e.llTotalNum,changeNum:e.llChangeNum,changeType:e.dwChangeType};this.dispatch(a.Notify.Base.SET_USERINFO,n),this.dispatch(a.Notify.Base.UPDATE_CURRENCY,n)}if(this.dispatch(a.Notify.UserInfo.UPDATE_USER_GOLD,{userId:e.dwUserID,gold:e.llTotalNum}),this.isGoldChangeNeedPlayAnim(e.dwChangeType)&&e.llChangeNum>0){var o=l.gSceneType.Lobby;this.gameData.enterGameId>0&&this.gameData.enterSceneInfo&&(o=this.gameData.enterSceneInfo.fromScene),this.dispatch(u.GuiEvent.Anim.COM_AWARD_ANIM,{gold:e.llTotalNum,awardNum:e.llChangeNum,scene:o,mask:!0})}},e.prototype.onGemChangeMsg=function(t){var e=t.data;if(e.dwUserID==this.userData.userId){var n={userId:this.userData.userId,gem:e.llTotalNum,changeNum:e.llChangeNum,changeType:e.dwChangeType};this.dispatch(a.Notify.Base.SET_USERINFO,n),this.dispatch(a.Notify.Base.UPDATE_CURRENCY,n)}},e.prototype.onPowerChangeMsg=function(t){var e=t.data;if(e.dwUserID==this.userData.userId){var n={userId:this.userData.userId,power:e.llTotalNum,changeNum:e.llChangeNum,changeType:e.dwChangeType};if(this.userData.powerInfo&&(this.userData.powerInfo.dwCurPS=e.llTotalNum),this.dispatch(a.Notify.Base.UPDATE_POWER_INFO,n),this.isPowerChangeNeedPlayAnim(e.dwChangeType)&&e.llChangeNum>0){var o=l.gSceneType.Lobby;this.gameData.enterGameId>0&&this.gameData.enterSceneInfo&&(o=this.gameData.enterSceneInfo.fromScene),this.dispatch(u.GuiEvent.Anim.COM_POWER_ANIM,{power:e.llTotalNum,awardNum:e.llChangeNum,scene:o,mask:!0})}}},e.prototype.onHongBaoChangeMsg=function(t){var e=t.data;if(e.dwUserID==this.userData.userId){var n={hbNum:e.llTotalNum,changeNum:e.llChangeNum,changeType:e.dwChangeType};this.dispatch(a.Notify.Base.SET_USERINFO,n),this.dispatch(a.Notify.Base.UPDATE_CURRENCY,n),this.dispatch(a.Notify.Base.UPDATE_HB_INFO,n)}},e.prototype.isNeedPlayAnim=function(t,e){switch(t){case c.USERDATA_CHANG_SUB_MSG.MSG_SC_GOLD_CHANGE:return this.isGoldChangeNeedPlayAnim(e);case c.USERDATA_CHANG_SUB_MSG.MSG_SC_GEM_CHANGE:case c.USERDATA_CHANG_SUB_MSG.MSG_SC_HONGBAO_CHANGE:case c.USERDATA_CHANG_SUB_MSG.MSG_SC_DAOJU_CHANGE:break;case c.USERDATA_CHANG_SUB_MSG.MSG_SC_PS_CHANGE:return this.isPowerChangeNeedPlayAnim(e)}return!0},e.prototype.isGoldChangeNeedPlayAnim=function(t){return!([1,c.GOLD_TYPE.ROBOT_SITDESK_GOLD,c.GOLD_TYPE.GAME_SERVER_TAIFEI,c.GOLD_TYPE.TASK_REWARD,c.GOLD_TYPE.GAME_SERVER_CHOUSHUI,c.GOLD_TYPE.TABLE_FINISH_GOLD,c.GOLD_TYPE.SHOP_OPENBOX,c.GOLD_TYPE.BANKRUPT_GG_REWARD,c.GOLD_TYPE.MRCJ_GG_GOLD,c.GOLD_TYPE.CD_TIME_GG_GOLD,c.GOLD_TYPE.TASK_GG_REWARD,c.GOLD_TYPE.GOLDEN_DAILY_GOLD,c.GOLD_TYPE.GOLDEN_PASS_GOLD,c.GOLD_TYPE.CRIT_GG_GOLD,c.GOLD_TYPE.EXP_LEVEL_GOLD].includes(t)||!t)},e.prototype.isPowerChangeNeedPlayAnim=function(t){return!([c.TILI_TYPE.TABLE_FINISH_PS,c.TILI_TYPE.MRCJ_GG_PS,c.TILI_TYPE.CD_TIME_GG_PS,c.TILI_TYPE.GOLDEN_DAILY_PS,c.TILI_TYPE.GOLDEN_PASS_PS,c.TILI_TYPE.CRIT_GG_PS,c.TILI_TYPE.PC_PS,c.TILI_TYPE.EXP_LEVEL_PS].includes(t)||!t)},e}(r.ProxyHandler);n.CurrencyChangeHandler=d,cc._RF.pop()},{"../../../plugin/pb/protofile/GlobalMsgDef":"GlobalMsgDef","../../../plugin/pb/protofile/GoldGemChangeMsgDef":"GoldGemChangeMsgDef","../../base/handler/ProxyHandler":"ProxyHandler","../../const/Global":"Global","../../event/GuiEvent":"GuiEvent","../../event/Notify":"Notify","./../../../lib/utils/Logger":"Logger"}],CurrencyChangeMsg:[function(t,e,n){"use strict";cc._RF.push(e,"77203P8Fk5HGZyrqb68vEcY","CurrencyChangeMsg");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.CurrencyChange=void 0;var r=t("../../../lib/network/struct/StructProtocol"),a=t("../../../plugin/pb/protofile/GlobalMsgDef"),s=t("../../../plugin/pb/protofile/GoldGemChangeMsgDef");(function(t){t.mainId=a.MAIN_MSG_ID.MAIN_MSG_USERDATA_CHANGE_ID;var e=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=s.Msg_SC_DataChange.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+s.USERDATA_CHANG_SUB_MSG.MSG_SC_GOLD_CHANGE,n}(r.StructProtocol);t.MSG_SC_GoldChange=e;var n=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=s.Msg_SC_DataChange.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+s.USERDATA_CHANG_SUB_MSG.MSG_SC_HONGBAO_CHANGE,n}(r.StructProtocol);t.MSG_SC_HongBaoChange=n;var o=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=s.Msg_SC_DataChange.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+s.USERDATA_CHANG_SUB_MSG.MSG_SC_GEM_CHANGE,n}(r.StructProtocol);t.MSG_SC_GemChange=o;var c=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=s.Msg_SC_DataChange.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+s.USERDATA_CHANG_SUB_MSG.MSG_SC_DAOJU_CHANGE,n}(r.StructProtocol);t.MSG_SC_DaoJuChange=c;var l=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=s.Msg_SC_DataChange.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+s.USERDATA_CHANG_SUB_MSG.MSG_SC_PS_CHANGE,n}(r.StructProtocol);t.MSG_SC_PSChange=l})(n.CurrencyChange||(n.CurrencyChange={})),cc._RF.pop()},{"../../../lib/network/struct/StructProtocol":"StructProtocol","../../../plugin/pb/protofile/GlobalMsgDef":"GlobalMsgDef","../../../plugin/pb/protofile/GoldGemChangeMsgDef":"GoldGemChangeMsgDef"}],CutMask:[function(t,e,n){"use strict";cc._RF.push(e,"6c04dmQOXFKlq/BvsSzdrkd","CutMask");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.CutMask=void 0;var a=t("./../../../lib/base/CxComponent"),s=t("./Mask"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){this.shapeWorldPos=cc.v2(750,800),this.cutShape=cc.rect(0,0,100,100);var t=this.node.convertToNodeSpaceAR(this.shapeWorldPos);this.node.x=t.x,this.node.y=t.y,this.node.width=this.cutShape.width,this.node.height=this.cutShape.height,this.mask=this.getComponentInChildren(s.Mask),this.mask.node.x=-t.x,this.mask.node.y=-t.y},r([l],e)}(a.CxComponent));n.CutMask=u,cc._RF.pop()},{"./../../../lib/base/CxComponent":"CxComponent","./Mask":"Mask"}],CxCompExt:[function(t,e,n){"use strict";cc._RF.push(e,"ed52cenJ/xKOYU+GBL07YhJ","CxCompExt");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.CxCompExt=void 0;var a=t("./CxComponent"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){var e=t.call(this)||this;return e.$bInit=!1,e.$eventList=new Map,e}return i(e,t),e.prototype.onLoad=function(){this.$bInit?(this.initEvent(),t.prototype.onLoad.call(this),this.$eventList.clear()):this.enabled=!1},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),this.$eventList.clear()},e.prototype.listEvent=function(){return this.$eventList},e.prototype.bindEvent=function(t,e){null!=t&&null!==e&&this.$eventList.set(t,e)},e.prototype.initEvent=function(){},e.prototype.getIsInit=function(){return this.$bInit},e.prototype.init=function(){this.$bInit=!0,0==this.enabled&&(this.enabled=!0,this.onLoad())},e.prototype.clear=function(){},e.prototype.updateData=function(){},e.prototype.updateView=function(){},e.prototype.delayCall=function(t,e){cc.tween(this.node).delay(e||.1).call(function(){t&&t()}).start()},r([c],e)}(a.CxComponent));n.CxCompExt=l,cc._RF.pop()},{"./CxComponent":"CxComponent"}],CxComponent:[function(t,e,n){"use strict";cc._RF.push(e,"6d8ff6qN7NMbrdjwK4B1wgK","CxComponent");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.CxComponent=void 0;var a=t("../event/EventDispatcher"),s=cc._decorator.ccclass,c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){var t=this;this.httpRequest=[];var e=this.listEvent();e&&e.size>0&&e.forEach(function(e,n){a.EventDispatcher.getInstance().add(n,e,t,0)})},e.prototype.listEvent=function(){return null},e.prototype.onDestroy=function(){a.EventDispatcher.getInstance().remove(this),this.httpRequest&&this.httpRequest.length>0&&this.httpRequest.forEach(function(t){t.cancel()}),this.httpRequest=null},e.prototype.dispatch=function(t,e){a.EventDispatcher.getInstance().dispatch(t,e)},e.prototype.addRequest=function(t){this.httpRequest.push(t)},e.prototype.close=function(){this.onBeforeClose(),this.node.destroy()},e.prototype.onBeforeClose=function(){},e.prototype.setVerticalOffset=function(){},r([s],e)}(cc.Component);n.CxComponent=c,cc._RF.pop()},{"../event/EventDispatcher":"EventDispatcher"}],CxSocket:[function(t,e,n){"use strict";cc._RF.push(e,"7760fvdJ2tEWr5vdR3Fw9hU","CxSocket"),Object.defineProperty(n,"__esModule",{value:!0}),n.CxSocket=void 0;var o=t("../event/EventDispatcher"),i=t("../event/BaseEvent"),r=t("../../app/module/buryPoint/BuryPoint"),a=t("./../../app/module/buryPoint/BuryPointUtils"),s=[0,2e3,4e3,7e3,1e4,15e3,2e4,25e3],c=function(){function t(t){this._isWaitingConnect=!1,this.ws=null,this.timeoutId=0,this.curReconnectNum=0,this.wsUrl="",this.cxname="",this.pendingMsgList=[],this.cxname=t,this.pendingMsgList=[]}return t.prototype.registeHandler=function(){this.ws.onmessage=this.wsMessage.bind(this),this.ws.onopen=this.wsOpen.bind(this),this.ws.onerror=this.wsError.bind(this),this.ws.onclose=this.wsClose.bind(this)},t.prototype.wsMessage=function(t){this.onReceive(t.data)},t.prototype.wsOpen=function(t){console.log("[CxSocket: wsOpen] "+this.cxname),this.onOpen(t),this.sendPendingMsg()},t.prototype.wsError=function(t){console.log("[CxSocket: wsError] "+this.cxname),a.BuryPointUtils.send(r.BuryPoint.Debug.Net.NetError),this.onError(t)},t.prototype.wsClose=function(t){console.log("[CxSocket wsClose] "+this.cxname);var e=0,n=0;this.ws&&(e=this.ws.SCOKETID),this.ws=null,t.target&&t.target.SCOKETID&&(n=t.target.SCOKETID,console.info("[CxSocket wsClose]: name="+this.cxname+" closeScoketId="+n+" curScoketId="+e)),this._isWaitingConnect?(this.createConnect(this.wsUrl),this._isWaitingConnect=!1):this.onClosed({event:t,curScoketId:e,closeScoketId:n,name:this.cxname})},t.prototype.onReceive=function(t){o.EventDispatcher.getInstance().dispatch(this.msgEvent,t)},t.prototype.onOpen=function(t){o.EventDispatcher.getInstance().dispatch(this.connectEvent,t)},t.prototype.onClosed=function(t){o.EventDispatcher.getInstance().dispatch(this.closeEvent,t)},t.prototype.onError=function(t){o.EventDispatcher.getInstance().dispatch(this.errorEvent,t)},Object.defineProperty(t.prototype,"connectEvent",{get:function(){return i.cx.Notify.Network.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"closeEvent",{get:function(){return i.cx.Notify.Network.CLOSED},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"errorEvent",{get:function(){return i.cx.Notify.Network.ERROR},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"msgEvent",{get:function(){return i.cx.Notify.Network.RECEIVED},enumerable:!1,configurable:!0}),t.prototype.isConnected=function(t){var e=null!=this.ws&&this.ws.readyState==WebSocket.OPEN;return t&&this.ws&&(e=e&&this.isSameURL(t,this.ws.url)),e||console.log("[CxSocket isConnected] "+this.cxname+"\u6ca1\u6709\u8fde\u4e0a \u5f53\u524d\u72b6\u6001="+(this.ws?this.ws.readyState:"\u6ca1\u6709\u521b\u5efa\u8fde\u63a5")),e},t.prototype.connect=function(t){return console.log("[CxSocket connect] url:"+t+" name="+this.cxname),!(!t||(this.ws?this.ws.readyState==WebSocket.CONNECTING?(this.isSameURL(this.ws.url,t)&&console.log("[CxSocket connect] \u6b63\u5728\u8fde\u63a5("+t+")"),0):this.ws.readyState==WebSocket.OPEN?(this.isSameURL(this.ws.url,t)&&console.log("[CxSocket connect] \u5df2\u7ecf\u8fde\u63a5("+t+")"),0):this.ws.readyState==WebSocket.CLOSING?(console.log("[CxSocket connect] \u6b63\u5728\u5173\u95ed\u4e2d"),this.wsUrl=t,this._isWaitingConnect=!0,1):(console.log("[CxSocket connect] \u5df2\u7ecf\u5173\u95ed"),this.ws.close=function(){},this.ws.onmessage=function(){},this.ws.onopen=function(){},this.ws.onerror=function(){},this.ws.onclose=function(){},this.ws=null,this.createConnect(t),1):(this.createConnect(t),1)))},t.prototype.createConnect=function(e){this.wsUrl=e,this.ws=new WebSocket(e),this.ws.binaryType="arraybuffer",this.ws.SCOKETID=++t.WEB_SCOKE_ID,this.registeHandler()},t.prototype.isSameURL=function(t,e){return t.endsWith("/")&&(t=t.substr(0,t.length-1)),e.endsWith("/")&&(e=e.substr(0,e.length-1)),t==e},t.prototype.send=function(t){this.internalSend(t)},t.prototype.internalSend=function(t){this.isConnected()?this.ws.send(t):console.log("[CxSocket] \u7f51\u7edc\u9519\u8bef\uff01\u6570\u636e\u7aef\u53e3\u672a\u6253\u5f00")},t.prototype.insertCacheMsg=function(t){t&&(this.pendingMsgList.length>20&&this.pendingMsgList.shift(),this.pendingMsgList.push(t))},t.prototype.sendPendingMsg=function(){if(this.pendingMsgList.length>0)for(var t=this.pendingMsgList.shift();t;)this.send(t),t=this.pendingMsgList.shift()},t.prototype.close=function(){if(this.pendingMsgList=[],this.ws){try{this.ws.close(1e3,"\u4e3b\u52a8\u5173\u95ed")}catch(t){cc.error("error while closing webSocket ",t)}this.ws.close=function(){},this.ws.onmessage=function(){},this.ws.onopen=function(){},this.ws.onerror=function(){},this.ws.onclose=function(){},this.ws=null,a.BuryPointUtils.send(r.BuryPoint.Debug.Net.CloseConnect,"\u4e3b\u52a8\u5173\u95ed")}},t.prototype.tryConnect=function(){if(""!==this.wsUrl&&!(this.isConnected(this.wsUrl)||this.timeoutId>0)){this.connect(this.wsUrl),this.curReconnectNum+=1;var t=1e4;s.length>this.curReconnectNum&&(t=s[this.curReconnectNum]),this.timeoutId=setTimeout(this.connectCheck.bind(this),t),console.log("[CxSocket] tryConnect curReconnectNum="+this.curReconnectNum+" name="+this.cxname)}},t.prototype.connectCheck=function(){this.timeoutId>0&&(clearTimeout(this.timeoutId),this.timeoutId=0),this.isConnected(this.wsUrl)?this.curReconnectNum=0:this.curReconnectNum<=20?this.tryConnect():this.curReconnectNum=0},t.TAG="[CxSocket] ",t.WEB_SCOKE_ID=0,t}();n.CxSocket=c,cc._RF.pop()},{"../../app/module/buryPoint/BuryPoint":"BuryPoint","../event/BaseEvent":"BaseEvent","../event/EventDispatcher":"EventDispatcher","./../../app/module/buryPoint/BuryPointUtils":"BuryPointUtils"}],DataProxy:[function(t,e,n){"use strict";cc._RF.push(e,"9d430KoQrZCRYTre6fnC/+M","DataProxy"),Object.defineProperty(n,"__esModule",{value:!0}),n.DataProxy=void 0;var o=t("../../lib/event/EventDispatcher"),i=t("./ConfigDataProxy"),r=t("./GameDataProxy"),a=t("./LocalDataProxy"),s=t("../event/Notify"),c=t("./OtherDataProxy"),l=t("./UserDataProxy"),u=t("./data/adv/AdvDataProxy"),d=t("./data/wx/ThirdPlatDataProxy"),p=t("./ComDataProxy"),h=t("./ShopDataProxy"),f=t("./TaskDataProxy"),g=t("./TablesDataProxy"),_=t("./ActivityDataProxy"),y=t("./AdDataProxy"),m=t("./data/InviteDataProxy"),b=t("./GoldenPassDataProxy"),v=t("./RankDataProxy"),S=function(){function t(){}return t.getInstance=function(){return t.sInstance||(t.sInstance=new t),t.sInstance},t.desInstance=function(){if(t.sInstance){var e=t.sInstance;e.localData&&(e.localData=null),e.gameData&&(e.gameData.clear(),e.gameData=null),e.userData&&(e.userData=null),e.configData&&(e.configData=null),e.adsData&&(e.adsData=null),e.thirdData&&(e.thirdData=null),e.otherData&&(e.otherData=null),e.comData&&(e.comData=null),e.shopData&&(e.shopData=null),e.taskData&&(e.taskData=null),t.sInstance=null}},Object.defineProperty(t.prototype,"rankData",{get:function(){return this._rankData},set:function(t){this._rankData=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"glodenPassData",{get:function(){return this._glodenPassData||(this._glodenPassData=new b.GoldenPassDataProxy),this._glodenPassData},set:function(t){this._glodenPassData=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localData",{get:function(){return this._localData||(this._localData=new a.LocalStorageProxy),this._localData},set:function(t){this._localData=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"configData",{get:function(){return this._configData||(this._configData=new i.ConfigDataProxy),this._configData},set:function(t){this._configData=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userData",{get:function(){return this._userData||(this._userData=new l.UserDataProxy),this._userData},set:function(t){this._userData=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gameData",{get:function(){return this._gameData||(this._gameData=new r.default),this._gameData},set:function(t){this._gameData=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"otherData",{get:function(){return this._otherData||(this._otherData=new c.OtherDataProxy),this._otherData},set:function(t){this._otherData=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"comData",{get:function(){return this._comData||(this._comData=new p.ComDataProxy),this._comData},set:function(t){this._comData=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shopData",{get:function(){return this._shopData||(this._shopData=new h.ShopDataProxy),this._shopData},set:function(t){this._shopData=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"taskData",{get:function(){return this._taskData||(this._taskData=new f.TaskDataProxy),this._taskData},set:function(t){this._taskData=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"adsData",{get:function(){return this._adsData||(this._adsData=new u.AdsDataProxy),this._adsData},set:function(t){this._adsData=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"thirdData",{get:function(){return this._thirdData||(this._thirdData=new d.ThirdPlatDataProxy),this._thirdData},set:function(t){this._thirdData=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tablesData",{get:function(){return this._tablesData||(this._tablesData=new g.TablesDataProxy),this._tablesData},set:function(t){this._tablesData=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activityData",{get:function(){return this._activityData||(this._activityData=new _.ActivityDataProxy),this._activityData},set:function(t){this._activityData=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"adData",{get:function(){return this._adData||(this._adData=new y.AdDataProxy),this._adData},set:function(t){this._adData=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inviteData",{get:function(){return this._inviteData||(this._inviteData=new m.default),this._inviteData},set:function(t){this._inviteData=t},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.initCommonData(),this.initBaseEvent()},t.prototype.initCommonData=function(){this.localData=new a.LocalStorageProxy,this.userData=new l.UserDataProxy,this.configData=new i.ConfigDataProxy,this.gameData=new r.default,this.otherData=new c.OtherDataProxy,this.comData=new p.ComDataProxy,this.shopData=new h.ShopDataProxy,this.taskData=new f.TaskDataProxy,this.adsData=new u.AdsDataProxy,this.thirdData=new d.ThirdPlatDataProxy,this.tablesData=new g.TablesDataProxy,this.activityData=new _.ActivityDataProxy,this.adData=new y.AdDataProxy,this.inviteData=new m.default,this.glodenPassData=new b.GoldenPassDataProxy,this.rankData=new v.default},t.prototype.clear=function(){o.EventDispatcher.getInstance().remove(this),this.userData.clear(),this.gameData.clear(),this.configData.clear(),this.otherData.clear(),this.comData.clear(),this.shopData.clear(),this.taskData.clear(),this.tablesData.clear(),this.activityData.clear(),this.adData.clear(),this.inviteData.clear(),this.glodenPassData.clear(),this.rankData.clear(),this.userData=null,this.localData=null,this.userData=null,this.configData=null,this.gameData=null,this.otherData=null,this.comData=null,this.shopData=null,this.taskData=null,this.adsData=null,this.thirdData=null,this.tablesData=null,this.activityData=null,this.adData=null,this.inviteData=null,this.glodenPassData=null,this.rankData=null},t.prototype.initBaseEvent=function(){var t=this;o.EventDispatcher.getInstance().add(s.Notify.Base.GET_CURRENCY,function(){o.EventDispatcher.getInstance().dispatch(s.Notify.Base.UPDATE_CURRENCY,{gold:t.userData.gold,gem:t.userData.gem,gemPercent:t.userData.gemPercent})},this),o.EventDispatcher.getInstance().add(s.Notify.Base.SET_USERINFO,function(e){if(e.userId===t.userData.userId){for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];void 0!==t.userData[n]&&(t.userData[n]=i)}o.EventDispatcher.getInstance().dispatch(s.Notify.Base.UPDATE_USERINFO,{userName:t.userData.userName,userId:t.userData.userId,userIP:t.userData.userIP,gender:t.userData.gender,faceId:t.userData.faceId,wxHeadUrl:t.userData.wxHeadUrl,userHead:t.userData.userHead,bIsGoldenPass:t.userData.bIsGoldenPass,level:t.userData.level,curExp:t.userData.curExp,nextLvlExp:t.userData.nextLvlExp})}},this),o.EventDispatcher.getInstance().add(s.Notify.Base.GET_USERINFO,function(){o.EventDispatcher.getInstance().dispatch(s.Notify.Base.UPDATE_USERINFO,{userName:t.userData.userName,userId:t.userData.userId,userIP:t.userData.userIP,gender:t.userData.gender,faceId:t.userData.faceId,wxHeadUrl:t.userData.wxHeadUrl,userHead:t.userData.userHead,bIsGoldenPass:t.userData.bIsGoldenPass,level:t.userData.level,curExp:t.userData.curExp,nextLvlExp:t.userData.nextLvlExp})},this),o.EventDispatcher.getInstance().add(s.Notify.Base.SET_LOCAL_STORAG,function(e){t.localData.set(e.key,e.value),o.EventDispatcher.getInstance().dispatch(s.Notify.Base.UPDATE_LOCAL_STORAG,{key:e.key,value:t.localData.get(e.key,e.value)})},this),o.EventDispatcher.getInstance().add(s.Notify.Base.GET_LOCAL_STORAG,function(e){o.EventDispatcher.getInstance().dispatch(s.Notify.Base.RTN_LOCAL_STORAG,{key:e.key,value:t.localData.get(e.key,e.value)})},this),o.EventDispatcher.getInstance().add(s.Notify.Other.SET_HALL_SHARE_CFG,function(e){t.otherData.setHallShareCfg(e)},this),o.EventDispatcher.getInstance().add(s.Notify.Other.GET_HALL_SHARE_CFG,function(){o.EventDispatcher.getInstance().dispatch(s.Notify.Other.RTN_HALL_SHARE_CFG,t.otherData.getHallShareCfg())},this)},t.prototype.handleQuery=function(t){t&&this.adsData&&this.adsData.handle(t.query),this.thirdData&&this.thirdData.handle(t)},t}();n.DataProxy=S,cc._RF.pop()},{"../../lib/event/EventDispatcher":"EventDispatcher","../event/Notify":"Notify","./ActivityDataProxy":"ActivityDataProxy","./AdDataProxy":"AdDataProxy","./ComDataProxy":"ComDataProxy","./ConfigDataProxy":"ConfigDataProxy","./GameDataProxy":"GameDataProxy","./GoldenPassDataProxy":"GoldenPassDataProxy","./LocalDataProxy":"LocalDataProxy","./OtherDataProxy":"OtherDataProxy","./RankDataProxy":"RankDataProxy","./ShopDataProxy":"ShopDataProxy","./TablesDataProxy":"TablesDataProxy","./TaskDataProxy":"TaskDataProxy","./UserDataProxy":"UserDataProxy","./data/InviteDataProxy":"InviteDataProxy","./data/adv/AdvDataProxy":"AdvDataProxy","./data/wx/ThirdPlatDataProxy":"ThirdPlatDataProxy"}],DateUtils:[function(t,e,n){"use strict";cc._RF.push(e,"426adI2DtBErIHFOK71hxzk","DateUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.DateUtil=void 0;var o=function(){function t(){}return t.isSameDay=function(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()},t.isStartDateEarlier=function(t,e){if(this.isSameDay(t,e))return!1;var n=t.getFullYear(),o=t.getMonth(),i=t.getDate(),r=t.getFullYear(),a=t.getMonth(),s=t.getDate();return n<r||n===r&&o<a||n===r&&o===a&&i===s},t.getDateList=function(t,e){var n,o,i=[];for(this.isStartDateEarlier(t,e)?(o=t,n=e.getTime()):(o=e,n=t.getTime());n>o.getTime();)i.push(new Date(o)),o.setDate(o.getDate()+1);return i},t.getDateNum=function(t,e){return this.getDateList(t,e).length},t.getDateByOffset=function(t,e){var n=new Date(t);return n.setDate(n.getDate()+e),n},t.getToday=function(){var t=new Date;return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t},t.getTodayDateString=function(){var t=new Date;return t.getFullYear()+"-"+(t.getMonth()+1).toString().padStart(2,"0")+"-"+t.getDate().toString().padStart(2,"0")},t.getNowDateString=function(){var t=new Date;return t.getFullYear()+"-"+(t.getMonth()+1).toString().padStart(2,"0")+"-"+t.getDate().toString().padStart(2,"0")+" "+t.getHours()+":"+t.getMinutes().toString().padStart(2,"0")+":"+t.getSeconds().toString().padStart(2,"0")+"}"},t.getYesterDayDate=function(){var t=new Date;return t.setDate(t.getDate()-1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t},t.getTomorrowDate=function(){var t=new Date;return t.setDate(t.getDate()+1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t},t.getBeforeYesterday=function(){var t=new Date;return t.setDate(t.getDate()-2),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t},t.get30DayFromYestoday=function(){for(var t=[],e=this.getYesterDayDate(),n=29;n>0;)e.setDate(e.getDate()-1),t.push(new Date(e)),n--;return t},t.get7DayFromYesterday=function(){for(var t=[],e=this.getYesterDayDate(),n=6;n>0;)e.setDate(e.getDate()-1),t.push(new Date(e)),n--;return t},t.getStartOfThisMonth=function(){var t=new Date;return t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t},t.getStartOfNextMonth=function(){var t=new Date;return t.setMonth(t.getMonth()+1),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t},t.getDateFromString=function(t){var e=t.split("-"),n=new Date;return n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0),n.setFullYear(Number(e[0])),n.setMonth(Number(e[1])-1),n.setDate(Number(e[2])),n},t.dateFormat=function(t,e){var n,o={"Y+":e.getFullYear().toString(),"m+":(e.getMonth()+1).toString(),"d+":e.getDate().toString(),"H+":e.getHours().toString(),"M+":e.getMinutes().toString(),"S+":e.getSeconds().toString()};for(var i in o)(n=new RegExp("("+i+")").exec(t))&&(t=t.replace(n[1],1==n[1].length?o[i]:o[i].padStart(n[1].length,"0")));return t},t}();n.DateUtil=o,cc._RF.pop()},{}],DebugPlatform:[function(t,e,n){"use strict";cc._RF.push(e,"c4d1409IO9M+b/4JeJPxfod","DebugPlatform");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{c(o.next(t))}catch(e){r(e)}}function s(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.DebugPlatform=void 0;var r=function(){function t(){this.RTN_NEVER=-1,this.RTN_REFUSE=0,this.RTN_AGREE=1,this.SETTING_USERINFO=-1,this.SETTING_LOCATION=-1,this.SETTING_RECORD=-1,this.openDataContext=new a,this.SETTING_STATUS=new Map,this.SETTING_STATUS.set("scope.userInfo",this.RTN_NEVER),this.SETTING_STATUS.set("scope.userLocation",this.RTN_NEVER),this.SETTING_STATUS.set("scope.record",this.RTN_NEVER)}return t.prototype.getUserInfo=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2,new Promise(function(t,e){e(!1)})]})})},t.prototype.wechatLogin=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2,new Promise(function(t){t({code:0})})]})})},t.prototype.share=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2]})})},t.prototype.pay=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2]})})},t.prototype.openVideoAd=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2]})})},t.prototype.setUserCloudStorage=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2]})})},t.prototype.removeUserCloudStorage=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2]})})},t.prototype.playAudio=function(){},t.prototype.getLaunchOptionsSync=function(){return null},t.prototype.onShow=function(){},t.prototype.onHide=function(){},t.prototype.onShareApp=function(){},t.prototype.createUserInfoButton=function(){return new Promise(function(){})},t.prototype.writeFile=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2]})})},t.prototype.readFile=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2]})})},t.prototype.downloadFile=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2]})})},t.prototype.uploadFile=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2]})})},t.prototype.mkdir=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2]})})},t.prototype.deleteFile=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2]})})},t.prototype.setKeepScreenOn=function(){},t.prototype.getMenuPosition=function(){},t.prototype.exitApp=function(){},t.prototype.checkUpdate=function(){},t.prototype.getSystemInfo=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2]})})},t.prototype.getShareTemplate=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2]})})},t.prototype.getShareInfo=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2]})})},t.prototype.getTigerList=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2]})})},t.prototype.navigateToTiger=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2]})})},t.prototype.sendLoadingStart=function(){},t.prototype.sendLoadingEnd=function(){},t.prototype.initAdSDK=function(){},t.prototype.showBanner=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2]})})},t.prototype.showInterstitialAd=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2]})})},t.prototype.initRecord=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2]})})},t.prototype.startRecord=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2]})})},t.prototype.stopRecord=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2]})})},t.prototype.requestPermission=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2]})})},t.prototype.getLocation=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2,new Promise(function(t,e){e()})]})})},t.prototype.isEnableLocation=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2,!1]})})},t.prototype.getSetting=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2,{}]})})},t.prototype.openSetting=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2]})})},t.prototype.authorize=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2,new Promise(function(t,e){e(null)})]})})},t.prototype.cacheUsage=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2,100]})})},t.prototype.clearCache=function(){return null},t.prototype.clearStorage=function(){return null},t.prototype.getLocalImgPath=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2,""]})})},t.prototype.fileAccess=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2,new Promise(function(t,e){e(!1)})]})})},t.prototype.destroyUserInfoButton=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2]})})},t.prototype.restart=function(){return o(this,void 0,Promise,function(){return i(this,function(){return cc.game.restart(),[2]})})},t.prototype.getBatteryLevel=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2,{level:1,isCharging:!1}]})})},t.prototype.onNetworkStatusChange=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2]})})},t.prototype.offNetworkStatusChange=function(){},t.prototype.getNetworkStatus=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2,1]})})},t.prototype.createCanvas=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2]})})},t.prototype.drawImage=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2]})})},t.prototype.drawText=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2]})})},t.prototype.drawCanvas=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2]})})},t.prototype.updateShare=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2]})})},t.prototype.setRemoteServerURL=function(){},t.prototype.showShareMenu=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2]})})},t.prototype.getEnvVersion=function(){return"release"},t.prototype.openService=function(){},t.prototype.subscribeMessage=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2]})})},t.prototype.isSubscribedMsg=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2,0]})})},t.prototype.setClipboardData=function(t){return o(this,void 0,Promise,function(){return i(this,function(){return[2,new Promise(function(e,n){if(cc.sys.isBrowser){var o=document.createElement("textarea");o.id="clipBoard",o.textContent=t,document.body.appendChild(o),o.select();try{var i=document.execCommand("copy")?"successful":"failed";cc.log(i),e()}catch(r){cc.log(r),n(r)}finally{document.body.removeChild(o)}}else n("\u6682\u4e0d\u652f\u6301\u8fd9\u4e2a\u529f\u80fd")})]})})},t.prototype.getClipboardData=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2]})})},t.prototype.navigateToMiniProgram=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2]})})},t.prototype.navigateBackMiniProgram=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2]})})},t}();n.DebugPlatform=r;var a=function(){function t(){}return t.prototype.createDisplayObject=function(){},t.prototype.postMessage=function(){},t}();cc._RF.pop()},{}],DeskBuildLayer:[function(t,e,n){"use strict";cc._RF.push(e,"b7b52JCohtPT6m9gAYlE4Ve","DeskBuildLayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../lib/utils/ComUtils"),s=t("../../base/component/ComSubLayer"),c=t("../../const/Global"),l=t("../../event/GuiEvent"),u=t("../../event/Notify"),d=t("../../language/LanguageCfg"),p=t("../../model/DataProxy"),h=t("../ComUI"),f=t("./DeskBuildTimer"),g=cc._decorator,_=g.ccclass,y=g.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pTipLabel=null,e.pBtnBuild=null,e.pBtnConfirm=null,e.pMenuBSLabel=null,e.pMenuTimeLabel=null,e.pMaxBSLabel=null,e.pMaxTimeLabel=null,e.pPowerLabel=null,e.pBuildBtnLabel=null,e.mDeskTimer=null,e.mBuildInfo=null,e.mShowTime=0,e.mShowBuild=!1,e.mFromScene=c.gSceneType.Lobby,e}return i(e,t),e.prototype.listEvent=function(){return new Map([[u.Notify.Other.UPDATE_DESK_BUILD_INFO,this.onUpdateState],[u.Notify.Other.RTN_USE_POWER_BUILD,this.onClose]])},e.prototype.init=function(t){t&&(this.mFromScene=t.fromScene||c.gSceneType.Lobby,this.mShowBuild=t.showBuild||!1)},e.prototype.initParams=function(){return{showSubBG:!1,showTitle:!1}},e.prototype.start=function(){var t=this;if(this.mBuildInfo=p.DataProxy.getInstance().otherData.deskBuildInfo,this.mBuildInfo){var e=Math.floor((new Date).getTime()/1e3)-this.mBuildInfo.dwStartTime;this.mShowTime=this.mBuildInfo.buildTime-e}this.mDeskTimer=new f.default,this.mDeskTimer.start({parent:this,buildInfo:this.mBuildInfo,name:"desk_build_timer",callback:function(e,n){e&&(t.mShowTime=n,t.mBuildInfo=e,t.initView())}}),this.pTipLabel&&(this.pTipLabel.string=a.ComUtils.getLang(d.LangKey.text_desk_build_tip)),this.pBuildBtnLabel&&(this.pBuildBtnLabel.string=a.ComUtils.getLang(d.LangKey.text_build)),this.initView()},e.prototype.onDestroy=function(){cc.log("desk: DeskBuildLayer onDestroy()"),t.prototype.onDestroy.call(this),this.mDeskTimer&&this.mDeskTimer.clear()},e.prototype.initView=function(){this.mBuildInfo&&(this.pMenuBSLabel&&(this.pMenuBSLabel.string=""+this.mBuildInfo.dwBaseValue),this.pMenuTimeLabel&&(this.pMenuTimeLabel.string=a.ComUtils.formatTimeString(this.mShowTime,"00:00")),this.pMaxBSLabel&&(this.pMaxBSLabel.string=""+this.mBuildInfo.dwMaxBase),this.pMaxTimeLabel&&(this.pMaxTimeLabel.string=a.ComUtils.formatTimeString(this.mBuildInfo.dwMaxTime,"00:00")),this.pPowerLabel&&(this.pPowerLabel.string=""+this.mBuildInfo.dwConsumePower),this.mShowBuild||(this.pBtnBuild&&(this.pBtnBuild.node.active=!1),this.pBtnConfirm&&(this.pBtnConfirm.node.x=0)))},e.prototype.onUpdateState=function(t){t&&(this.mBuildInfo=t,this.mDeskTimer&&this.mDeskTimer.initTimer(this.mBuildInfo),this.initView())},e.prototype.onClose=function(){this.node.destroy()},e.prototype.onClickBuild=function(){this.dispatch(l.GuiEvent.UI.OPEN_LOBBY_TABLES),this.onClose()},e.prototype.onClickConfirm=function(){var t=p.DataProxy.getInstance().userData.powerInfo;t&&this.mBuildInfo&&(t.dwCurPS>=this.mBuildInfo.dwConsumePower?(h.ComUI.addLoading({time:1}),this.dispatch(u.Notify.Other.REQ_USE_POWER_BUILD)):this.dispatch(l.GuiEvent.PopMsg.DISPLAY_POWER_NOT_ENOUGH))},r([y(cc.Label)],e.prototype,"pTipLabel",void 0),r([y(cc.Button)],e.prototype,"pBtnBuild",void 0),r([y(cc.Button)],e.prototype,"pBtnConfirm",void 0),r([y(cc.Label)],e.prototype,"pMenuBSLabel",void 0),r([y(cc.Label)],e.prototype,"pMenuTimeLabel",void 0),r([y(cc.Label)],e.prototype,"pMaxBSLabel",void 0),r([y(cc.Label)],e.prototype,"pMaxTimeLabel",void 0),r([y(cc.Label)],e.prototype,"pPowerLabel",void 0),r([y(cc.Label)],e.prototype,"pBuildBtnLabel",void 0),r([_],e)}(s.default);n.default=m,cc._RF.pop()},{"../../../lib/utils/ComUtils":"ComUtils","../../base/component/ComSubLayer":"ComSubLayer","../../const/Global":"Global","../../event/GuiEvent":"GuiEvent","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../../model/DataProxy":"DataProxy","../ComUI":"ComUI","./DeskBuildTimer":"DeskBuildTimer"}],DeskBuildMenu:[function(t,e,n){"use strict";cc._RF.push(e,"75013lFUSlDi6mF/QGGCd6J","DeskBuildMenu");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../script/lib/base/CxComponent"),s=t("../../../lib/utils/ComUtils"),c=t("../../../lib/utils/MathUtils"),l=t("../../const/Global"),u=t("../../event/GuiEvent"),d=t("../../event/Notify"),p=t("../../language/LanguageCfg"),h=t("../../model/DataProxy"),f=t("./DeskBuildTimer"),g=cc._decorator,_=g.ccclass,y=g.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pSpriteAtlas=null,e.pMainBG=null,e.pBSLabel=null,e.pBSInfo=null,e.pTimeBG=null,e.pTimeLabel=null,e.pTimeIcon=null,e.pTimeAdd=null,e.pWinNode=null,e.pTopNode=null,e.pTopLabel=null,e.pLineNode=null,e.pResultAnimNode=null,e.pResultAnimBG=null,e.pResultNumNode=null,e.pResultX=null,e.pResultLabel=null,e.pPieceLight=null,e.skClockLight=null,e.mBuildInfo=null,e.mNewData=null,e.mShowTime=0,e.mFromScene=l.gSceneType.Lobby,e.mReddot=0,e.mName="",e.mIsPlaying=!1,e.mIsInBuild=!1,e.mIsBuildTable=!1,e.mState=0,e.mDeskTimer=null,e.mAnimInfo=0,e.mAnimCallBack=null,e}return i(e,t),e.prototype.listEvent=function(){return new Map([[d.Notify.Other.RTN_DESK_BUILD_STATE,this.onUpdateState],[d.Notify.Other.RTN_BUILD_DESK_WIN,this.onRtnBuildDesk],[d.Notify.Other.RTN_USE_POWER_BUILD,this.onRtnPowerBuild],[u.GuiEvent.Anim.ANIM_DESK_BUILD_GOLD,this.onPlayGoldAnim],[u.GuiEvent.Anim.DESK_BUILD_PUT_ICON_POS,this.onPlayBuildTablePiece]])},e.prototype.init=function(t){t&&(this.mFromScene=t.fromScene||l.gSceneType.Lobby,this.mReddot=t.reddot||!1,this.mName=t.name||"")},e.prototype.start=function(){cc.log("desk: DeskBuildMenu start()"),this.initData(),this.initView()},e.prototype.onDestroy=function(){cc.log("desk: DeskBuildMenu onDestroy()"),t.prototype.onDestroy.call(this),this.mDeskTimer&&this.mDeskTimer.clear()},e.prototype.initData=function(){var t=this;if(this.mBuildInfo=h.DataProxy.getInstance().otherData.deskBuildInfo,this.mBuildInfo){var e=Math.floor((new Date).getTime()/1e3)-this.mBuildInfo.dwStartTime;this.mShowTime=this.mBuildInfo.buildTime-e}this.mDeskTimer=new f.default,this.mDeskTimer.start({parent:this,buildInfo:this.mBuildInfo,name:"menu_timer",callback:function(e,n){e&&(t.mShowTime=n,t.mBuildInfo=e,t.initView())}})},e.prototype.initBSNum=function(){if(this.mBuildInfo){var t=this.mBuildInfo.dwBaseValue;this.pBSLabel&&(this.pBSLabel.string=""+t,this.setLabelColor(this.pBSLabel,t)),this.pBSInfo&&this.setLabelColor(this.pBSInfo,t),this.pResultLabel&&(this.pResultLabel.string=""+t,this.setLabelColor(this.pResultLabel,t)),this.pResultX&&this.setLabelColor(this.pResultX,t)}},e.prototype.setLabelColor=function(t,e){if(t&&e){var n=["#FFFFFF","#FFFFFF","#239fff","#48f520","#ff5757"][e<=5?e-1:4];n&&(t.node.color=(new cc.Color).fromHEX(n))}},e.prototype.initTimeNum=function(){null!=this.mShowTime&&this.pTimeLabel&&(0==this.mBuildInfo.dwStatus?this.pTimeLabel.string=s.ComUtils.getLang(p.LangKey.text_start):this.pTimeLabel.string=s.ComUtils.formatTimeString(this.mShowTime,"00:00"))},e.prototype.initBG=function(){if(this.mBuildInfo){var t=0==this.mBuildInfo.dwStatus?1:2;if(this.mState!=t){this.mState=t;var e=2==t?"desk_build_item_bg":"desk_build_item_bg_grey";this.setSpriteFrame(this.pMainBG,e);var n=2==t?"desk_build_item_sub_bg":"desk_build_item_sub_bg_grey";this.setSpriteFrame(this.pTimeBG,n)}}},e.prototype.setSpriteFrame=function(t,e){if(this.pSpriteAtlas&&t&&e){var n=this.pSpriteAtlas.getSpriteFrame(e);if(n){var o=t.getComponent(cc.Sprite);o&&(o.spriteFrame=n)}}},e.prototype.initReddot=function(){if(this.mReddot){var t=h.DataProxy.getInstance().tablesData.redPoint||0;this.pTopNode&&this.pTopLabel&&t>0&&(this.pTopNode.active=!0,this.pTopLabel.string=""+t)}},e.prototype.initView=function(){this.mBuildInfo&&(this.initBG(),this.initBSNum(),this.initTimeNum(),this.initReddot())},e.prototype.displayView=function(t){t&&(t.showLine?this.pLineNode&&(this.pLineNode.active=!0):this.pLineNode&&(this.pLineNode.active=!1),t.showBuild&&t.buildNum&&this.pTopNode&&(this.pTopNode.active=!0))},e.prototype.setInBuild=function(t){this.mIsInBuild=t},e.prototype.onUpdateState=function(t){t&&this.updateDataAndPlay(t,!1,!1)},e.prototype.onRtnBuildDesk=function(t){this.updateDataAndPlay(t,!0,!0)},e.prototype.onRtnPowerBuild=function(t){this.updateDataAndPlay(t,!0,!1)},e.prototype.updateDataAndPlay=function(t,e,n){var o=this;t&&(e?this.mIsPlaying?(this.mNewData=t,this.mIsBuildTable=n):(this.mDeskTimer&&this.mDeskTimer.stopTimer(),this.playBuildAnim(t,n,function(){o.mBuildInfo=t,o.mDeskTimer&&o.mDeskTimer.initTimer(o.mBuildInfo),o.mNewData&&(o.updateDataAndPlay(o.mNewData,!0,o.mIsBuildTable),o.mNewData=null)})):(this.mBuildInfo=t,this.mDeskTimer&&this.mDeskTimer.initTimer(this.mBuildInfo),this.initView()))},e.prototype.onClick=function(){var t=!0;(this.mIsInBuild||this.mFromScene==l.gSceneType.Game)&&(t=!1),this.dispatch(u.GuiEvent.PopMsg.DISPLAY_DESK_BUILD_LAYER,{fromScene:this.mFromScene,showBuild:t})},e.prototype.playBuildAnim=function(t,e,n){e?this.playBuildTablePieceAnim(t,n):this.playPowerBuildAnim(t,n)},e.prototype.playPowerBuildAnim=function(t,e){var n=this;if(this.pWinNode&&this.pTimeLabel&&t){cc.log("desk: playPowerBuildAnim()"),this.mIsPlaying=!0;var o=cc.instantiate(this.pWinNode);o.x=this.pWinNode.x,o.y=this.pWinNode.y,o.parent=this.pWinNode.parent;var i=cc.instantiate(this.pTimeLabel.node);if(i.x=this.pTimeLabel.node.x,i.y=this.pTimeLabel.node.y,i.parent=this.pTimeLabel.node.parent,this.mBuildInfo=t,this.mBuildInfo){var r=Math.floor((new Date).getTime()/1e3)-this.mBuildInfo.dwStartTime;this.mShowTime=this.mBuildInfo.buildTime-r}this.pWinNode.active=!1,this.pTimeLabel.node.active=!1,this.initView(),cc.tween(o).to(.1,{scaleX:.9,scaleY:1}).to(.1,{scaleX:1,scaleY:1,opacity:255}).to(.2,{scaleX:.6,scaleY:.6,opacity:0}).removeSelf().start(),cc.tween(this.pWinNode).delay(.33).set({active:!0,scale:.6,opacity:0}).to(.1,{scaleX:1.5,scaleY:1.5,opacity:255}).to(.2,{scaleX:1.6,scaleY:1.6}).to(.07,{scaleX:.8,scaleY:.8}).to(.1,{scaleX:1,scaleY:1}).start();var a=cc.instantiate(this.pWinNode);if(a.x=this.pWinNode.x,a.y=this.pWinNode.y,a.parent=this.pWinNode.parent,a.active=!1,cc.tween(a).delay(.8).set({active:!0}).to(.3,{scaleX:1.5,scaleY:1.6,opacity:0}).removeSelf().start(),i&&cc.tween(i).delay(1.66).removeSelf().start(),cc.tween(this.pTimeLabel.node).delay(1.66).set({active:!0,scaleX:0,scaleY:1}).to(.14,{scaleX:1,scaleY:1}).start(),this.pTimeIcon&&(this.pTimeIcon.node.rotation=0,this.pTimeIcon.node.scale=1,cc.tween(this.pTimeIcon.node).delay(1).to(.2,{scaleX:2,scaleY:2}).to(.06,{rotation:10}).to(.07,{rotation:-10}).to(.07,{rotation:10}).to(.06,{rotation:0}).to(.2,{scaleX:1,scaleY:1}).start()),this.pTimeAdd&&this.mBuildInfo.dwAddTime){var c=s.ComUtils.formatTimeString(this.mBuildInfo.dwAddTime);this.pTimeAdd.string="+"+c,this.pTimeAdd.node.active=!1,this.pTimeAdd.node.y=0,this.pTimeAdd.node.scale=1,this.pTimeAdd.node.opacity=0,cc.tween(this.pTimeAdd.node).delay(1.8).set({active:!0,opacity:0}).parallel(cc.tween().to(.2,{opacity:255}).to(.5,{opacity:255}).to(.3,{opacity:0}).set({active:!1}),cc.tween().by(1,{y:70})).start()}cc.tween(this.node).delay(2.8).call(function(){cc.log("desk: playPowerBuildAnim() finish"),n.mIsPlaying=!1,e&&e()}).start()}},e.prototype.onPlayGoldAnim=function(t){var e=this;if(cc.log("desk: onPlayGoldAnim() data=",t),this.pResultAnimNode&&this.pResultAnimBG&&this.pResultNumNode&&"result"==this.mName){var n=t||cc.v2(0,0),o=this.node.convertToNodeSpace(n);this.pResultAnimNode.active=!0,this.pResultAnimBG.node.opacity=0,cc.tween(this.pResultAnimBG.node).to(.06,{opacity:255}).to(.2,{opacity:255}).to(.4,{opacity:0}).start(),this.pResultNumNode.scale=1,this.pResultNumNode.opacity=255,this.pResultNumNode.x=0,this.pResultNumNode.y=0,cc.tween(this.pResultNumNode).to(.13,{scale:2}).to(.1,{scale:1.34}).to(.1,{scale:1.34}).parallel(cc.tween().to(.17,{scale:1.66}).to(.16,{scale:1}),cc.tween().to(.33,{x:o.x,y:o.y})).to(.12,{opacity:255}).to(.13,{opacity:0}).call(function(){e.pResultAnimNode&&(e.pResultAnimNode.active=!1)}).start()}},e.prototype.playBuildTablePieceAnim=function(t,e){cc.log("desk: playBuildTablePieceAnim()"),t&&e&&(this.mAnimInfo=t,this.mAnimCallBack=e,this.dispatch(u.GuiEvent.Anim.DESK_BUILD_GET_ICON_POS,t.dwDeskId))},e.prototype.onPlayBuildTablePiece=function(t){var e=this;if(cc.log("desk: onPlayBuildTablePiece() data=",t),t&&t.wPos){var n=t.wPos;if(this.pPieceLight&&this.pTimeIcon&&this.mAnimInfo){var o=this.pTimeIcon.node.convertToNodeSpaceAR(n),i=this.pPieceLight.node.position,r=-c.MathUtils.lookAt(i,o,!1),a=cc.instantiate(this.pTimeLabel.node);a.x=this.pTimeLabel.node.x,a.y=this.pTimeLabel.node.y,a.parent=this.pTimeLabel.node.parent;var l=this.mAnimInfo,u=this.mAnimCallBack;if(this.mAnimInfo=null,this.mAnimCallBack=null,this.mIsPlaying=!0,this.mBuildInfo=l,this.mBuildInfo){var d=Math.floor((new Date).getTime()/1e3)-this.mBuildInfo.dwStartTime;this.mShowTime=this.mBuildInfo.buildTime-d}if(this.pTimeLabel.node.active=!1,this.initView(),this.pPieceLight.node.x=o.x,this.pPieceLight.node.y=o.y,this.pPieceLight.node.active=!1,this.pPieceLight.node.angle=r,cc.tween(this.pPieceLight.node).delay(.5-.4).set({active:!0}).to(.3,{x:i.x,y:i.y,scaleX:1.5,scaleY:1.5}).delay(.06).set({active:!1}).start(),this.pTimeIcon&&(this.pTimeIcon.node.scale=1,cc.tween(this.pTimeIcon.node).delay(.5-.4).to(.2,{scaleX:2,scaleY:2}).to(.4,{scaleX:2,scaleY:2}).to(.2,{scaleX:1,scaleY:1}).start()),cc.tween(a).delay(.9).set({active:!1,scaleX:0,scaleY:1}).removeSelf().start(),cc.tween(this.pTimeLabel.node).delay(.9).set({active:!0,scaleX:0,scaleY:1}).to(.1,{scaleX:1,scaleY:1}).start(),this.pTimeAdd&&this.mBuildInfo.dwAddTime){var p=s.ComUtils.formatTimeString(this.mBuildInfo.dwAddTime);this.pTimeAdd.string="+"+p,this.pTimeAdd.node.active=!1,this.pTimeAdd.node.y=0,this.pTimeAdd.node.scale=1,this.pTimeAdd.node.opacity=0,cc.tween(this.pTimeAdd.node).delay(1.4-.4).set({active:!0,opacity:0}).parallel(cc.tween().to(.2,{opacity:255}).to(.5,{opacity:255}).to(.3,{opacity:0}).set({active:!1}),cc.tween().by(1,{y:70})).start()}this.skClockLight&&cc.tween(this.skClockLight.node).delay(.7-.4).call(function(){e.skClockLight&&(e.skClockLight.node.active=!0,e.skClockLight.setToSetupPose(),e.skClockLight.clearTracks(),e.skClockLight.enabled=!0,e.skClockLight.animation="pf_jiatime")}).start(),cc.tween(this.node).delay(2.1).call(function(){cc.log("desk: onPlayBuildTablePiece() finish"),e.mIsPlaying=!1,u&&u()}).start()}}},r([y(cc.SpriteAtlas)],e.prototype,"pSpriteAtlas",void 0),r([y(cc.Sprite)],e.prototype,"pMainBG",void 0),r([y(cc.Label)],e.prototype,"pBSLabel",void 0),r([y(cc.Label)],e.prototype,"pBSInfo",void 0),r([y(cc.Sprite)],e.prototype,"pTimeBG",void 0),r([y(cc.Label)],e.prototype,"pTimeLabel",void 0),r([y(cc.Sprite)],e.prototype,"pTimeIcon",void 0),r([y(cc.Label)],e.prototype,"pTimeAdd",void 0),r([y(cc.Node)],e.prototype,"pWinNode",void 0),r([y(cc.Node)],e.prototype,"pTopNode",void 0),r([y(cc.Label)],e.prototype,"pTopLabel",void 0),r([y(cc.Node)],e.prototype,"pLineNode",void 0),r([y(cc.Node)],e.prototype,"pResultAnimNode",void 0),r([y(cc.Sprite)],e.prototype,"pResultAnimBG",void 0),r([y(cc.Node)],e.prototype,"pResultNumNode",void 0),r([y(cc.Label)],e.prototype,"pResultX",void 0),r([y(cc.Label)],e.prototype,"pResultLabel",void 0),r([y(cc.Sprite)],e.prototype,"pPieceLight",void 0),r([y(sp.Skeleton)],e.prototype,"skClockLight",void 0),r([_],e)}(a.CxComponent);n.default=m,cc._RF.pop()},{"../../../../script/lib/base/CxComponent":"CxComponent","../../../lib/utils/ComUtils":"ComUtils","../../../lib/utils/MathUtils":"MathUtils","../../const/Global":"Global","../../event/GuiEvent":"GuiEvent","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../../model/DataProxy":"DataProxy","./DeskBuildTimer":"DeskBuildTimer"}],DeskBuildTimer:[function(t,e,n){"use strict";cc._RF.push(e,"8dc6erLY3BAAapArXmoSLgl","DeskBuildTimer"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../../lib/utils/Logger"),i=function(){function t(){this.mParent=null,this.mBuildInfo=null,this.mListener=null,this.mName="",this.timerID=0,this._showTime=0,this._timeCount=0,this._checkNum=0}return t.prototype.initEvent=function(){},t.prototype.start=function(t){this.mParent=t.parent,this.mBuildInfo=t.buildInfo,this.mListener=t.callback,this.mName=t.name||"",this.initEvent(),this.initTimer(this.mBuildInfo)},t.prototype.clear=function(){cc.log("desk: DeskBuildTimer clear()"),this.stopTimer()},t.prototype.initTimer=function(t){cc.log("desk: initTimer()"),t&&(this.mBuildInfo=t,this._timeCount=0,this._checkNum=0,this._showTime=0,this.stopTimer(),this.mBuildInfo.buildTime>0&&1==this.mBuildInfo.dwStatus&&(this._timeCount=Math.floor((new Date).getTime()/1e3)-this.mBuildInfo.dwStartTime,cc.log("desk: initTimer() count="+this._timeCount),this._timeCount>=0&&this._timeCount<this.mBuildInfo.buildTime&&(this.startTimer(),this._showTime=this.mBuildInfo.buildTime-this._timeCount)),this.mListener&&this.mListener(this.mBuildInfo,this._showTime,!1))},t.prototype.startTimer=function(){cc.log("desk: startTimer()"),this.mParent&&this.mParent.schedule(this.updateTimer.bind(this),1)},t.prototype.stopTimer=function(){o.Logger.info("stopTimer()"),this.mParent&&this.mParent.unscheduleAllCallbacks()},t.prototype.updateTimer=function(){if(this.mBuildInfo&&this.mBuildInfo.buildTime>0){this._timeCount++,this._checkNum++;var t=!1;20==this._checkNum&&(this._checkNum=0,this._timeCount=Math.floor((new Date).getTime()/1e3)-this.mBuildInfo.dwStartTime),this._timeCount>=this.mBuildInfo.buildTime?(t=!0,this._timeCount=0,this._checkNum=0,this._showTime=0,this.mBuildInfo.dwStatus=0,this.mBuildInfo.buildTime=0,this.stopTimer()):this._showTime=this.mBuildInfo.buildTime-this._timeCount,this.mListener&&this.mListener(this.mBuildInfo,this._showTime,t)}else this.stopTimer()},t}();n.default=i,cc._RF.pop()},{"../../../lib/utils/Logger":"Logger"}],Display:[function(t,e,n){"use strict";cc._RF.push(e,"e0701wJGS5ExrwlW93oLYGN","Display"),Object.defineProperty(n,"__esModule",{value:!0}),n.AnchorType=n.Display=void 0;var o=function(){function t(){}return Object.defineProperty(t,"bannerOffsetY",{get:function(){return this.isBannerOpen?this.bannerHeight:0},enumerable:!1,configurable:!0}),Object.defineProperty(t,"isBannerOpen",{get:function(){return this._isBannerOpen},set:function(t){this._isBannerOpen=t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"dwidth",{get:function(){return 1080},enumerable:!1,configurable:!0}),Object.defineProperty(t,"dheight",{get:function(){return 1900},enumerable:!1,configurable:!0}),Object.defineProperty(t,"width",{get:function(){return cc.winSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t,"height",{get:function(){return cc.winSize.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"cx",{get:function(){return cc.winSize.width/2},enumerable:!1,configurable:!0}),Object.defineProperty(t,"cy",{get:function(){return cc.winSize.height/2},enumerable:!1,configurable:!0}),Object.defineProperty(t,"scaleX",{get:function(){return t.width/t.dwidth},enumerable:!1,configurable:!0}),Object.defineProperty(t,"scaleY",{get:function(){return t.height/t.dheight},enumerable:!1,configurable:!0}),t.height2px=function(t){return t*cc.view.getFrameSize().width/cc.winSize.width},t.px2Height=function(t){return t*(cc.winSize.height/cc.view.getFrameSize().height)},t.paddingLeft=0,t.paddingRight=0,t.paddingTop=0,t.paddingBottom=0,t.bannerHeight=0,t.bannerHeightPx=0,t._isBannerOpen=!0,t}();n.Display=o,function(t){t[t.CENTER=1]="CENTER",t[t.LEFT_TOP=2]="LEFT_TOP",t[t.TOP_LEFT=2]="TOP_LEFT",t[t.CENTER_TOP=3]="CENTER_TOP",t[t.TOP_CENTER=3]="TOP_CENTER",t[t.RIGHT_TOP=4]="RIGHT_TOP",t[t.TOP_RIGHT=4]="TOP_RIGHT",t[t.CENTER_LEFT=5]="CENTER_LEFT",t[t.LEFT_CENTER=5]="LEFT_CENTER",t[t.CENTER_RIGHT=6]="CENTER_RIGHT",t[t.RIGHT_CENTER=6]="RIGHT_CENTER",t[t.BOTTOM_LEFT=7]="BOTTOM_LEFT",t[t.LEFT_BOTTOM=7]="LEFT_BOTTOM",t[t.BOTTOM_RIGHT=8]="BOTTOM_RIGHT",t[t.RIGHT_BOTTOM=8]="RIGHT_BOTTOM",t[t.BOTTOM_CENTER=9]="BOTTOM_CENTER",t[t.CENTER_BOTTOM=9]="CENTER_BOTTOM"}(n.AnchorType||(n.AnchorType={})),cc._RF.pop()},{}],DrawCanvas:[function(t,e,n){"use strict";cc._RF.push(e,"b1d1f3IIJdNl4OHRyH+g4WX","DrawCanvas"),Object.defineProperty(n,"__esModule",{value:!0}),n.DrawCanvas=n.CanvasInfo=n.TextAnchor=n.DrawType=void 0;var o,i=t("./Logger");(function(t){t[t.IMG=0]="IMG",t[t.TXT=1]="TXT"})(o=n.DrawType||(n.DrawType={}));var r=function(){function t(){}return t.convert=function(t){var e="center",n="middle";return t&&(0===t.x?e="left":1===t.x&&(e="right"),0===t.y?n="bottom":1===t.y&&(n="top")),{alignX:e,alignY:n}},t}();n.TextAnchor=r;var a=function(){function t(t,e){this.size=null,this.ui=new Array,this.size=t||cc.size(0,0),this.ui=e||this.ui}return t.prototype.push=function(t){this.ui.push(t)},t}();n.CanvasInfo=a;var s=function(){function t(){this.drawInfo=null,this.totalItem=0,this.curItemNum=0,this.finishCB=null}return t.prototype.draw=function(t,e){this.finishCB=e,cc.sys.platform===cc.sys.WECHAT_GAME&&(this.drawInfo=t,this.drawInfo&&this.drawInfo.ui&&(this.totalItem=Object.keys(this.drawInfo.ui).length,platform.createCanvas({size:cc.size(this.drawInfo.size.width,this.drawInfo.size.height)}),this.nextItem()))},t.prototype.nextItem=function(){var t=this.drawInfo.ui[this.curItemNum];t&&this.drawItem(t)},t.prototype.drawItem=function(t){var e=this;t.type===o.IMG?platform.drawImage({path:t.content,size:t.size,rect:t.rect,pos:t.pos||cc.v2(0,0),loadCB:function(){e.onDrawCB()}}):t.type===o.TXT&&(platform.drawText({text:t.content,color:t.color,fontSize:t.fontSize,align:r.convert(t.anchor),pos:t.pos}),this.onDrawCB())},t.prototype.onDrawCB=function(){var t=this;this.curItemNum+=1,this.curItemNum>=this.totalItem?platform.drawCanvas({rect:cc.rect(0,0,this.drawInfo.size.width,this.drawInfo.size.height),quality:.5}).then(function(e){i.Logger.info("DrawCanvas Finish",e),t.finishCB&&t.finishCB.call(e)}):this.nextItem()},t}();n.DrawCanvas=s,cc._RF.pop()},{"./Logger":"Logger"}],EngineEx:[function(t,e,n){"use strict";cc._RF.push(e,"9900ewNKdpLIJ2S767H9+8D","EngineEx"),n.__esModule=!0,n.extentionsInit=function(){cc.log("extentionsInit")},n.CocosExtentionInit=function(){cc.log("CocosExtentionInit")};var o=t("../event/EventDispatcher"),i=t("../../app/const/Global"),r=t("../../app/event/Notify"),a=t("../base/Language");if(Reflect.defineProperty(cc.Label.prototype,"language",{get:function(){return this._language},set:function(t){var e=this,n=function(t,n){if(t&&(Array.isArray(t)&&t.length>0||t)){var o;o=Array.isArray(t)?t:[t],n&&n(!0),e._language=[].concat(o),e.string=a.Language.getInstance().get(o)}else n&&n(!1),e._language=null,e.string=""};i.ENABLE_CHANGE_LANGUAGE?n(t,function(t){t?!e._isUsinglanguage&&e.enabledInHierarchy&&(e._isUsinglanguage=!0,o.EventDispatcher.getInstance().add(r.Notify.Base.CHANGE_LANGUAGE,e._onChangeLanguage,e)):e._language&&o.EventDispatcher.getInstance().removeTarget(e)}):n(t,null)}}),cc.Label.prototype.forceDoLayout=function(){this._forceUpdateRenderData?this._forceUpdateRenderData():this._updateRenderData&&this._updateRenderData(!0)},i.ENABLE_CHANGE_LANGUAGE){cc.Label.prototype._onChangeLanguage=function(){this.language=this.language};var s=cc.Label.prototype.onDestroy;cc.Label.prototype.onDestroy=function(){this._isUsinglanguage&&o.EventDispatcher.getInstance().removeTarget(this),s&&s.call(this)};var c=cc.Label.prototype.onLoad;cc.Label.prototype.onLoad=function(){this.string.indexOf(i.USING_LAN_KEY)>-1&&(this.language=[this.string]),c&&c.call(this)};var l=cc.Label.prototype.onEnable;cc.Label.prototype.onEnable=function(t){t?this.string.indexOf(i.USING_LAN_KEY)>-1&&(this.language=[this.string]):this._isUsinglanguage&&o.EventDispatcher.getInstance().removeTarget(this),l&&l.call(this)}}String.format=function(){for(var t=[],e=0,n=arguments.length;e<n;e++)t.push(arguments[e]);var o=t[0];return"string"!=typeof o?(cc.error("String.format error,first param is not a string"),""):(t.shift(),Array.isArray(t[0])&&1==t.length&&(t=t[0]),o.replace(/\{(\d+)\}/g,function(e,n){return t[n]}))},cc._RF.pop()},{"../../app/const/Global":"Global","../../app/event/Notify":"Notify","../base/Language":"Language","../event/EventDispatcher":"EventDispatcher"}],EnterGameAuthorize:[function(t,e,n){"use strict";cc._RF.push(e,"7b0d5FRaj1NV7tb8b3usByG","EnterGameAuthorize"),Object.defineProperty(n,"__esModule",{value:!0}),n.EnterGameAuthorize=void 0;var o=t("../../lib/base/Callback"),i=t("../../lib/event/EventDispatcher"),r=t("../../lib/manager/SceneManager"),a=t("../../lib/utils/ComUtils"),s=t("../../lib/utils/Logger"),c=t("../view/ComUI"),l=t("../const/Global"),u=t("../event/Notify"),d=t("../model/DataProxy"),p=function(){function t(){this.enterData=null}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.init=function(){this.initMsgHandler()},t.prototype.onDestroy=function(){this.remove()},t.prototype.initMsgHandler=function(){this.add(u.Notify.Query.ENTER_ROOM,this.onEnterRoom),this.add(u.Notify.Base.UPDATE_USERINFO,this.onUpdateUserInfo)},t.prototype.add=function(t,e){i.EventDispatcher.getInstance().add(t,e,this,0)},t.prototype.dispatch=function(t,e){i.EventDispatcher.getInstance().dispatch(t,e)},t.prototype.remove=function(){i.EventDispatcher.getInstance().remove(this)},t.prototype.onUpdateUserInfo=function(t){0==a.ComUtils.isTextEmpty(t.wxHeadUrl)&&(this.dispatch(u.Notify.UserInfo.UPLOAD_USER_NAME,t.userName),this.dispatch(u.Notify.UserInfo.UPLOAD_USER_GENDER,t.gender))},t.prototype.onEnterRoom=function(t){c.ComUI.dismissDialog(),s.Logger.info("==== EnterGameAuthorize onEnterRoom ====",t),this.enterData=t;var e=void 0!==t.isGold&&t.isGold,n=!0,i=!0;if(platform.SETTING_STATUS[platform.SCOPE_USERINFO]===platform.RTN_AGREE&&(n=!1),platform.SETTING_STATUS[platform.SCOPE_LOCATION]===platform.RTN_AGREE&&(i=!1),void 0!==t.isACRoom?0==t.isACRoom&&(i=!1):i=!1,(cc.sys.platform!==cc.sys.WECHAT_GAME||e)&&(n=!1,i=!1),s.Logger.info("isNeedAutUserInfo",n),s.Logger.info("isNeedAutLocation",i),!t.isReconnect&&!t.replay)if(void 0!==t.isACRoom){if(n||i)return void this.joinRoomFlow(n,i)}else if(n)return void this.showAutUserInfoDlg(new o.Callback(this,this.onAutUserInfoResult));this.enterGame()},t.prototype.enterGame=function(){this.enterData.cardCfg&&d.DataProxy.getInstance().gameData.setMatchGameCfg(this.enterData.cardCfg),r.default.getInstance().enterGame({gameType:this.enterData.gameType,gameId:this.enterData.gameId,fromScene:this.enterData.fromScene||l.gSceneType.Lobby,replay:this.enterData.replay,roomdate:this.enterData.roomdate,deskuuid:this.enterData.deskuuid})},t.prototype.joinRoomFlow=function(t,e){e?this.showAutBothDlg(t,new o.Callback(this,this.showAutLocationDlg)):this.showAutUserInfoDlg(new o.Callback(this,this.onAutUserInfoResult))},t.prototype.showAutBothDlg=function(t,e){var n=this,o=!1,i=null,r=null;t?((i=new cc.Node).scale=1.3,i.y=-190,c.ComUI.createUserInfoMenu({parent:i,callback:e}),o=!0):r=function(){e.call(!0)},c.ComUI.showDialog({text:"Entering the anti cheating room, you need to authorize wechat avatar and location information!",outClose:!1,hideMenu:o,subNode:i,cb1:r,closeCb:function(){n.onAuthorizeFail()}})},t.prototype.showAutUserInfoDlg=function(t){var e=this,n=new cc.Node;n.scale=1.3,n.y=-190,c.ComUI.createUserInfoMenu({parent:n,callback:t}),c.ComUI.showDialog({text:"Please authorize the use of your avatar, nickname, to get a better experience!",outClose:!1,hideMenu:!0,subNode:n,closeCb:function(){e.onAuthorizeFail()}})},t.prototype.showAutLocationDlg=function(t){var e=this;c.ComUI.dismissDialog(),1==t?platform.authorize(platform.SCOPE_LOCATION).then(function(){e.enterGame()}).catch(function(){e.onAuthorizeFail()}):this.onAuthorizeFail()},t.prototype.onAutUserInfoResult=function(t){c.ComUI.dismissDialog(),1==t?this.enterGame():this.onAuthorizeFail()},t.prototype.onAuthorizeFail=function(){"Lobby"!==cc.director.getScene().name&&r.default.getInstance().gotoLobby()},t.instance=null,t}();n.EnterGameAuthorize=p,cc._RF.pop()},{"../../lib/base/Callback":"Callback","../../lib/event/EventDispatcher":"EventDispatcher","../../lib/manager/SceneManager":"SceneManager","../../lib/utils/ComUtils":"ComUtils","../../lib/utils/Logger":"Logger","../const/Global":"Global","../event/Notify":"Notify","../model/DataProxy":"DataProxy","../view/ComUI":"ComUI"}],EventDispatcher:[function(t,e,n){"use strict";cc._RF.push(e,"de92cF15NJCPJLt0nA+UBzJ","EventDispatcher"),Object.defineProperty(n,"__esModule",{value:!0}),n.EventDispatcher=void 0;var o=function(t,e,n,o){this.priority=0,this.name=t,this.target=e,this.callback=n,this.priority=0|o},i=function(){function t(){this.eventMap=new Map}return t.getInstance=function(){return t.sInstance||(t.sInstance=new t),t.sInstance},t.prototype.add=function(t,e,n,i){i=0|+i;var r=this.eventMap.get(t);r||(r=[],this.eventMap.set(t,r));for(var a=-1,s=null,c=r.length,l=0;l<c;l++){if((s=r[l]).target==n&&s.name==t)return a=-1,!1;-1==a&&s.priority<i&&(a=l)}var u=new o(t,n,e,i);return-1!==a?r.splice(a,0,u):r.push(u),!0},t.prototype.remove=function(t,e){if(e){var n=this.eventMap.get(e);if(!n)return;for(var o=n.length-1;o>=0;o--){var i=n[o];i.target==t&&i.name==e&&n.splice(o,1)}0==n.length&&this.eventMap.delete(e)}else this.removeTarget(t)},t.prototype.removeTarget=function(t){var e=this;this.eventMap.forEach(function(n,o){for(var i=n.length-1;i>=0;i--)n[i].target==t&&n.splice(i,1);0==n.length&&e.eventMap.delete(o)})},t.prototype.dispatch=function(t,e){var n=this.eventMap.get(t);if(n)for(var o=n.length,i=0;i<o;i++){var r=n[i];r.callback.call(r.target,e)}},t.prototype.delayDispatch=function(t,e,n){setTimeout(function(){this.dispatch(e,n)}.bind(this),t)},t.sInstance=null,t}();n.EventDispatcher=i,cc._RF.pop()},{}],FFDHandler:[function(t,e,n){"use strict";cc._RF.push(e,"169d6l5EtxKm6C5ykv4r9o+","FFDHandler");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.FFDHandler=void 0;var r=t("../../base/handler/ProxyHandler"),a=t("../../../plugin/pb/protofile/GlobalMsgDef"),s=t("../../../plugin/pb/protofile/CMD_FFDMsg"),c=t("../../../lib/utils/Logger"),l=t("../../event/Notify"),u=t("../../model/ActivityDataProxy"),d=t("../../model/DataProxy"),p=t("../../event/GuiEvent"),h=t("../task/CMD_TaskMsg"),f=t("../../model/LocalDataProxy"),g=t("../../../lib/base/PopUpLogic"),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getName=function(){return"FFDHandler"},e.prototype.protocolConfig=function(){return[{protocol:s.MSG_SC_RtnFFDData,subid:s.FFD_SUB_MSG.MSG_SC_RTN_FFD_DATA,cb:this.onRtnFFDData},{protocol:s.MSG_SC_RtnFFDReward,subid:s.FFD_SUB_MSG.MSG_SC_RTN_FFD_REWARD,cb:this.onRtnFFDReward},{protocol:s.MSG_SC_ResponseRedpoint,subid:s.FFD_SUB_MSG.MSG_SC_RESPONSE_REDPOINT,cb:this.onRtnRedDot},{protocol:s.MSG_SC_RtnFFDGG,subid:s.FFD_SUB_MSG.MSG_SC_RTN_FFD_GG,cb:this.onRtnAllFFDCfg},{protocol:s.MSG_SC_RtnOtherGGInfo,subid:s.FFD_SUB_MSG.MSG_SC_RTN_OTHER_GG_CFG,cb:this.onRtnOtherGGInfo}]},e.prototype.initEvent=function(){t.prototype.initEvent.call(this),this.addEvent(l.Notify.FFD.REQ_ALL_FFD,this.sendGetAllFFD),this.addEvent(l.Notify.FFD.REQ_FFD_SCENEDATA,this.sendGetFFDDataMsg),this.addEvent(l.Notify.FFD.REQ_REWARD,this.sendGetFFDReward),this.addEvent(l.Notify.FFD.REQ_RED_DOT,this.sendGetFFDRedDot),this.addEvent(l.Notify.FFD.REQ_OTHER_GG_INFO,this.sendGetOtherGGInfo)},e.prototype.getMainID=function(){return a.MAIN_MSG_ID.MAIN_MSG_FFD_SERVER_ID},e.prototype.getHeader=function(){var t=e.SERVER_ID,n=t,o=new a.Msg_OtherServerHead;return o.dwGameID=t,o.dwGameTypeID=n,o.strUUID=this.userData.sessionId,o},Object.defineProperty(e.prototype,"adData",{get:function(){return d.DataProxy.getInstance().adData},enumerable:!1,configurable:!0}),e.prototype.sendGetAllFFD=function(){this.sendRequest(null,this.getMainID(),s.FFD_SUB_MSG.MSG_CS_GET_FFD_GG,this.getHeader()),c.Logger.info("\u83b7\u5f97\u6240\u6709\u573a\u666f\u5e7f\u544a\u70b9 =========>")},e.prototype.sendGetFFDDataMsg=function(t){var e=new s.MSG_CS_GetFFDData;e.iScenceId=t,this.sendRequest(e,this.getMainID(),s.FFD_SUB_MSG.MSG_CS_GET_FFD_DATA,this.getHeader()),c.Logger.info("\u8bf7\u6c42\u83b7\u5f97\u573a\u666f\u6570\u636e =========>",t)},e.prototype.sendGetFFDReward=function(t){if(t){var e=new s.MSG_CS_GetFFDReward;e.iScenceId=t,this.sendRequest(e,this.getMainID(),s.FFD_SUB_MSG.MSG_CS_GET_FFD_REWARD,this.getHeader()),c.Logger.info("\u83b7\u5f97\u5e7f\u544a/\u5206\u4eab\u5956\u52b1 =========>",t)}},e.prototype.sendGetFFDRedDot=function(t){var e=new s.MSG_CS_RedPoint;e.dwId=t,this.sendRequest(e,this.getMainID(),s.FFD_SUB_MSG.MSG_CS_SHOW_REDPOINT,this.getHeader()),c.Logger.info("\u8bf7\u6c42\u4ed8\u8d39\u70b9\u7ea2\u70b9 =========>",t)},e.prototype.sendGetOtherGGInfo=function(){this.sendRequest(null,this.getMainID(),s.FFD_SUB_MSG.MSG_CS_GET_OTHER_GG_INFO,this.getHeader()),c.Logger.info("\u83b7\u5f97\u5e7f\u544a\u4fe1\u606f\uff08banner\uff0c\u63d2\u5c4f\uff09 =========>")},e.prototype.onRtnFFDData=function(t){var e=t.data,n=this.adData.parseRVFFDData(e);this.dispatch(l.Notify.FFD.RTN_FFD_SCENEDATA,n)},e.prototype.onRtnFFDReward=function(t){var e=t.data;this.dispatch(l.Notify.Task.REQ_TASK_TIME_REWARD_INFO);var n=f.LocalStorageProxy.UnRewardAdSceneId+"_"+this.userData.userId;this.localData.get(n,"")&&this.localData.set(n,"");var o={rewardList:[],chipList:[]};switch(e.reward&&(o.rewardList=e.reward),e.tabChips&&(o.chipList=e.tabChips),this.dispatch(p.GuiEvent.PopMsg.SHOW_TABLE_BOX_REWARD,o),e.iScenceId){case s.FFDScene.LOTTERY:this.dispatch(l.Notify.FFD.REQ_RED_DOT,s.RedPointType.DAILY_LOTERY);break;case s.FFDScene.CD_TASK:this.dispatch(l.Notify.Task.REQ_DAY_TASK_REDDOT,h.RedPointType.CD_TASK);break;case s.FFDScene.DAILY_TASK:break;case s.FFDScene.PC:this.dispatch(l.Notify.Other.REQ_BRANKRUPT_INFO)}s.FFDScene.DAILY_TASK<e.iScenceId&&e.iScenceId<100&&(this.dispatch(l.Notify.Task.REQ_DAY_TASK_LIST),this.dispatch(l.Notify.Task.REQ_DAY_TASK_REDDOT,h.RedPointType.DAILY_TASK))},e.prototype.onRtnRedDot=function(t){var e=t.data;this.adData.setRedDotItem({adSceneId:e.dwId,count:e.dwRedPointNum});var n=0;if(1===e.dwId&&(n=u.gRedDot.DAILY_LOTTERY,e.dwRedPointNum>0)){var o=d.DataProxy.getInstance().adData.getRVSceneData(s.FFDScene.LOTTERY);g.PopUpLogic.getInstance().canAutoPopByName(p.GuiEvent.PopMsg.DISPLAY_VIDEO_LOTTERY)&&this.dispatch(p.GuiEvent.PopMsg.DISPLAY_VIDEO_LOTTERY,{autoPop:!0,data:o})}n>0&&this.dispatch(l.Notify.Activity.CHANGE_REDDOT_NUM,{activityId:n,redcount:e.dwRedPointNum})},e.prototype.onRtnAllFFDCfg=function(t){var e=t.data;this.adData.parseAllRVData(e)},e.prototype.onRtnOtherGGInfo=function(t){var e=t.data;this.adData.parseOtherGGInfo(e),this.dispatch(l.Notify.AD.LOAD_BANNER,s.BannerType.HALL)},e.SERVER_ID=180,e}(r.ProxyHandler);n.FFDHandler=_,cc._RF.pop()},{"../../../lib/base/PopUpLogic":"PopUpLogic","../../../lib/utils/Logger":"Logger","../../../plugin/pb/protofile/CMD_FFDMsg":"CMD_FFDMsg","../../../plugin/pb/protofile/GlobalMsgDef":"GlobalMsgDef","../../base/handler/ProxyHandler":"ProxyHandler","../../event/GuiEvent":"GuiEvent","../../event/Notify":"Notify","../../model/ActivityDataProxy":"ActivityDataProxy","../../model/DataProxy":"DataProxy","../../model/LocalDataProxy":"LocalDataProxy","../task/CMD_TaskMsg":"CMD_TaskMsg"}],FaceBookSdk:[function(t,e,n){"use strict";cc._RF.push(e,"66fb6vkz2VAsoBR+AvWno4S","FaceBookSdk"),Object.defineProperty(n,"__esModule",{value:!0}),n.FaceBookSdk=void 0;var o=t("./../module/buryPoint/BuryPointUtils"),i=t("../../lib/base/Callback"),r=t("../../lib/network/HttpManager"),a=t("../model/LocalDataProxy"),s=t("./CallBackManager"),c=t("./NativeApi"),l=t("../module/buryPoint/BuryPoint"),u=t("../../lib/event/EventDispatcher"),d=t("./NativeNotify"),p=t("../model/DataProxy"),h=function(){function t(){}return t.login=function(e){console.log("FaceBookSdk: login 222()"),u.EventDispatcher.getInstance().dispatch(d.NativeNotify.CALL_SDK),this.loginCb=e.callback,s.CallBackManager.getInstance().register(t.LOGIN,new i.Callback(t,t.onLoginCallback));var n=new c.NativeParams;n.className="FaceBookSdk",n.methodName="login",n.javaMethodSig="(Ljava/lang/String;)V",n.ocMethodSig="login:",n.javaClassPath=this.javaClassPath,n.asyncEvent=t.LOGIN,c.CallNativeMethod.callStaticMethod(n),o.BuryPointUtils.send(l.BuryPoint.Operation.SDK.FaceBookLoginReq)},t.onLoginCallback=function(t){console.log("FaceBookSdk: onLoginCallback() data="+t);var e=JSON.parse(t);if(e&&e.token)(n={}).token=e.token,n.userId=e.userId||"",n.applicationId=e.applicationId||"",n.isExpired=e.isExpired||!1,n.code=e.code||0,this.saveToken(e.token),this.loginCb&&(this.loginCb(n),this.loginCb=null),o.BuryPointUtils.send(l.BuryPoint.Operation.SDK.FaceBookLoginSucc);else{var n={code:e.code,message:e.message||""};this.loginCb&&(this.loginCb(n),this.loginCb=null)}},t.logOut=function(){console.log("FaceBookSdk: logOut()");var t=new c.NativeParams;t.className="FaceBookSdk",t.methodName="logOut",t.javaMethodSig="()V",t.ocMethodSig="logOut",t.javaClassPath=this.javaClassPath,c.CallNativeMethod.callStaticMethod(t),o.BuryPointUtils.send(l.BuryPoint.Operation.SDK.FaceBookLogout)},t.openFBUrl=function(){var t=new c.NativeParams;t.className="FaceBookSdk",t.methodName="openFBUrl",t.javaMethodSig="(Ljava/lang/String;Ljava/lang/String;)V",t.ocMethodSig="openFBUrl:FansID:",t.javaClassPath=this.javaClassPath,c.CallNativeMethod.callStaticMethod(t,this.FB_URL,this.FB_FANS_ID),o.BuryPointUtils.send(l.BuryPoint.Operation.SDK.FaceBookSupport),u.EventDispatcher.getInstance().dispatch(d.NativeNotify.CALL_SDK)},t.checkLoginToken=function(){var t=!1,e=p.DataProxy.getInstance().localData.get(a.LocalStorageProxy.FaceBookTokenSaveTime,0),n=p.DataProxy.getInstance().localData.get(a.LocalStorageProxy.FaceBookLongExpiredTime,0),o=Math.floor((new Date).getTime()/1e3),i=this.getToken();if(""==i||0==e||0==n)t=!0;else{var r=o-e;console.log("checkLogin() time="+r),r>2*n/3&&(t=!0)}return t=!0,console.log("checkLogin() needLogin="+t),{needLogin:t,token:i}},t.loginWithIDAndName=function(t){var e=this;this.requestUserInfo(function(n){n.ok&&(n.id&&(t.id=n.id),n.name&&(t.name=n.name)),e.loginCb&&(e.loginCb(t),e.loginCb=null)}),this.requestLongToken()},t.saveToken=function(t){t&&p.DataProxy.getInstance().localData.set(a.LocalStorageProxy.FaceBookToken,t)},t.getToken=function(){return p.DataProxy.getInstance().localData.get(a.LocalStorageProxy.FaceBookToken,"")},t.saveLongTokenAndExpiresTime=function(t,e){if(t&&e){p.DataProxy.getInstance().localData.set(a.LocalStorageProxy.FaceBookLongToken,t),p.DataProxy.getInstance().localData.set(a.LocalStorageProxy.FaceBookLongExpiredTime,e);var n=Math.floor((new Date).getTime()/1e3);p.DataProxy.getInstance().localData.set(a.LocalStorageProxy.FaceBookTokenSaveTime,n)}},t.getVersion=function(){return"v8.0"},t.getClientId=function(){var t=new c.NativeParams;return t.className="FaceBookSdk",t.methodName="getClientId",t.javaMethodSig="()Ljava/lang/String;",t.ocMethodSig="getClientId",t.javaClassPath=this.javaClassPath,c.CallNativeMethod.callStaticMethod(t)},t.getClientInfo=function(){var t=new c.NativeParams;return t.className="FaceBookSdk",t.methodName="getClientInfo",t.javaMethodSig="()Ljava/lang/String;",t.ocMethodSig="getClientInfo",t.javaClassPath=this.javaClassPath,c.CallNativeMethod.callStaticMethod(t)},t.requestLongToken=function(e){var n=this,o=this.getClientId(),i=this.getClientInfo(),s=p.DataProxy.getInstance().localData.get(a.LocalStorageProxy.FaceBookToken,""),c="https://graph.facebook.com/"+t.getVersion()+"/oauth/access_token?grant_type=fb_exchange_token&client_id="+o+"&client_secret="+i+"&fb_exchange_token="+s+"&access_token="+s;console.log("requestLongToken() url=",c),r.HttpManager.Get(c).then(function(t){if(t.ok&&t.data){var o=t.data;console.log("requestLongToken() data=",o);var i=JSON.parse(o);if(i&&i.access_token&&i.expires_in){var r={};r.access_token=i.access_token,r.token_type=i.token_type,r.expires_in=i.expires_in,r.ok=!0,n.saveLongTokenAndExpiresTime(r.access_token,r.expires_in),e&&e(r)}}}).catch(function(t){e&&e({ok:!1}),console.log("requestLongToken() Fail results=",t)})},t.requestUserInfo=function(e){var n=p.DataProxy.getInstance().localData.get(a.LocalStorageProxy.FaceBookLongToken,"");""==n&&(n=p.DataProxy.getInstance().localData.get(a.LocalStorageProxy.FaceBookToken,""));var o="https://graph.facebook.com/"+t.getVersion()+"/me?fields=name&access_token="+n;console.log("requestUserInfo() url=",o),r.HttpManager.Get(o).then(function(n){if(console.log("requestUserInfo() results=",n),n.ok&&n.data){console.log("requestUserInfo() data=",n.data);var o={},i=JSON.parse(n.data);i&&i.name&&(o.ok=!0,o.name=i.name,o.id=i.id,o.id&&(o.pictureUrl="https://graph.facebook.com/"+t.getVersion()+"/"+o.id+"/picture?type=large"),e&&e(o))}else e&&e({ok:!1})}).catch(function(t){cc.log("requestUserInfo() Fail results=",t),e&&e({ok:!1})})},t.testUserInfo=function(t){t&&t({ok:!0,pictureUrl:"https://scontent-hkg4-1.xx.fbcdn.net/v/t1.30497-1/cp0/c15.0.50.50a/p50x50/84628273_176159830277856_972693363922829312_n.jpg?_nc_cat=1&ccb=2&_nc_sid=12b3be&_nc_ohc=LkKjl5nu_6EAX-aU0OA&_nc_ht=scontent-hkg4-1.xx&tp=27&oh=d3cfdf9d5022edaa4ea68e633beba664&oe=603332B8"})},t.logCompleteTutorial=function(t){var e=new c.NativeParams;return e.className="FaceBookSdk",e.methodName="logCompleteTutorialEvent",e.javaMethodSig="(Z)V",e.ocMethodSig="logCompleteTutorialEvent",e.javaClassPath=this.javaClassPath,c.CallNativeMethod.callStaticMethod(e,t)},t.logCompleteRegistration=function(t){var e=new c.NativeParams;return e.className="FaceBookSdk",e.methodName="logCompleteRegistrationEvent",e.javaMethodSig="(Ljava/lang/String;)V",e.ocMethodSig="logCompleteRegistrationEvent",e.javaClassPath=this.javaClassPath,c.CallNativeMethod.callStaticMethod(e,t)},t.logCompletePurchase=function(t){var e=new c.NativeParams;return e.className="FaceBookSdk",e.methodName="logCompletePurchaseEvent",e.javaMethodSig="(Ljava/lang/String;)V",e.ocMethodSig="logCompletePurchaseEvent",e.javaClassPath=this.javaClassPath,c.CallNativeMethod.callStaticMethod(e,JSON.stringify(t))},t.logCompleteCustomize=function(t,e){e=e||{};var n=new c.NativeParams;return n.className="FaceBookSdk",n.methodName="logCompleteCustomizeEvent",n.javaMethodSig="(Ljava/lang/String;Ljava/lang/String;)V",n.ocMethodSig="logCompleteCustomizeEvent",n.javaClassPath=this.javaClassPath,c.CallNativeMethod.callStaticMethod(n,t,JSON.stringify(e))},t.javaClassPath="com/husky/libfacebook/",t.FB_URL="https://www.facebook.com/scopaol",t.FB_FANS_ID="105250238232138",t.LOGIN="facebook_login",t.SHARE="facebook_share",t.loginCb=null,t.LOGIN_WITH_ID_NAME=!1,t}();n.FaceBookSdk=h,cc._RF.pop()},{"../../lib/base/Callback":"Callback","../../lib/event/EventDispatcher":"EventDispatcher","../../lib/network/HttpManager":"HttpManager","../model/DataProxy":"DataProxy","../model/LocalDataProxy":"LocalDataProxy","../module/buryPoint/BuryPoint":"BuryPoint","./../module/buryPoint/BuryPointUtils":"BuryPointUtils","./CallBackManager":"CallBackManager","./NativeApi":"NativeApi","./NativeNotify":"NativeNotify"}],FcmSdk:[function(t,e,n){"use strict";cc._RF.push(e,"1d061kbRSdIz75AwQkicvTQ","FcmSdk"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./NativeApi"),i=t("../../lib/network/HttpManager"),r=t("../model/DataProxy"),a=function(){function t(){}return t.getToken=function(){var t=new o.NativeParams;return t.methodName="getToken",t.javaMethodSig="()Ljava/lang/String;",t.ocMethodSig="getToken",t.className="FCMSdk",t.javaClassPath=this.javaClassPath,o.CallNativeMethod.callStaticMethod(t)},t.getLocalToken=function(){return r.DataProxy.getInstance().localData.get("local_fcm_token","")},t.setLocalToken=function(t){t&&r.DataProxy.getInstance().localData.set("local_fcm_token",t)},t.udpateFCMTokenInternal=function(){var e=this.getLocalToken(),n=this.getToken(),o=r.DataProxy.getInstance().userData.userId;if(console.log("udpateFCMTokenInternal: newToken=",n),console.log("udpateFCMTokenInternal: localToken=",e),n&&n!=e){var a="http://res.loc77.com/fcm/italy/updatetoken",s={token:n,userID:o};console.log("udpateFCMToken: url="+a),console.log("udpateFCMToken: data="+JSON.stringify(s)),i.HttpManager.Post({url:a,method:"post",body:s}).then(function(){t.setLocalToken(n),console.log("udpateFCMToken: finish")}).catch(function(){console.log("udpateFCMToken: fail")})}},t.udpateFCMToken=function(){var t=this,e=this.getToken();console.log("udpateFCMToken: newToken=",e),e?this.udpateFCMTokenInternal():setTimeout(function(){t.udpateFCMTokenInternal()},6e4)},t.javaClassPath="com/husky/libfirebase/",t}();n.default=a,cc._RF.pop()},{"../../lib/network/HttpManager":"HttpManager","../model/DataProxy":"DataProxy","./NativeApi":"NativeApi"}],FiveStarEditor:[function(t,e,n){"use strict";cc._RF.push(e,"5aea5jEF65LOYQHEf+LEyxA","FiveStarEditor");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../script/app/event/Notify"),s=t("../../../lib/base/BottomBarView"),c=t("../../../lib/base/ComPopup"),l=t("../../../lib/base/CxComponent"),u=t("../../../lib/utils/ComUtils"),d=t("../../const/Global"),p=t("../../language/LanguageCfg"),h=cc._decorator,f=h.ccclass,g=h.property,_=h.requireComponent,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pEditBox=null,e.pTitle=null,e.mSelectStar=0,e.delayLock=!0,e}return i(e,t),e.prototype.start=function(){var t=this;this.pTitle&&(this.pTitle.string=u.ComUtils.getLang(p.LangKey.five_star_editor_title)),s.BottomBarView.setBottomBar(this.node,[{style:d.gColorStyle.GREEN,text:u.ComUtils.makeLang(p.LangKey.text_confirm),callback:function(){t.onClick()}}])},e.prototype.init=function(t){t&&(this.mSelectStar=t.star||0)},e.prototype.onClick=function(){if(this.delayLock&&(u.ComUtils.delayLimit(this,1e3),this.pEditBox)){var t=this.pEditBox.string;null!=t&&t.length>0?this.dispatch(a.Notify.Other.REQ_SEND_FIVE_STAR_CONTENT,{star:this.mSelectStar,content:t}):this.dispatch(a.Notify.Other.REQ_SEND_FIVE_STAR_CONTENT,{star:this.mSelectStar,content:""}),this.close()}},e.prototype.onFiveStarResult=function(){this.close()},r([g(cc.EditBox)],e.prototype,"pEditBox",void 0),r([g(cc.Label)],e.prototype,"pTitle",void 0),r([f,_(c.ComPopup),_(s.BottomBarView)],e)}(l.CxComponent);n.default=y,cc._RF.pop()},{"../../../../script/app/event/Notify":"Notify","../../../lib/base/BottomBarView":"BottomBarView","../../../lib/base/ComPopup":"ComPopup","../../../lib/base/CxComponent":"CxComponent","../../../lib/utils/ComUtils":"ComUtils","../../const/Global":"Global","../../language/LanguageCfg":"LanguageCfg"}],FiveStarLayer:[function(t,e,n){"use strict";cc._RF.push(e,"b1948fQyulJYYjqg4BJwoAL","FiveStarLayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../lib/base/CxComponent"),s=t("../../../lib/utils/ComUtils"),c=t("../../../lib/utils/Logger"),l=t("../../event/GuiEvent"),u=t("../../event/Notify"),d=t("../../language/LanguageCfg"),p=t("../../platform/NativeApi"),h=cc._decorator,f=h.ccclass,g=h.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pSpriteAtlas=null,e.pTitleLabel=null,e.pTipLabel=null,e.pBtnLabel1=null,e.pBtnLabel2=null,e.pStar1=null,e.pStar2=null,e.pStar3=null,e.pStar4=null,e.pStar5=null,e.mSelectStar=5,e.dwStarNumPop=0,e.delayLock=!0,e}return i(e,t),e.prototype.init=function(t){t&&(this.dwStarNumPop=t.dwStarNumPop||5)},e.prototype.start=function(){this.initLayer()},e.prototype.listEvent=function(){return new Map([[u.Notify.Other.RTN_FIVE_STAR_CONTENT_RESULT,this.onResult]])},e.prototype.initLayer=function(){this.initView()},e.prototype.initView=function(){this.pTipLabel&&(this.pTipLabel.string=s.ComUtils.getLang(d.LangKey.five_star_rate)),this.pBtnLabel1&&(this.pBtnLabel1.string=s.ComUtils.getLang(d.LangKey.five_star_not_now)),this.pBtnLabel2&&(this.pBtnLabel2.string=s.ComUtils.getLang(d.LangKey.text_confirm))},e.prototype.onResult=function(){this.onClose()},e.prototype.onClose=function(){this.node.destroy()},e.prototype.onSelectStar=function(t,e){if(c.Logger.info("onSelectStar: customEventData="+e),e){var n=Number(e);c.Logger.info("onSelectStar: num="+n),Number.isNaN(n)||n>0&&(this.mSelectStar=n,this.setStarList(n))}},e.prototype.setStarList=function(t){for(var e=[this.pStar1,this.pStar2,this.pStar3,this.pStar4,this.pStar5],n=0;n<e.length;n++){var o=e[n],i="five_star_icon_normal";if(t>n&&(i="five_star_icon_select"),o&&this.pSpriteAtlas){var r=this.pSpriteAtlas.getSpriteFrame(i);r&&(o.spriteFrame=r)}}},e.prototype.onClickNotNow=function(){this.onClose()},e.prototype.onClickConfirm=function(){c.Logger.info("onClickConfirm(): this.mSelectStar="+this.mSelectStar),this.delayLock&&(s.ComUtils.delayLimit(this,1e3),this.mSelectStar>=this.dwStarNumPop?(this.dispatch(u.Notify.Other.REQ_SEND_FIVE_STAR_CONTENT,{star:this.mSelectStar,content:""}),setTimeout(function(){p.NativeApi.launchMarketStar()},400)):this.dispatch(l.GuiEvent.PopMsg.DISPLAY_FIVE_STAR_EDITOR,{star:this.mSelectStar}))},r([g(cc.SpriteAtlas)],e.prototype,"pSpriteAtlas",void 0),r([g(cc.Label)],e.prototype,"pTitleLabel",void 0),r([g(cc.Label)],e.prototype,"pTipLabel",void 0),r([g(cc.Label)],e.prototype,"pBtnLabel1",void 0),r([g(cc.Label)],e.prototype,"pBtnLabel2",void 0),r([g(cc.Sprite)],e.prototype,"pStar1",void 0),r([g(cc.Sprite)],e.prototype,"pStar2",void 0),r([g(cc.Sprite)],e.prototype,"pStar3",void 0),r([g(cc.Sprite)],e.prototype,"pStar4",void 0),r([g(cc.Sprite)],e.prototype,"pStar5",void 0),r([f],e)}(a.CxComponent);n.default=_,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../../lib/utils/ComUtils":"ComUtils","../../../lib/utils/Logger":"Logger","../../event/GuiEvent":"GuiEvent","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../../platform/NativeApi":"NativeApi"}],FluxayTexture:[function(t,e,n){"use strict";cc._RF.push(e,"92724YM05NApZQh8JCXHvOY","FluxayTexture");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._speed=1,e._time=0,e}return i(e,t),e.prototype.onLoad=function(){this._material=this.node.getComponent(cc.Sprite).getMaterial(0)},e.prototype.update=function(t){this._time>2&&(this._time=0),this._material.setProperty("u_time",this._time),this._time+=t*this._speed},r([s],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],FreeBonusPage:[function(t,e,n){"use strict";cc._RF.push(e,"e0316sQMdhB85Juq0yI3eS5","FreeBonusPage");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.FreeBonusPage=void 0;var a=t("../../../lib/base/CxComponent"),s=t("../../../lib/base/PopupView"),c=t("../../../lib/i18n/i18nHelper"),l=t("../../../lib/utils/ComUtils"),u=t("../../base/component/ComTimer"),d=t("../../const/Global"),p=t("../../event/Notify"),h=t("../../language/LanguageCfg"),f=t("../../model/ActivityDataProxy"),g=t("../../model/AdDataProxy"),_=t("../../model/DataProxy"),y=t("../ComFunctions"),m=t("../ComUI"),b=t("./BonusRewardItem"),v=cc._decorator,S=v.ccclass,w=v.property,C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labBonusTips=null,e.btnWatchVideo=null,e.btnWatchVideoGray=null,e.btnNormalClaim=null,e.pDefReward=null,e.pExtReward=null,e.labCDTime=null,e.tgWatchVideo=null,e.mTimer=null,e}return i(e,t),e.prototype.initView=function(){this.dispatch(p.Notify.FFD.REQ_FFD_SCENEDATA,g.RVADSceneID.CD_TASK),this.dispatch(p.Notify.Task.REQ_TASK_TIME_REWARD_INFO),this.initPage()},e.prototype.listEvent=function(){return new Map([[p.Notify.FFD.RTN_FFD_SCENEDATA,this.updateViewDataByFFD],[p.Notify.Task.UPDATE_TASK_TIME_REWARD_INFO,this.updateViewData],[p.Notify.AD.CANCELED,this.onAdCanceled],[p.Notify.AD.REWARD,this.onAdReward]])},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),this.viewData=null,this.mTimer&&(this.mTimer.clear(),this.mTimer=null)},e.prototype.initPage=function(){this.tgWatchVideo&&this.tgWatchVideo.node.on("toggle",this.onToggleClicked,this),this.btnNormalClaim&&this.btnNormalClaim.node.on("click",this.onNormalClaimClicked,this),this.btnWatchVideo&&this.btnWatchVideo.node.on("click",this.onWatchVideoClicked,this);var t=this.getComponent(s.PopupView);t&&t.setTitle(l.ComUtils.getLang(h.LangKey.bonus_title)),this.setVerticalOffset()},e.prototype.initAward=function(t){this.viewData&&(t?(this.pDefReward&&this.viewData.defReward&&(this.viewData.defReward.index=1,this.pDefReward.node.active=!0,this.pDefReward.init(this.viewData.defReward)),this.pExtReward&&(this.pExtReward.node.active=!1)):this.viewData.extReward&&(this.pDefReward&&this.viewData.extReward[0]&&(this.pDefReward.node.active=!0,this.pDefReward.init(this.viewData.extReward[0])),this.pExtReward&&this.viewData.extReward[1]&&(this.pExtReward.node.active=!0,this.pExtReward.init(this.viewData.extReward[1]))))},e.prototype.setTimer=function(t){var e=this;this.tgWatchVideo.node.active=!1,this.labBonusTips.node.active=!1,this.mTimer&&this.mTimer.clear(),t>0&&(this.mTimer=new u.default,this.mTimer.start({startTime:0,totalTime:t,obj:this,callback:function(t,n){n?(e.setTimeText(0),y.ComFunctions.performWithDelay(e.node,function(){e.viewData.bIsGet=!0,_.DataProxy.getInstance().taskData.setTaskRedPoint(f.gRedDot.CD_TASK,1),e.dispatch(p.Notify.Activity.CHANGE_REDDOT_NUM,{activityId:f.gRedDot.CD_TASK,redcount:1}),e.initView()},1)):e.viewData.bIsGet?e.setTimeShow(!1):e.setTimeText(t)}}))},e.prototype.setTimeText=function(t){this.labCDTime&&null!=t&&(this.labCDTime.string=l.ComUtils.formatTimeString(t),this.setTimeShow(!0))},e.prototype.setTimeShow=function(t){this.labCDTime&&(this.labCDTime.node.parent.active=t)},e.prototype.updateView=function(){this.viewData&&!this.viewData.bCanGG&&(this.tgWatchVideo&&(this.tgWatchVideo.isChecked=!1),this.btnWatchVideo&&(this.btnWatchVideo.node.active=!1),this.btnWatchVideoGray&&(this.btnWatchVideoGray.node.active=!1),this.btnNormalClaim&&(this.btnNormalClaim.node.active=!0)),this.labBonusTips&&this.viewData&&(this.labBonusTips.string=c.i18nHelper.getLanguage([h.LangKey.bonus_multiple_tips,this.viewData.multiple||1])),this.viewData.placementID?(this.dispatch(p.Notify.AD.LOAD_VIDEO,{userId:_.DataProxy.getInstance().userData.userId,placementID:this.viewData.placementID,adSceneId:g.RVADSceneID.CD_TASK}),this.tgWatchVideo&&(this.tgWatchVideo.isChecked=!0)):this.tgWatchVideo&&(this.tgWatchVideo.isChecked=!1),this.viewData&&!this.viewData.bIsGet?(0==this.viewData.cdTime&&(this.viewData.cdTime=1),this.setTimer(this.viewData.cdTime),this.tgWatchVideo&&(this.tgWatchVideo.node.active=!1),this.btnWatchVideo&&(this.btnWatchVideo.node.active=!1),this.btnWatchVideoGray&&(this.btnWatchVideoGray.node.active=!1),this.btnNormalClaim&&(this.btnNormalClaim.node.active=!1),this.labBonusTips&&(this.labBonusTips.node.active=!1),this.labCDTime&&(this.labCDTime.node.parent.active=!0),this.initAward(!1)):(this.labCDTime&&(this.labCDTime.node.parent.active=!1),this.labBonusTips&&(this.labBonusTips.node.active=!0),this.tgWatchVideo&&(this.tgWatchVideo.node.active=!0),this.onToggleClicked(this.tgWatchVideo))},e.prototype.updateViewDataByFFD=function(t){t&&t.adSceneId===g.RVADSceneID.CD_TASK&&(this.viewData=this.viewData||{},this.viewData.bCanGG=t.bCanGG,this.viewData.multiple=t.multiple,this.viewData.extReward=t.awardList,this.viewData.placementID=t.placementID,this.viewData.adSceneId=t.adSceneId,this.updateView())},e.prototype.updateViewData=function(t){t&&(this.viewData={},this.viewData.bCanGG=t.bCanGG,this.viewData.multiple=t.multiple,this.viewData.extReward=t.awardList,this.viewData.placementID=t.placementID,this.viewData.adSceneId=t.adSceneId,this.viewData.bIsGet=t.bIsGet,this.viewData.cdTime=t.cdTime,this.viewData.defReward=t.defReward,cc.log("\u66f4\u65b0CD\u754c\u9762",this.viewData),this.updateView())},e.prototype.onToggleClicked=function(t){if(t){var e=t.isChecked;this.btnWatchVideo&&(this.btnWatchVideo.node.active=e),this.btnNormalClaim&&(this.btnNormalClaim.node.active=!e),this.viewData&&!this.viewData.bCanGG&&(this.btnWatchVideo&&(this.btnWatchVideo.node.active=!1),this.btnWatchVideoGray&&(this.btnWatchVideoGray.node.active=e),this.btnNormalClaim&&(this.btnNormalClaim.node.active=!0)),this.pExtReward&&(this.pExtReward.node.active=e),this.initAward(!e)}},e.prototype.onWatchVideoClicked=function(){cc.sys.isBrowser&&this.viewData?this.onAdReward(this.viewData.adSceneId):this.dispatch(p.Notify.AD.OPEN_VIDEO,this.viewData.adSceneId)},e.prototype.onNormalClaimClicked=function(){this.dispatch(p.Notify.Task.REQ_TASK_TIME_REWARD_RESULT),this.dispatch(p.Notify.GoldenPass.SWICH_BONUS_PAGE,d.BonusPage.GOLDEN_BONUS)},e.prototype.onAdReward=function(t){this.dispatch(p.Notify.FFD.REQ_REWARD,t),this.dispatch(p.Notify.GoldenPass.SWICH_BONUS_PAGE,d.BonusPage.GOLDEN_BONUS)},e.prototype.onAdCanceled=function(t){cc.log(" onAdCanceled "+JSON.stringify(t||"")),m.ComUI.showToast(l.ComUtils.getLang(h.LangKey.close_video_ad_tips))},r([w({type:cc.Label,tooltip:"\u63d0\u793a\u4fe1\u606f"})],e.prototype,"labBonusTips",void 0),r([w({type:cc.Button,tooltip:"\u89c2\u770b\u6309\u94ae\u9886\u53d6"})],e.prototype,"btnWatchVideo",void 0),r([w({type:cc.Button,tooltip:"\u7070\u8272\u89c2\u770b\u6309\u94ae"})],e.prototype,"btnWatchVideoGray",void 0),r([w({type:cc.Button,tooltip:"\u666e\u901a\u9886\u53d6"})],e.prototype,"btnNormalClaim",void 0),r([w({type:b.BonusRewardItem,tooltip:"\u9ed8\u8ba4\u5956\u52b1"})],e.prototype,"pDefReward",void 0),r([w({type:b.BonusRewardItem,tooltip:"\u9644\u52a0\u5956\u52b1"})],e.prototype,"pExtReward",void 0),r([w({type:cc.Label,tooltip:"\u5012\u8ba1\u65f6"})],e.prototype,"labCDTime",void 0),r([w({type:cc.Toggle,tooltip:"\u5012\u8ba1\u65f6"})],e.prototype,"tgWatchVideo",void 0),r([S],e)}(a.CxComponent);n.FreeBonusPage=C,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../../lib/base/PopupView":"PopupView","../../../lib/i18n/i18nHelper":"i18nHelper","../../../lib/utils/ComUtils":"ComUtils","../../base/component/ComTimer":"ComTimer","../../const/Global":"Global","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../../model/ActivityDataProxy":"ActivityDataProxy","../../model/AdDataProxy":"AdDataProxy","../../model/DataProxy":"DataProxy","../ComFunctions":"ComFunctions","../ComUI":"ComUI","./BonusRewardItem":"BonusRewardItem"}],GameConfig:[function(t,e,n){"use strict";cc._RF.push(e,"f13f5ItU41BdK2wdQRZgcLe","GameConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameConfig=n.ServerType=void 0;var o,i=t("./../../lib/utils/Logger"),r=t("./ProductConfig"),a=t("../../lib/utils/ComUtils"),s=t("../platform/NativeApi"),c=t("./AlphaConfig"),l=t("./BetaConfig");(function(t){t[t.Beta=0]="Beta",t[t.Release=1]="Release",t[t.Alpha=2]="Alpha"})(o=n.ServerType||(n.ServerType={}));var u=function(){function t(){this.config=null}return t.prototype.updateServerInfo=function(t){t&&(a.ComUtils.isTextEmpty(t.uploadURL)||(this.uploadURL=t.uploadURL,this.uploadURL.endsWith("/")||(this.uploadURL+="/")),a.ComUtils.isTextEmpty(t.downloadURL)||(this.downloadURL=t.downloadURL,this.downloadURL.endsWith("/")||(this.downloadURL+="/")))},t.prototype.getQueryOrderUrl=function(t){return this.config.getQueryOrderUrl(t)},t.prototype.initNative=function(t){var e=this;if(this.mProjectId)t&&t();else if(cc.sys.isNative&&cc.sys.os===cc.sys.OS_ANDROID){var n=jsb.fileUtils.getStringFromFile("./channel_cfg.json");if(n){var o=JSON.parse(n);this.setEnvConfig(o,t)}else i.Logger.error("\u6ca1\u6709\u914d\u7f6e\u6587\u4ef6\uff01\uff01\uff01")}else cc.resources.load("channel_cfg",cc.JsonAsset,function(n,o){if(console.log("initNative(): err=",n),n)i.Logger.error("\u6ca1\u6709\u914d\u7f6e\u6587\u4ef6\uff01\uff01\uff01");else{var r=o.json;console.log("initNative(): cfg=",r),r?e.setEnvConfig(r,t):i.Logger.error("\u6ca1\u6709\u914d\u7f6e\u6587\u4ef6\uff01\uff01\uff01")}})},t.prototype.setEnvConfig=function(e,n){a.ComUtils.isIOS()?(this.mPlatformId=e.platform_ios,this.mProjectId=e.project_ios):(this.mPlatformId=e.platform_android,this.mProjectId=e.project_android),this.mClientId=e.clientId,this.mAppVersion=e.version,this.mResVersion=e.resVersion;var o=new Date;o.setTime(Number(e.buildTime)||Date.now()),t.BuildTime=" "+a.ComUtils.pad(o.getMonth()+1,2)+"/"+a.ComUtils.pad(o.getDate(),2)+" "+o.getHours()+":"+a.ComUtils.pad(o.getMinutes(),2),t.Release=e.env,console.log("initNative(): mProjectId="+this.mProjectId),console.log("initNative(): mPlatformId="+this.mPlatformId),console.log("initNative(): mClientId="+this.mClientId),console.log("initNative(): mAppVersion="+this.mAppVersion),console.log("initNative(): GameConfig.BuildTime="+t.BuildTime),console.log("initNative(): GameConfig.Release="+t.Release),this.initCfg(),n&&n()},t.prototype.initCfg=function(){t.Release==o.Release?this.config=new r.ProductConfig:t.Release==o.Alpha?this.config=new c.AlphaConfig:t.Release==o.Beta&&(this.config=new l.BetaConfig),this.downloadURL=this.config.getDownloadUrl(),this.uploadURL=this.config.getUploadUrl()},t.getInstance=function(){return null==t.sInstance&&(t.sInstance=new t),t.sInstance},t.g=function(){return t.getInstance()},t.getServerType=function(){return t.Release},t.getServerTypeString=function(){var e="";return t.Release==o.Release?e="":t.Release==o.Alpha?e="AlphaTest":t.Release==o.Beta&&(e="BetaTest"),e},t.isRelease=function(){return t.getServerType()===o.Release},t.getBuildTime=function(){return t.BuildTime},t.prototype.getDir=function(t){for(var e=1;e<=2e5;e++)if(t<1e5*e)return e-1;return 0},t.prototype.getHotUpdateUrl=function(){return this.config.getHotUpdateUrl()},t.prototype.getImgDownloadURL=function(){return this.downloadURL},t.prototype.getImageUploadURL=function(){return this.uploadURL},t.prototype.getVoiceUploadURL=function(){return this.uploadURL+"upvoicedata"},t.prototype.getUserImagePicDownURL=function(t){return this.getImgDownloadURL()+(this.getDir(t)+"/")+t+".jpg"},t.prototype.getUserImagePicUpURL=function(){return this.getImageUploadURL()},t.prototype.getTablePicDownURL=function(){return""},t.prototype.getProjectId=function(){return this.mProjectId},t.prototype.getPlatformId=function(){return this.mPlatformId},t.prototype.getAppVersion=function(){return cc.sys.isNative?s.NativeApi.getAppVersionName():this.mAppVersion||"1.0.0"},t.prototype.getResVersion=function(){var t=this.mResVersion;return this.mSaveResVersion?t=this.mSaveResVersion:(this.mSaveResVersion=cc.sys.localStorage.getItem("res_version"),this.mSaveResVersion&&(t=this.mSaveResVersion)),t||"1.0.1"},t.prototype.getNativeResVersion=function(){return this.mResVersion},t.prototype.getGameWSUrl=function(){return this.config.getGameWSUrl()},t.prototype.getDownloadUrl=function(){return this.downloadURL},t.prototype.getUploadUrl=function(){return this.uploadURL},t.prototype.getHttpServerUrl=function(){return this.config.getHttpServerUrl()},t.prototype.getResURL=function(){return this.config.getResURL()},t.prototype.getHeadFolder=function(){return this.config.getHeadFolder()},t.prototype.getUpLoadHeadUrl=function(){return""+this.getImageUploadURL()},t.prototype.getHistoryListUrl=function(){return this.config.getHistoryListUrl()},t.prototype.getHistoryDetail=function(){return this.config.getHistoryDetail()},t.prototype.getStatsUrl=function(){return""+this.getDownloadUrl()+this.config.getStatsUrl()},t.prototype.getPrivacyUrl=function(){return this.config.getPrivacyUrl()},t.prototype.getProtocolUrl=function(){return this.config.getProtocolUrl()},t.prototype.getBuryPointUrl=function(){return this.config.getBuryPointUrl()},t.prototype.getRobotHeadUrl=function(t){return this.config.getRobotHeadUrl(t)},t.prototype.getBundleUrl=function(){return this.config.getBundleUrl()},t.prototype.getShortLink=function(){return"http://track.wwg01.com/wwtrack/track/shortlink?full_link="},t.Release=o.Alpha,t.sInstance=null,t}();n.GameConfig=u,cc._RF.pop()},{"../../lib/utils/ComUtils":"ComUtils","../platform/NativeApi":"NativeApi","./../../lib/utils/Logger":"Logger","./AlphaConfig":"AlphaConfig","./BetaConfig":"BetaConfig","./ProductConfig":"ProductConfig"}],GameConstant:[function(t,e,n){"use strict";cc._RF.push(e,"61cdbOxzXxAybaLyrh4oYCN","GameConstant"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameConstant=void 0,function(t){(function(t){t[t.GetOut=1]="GetOut",t[t.Free=2]="Free",t[t.Sit=3]="Sit",t[t.Ready=4]="Ready",t[t.Playing=5]="Playing",t[t.OffLine=6]="OffLine",t[t.LookOn=7]="LookOn",t[t.GetOutAtPlaying=8]="GetOutAtPlaying"})(t.RoomUserStatus||(t.RoomUserStatus={})),function(t){t[t.None=-1]="None",t[t.waiting=0]="waiting",t[t.playing=1]="playing",t[t.gameEnd=2]="gameEnd"}(t.RoomPlayStatus||(t.RoomPlayStatus={})),function(t){t[t.START_TIP=1]="START_TIP",t[t.RESPONE=2]="RESPONE"}(t.RoomJSType||(t.RoomJSType={})),function(t){t[t.NONE=0]="NONE",t[t.YES=1]="YES",t[t.NO=2]="NO"}(t.RoomUserPspType||(t.RoomUserPspType={})),function(t){t[t.NONE=0]="NONE",t[t.GAME_START=1]="GAME_START",t[t.GAME_END_RESULT=12]="GAME_END_RESULT"}(t.GameProcess||(t.GameProcess={})),t.MaxPlayerNum=4,function(t){t[t.NORMAL=0]="NORMAL",t[t.DISPLAY=1]="DISPLAY"}(t.HandCardMode||(t.HandCardMode={})),function(t){t[t.DRAW=0]="DRAW",t[t.WIN=1]="WIN",t[t.LOST=2]="LOST"}(t.GameEndStatus||(t.GameEndStatus={})),function(t){t[t.A_SCOPA=1]="A_SCOPA",t[t.DoubleUp=2]="DoubleUp",t[t.BigWin=3]="BigWin",t[t.Crazy=4]="Crazy",t[t.CrazyV3=5]="CrazyV3"}(t.RuleType||(t.RuleType={}))}(n.GameConstant||(n.GameConstant={})),cc._RF.pop()},{}],GameDataProxy:[function(t,e,n){"use strict";cc._RF.push(e,"2cfc1vyU2BEP6hsIUaMTjPM","GameDataProxy"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameReplayInfo=n.MatchGameConfig=void 0;var o=t("../../lib/utils/Logger"),i=function(){this.gameId=0,this.gameType=0,this.loginData=null,this.extData=null};n.MatchGameConfig=i;var r=function(){function t(){this.exsitGameInfo={gameID:0,queryTime:0},this._matchGameCfg=new i,this._gameUserHead=new Map,this._bCancelMatch=!1}return Object.defineProperty(t.prototype,"enterRoomId",{get:function(){return this._enterRoomId||0},set:function(t){this._enterRoomId=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enterGameId",{get:function(){return this._enterGameId},set:function(t){this._enterGameId=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enterSceneInfo",{get:function(){return this._enterSceneInfo},set:function(t){t?(this._enterSceneInfo=t,this.enterGameId=t.gameId,this.enterRoomId=t.roomId||0):this._enterSceneInfo={gameId:0,gameType:0,fromScene:0}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isGameReplay",{get:function(){return this._enterSceneInfo.replay},enumerable:!1,configurable:!0}),t.prototype.getGameReplayInfo=function(){return this._gameReplayInfo},t.prototype.setGameReplayInfo=function(t,e){this._gameReplayInfo=new a(t,e)},t.prototype.setMatchGameCfg=function(t){this._matchGameCfg=t,0!=t.gameId&&null!=t.gameId||o.Logger.error("GameDataProxy setMatchGameCfg gameId="+t.gameId+" gameType="+t.gameType)},t.prototype.getMatchGameCfg=function(){return this._matchGameCfg},t.prototype.setGameUserHead=function(t,e){this._gameUserHead.set(t,e)},t.prototype.getGameUserHead=function(t){return this._gameUserHead.get(t)},t.prototype.clearGameUserHead=function(){this._gameUserHead.clear()},t.prototype.clearEnterGameInfo=function(){this._enterRoomId=0,this._enterGameId=0,this._enterSceneInfo&&(this._enterSceneInfo=null)},t.prototype.clear=function(){this._enterRoomId=0,this._enterGameId=0,this._gameReplayInfo&&(this._gameReplayInfo=null),this._enterSceneInfo&&(this._enterSceneInfo=null),this._gameUserHead&&this._gameUserHead.clear()},Object.defineProperty(t.prototype,"bCancelMatch",{get:function(){return this._bCancelMatch},set:function(t){this._bCancelMatch=t},enumerable:!1,configurable:!0}),t.NAME="game_data_proxy",t}();n.default=r;var a=function(t,e){this.shareCode=t,this.strBufferData=e};n.GameReplayInfo=a,cc._RF.pop()},{"../../lib/utils/Logger":"Logger"}],GameMatchHandler:[function(t,e,n){"use strict";cc._RF.push(e,"9a1d7TgQW5Eoodc60YvgUwR","GameMatchHandler");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameMatchHandler=void 0;var r=t("./../buryPoint/BuryPointUtils"),a=t("./GameMatchManager"),s=t("./../../const/Global"),c=t("./../../../lib/utils/ComUtils"),l=t("./../../../lib/utils/Logger"),u=t("../../event/Notify"),d=t("./../../base/handler/ProxyHandler"),p=t("../../model/GameDataProxy"),h=t("../../../lib/manager/SceneManager"),f=t("../../view/ComUI"),g=t("../../../plugin/pb/protofile/CMD_MatchingMsg"),_=t("../../../plugin/pb/protofile/GlobalMsgDef"),y=t("../../language/LanguageCfg"),m=t("../../model/DataProxy"),b=t("../buryPoint/BuryPoint"),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getName=function(){return"GameMatchHandler"},e.prototype.protocolConfig=function(){return[{protocol:g.MSG_SC_MatchingGameData,subid:g.MATCHING_GAME_SUB_MSG.MSGID_SC_MATCHING_GAME,cb:this.onMatchingGameRsp},{protocol:g.MSG_SC_MatchingSuccess,subid:g.MATCHING_GAME_SUB_MSG.MSGID_SC_MATCHING_SUCCESS,cb:this.onMatchingSucc},{protocol:g.MSG_SC_CancleMatching,subid:g.MATCHING_GAME_SUB_MSG.MSGID_SC_CANCLE_MATCHING,cb:this.onCancelMatchRsp}]},e.prototype.initEvent=function(){t.prototype.initEvent.call(this),this.addEvent(u.Notify.MatchGame.SEND_MATCH_REQ,this.sendMatchGameMsg),this.addEvent(u.Notify.MatchGame.SEND_CANEL_MATCH,this.sendCancelMatchGameMsg),this.addEvent(u.Notify.MatchGame.MATCH_VIEW,this.onMatching)},e.prototype.getMainID=function(){return _.MAIN_MSG_ID.MAIN_MSG_LOGIN_GAME_ID},e.prototype.clear=function(){this.removeEvent()},e.prototype.getLoginHead=function(){var t=this.getMatchGameConfig(),e=new _.Msg_LoginHead;return e.dwGameID=t.gameId,e.dwGameTypeID=t.gameType,e.strUUID=this.userData.sessionId,e.dwLastLGameID=0,e.dwTailUserID=0,e.IsQuickStart=!1,e.byLoginData=c.ComUtils.objToU8(t.loginData),e.byExtData=c.ComUtils.objToU8(t.extData),e},e.prototype.getMatchGameConfig=function(){return m.DataProxy.getInstance().gameData.getMatchGameCfg()},e.prototype.sendMatchGameMsg=function(){var t=this.getMatchGameConfig();if(0!=t.gameId&&null!=t.gameId){var e=new g.MSG_CS_MatchingGameData;e.dwUserID=this.userData.userId,e.chMatchingData=c.ComUtils.objToU8(t.loginData),this.sendLoginRequest(e,this.getMainID(),g.MATCHING_GAME_SUB_MSG.MSGID_CS_MATCHING_GAME,this.getLoginHead()),l.Logger.info("\u53d1\u9001\u8bf7\u6c42\u5339\u914d\u6e38\u620f\u6d88\u606f=========> ","gameId("+t.gameId+") gameType("+t.gameType+")"),this.gameData.bCancelMatch=!1}},e.prototype.sendCancelMatchGameMsg=function(){this.sendLoginRequest(null,this.getMainID(),g.MATCHING_GAME_SUB_MSG.MSGID_CS_CANCLE_MATCHING,this.getLoginHead()),l.Logger.info("\u53d6\u6d88\u5339\u914d\u6e38\u620f=========> ")},e.prototype.onMatchingGameRsp=function(t){var e=t.data;if(l.Logger.info("\u5339\u914d\u6e38\u620f\u54cd\u5e94 <===========",e),0!==e.ErrorCode){var n=e.ErrorCode,o="",i=this.gameData.enterGameId||0,d=!1,p=!1,_=!1,v=s.gExitGameType.returnLobby,S=!1,w=!1;switch(n){case g.MATCHING_ERR.ERR_SC_LONG_NULLITY:o=c.ComUtils.getLang(y.LangKey.text_login_prohibited),v=s.gExitGameType.exitAndLeftRoom;break;case g.MATCHING_ERR.ERR_SC_ACCOUNTS_NOT_EXIST:case g.MATCHING_ERR.ERR_SC_NOFIND_CHAIR:o=c.ComUtils.getLang(y.LangKey.text_desk_full),v=s.gExitGameType.exitAndLeftRoom;break;case g.MATCHING_ERR.ERR_SC_GATE_ERROR:o=c.ComUtils.getLang(y.LangKey.text_desk_full),v=s.gExitGameType.reLogin;break;case g.MATCHING_ERR.ERR_SC_UUID:o=c.ComUtils.getLang(y.LangKey.text_account_expired),v=s.gExitGameType.reLogin;break;case g.MATCHING_ERR.ERR_SC_GOLD_NOENOUGH:o="Your gold is not enough in this game",d=!0;break;case g.MATCHING_ERR.ERR_SC_TAIL_FAILED:o=c.ComUtils.getLang(y.LangKey.text_desk_full),v=s.gExitGameType.exitAndLeftRoom,S=!0;break;case g.MATCHING_ERR.ERR_SC_GOLD_TOOMUCH:o=c.ComUtils.getLang(y.LangKey.text_too_much_coins),_=!0;break;case g.MATCHING_ERR.ERR_SC_IN_GAME:w=!0;break;case g.MATCHING_ERR.ERR_SC_PS_NOENOUGH:o=c.ComUtils.getLang(y.LangKey.text_too_much_coins),p=!0;break;default:o=c.ComUtils.getLang(y.LangKey.text_login_fail)+"("+n+")",S=!0}if(l.Logger.info("\u767b\u9646\u5931\u8d25 errCode("+n+") tips("+o+") line:"+e.dwLineNum),r.BuryPointUtils.send(b.BuryPoint.Debug.Game.MatchFail,"Code("+n+")"),this.dispatch(u.Notify.MatchGame.MATCH_RSP,{match:!1,cancel:!1}),this.dispatch(u.Notify.MatchGame.MATCH_VIEW,{rmthis:!0}),S&&i>0)this.dispatch(u.Notify.Game.EXIT_SCENE,v);else{if(d||_||p)a.GameMatchManager.getInstance().checkGoldAndPower(i);else if(m.DataProxy.getInstance().comData.isInGame()||!0!==w)o.length>0&&f.ComUI.showDialog({title:c.ComUtils.getLang(y.LangKey.text_prompt),text:o,close:!1,outClose:!1,cb1:function(){i>0&&this.dispatch(u.Notify.Game.EXIT_SCENE,v)}});else{var C=this.getMatchGameConfig();h.default.getInstance().enterGame({gameId:C.gameId,gameType:C.gameType,fromScene:s.gSceneType.Lobby})}this.dispatch(u.Notify.MatchGame.MATCH_VIEW,{rmthis:!0})}}else this.dispatch(u.Notify.MatchGame.MATCH_RSP,{match:!0})},e.prototype.onMatchingSucc=function(){l.Logger.info("\u5339\u914d\u6210\u529f\u6d88\u606f <==========="),this.gameData.bCancelMatch=!1;var t=this.gameData.enterGameId||0,e=s.gSceneType.Lobby;if(t>0&&(e=this.gameData.enterSceneInfo&&this.gameData.enterSceneInfo.fromScene),r.BuryPointUtils.send(b.BuryPoint.Debug.Game.MatchSucc,"gameId("+t+")"),this.dispatch(u.Notify.MatchGame.MATCH_FINISH),this.dispatch(u.Notify.MatchGame.MATCH_VIEW,{rmthis:!0}),0===t){var n=this.getMatchGameConfig();h.default.getInstance().enterGame({gameId:n.gameId,gameType:n.gameType,fromScene:e})}this.dispatch(u.Notify.MatchGame.MATCH_RSP,{cancel:!1})},e.prototype.onCancelMatchRsp=function(t){var e=t.data;if(l.Logger.info("\u53d6\u6d88\u5339\u914d <===========",e),r.BuryPointUtils.send(b.BuryPoint.Debug.Game.MatchCancel,"Code("+e.ErrorCode+")"),0!==e.ErrorCode){var n=e.ErrorCode,o="";switch(n){case g.CANCLE_MATCHING_ERR.ERR_SC_CANCLE_IN_GAME:o="It's already in the game";break;case g.CANCLE_MATCHING_ERR.ERR_SC_CANCLE_NO_USER:o="Players don't exist";break;default:o="Sorry!"}l.Logger.info("\u5339\u914d\u5931\u8d25 ErrorCode("+n+") tips("+o+") line:"+e.dwLineNum),o&&f.ComUI.showToast(o),this.dispatch(u.Notify.MatchGame.MATCH_RSP,{cancel:!1}),this.dispatch(u.Notify.MatchGame.MATCH_VIEW,{rmthis:!0})}else{this.dispatch(u.Notify.MatchGame.MATCH_VIEW,{rmthis:!0}),this.dispatch(u.Notify.MatchGame.MATCH_RSP,{cancel:!1}),this.gameData.bCancelMatch=!0;var i=this.gameData.enterSceneInfo;i&&i.gameId>0&&this.gameData.enterGameId>0&&this.dispatch(u.Notify.Game.EXIT_SCENE,s.gExitGameType.returnLobby)}},e.prototype.onMatching=function(t){if(this.otherData.isNetConnected){if(t.gameId){var e=this.configData.getGameConfigByGameId(t.gameId),n=new p.MatchGameConfig;n.gameId=e.dwGameID,n.gameType=e.dwGameType,n.loginData=e.chClientData,this.gameData.setMatchGameCfg(n)}}else this.dispatch(u.Notify.MatchGame.MATCH_VIEW,{rmthis:!0})},e}(d.ProxyHandler);n.GameMatchHandler=v,cc._RF.pop()},{"../../../lib/manager/SceneManager":"SceneManager","../../../plugin/pb/protofile/CMD_MatchingMsg":"CMD_MatchingMsg","../../../plugin/pb/protofile/GlobalMsgDef":"GlobalMsgDef","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../../model/DataProxy":"DataProxy","../../model/GameDataProxy":"GameDataProxy","../../view/ComUI":"ComUI","../buryPoint/BuryPoint":"BuryPoint","./../../../lib/utils/ComUtils":"ComUtils","./../../../lib/utils/Logger":"Logger","./../../base/handler/ProxyHandler":"ProxyHandler","./../../const/Global":"Global","./../buryPoint/BuryPointUtils":"BuryPointUtils","./GameMatchManager":"GameMatchManager"}],GameMatchManager:[function(t,e,n){"use strict";cc._RF.push(e,"dbbe3HCWgxGzosYVJ/E6hgx","GameMatchManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameMatchManager=void 0;var o=t("./../../../lib/base/Callback"),i=t("./../../model/ConfigDataProxy"),r=t("./../../const/Global"),a=t("../../../lib/event/EventDispatcher"),s=t("../../../lib/utils/Logger"),c=t("../../event/Notify"),l=t("../../model/LocalDataProxy"),u=t("../../view/ComUI"),d=t("../../../lib/utils/ComUtils"),p=t("../../language/LanguageCfg"),h=t("../../../lib/manager/SceneManager"),f=t("../../../lib/i18n/i18nHelper"),g=t("../buryPoint/BuryPoint"),_=t("../buryPoint/BuryPointUtils"),y=t("../../model/DataProxy"),m=t("../../event/GuiEvent"),b=t("../../const/game/GameConstant"),v=function(){function t(){this.initData()}return t.prototype.clear=function(){a.EventDispatcher.getInstance().remove(this)},t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.initData=function(){a.EventDispatcher.getInstance().add(c.Notify.MatchGame.MATCH_GAME_ID,this.onEnterGame,this,0),a.EventDispatcher.getInstance().add(c.Notify.MatchGame.MATCH_QUICK_GAME,this.onQuickEnter,this,0),a.EventDispatcher.getInstance().add(c.Notify.MatchGame.MATCH_QUICK_START,this.onQuickStartByCloserGame,this,0),a.EventDispatcher.getInstance().add(c.Notify.MatchGame.MATCH_PLAY_AGAIN,this.onPlayAgain,this,0),a.EventDispatcher.getInstance().add(c.Notify.MatchGame.MATCH_GAME_TYPE,this.onEnterGameType,this,0)},t.prototype.dispatch=function(t,e){a.EventDispatcher.getInstance().dispatch(t,e)},t.prototype.getSaveGameType=function(){var t=r.gHuskyGameType.SCOPA_GOLD,e=l.LocalStorageProxy.getUserValue(l.LocalStorageProxy.EnterGame,"0");if("0"!=e){var n=Number(e);if(n>0){var o=y.DataProxy.getInstance().configData.getGameConfigByGameId(n);o&&(t=o.dwGameType)}}return t},t.getSaveGameId=function(){var t=y.DataProxy.getInstance().configData.firstPlayNowGameId,e=l.LocalStorageProxy.getUserValue(l.LocalStorageProxy.EnterGame,"0");if("0"!=e){var n=Number(e);n>0&&(t=n)}return t},t.prototype.getQuickGameInfo=function(){var t={gameId:0,gameName:"",gameType:0,gradeType:0,loginData:{}},e=this.getGold(),n=this.getPower(),o=y.DataProxy.getInstance().configData,i=y.DataProxy.getInstance().localData.get(l.LocalStorageProxy.EnterGame,"0");if("0"==i&&((s=this.getQuickConfig(r.gHuskyGameType.SCOPA_GOLD,e,n))&&s.dwGameID&&(t.gameId=s.dwGameID,t.gameName=s.chGameName,t.gradeType=s.dwGradeType,t.gameType=s.dwGameType,t.loginData=s.chClientData),0===t.gameId)){var a=o.findGameInfoByGoldAndPower(e,n);a&&(t.gameId=a.dwGameID,t.gameName=a.chGameName,t.gradeType=a.dwGradeType,t.gameType=a.dwGameType,t.loginData=a.chClientData)}if("0"!=i){var s,c=Number(i);c>0&&o.getGameConfigByGameId(c)&&(s=this.getQuickConfig(r.gHuskyGameType.SCOPA_GOLD,e,n))&&s.dwGameID&&(t.gameId=s.dwGameID,t.gameName=s.chGameName,t.gradeType=s.dwGradeType,t.gameType=s.dwGameType,t.loginData=s.chClientData)}return t},t.prototype.getQuickGameInfoByGameType=function(t){var e={gameId:0,gameName:"",gameType:0,gradeType:0,loginData:{}},n=this.getGold(),o=this.getPower(),i=this.getQuickConfig(t,n,o);return i&&i.dwGameID&&(e.gameId=i.dwGameID,e.gameName=i.chGameName,e.gradeType=i.dwGradeType,e.gameType=i.dwGameType,e.loginData=i.chClientData),e},t.prototype.getQuickConfig=function(t,e,n){var o=y.DataProxy.getInstance().configData;return 1==o.getEnterType()?o.getQuickGameConfig(t,e,n):o.getQuickGameConfigByGold(t,e)},t.prototype.handGoldNotEnough=function(t,e){this.dispatch(c.Notify.Other.GET_GOLD_LAYER,{matchCount:y.DataProxy.getInstance().userData.dwJushuTotal,gameId:e})},t.prototype.getGold=function(){return y.DataProxy.getInstance().userData.gold},t.prototype.getPower=function(){var t=0,e=y.DataProxy.getInstance().userData.powerInfo;return e&&e.dwCurPS&&(t=e.dwCurPS),t},t.prototype.checkGoldAndPower=function(t){if(!t)return!1;var e=y.DataProxy.getInstance().configData,n=this.getPower();if(null!=n&&!e.isPowerEnoughEnterGameId(t,n))return this.dispatch(m.GuiEvent.PopMsg.DISPLAY_POWER_NOT_ENOUGH),!1;var o=this.getGold();if(!e.canEnterGameByGold(t,o)){var i=e.getGameConfigByGameId(t);return 0==e.getEnterType()&&e.isGoldOverLimit(t,o)?(this.dispatch(m.GuiEvent.PopMsg.DISPLAY_RICH_LAYER,{gameType:i.dwGameType}),!1):(e.isGoldEnoughEnterGameType(i.dwGameType,o)?this.dispatch(c.Notify.Other.GOLD_NOT_ENOUGH,i.dwGameID):this.dispatch(c.Notify.Other.GET_GOLD_LAYER,{matchCount:y.DataProxy.getInstance().userData.dwJushuTotal,gameId:t}),!1)}return!0},t.prototype.checkGoldAndPowerNoLowerGame=function(t){if(!t)return!1;var e=y.DataProxy.getInstance().configData,n=this.getPower();if(null!=n&&!e.isPowerEnoughEnterGameId(t,n))return this.dispatch(m.GuiEvent.PopMsg.DISPLAY_POWER_NOT_ENOUGH),!1;var o=this.getGold();if(!e.canEnterGameByGold(t,o)){var i=e.getGameConfigByGameId(t);return 0==e.getEnterType()&&e.isGoldOverLimit(t,o)?(this.dispatch(m.GuiEvent.PopMsg.DISPLAY_RICH_LAYER,{gameType:i.dwGameType}),!1):(this.dispatch(c.Notify.Other.GET_GOLD_LAYER,{matchCount:y.DataProxy.getInstance().userData.dwJushuTotal,gameId:t}),!1)}return!0},t.prototype.enterGame=function(t){if(console.log("[enterGame] info="+JSON.stringify(t)),t){var e=!0;d.ComUtils.isNotNull(t.bSuggestLowerGame)&&(e=t.bSuggestLowerGame);var n=t.gameId;if(n){var o=y.DataProxy.getInstance().comData.isInGame();if(e){if(!o&&!this.checkGoldAndPower(n))return}else if(!o&&!this.checkGoldAndPowerNoLowerGame(n))return;_.BuryPointUtils.send(g.BuryPoint.Debug.Game.Match,n),this.dispatch(c.Notify.MatchGame.MATCH_VIEW,{bMatch:!0,gameId:n})}}else u.ComUI.showToast(d.ComUtils.getLang(p.LangKey.text_info_lost))},t.prototype.onEnterGameType=function(t){var e=this;if(y.DataProxy.getInstance().comData.isInGame()){this.dispatch(c.Notify.MatchGame.SEND_LEFT_ROOM);var n=setTimeout(function(){clearTimeout(n);var o=e.getQuickGameInfoByGameType(t);e.enterGame(o)},100)}else{var o=this.getQuickGameInfoByGameType(t);this.enterGame(o)}},t.prototype.onQuickEnter=function(t){if(s.Logger.info("onQuickEnter() gameType=",t),!this.checkExsitGame()){t||(t=this.getSaveGameType());var e=this.getPower();if(null!=e&&!y.DataProxy.getInstance().configData.isPowerEnoughEnterGameType(t,e))return this.dispatch(m.GuiEvent.PopMsg.DISPLAY_POWER_NOT_ENOUGH),!1;var n;if(0==(n=null==t?this.getQuickGameInfo():this.getQuickGameInfoByGameType(t)).gameId){var i=this.getSaveGameType(),r=this.getGold();y.DataProxy.getInstance().configData.isGoldEnoughEnterGameType(i,r)||this.handGoldNotEnough(r,n.gameId)}else{var a=this.checkIsGameRulePlayed(n.gameId);if(a.length>0)return void this.dispatch(m.GuiEvent.PopMsg.DISPLAY_RULE_TIPS,{ruleTypes:a,callback:new o.Callback(this,this.enterGame,n)});this.enterGame(n)}}},t.prototype.checkExsitGame=function(){var t=y.DataProxy.getInstance().gameData.exsitGameInfo,e=Date.now()-t.queryTime;if(t.gameID>0&&e<=2e4){var n=r.Global.getHuskyGameInfo(t.gameID).name||"";return u.ComUI.showDialog({text:f.i18nHelper.makeLanguage([p.LangKey.match_game_tips,n]),title:d.ComUtils.getLang(p.LangKey.text_prompt),close:!1,outClose:!0,cb1:function(){},cb2:function(){h.default.getInstance().enterGame({gameId:t.gameID,gameType:t.gameType,fromScene:r.gSceneType.Lobby})}}),!0}return t.gameID>0&&e>2e4&&this.dispatch(c.Notify.Query.FIND_USER_ROOM),!1},t.prototype.onEnterGame=function(t){if(y.DataProxy.getInstance().comData.setLastClickGame(t.gameId),!this.checkExsitGame()){var e=this.checkIsGameRulePlayed(t.gameId);e.length>0?this.dispatch(m.GuiEvent.PopMsg.DISPLAY_RULE_TIPS,{ruleTypes:e,callback:new o.Callback(this,this.directEnterGame,t.gameId)}):this.enterGame(t)}},t.prototype.directEnterGame=function(t){_.BuryPointUtils.send(g.BuryPoint.Debug.Game.Match,t+""),this.dispatch(c.Notify.MatchGame.MATCH_VIEW,{bMatch:!0,gameId:t})},t.prototype.onQuickStartByCloserGame=function(){if(!this.checkExsitGame()){var e=t.getSaveGameId(),n=this.getSaveGameType(),o=this.getGold(),i=this.getPower(),r=y.DataProxy.getInstance().configData,a=r.isGameIdExist(e);if(a){if(null!=i&&!r.isPowerEnoughEnterGameType(n,i))return this.dispatch(m.GuiEvent.PopMsg.DISPLAY_POWER_NOT_ENOUGH),!1;var s=r.findCloserGameConfigByGold(e,o);s?this.directEnterGame(s.dwGameID):this.dispatch(c.Notify.Other.GET_GOLD_LAYER,{matchCount:y.DataProxy.getInstance().userData.dwJushuTotal,gameId:e})}else{if(a=r.isGameTypeExist(n))return void this.onQuickEnter(n);var l=r.findGameInfoByGoldAndPower(o,i);l?this.directEnterGame(l.dwGameID):this.dispatch(c.Notify.Other.GET_GOLD_LAYER,{matchCount:y.DataProxy.getInstance().userData.dwJushuTotal,gameId:e})}}},t.prototype.onPlayAgain=function(){var e=t.getSaveGameId(),n=(this.getSaveGameType(),this.getGold()),o=this.getPower(),i=y.DataProxy.getInstance().configData,r=i.getEnterGameCheckResultByGameId(e,n,o),a=i.getGameConfigByGameId(e);if(!r.powerCanEnter)return this.dispatch(m.GuiEvent.PopMsg.DISPLAY_POWER_NOT_ENOUGH),!1;if(r.goldCanEnter){var s=a.chClientData,u=s.mg,d=s.ug,p=parseInt(l.LocalStorageProxy.getUserValue(l.LocalStorageProxy.PopHigherGameJSCount,0)||0),h=y.DataProxy.getInstance().otherData.getSporadicCfg().popHigerGameApartJu||0;u>0&&u<=n&&n<=d&&p>=h?(l.LocalStorageProxy.setUserValue(l.LocalStorageProxy.PopHigherGameJSCount,0),this.dispatch(m.GuiEvent.PopMsg.DISPLAY_RICH_LAYER,{gameType:a.dwGameType,stayGameId:e})):this.directEnterGame(e)}else r.bGoldPoor?i.isGoldEnoughEnterGameType(a.dwGameType,n)?this.dispatch(c.Notify.Other.GOLD_NOT_ENOUGH,a.dwGameID):this.dispatch(c.Notify.Other.GET_GOLD_LAYER,{matchCount:y.DataProxy.getInstance().userData.dwJushuTotal,gameId:e}):r.bGoldRich&&this.dispatch(m.GuiEvent.PopMsg.DISPLAY_RICH_LAYER,{gameType:a.dwGameType})},t.prototype.checkIsGameRulePlayed=function(t){var e=y.DataProxy.getInstance().configData.getGameConfigByGameId(t);if(e){var n=[],o=new i.RoomRuleParser(e.chClientData);if(o.isAScopa()){var a=cc.js.formatStr(l.LocalStorageProxy.PlayedRule,b.GameConstant.RuleType.A_SCOPA);""===l.LocalStorageProxy.getUserValue(a,"")&&(n.push(b.GameConstant.RuleType.A_SCOPA),l.LocalStorageProxy.setUserValue(a,!0))}return o.isSettleNormal()||(a=cc.js.formatStr(l.LocalStorageProxy.PlayedRule,b.GameConstant.RuleType.BigWin),""===l.LocalStorageProxy.getUserValue(a,"")&&(n.push(b.GameConstant.RuleType.BigWin),l.LocalStorageProxy.setUserValue(a,!0))),o.isWild()&&(a=cc.js.formatStr(l.LocalStorageProxy.PlayedRule,b.GameConstant.RuleType.DoubleUp),""===l.LocalStorageProxy.getUserValue(a,"")&&(n.push(b.GameConstant.RuleType.DoubleUp),l.LocalStorageProxy.setUserValue(a,!0))),e.dwGameType===r.gHuskyGameType.SCOPA_GOLD_CRAZY&&(a=cc.js.formatStr(l.LocalStorageProxy.PlayedRule,b.GameConstant.RuleType.Crazy),""===l.LocalStorageProxy.getUserValue(a,"")&&(n.push(b.GameConstant.RuleType.Crazy),l.LocalStorageProxy.setUserValue(a,!0))),e.dwGameType===r.gHuskyGameType.SCOPA_GOLD_CRAZY_V3&&(a=cc.js.formatStr(l.LocalStorageProxy.PlayedRule,b.GameConstant.RuleType.CrazyV3),""===l.LocalStorageProxy.getUserValue(a,"")&&(n.push(b.GameConstant.RuleType.Crazy),l.LocalStorageProxy.setUserValue(a,!0))),n}return[]},t.instance=null,t}();n.GameMatchManager=v,cc._RF.pop()},{"../../../lib/event/EventDispatcher":"EventDispatcher","../../../lib/i18n/i18nHelper":"i18nHelper","../../../lib/manager/SceneManager":"SceneManager","../../../lib/utils/ComUtils":"ComUtils","../../../lib/utils/Logger":"Logger","../../const/game/GameConstant":"GameConstant","../../event/GuiEvent":"GuiEvent","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../../model/DataProxy":"DataProxy","../../model/LocalDataProxy":"LocalDataProxy","../../view/ComUI":"ComUI","../buryPoint/BuryPoint":"BuryPoint","../buryPoint/BuryPointUtils":"BuryPointUtils","./../../../lib/base/Callback":"Callback","./../../const/Global":"Global","./../../model/ConfigDataProxy":"ConfigDataProxy"}],GameRankItem:[function(t,e,n){"use strict";cc._RF.push(e,"5a32f05nGVE2pZVemsHzLZY","GameRankItem");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../lib/base/CxComponent"),s=t("../../../lib/utils/ComUtils"),c=t("../../language/LanguageCfg"),l=t("../../model/DataProxy"),u=t("../../module/rank/RankHandler"),d=t("../ComUI"),p=t("./RankInfo"),h=cc._decorator,f=h.ccclass,g=h.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mLabSort=null,e.mLabName=null,e.mLabGold=null,e.mLabTips=null,e.nItem=null,e.nTips=null,e.ndMe=null,e.mSpratl=null,e.rankInfo=null,e.BgColor=null,e}return i(e,t),e.prototype.updateItem=function(t,e){e.type?this.showTips(e.type):this.init(e)},e.prototype.isTips=function(t){this.nItem.active=!t,this.nTips.active=t},e.prototype.init=function(t){this.rankInfo=t,this.isTips(!1),this.initSort(),this.initUserInfo(),this.initCoins()},e.prototype.initSort=function(){this.rankInfo&&this.mSpratl&&(this.initBack(this.rankInfo.dwHope),this.mLabSort&&(1==this.rankInfo.dwRank?this.mLabSort.string="1st":2==this.rankInfo.dwRank&&(this.mLabSort.string="2nd"),3==this.rankInfo.dwRank?this.mLabSort.string="3rd":this.mLabSort.string=this.rankInfo.dwRank+"th"))},e.prototype.initBack=function(t){this.BgColor=p.default.rankListColor[t-1];var e=p.default.gameRankListStroke[t-1],n="rank_game_"+this.BgColor;this.ndMe&&(this.ndMe.active=!1),this.rankInfo.dwRank==l.DataProxy.getInstance().rankData.dwMyRank?(n+="_heigh_bg",this.ndMe&&(this.ndMe.active=!0)):n+="_bg",this.mSpratl.getSpriteFrame(n)&&(this.nItem.getComponent(cc.Sprite).spriteFrame=this.mSpratl.getSpriteFrame(n)),this.mLabName&&this.mLabName.node.getComponent(cc.LabelOutline)&&(this.mLabName.node.getComponent(cc.LabelOutline).color=(new cc.Color).fromHEX(e)),this.mLabGold&&this.mLabGold.node.getComponent(cc.LabelOutline)&&(this.mLabGold.node.getComponent(cc.LabelOutline).color=(new cc.Color).fromHEX(e))},e.prototype.initUserInfo=function(){this.mLabName&&this.rankInfo&&this.rankInfo.strName&&(this.mLabName.string=s.ComUtils.subStr(this.rankInfo.strName,16,!0),this.rankInfo.bGordenVip?d.ComUI.LabelToGolden(this.mLabName):this.mLabName.node.color=cc.Color.WHITE)},e.prototype.initCoins=function(){this.mLabGold&&this.rankInfo&&(-1==this.rankInfo.dwGold?this.mLabGold.string=s.ComUtils.getLang(c.LangKey.rank_new):this.mLabGold.string=s.ComUtils.formatGoldStr(this.rankInfo.dwGold,1e10))},e.prototype.showTips=function(t){if(this.isTips(!0),t&&this.mLabTips){var e=null,n=null;switch(t){case u.RankType.UP:n=c.LangKey.rank_lv+"_"+p.default.rankTranslateName[l.DataProxy.getInstance().rankData.rankUpLever-1],e=s.ComUtils.getLang(c.LangKey.rank_upgrade_to)+" "+s.ComUtils.getLang(n)+" "+p.default.rankNum[l.DataProxy.getInstance().rankData.rankUpStarLever-1];break;case u.RankType.KEEP:n=c.LangKey.rank_lv+"_"+p.default.rankTranslateName[l.DataProxy.getInstance().rankData.rankLever-1],e=s.ComUtils.getLang(c.LangKey.rank_relegated_to)+" "+s.ComUtils.getLang(n)+" "+p.default.rankNum[l.DataProxy.getInstance().rankData.rankStarLever-1];break;case u.RankType.DOWN:n=c.LangKey.rank_lv+"_"+p.default.rankTranslateName[l.DataProxy.getInstance().rankData.rankDownLever-1],e=s.ComUtils.getLang(c.LangKey.rank_demoted_to)+" "+s.ComUtils.getLang(n)+" "+p.default.rankNum[l.DataProxy.getInstance().rankData.rankDownStarLever-1]}this.mLabTips.string=e}},r([g(cc.Label)],e.prototype,"mLabSort",void 0),r([g(cc.Label)],e.prototype,"mLabName",void 0),r([g(cc.Label)],e.prototype,"mLabGold",void 0),r([g(cc.Label)],e.prototype,"mLabTips",void 0),r([g(cc.Node)],e.prototype,"nItem",void 0),r([g(cc.Node)],e.prototype,"nTips",void 0),r([g(cc.Node)],e.prototype,"ndMe",void 0),r([g(cc.SpriteAtlas)],e.prototype,"mSpratl",void 0),r([f],e)}(a.CxComponent);n.default=_,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../../lib/utils/ComUtils":"ComUtils","../../language/LanguageCfg":"LanguageCfg","../../model/DataProxy":"DataProxy","../../module/rank/RankHandler":"RankHandler","../ComUI":"ComUI","./RankInfo":"RankInfo"}],GameRankList:[function(t,e,n){"use strict";cc._RF.push(e,"bf32aZQ5GBIzI9dU9VIM4ey","GameRankList");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../lib/base/CxComponent"),s=t("../../../lib/i18n/i18nHelper"),c=t("../../../lib/utils/ComUtils"),l=t("../../../lib/utils/Display"),u=t("../../base/component/ComListView"),d=t("../../event/Notify"),p=t("../../language/LanguageCfg"),h=t("../../model/DataProxy"),f=t("./GameRankItem"),g=t("./RankInfo"),_=cc._decorator,y=_.ccclass,m=_.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nScrollView=null,e.mPreItem=null,e.mSpriteAtl=null,e.mSprMyRank=null,e.mLabMyRank=null,e.mRankLvNum=null,e.mProToUp=null,e.mLabToUp=null,e.mLabTraWinMore=null,e.mLabTraLeague=null,e.nLoading=null,e.nStatisticsBg=null,e.mLabStatisticsTip=null,e.mLabStatisticsTime=null,e.mStartTime=0,e.mTimeCount=0,e.mCheckCnt=0,e.mStatTime=0,e.dwMyRank=0,e}return i(e,t),e.prototype.listEvent=function(){return new Map([[d.Notify.Ranking.GAME_RESP_PERSONAL_INFORMATION,this.onMyRankInfo],[d.Notify.Ranking.GAME_RESP_RANKING_LIST,this.onRankList],[d.Notify.Ranking.TO_INDEX,this.toIndex],[d.Notify.Ranking.IN_STATISTICS,this.showStatistics]])},e.prototype.init=function(t){var e=this.node.getChildByName("LobbyRankList"),n=this.node.getChildByName("LobbyRankListMask");if(t&&t.worldPos&&e){var o=e.convertToNodeSpaceAR(t.worldPos);e.x=o.x-l.Display.cx,e.y=o.y-l.Display.cy}e&&n&&(n.x=e.x,n.y=e.y)},e.prototype.start=function(){this.mLabTraLeague&&(this.mLabTraLeague.string=c.ComUtils.getLang(p.LangKey.rank_wild_league)),this.mLabStatisticsTip&&(this.mLabStatisticsTip.string=c.ComUtils.getLang(p.LangKey.rank_settlement_tip)),this.dispatch(d.Notify.Ranking.REQ_SEGMENT_COMPETITION_LIST),this.dispatch(d.Notify.Other.REQ_STATISTICS_CONFIG)},e.prototype.onMyRankInfo=function(t){if(t){if(this.dwMyRank=t.dwMyRank,this.mProToUp&&t.dwQuickGold&&t.dwMyWinGold<=t.dwQuickGold){var e=t.dwMyWinGold;-1==t.dwMyWinGold&&(e=0),this.mProToUp.progress=e/t.dwQuickGold,this.mLabToUp.string=(e/t.dwQuickGold*100).toFixed(1)+"%"}else this.mProToUp.progress=0,this.mLabToUp.string="0.0%";if(this.upRankInfo(t),this.mLabTraWinMore){var n=s.i18nHelper.getLanguage([p.LangKey.rank_win_more,c.ComUtils.formatGoldStr(t.dwQuickGold,1e3,0)])+c.ComUtils.getLang(p.LangKey.rank_lv+"_"+g.default.rankTranslateName[t.dwNextDan1-1])+" "+g.default.rankNum[t.dwNextDan2-1];this.mLabTraWinMore.string=n}}},e.prototype.upRankInfo=function(t){var e=g.default.rankName[t.dwDan1-1];if(this.mSpriteAtl&&this.mSprMyRank&&this.mSpriteAtl.getSpriteFrame("rank_lv_"+e)&&(this.mSprMyRank.spriteFrame=this.mSpriteAtl.getSpriteFrame("rank_lv_"+e)),this.mRankLvNum&&(this.mRankLvNum.string=g.default.rankNum[t.dwDan2-1],this.mRankLvNum.node.color=(new cc.Color).fromHEX(g.default.rankNumColor[t.dwDan2-1]),this.mRankLvNum.node.getComponent(cc.LabelOutline)&&(this.mRankLvNum.node.getComponent(cc.LabelOutline).color=(new cc.Color).fromHEX(g.default.rankNumStrok[t.dwDan1-1]))),this.mLabMyRank){var n=p.LangKey.rank_lv+"_"+g.default.rankTranslateName[t.dwDan1-1];this.mLabMyRank.string=c.ComUtils.getLang(n)+" "+g.default.rankNum[t.dwDan2-1]}},e.prototype.onRankList=function(t){var e=this.dwMyRank-1,n=h.DataProxy.getInstance().rankData.rankToUpNum;n>1&&this.dwMyRank>=n&&e++;var o=h.DataProxy.getInstance().rankData.rankKeep;o>1&&this.dwMyRank>=o&&e++;var i={scrollView:this.nScrollView,content:this.nScrollView.content,itemPrefab:this.mPreItem,itemClass:f.default,dataList:t,dataEx:null,space:10,top:10,scrollToIndex:e-1<0?0:e-1},r=this.node.getComponent(u.ComListView);null==r&&(r=this.node.addComponent(u.ComListView)),r.initParams(i),r.initScrollView(!0)},e.prototype.toIndex=function(){this.nLoading&&(this.nLoading.active=!1)},e.prototype.showStatistics=function(t){this.nStatisticsBg&&(this.nStatisticsBg.active=t.isStat),t&&t.isStat&&(this.nLoading&&(this.nLoading.active=!1),this.mLabStatisticsTip,this.mTimeCount=0,this.mCheckCnt=0,this.mStartTime=(new Date).getTime()/1e3,this.mStatTime=t.dwTime,this.updateStatisticsEndTime(t.dwTime),this.stopStatisticsTimer(),this.startStatisticsTimer())},e.prototype.updateStatisticsEndTime=function(t){this.mLabStatisticsTime.string=c.ComUtils.formatTimeString(t,"00:00")},e.prototype.updateStatisticsTimer=function(){this.mTimeCount++,this.mCheckCnt++,20==this.mCheckCnt&&(this.mCheckCnt=0,this.mTimeCount=Math.floor((new Date).getTime()/1e3)-this.mStartTime),this.mStatTime-this.mTimeCount<0?(this.stopStatisticsTimer(),this.dispatch(d.Notify.Ranking.REQ_SEGMENT_COMPETITION_LIST)):this.updateStatisticsEndTime(this.mStatTime-this.mTimeCount)},e.prototype.startStatisticsTimer=function(){this.schedule(this.updateStatisticsTimer,1)},e.prototype.stopStatisticsTimer=function(){this.unschedule(this.updateStatisticsTimer)},r([m(cc.ScrollView)],e.prototype,"nScrollView",void 0),r([m(cc.Prefab)],e.prototype,"mPreItem",void 0),r([m(cc.SpriteAtlas)],e.prototype,"mSpriteAtl",void 0),r([m(cc.Sprite)],e.prototype,"mSprMyRank",void 0),r([m(cc.Label)],e.prototype,"mLabMyRank",void 0),r([m(cc.Label)],e.prototype,"mRankLvNum",void 0),r([m(cc.ProgressBar)],e.prototype,"mProToUp",void 0),r([m(cc.Label)],e.prototype,"mLabToUp",void 0),r([m(cc.Label)],e.prototype,"mLabTraWinMore",void 0),r([m(cc.Label)],e.prototype,"mLabTraLeague",void 0),r([m(cc.Node)],e.prototype,"nLoading",void 0),r([m(cc.Node)],e.prototype,"nStatisticsBg",void 0),r([m(cc.Label)],e.prototype,"mLabStatisticsTip",void 0),r([m(cc.Label)],e.prototype,"mLabStatisticsTime",void 0),r([y],e)}(a.CxComponent);n.default=b,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../../lib/i18n/i18nHelper":"i18nHelper","../../../lib/utils/ComUtils":"ComUtils","../../../lib/utils/Display":"Display","../../base/component/ComListView":"ComListView","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../../model/DataProxy":"DataProxy","./GameRankItem":"GameRankItem","./RankInfo":"RankInfo"}],GateHandler:[function(t,e,n){"use strict";cc._RF.push(e,"74868vWBblCa4VCZyTWcuE0","GateHandler");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GateHandler=void 0;var r=t("./../../base/handler/HandlerMgr"),a=t("./../buryPoint/BuryPointUtils"),s=t("../../../lib/utils/Logger"),c=t("../../../lib/network/HeartHandler"),l=t("../../event/Notify"),u=t("./GateSocket"),d=t("../../view/ComUI"),p=t("../../../plugin/pb/protofile/CMD_GateMsg"),h=t("../../../plugin/pb/protofile/GlobalMsgDef"),f=t("../../base/handler/ProxyHandler"),g=t("../buryPoint/BuryPoint"),_=t("../../../lib/utils/ComUtils"),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.useDomain=!0,e.startLoginTime=0,e}return i(e,t),e.prototype.getName=function(){return"GateHandler"},e.prototype.initSource=function(){t.prototype.initSource.call(this);var n=new u.GateSocket("GateSocket");this.registerProto(n),this.inter=n,this.sr=n,this.heartHandler=new c.HeartHandler(e.HEART_WAIT,this.onWaitingHeartBeatTO.bind(this))},e.prototype.protocolConfig=function(){return[{protocol:p.MSG_CS_RtnLoginPlazaResult,subid:p.PLAZA_GATE_SUB_MSG.MSGID_SC_RTNLOGIN_RESULT,cb:this.onLoginPlazaResult},{protocol:p.MSG_CS_HeartMsg,subid:p.PLAZA_GATE_SUB_MSG.MSGID_CSS_HEARTMSG,cb:this.onReceiveHeart},{protocol:p.MSG_SC_UserOnLineOtherGame,subid:p.PLAZA_GATE_SUB_MSG.MSGID_SC_USER_OL_OTHER_GAME,cb:this.onUserOnOtherGame},{protocol:p.MSG_SC_ServerHintMsg,subid:p.PLAZA_GATE_SUB_MSG.MSGID_SC_SERVER_HINT_MSG,cb:this.onServerHint},{protocol:p.MSG_SC_KickUserHintMsg,subid:p.PLAZA_GATE_SUB_MSG.MSGID_SC_KICK_USER_HINTMSG,cb:this.onKickUserHint},{protocol:p.MSG_SC_SockDisConMsg,subid:p.PLAZA_GATE_SUB_MSG.MSGID_SC_DISCONNECT_MSG,cb:this.onDisConnectMsg}]},e.prototype.getMainID=function(){return h.MAIN_MSG_ID.MAIN_MSG_PLAZA_GATE_ID},e.prototype.initEvent=function(){var e=this;t.prototype.initEvent.call(this),this.addEvent(u.GateSocket.CONNECTED,function(){console.log('GateSocket_Connected" now='+Date.now()),a.BuryPointUtils.send(g.BuryPoint.Debug.Net.GateConnected),e.otherData.isGateConnected=!0,d.ComUI.rmToast(),d.ComUI.dismissDialog(),e.sendLoginPlaza()}),this.addEvent(u.GateSocket.CLOSED,function(t){var n=t.event;console.info(_.ComUtils.formatTT(new Date),"GateSocket_Closed:",t),a.BuryPointUtils.send(g.BuryPoint.Debug.Net.GateNetworkBroken,JSON.stringify({code:n.code,reason:n.reason,wasClean:n.wasClean,isTrusted:n.isTrusted,curScoketId:t.curScoketId,closeScoketId:t.closeScoketId})),t.curScoketId==t.closeScoketId&&(e.heartHandler.cancel(),e.otherData.isGateConnected=!1),1e3!==n.code&&t.curScoketId==t.closeScoketId&&0!=t.curScoketId&&e.dispatch(l.Notify.Gate.CLOSED,n)}),this.addEvent(u.GateSocket.ERROR,function(t){console.info(_.ComUtils.formatTT(new Date),"GateSocket_Error:",t),e.otherData.isGateConnected=!1;var n=Date.now();cc.sys.isNative&&n-e.startLoginTime<=1e4&&e.useDomain&&e.dispatch(l.Notify.Gate.CONNECT,{useIP:!0})}),this.addEvent(u.GateSocket.RECEIVED,function(t){var n=t.getID();s.Logger.info("GateSocket_Received: "+n),r.HandlerMgr.getInstance().dispatchMsg(t)||e.handle(n,t)}),this.addEvent(l.Notify.Gate.SEND,function(t){cc.log("GateSocket_sendData:",t),e.sendNetMsg(t)}),this.addEvent(l.Notify.Gate.CONNECT,this.connect),this.addEvent(l.Notify.Gate.TRY_CONNECT,this.tryConnect),this.addEvent(l.Notify.Gate.RECONNECT,this.reconnect),this.addEvent(l.Notify.Base.ON_APP_RESUME,function(t){e.onAppResumeMsg(t)}),this.addEvent(l.Notify.Base.ON_APP_PAUSE,function(){e.heartHandler.cancel()}),this.addEvent(l.Notify.Gate.CLOSE_SOCKET,function(){e.closeGateSocket()})},e.prototype.sendLoginPlaza=function(){cc.log("sendLoginPlaza strUUID="+this.userData.sessionId);var t=new p.MSG_CS_LoginPlaza;t.strUUID=this.userData.sessionId,this.sendLoginRequest(t,this.getMainID(),p.PLAZA_GATE_SUB_MSG.MSGID_CS_LOGIN_PLAZA),cc.log("\u53d1\u9001\u5927\u5385\u767b\u5f55 =========>")},e.prototype.sendHeartBeat=function(){var t=new p.MSG_CS_HeartMsg;t.strUUID=this.userData.sessionId,this.sendLoginRequest(t,this.getMainID(),p.PLAZA_GATE_SUB_MSG.MSGID_CSS_HEARTMSG),s.Logger.info("\u53d1\u9001\u5fc3\u8df3 =========> "+_.ComUtils.formatTT(new Date))},e.prototype.onLoginPlazaResult=function(t){s.Logger.info("loginPlazaResult:"+t);var n=t.data;0==n.dwErrorCode?(this.heartHandler.interval(e.HEART_INTERVAL,this.onHeartInterval.bind(this)),this.sendHeartBeat(),this.dispatch(l.Notify.Gate.GATE_LOGIN_SUCCESS),this.dispatch(l.Notify.Gate.CONNECTED),this.otherData.isNetConnected=!0):(this.dispatch(l.Notify.Login.CONNECT),this.inter&&this.inter.close(),a.BuryPointUtils.send(g.BuryPoint.Debug.Net.GateLoginError,n.dwErrorCode+""))},e.prototype.onUserOnOtherGame=function(t){var e=t.data;s.Logger.info("onUserOnOtherGame:"+JSON.stringify(e)),this.dispatch(l.Notify.Query.ENTER_ROOM,{gameId:e.dwGameID,gameName:_.ComUtils.u8ToUTF8Str(e.chGameName),gameType:e.dwGameType,gradeType:e.dwGradeType,isReconnect:!0})},e.prototype.onServerHint=function(t){var e=t.data,n=JSON.stringify(e);console.log("onServerHint:"+n),a.BuryPointUtils.send(g.BuryPoint.Debug.Net.ServerHint,n)},e.prototype.onKickUserHint=function(t){var e=t.data;console.log("onKickUserHint:"+JSON.stringify(e));var n=_.ComUtils.u8ToUTF8Str(e.chHintBuf);this.dispatch(l.Notify.Gate.USER_KICK_HINT,{message:n}),a.BuryPointUtils.send(g.BuryPoint.Debug.Net.KickUserHint,n)},e.prototype.onDisConnectMsg=function(t){var e=t.data;console.log("onDisConnectMsg:"+JSON.stringify(e)),a.BuryPointUtils.send(g.BuryPoint.Debug.Net.GateDisConnect)},e.prototype.onReceiveHeart=function(){cc.log("\u6536\u5230\u5fc3\u8df3 "+_.ComUtils.formatTT(new Date)),this.heartHandler.stop()},e.prototype.onWaitingHeartBeatTO=function(){cc.log("\u5fc3\u8df3\u8d85\u65f6 "+_.ComUtils.formatTT(new Date)),a.BuryPointUtils.send(g.BuryPoint.Debug.Net.HeartbeatTimeout),this.dispatch(l.Notify.Gate.CLOSED)},e.prototype.onHeartInterval=function(){this.sendHeartBeat(),this.heartHandler.start()},e.prototype.onAppResumeMsg=function(){this.inter.isConnected()?(this.heartHandler.interval(),this.onHeartInterval()):(console.log("[GateHandler onAppResumeMsg] \u7f51\u7edc\u65ad\u4e86"),this.dispatch(l.Notify.Base.ON_RECONNET_TIP),this.dispatch(l.Notify.Gate.TRY_CONNECT))},e.prototype.closeGateSocket=function(){this.heartHandler.cancel(),this.inter&&this.inter.close(),this.release()},e.prototype.connect=function(t){console.log("Notify.Gate.CONNECT now="+Date.now());var e=this.configData.server;if(_.ComUtils.isNotNull(e)){var n=e.gate,o="";if(_.ComUtils.isNotNull(t)&&t.useIP||!n.uri.startsWith("ws")?(o="ws://"+n.ip,this.useDomain=!1):(o=n.uri,this.useDomain=!0),n.port>0&&(o=o+":"+n.port),this.inter.isConnected(o))this.onHeartInterval(),this.dispatch(l.Notify.Gate.CONNECTED);else{if(Date.now()-this.startLoginTime<500)return;a.BuryPointUtils.send(g.BuryPoint.Debug.Net.GateReconnect),this.startLoginTime=Date.now(),this.inter.connect(o,!1)}}else console.warn("Notify.Gate.CONNECT server is null"),""===this.userData.sessionId&&this.dispatch(l.Notify.Login.LOGIN_AGAIN)},e.prototype.tryConnect=function(){console.log("Notify.Gate.TRY_CONNECT now="+Date.now()),this.inter.isConnected()||(this.otherData.isGateConnected=!1,this.inter.tryConnect())},e.prototype.reconnect=function(t){console.log("[reconnect] force="+t+" now="+Date.now()),this.tryConnect(null)},e.HEART_INTERVAL=5e4,e.HEART_WAIT=6e4,e}(f.ProxyHandler);n.GateHandler=y,cc._RF.pop()},{"../../../lib/network/HeartHandler":"HeartHandler","../../../lib/utils/ComUtils":"ComUtils","../../../lib/utils/Logger":"Logger","../../../plugin/pb/protofile/CMD_GateMsg":"CMD_GateMsg","../../../plugin/pb/protofile/GlobalMsgDef":"GlobalMsgDef","../../base/handler/ProxyHandler":"ProxyHandler","../../event/Notify":"Notify","../../view/ComUI":"ComUI","../buryPoint/BuryPoint":"BuryPoint","./../../base/handler/HandlerMgr":"HandlerMgr","./../buryPoint/BuryPointUtils":"BuryPointUtils","./GateSocket":"GateSocket"}],GateSocket:[function(t,e,n){"use strict";cc._RF.push(e,"8a8c3cbmQZC/YaoHVncZCrM","GateSocket");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GateSocket=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),Object.defineProperty(e.prototype,"msgEvent",{get:function(){return e.RECEIVED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"closeEvent",{get:function(){return e.CLOSED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"connectEvent",{get:function(){return e.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"errorEvent",{get:function(){return e.ERROR},enumerable:!1,configurable:!0}),e.CONNECTED="cx_gateSocket_connected",e.CLOSED="cx_gateSocket_closed",e.RECEIVED="cx_gateSocket_received",e.ERROR="cx_gateSocket_error",e}(t("../../../lib/network/struct/StructSocket").StructSocket);n.GateSocket=r,cc._RF.pop()},{"../../../lib/network/struct/StructSocket":"StructSocket"}],GlobalMsgDef:[function(t,e,n){"use strict";cc._RF.push(e,"850053SdklCGa06l6gqGKeV","GlobalMsgDef"),Object.defineProperty(n,"__esModule",{value:!0}),n.MAIN_MSG_ID=n.Msg_OtherServerHead=n.Msg_GameExtHead=n.Msg_GameHead=n.Msg_LoginHead=n.OtherInfo=void 0;var o=function(){function t(){this.dwUserID=0,this.dwServerID=0,this.dwThreadID=0,this.dwCNetIndex=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwUserID&&e.uint32(8).uint32(t.dwUserID),null!=t.dwServerID&&e.uint32(16).uint32(t.dwServerID),null!=t.dwThreadID&&e.uint32(24).uint32(t.dwThreadID),null!=t.dwCNetIndex&&e.uint32(32).uint32(t.dwCNetIndex),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwUserID=o.uint32();break;case 2:r.dwServerID=o.uint32();break;case 3:r.dwThreadID=o.uint32();break;case 4:r.dwCNetIndex=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.OtherInfo=o;var i=function(){function t(){this.dwGameTypeID=0,this.dwGameID=0,this.strUUID="",this.dwLastLGameID=0,this.dwTailUserID=0,this.IsQuickStart=!1,this.otherinfo=void 0,this.byLoginData=protobuf.util.newBuffer([]),this.byExtData=protobuf.util.newBuffer([])}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwGameTypeID&&e.uint32(8).uint32(t.dwGameTypeID),null!=t.dwGameID&&e.uint32(16).uint32(t.dwGameID),null!=t.strUUID&&e.uint32(26).string(t.strUUID),null!=t.dwLastLGameID&&e.uint32(32).uint32(t.dwLastLGameID),null!=t.dwTailUserID&&e.uint32(40).uint32(t.dwTailUserID),null!=t.IsQuickStart&&e.uint32(48).bool(t.IsQuickStart),void 0!==t.otherinfo&&void 0!==t.otherinfo&&null!=t.otherinfo&&o.encode(t.otherinfo,e.uint32(58).fork()).ldelim(),null!=t.byLoginData&&e.uint32(66).bytes(t.byLoginData),null!=t.byExtData&&e.uint32(74).bytes(t.byExtData),e},t.decode=function(e,n){for(var i=e instanceof Uint8Array?new protobuf.Reader(e):e,r=void 0===n?i.len:i.pos+n,a=new t,s=!1;i.pos<r&&!s;){var c=i.uint32();switch(c>>>3){case 0:s=!0;break;case 1:a.dwGameTypeID=i.uint32();break;case 2:a.dwGameID=i.uint32();break;case 3:a.strUUID=i.string();break;case 4:a.dwLastLGameID=i.uint32();break;case 5:a.dwTailUserID=i.uint32();break;case 6:a.IsQuickStart=i.bool();break;case 7:a.otherinfo=o.decode(i,i.uint32());break;case 8:a.byLoginData=i.bytes();break;case 9:a.byExtData=i.bytes();break;default:i.skipType(7&c)}}return a},t}();n.Msg_LoginHead=i;var r=function(){function t(){this.strUUID="",this.otherinfo=void 0,this.byGameData=protobuf.util.newBuffer([])}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.strUUID&&e.uint32(10).string(t.strUUID),void 0!==t.otherinfo&&void 0!==t.otherinfo&&null!=t.otherinfo&&o.encode(t.otherinfo,e.uint32(18).fork()).ldelim(),null!=t.byGameData&&e.uint32(26).bytes(t.byGameData),e},t.decode=function(e,n){for(var i=e instanceof Uint8Array?new protobuf.Reader(e):e,r=void 0===n?i.len:i.pos+n,a=new t,s=!1;i.pos<r&&!s;){var c=i.uint32();switch(c>>>3){case 0:s=!0;break;case 1:a.strUUID=i.string();break;case 2:a.otherinfo=o.decode(i,i.uint32());break;case 3:a.byGameData=i.bytes();break;default:i.skipType(7&c)}}return a},t}();n.Msg_GameHead=r;var a=function(){function t(){this.strUUID="",this.IsSendToOL=!1,this.dwServerID=0,this.otherinfo=void 0,this.byGameExtData=protobuf.util.newBuffer([])}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.strUUID&&e.uint32(10).string(t.strUUID),null!=t.IsSendToOL&&e.uint32(16).bool(t.IsSendToOL),null!=t.dwServerID&&e.uint32(24).uint32(t.dwServerID),void 0!==t.otherinfo&&void 0!==t.otherinfo&&null!=t.otherinfo&&o.encode(t.otherinfo,e.uint32(34).fork()).ldelim(),null!=t.byGameExtData&&e.uint32(42).bytes(t.byGameExtData),e},t.decode=function(e,n){for(var i=e instanceof Uint8Array?new protobuf.Reader(e):e,r=void 0===n?i.len:i.pos+n,a=new t,s=!1;i.pos<r&&!s;){var c=i.uint32();switch(c>>>3){case 0:s=!0;break;case 1:a.strUUID=i.string();break;case 2:a.IsSendToOL=i.bool();break;case 3:a.dwServerID=i.uint32();break;case 4:a.otherinfo=o.decode(i,i.uint32());break;case 5:a.byGameExtData=i.bytes();break;default:i.skipType(7&c)}}return a},t}();n.Msg_GameExtHead=a;var s=function(){function t(){this.dwGameTypeID=0,this.dwGameID=0,this.strUUID="",this.otherinfo=void 0,this.byGameData=protobuf.util.newBuffer([]),this.byOtherExtData=protobuf.util.newBuffer([])}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwGameTypeID&&e.uint32(8).uint32(t.dwGameTypeID),null!=t.dwGameID&&e.uint32(16).uint32(t.dwGameID),null!=t.strUUID&&e.uint32(26).string(t.strUUID),void 0!==t.otherinfo&&void 0!==t.otherinfo&&null!=t.otherinfo&&o.encode(t.otherinfo,e.uint32(34).fork()).ldelim(),null!=t.byGameData&&e.uint32(42).bytes(t.byGameData),null!=t.byOtherExtData&&e.uint32(50).bytes(t.byOtherExtData),e},t.decode=function(e,n){for(var i=e instanceof Uint8Array?new protobuf.Reader(e):e,r=void 0===n?i.len:i.pos+n,a=new t,s=!1;i.pos<r&&!s;){var c=i.uint32();switch(c>>>3){case 0:s=!0;break;case 1:a.dwGameTypeID=i.uint32();break;case 2:a.dwGameID=i.uint32();break;case 3:a.strUUID=i.string();break;case 4:a.otherinfo=o.decode(i,i.uint32());break;case 5:a.byGameData=i.bytes();break;case 6:a.byOtherExtData=i.bytes();break;default:i.skipType(7&c)}}return a},t}();n.Msg_OtherServerHead=s,n.MAIN_MSG_ID={MAIN_MSG_VERIFY_LOGIN_ID:6,MAIN_MSG_PLAZA_GATE_ID:8,MAIN_MSG_LOGIN_GAME_ID:10,MAIN_MSG_GAMEEXT_MSG_ID:11,MAIN_MSG_GAME_MSG_ID:12,MAIN_MSG_LOGIN_KFGAME_ID:13,MAIN_MSG_LOGINEX_GAME_ID:14,MAIN_MSG_USERINFO_ID:15,MAIN_MSG_NOTICE_SERVER_ID:16,MAIN_MSG_TASK_SERVER_ID:17,MAIN_MSG_EXCHANGE_ID:19,MAIN_MSG_USERDATA_CHANGE_ID:20,MAIN_MSG_SHOP_ID:21,MAIN_MSG_ACTIVE_SERVER_ID:22,MAIN_MSG_RANK_SERVER_ID:23,MAIN_MSG_OTHER_SERVER_ID:24,MAIN_MSG_SHAIBAO_SERVER_ID:25,MAIN_MSG_QUERY_SERVER_ID:40,MAIN_MSG_TABLE_SERVER_ID:41,MAIN_MSG_FFD_SERVER_ID:42,MAIN_MSG_SUBSCRIBE_ID:43,MAIN_MSG_DAN_SERVER_ID:44,MAIN_MSG_INWARD_SERVER_ID:100,MAIN_MSG_CENTER_SERVER_ID:200,MAIN_MSG_GATE_SERVER_ID:300,MAIN_MSG_GAMEDB_SERVER_ID:400,MAIN_MSG_GAMELOG_SERVER_ID:500,MAIN_MSG_INNER_TRANSERVER_ID:600,MAIN_MSG_ROBOT_SERVER_ID:700,MAIN_MSG_CTRL_COMMAND_ID:1e4,MAIN_MSG_CONFIG_CARD_ID:2e4,UNRECOGNIZED:-1},cc._RF.pop()},{}],GlobalRoot:[function(t,e,n){"use strict";cc._RF.push(e,"9e376E1irlGaps+cfyrOZPy","GlobalRoot");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{c(o.next(t))}catch(e){r(e)}}function s(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.GlobalRootComponent=void 0;var c=t("./platform/NativeApi"),l=t("./platform/SystemUtil"),u=t("../lib/base/CxComponent"),d=t("../lib/utils/ComUtils"),p=t("../lib/utils/Logger"),h=t("../lib/utils/ScreenAdapter"),f=t("./view/ComUI"),g=t("./event/Notify"),_=t("./platform/NativePlatform"),y=t("./router/Router"),m=t("./const/Global"),b=t("./stats/StatsUtil"),v=t("../lib/event/EventDispatcher"),S=t("./platform/DebugPlatform"),w=t("./config/ResourceUIConfig"),C=t("./language/LanguageCfg"),I=t("./module/buryPoint/BuryPointUtils"),D=t("./module/buryPoint/BuryPoint"),L=t("./platform/NativeNotify"),R=t("../lib/manager/ResManager"),P=t("./model/DataProxy"),T=t("./Manager"),E=t("./event/GuiEvent"),A=t("../lib/event/BaseEvent"),N=cc._decorator.ccclass,G=cc.log;cc.log=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];G(M(new Date)+" "+t,e)};var M=function(t){return t.getFullYear()+"/"+d.ComUtils.pad(t.getMonth()+1,2)+"/"+d.ComUtils.pad(t.getDate(),2)+" "+t.getHours()+":"+d.ComUtils.pad(t.getMinutes(),2)+":"+d.ComUtils.pad(t.getSeconds(),2)},O=window.platform||O;cc.sys.isNative&&(p.Logger.info("\u521d\u59cb\u5316NativePlatform"),O=new _.NativePlatform,window.platform=O),cc.sys.isBrowser&&(window.platform||(O=new S.DebugPlatform,window.platform=O));var k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isNetworkDisconnect=!1,e.curNetworkType=0,e.enterBackgroundTime=0,e.mCallingSdk=!1,e.bEnterBackground=!1,e}var n;return i(e,t),n=e,e.prototype.onLoad=function(){t.prototype.onLoad.call(this),cc.log("GlobalRoot_onLoad"),cc.assetManager.cacheManager&&cc.assetManager.cacheManager.clearLRU(),c.NativeApi.requestGoogleAdId(),cc.game.on(cc.game.EVENT_SHOW,this.onAppResume,this),cc.game.on(cc.game.EVENT_HIDE,this.onAppPause,this),this.initPersistRootNode(),this.preloadComRes(),T.Manager.init(),O.getSetting(),O.checkUpdate(),O.onShow(this.onPlatformResume.bind(this)),O.onShareApp(this.onShareAppMenu.bind(this)),O.showShareMenu();var e=O.getLaunchOptionsSync();P.DataProxy.getInstance().handleQuery(e),y.Router.init(),y.Router.delayHandle(e),this.startObserveNetwork()},e.prototype.start=function(){h.ScreenAdapter.init(),O.setKeepScreenOn(),l.SystemUtil.JSReadyed()},e.prototype.startObserveNetwork=function(){return a(this,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return l.SystemUtil.ObserveNetworkEanble(!0),[4,O.getNetworkStatus()];case 1:return t=e.sent(),this.curNetworkType=t,0==t&&f.ComUI.showDialog({title:d.ComUtils.getLang(C.LangKey.text_prompt),text:d.ComUtils.getLang(C.LangKey.text_no_network_tip)}),O.onNetworkStatusChange(this.onNetworkStatusChange.bind(this)),[2]}})})},e.prototype.onNetworkStatusChange=function(t){if(console.log("[onNetworkStatusChange]",JSON.stringify(t)),"string"==typeof t&&(t=JSON.parse(t)),cc.isValid(this.node)){P.DataProxy.getInstance().otherData.isNetConnected=t.isConnected||!1;var e=t.isConnected;if(e||(this.isNetworkDisconnect=!0,f.ComUI.dismissDialog(),f.ComUI.showDialog({title:d.ComUtils.getLang(C.LangKey.text_prompt),text:d.ComUtils.getLang(C.LangKey.text_no_network_tip)})),e&&(f.ComUI.dismissDialog(),console.log(d.ComUtils.formatTT(new Date),"\u7f51\u7edc\u72b6\u6001 \u5df2\u7ecf\u8fde\u63a5\u4e0a\u4e86")),e&&(this.isNetworkDisconnect||this.curNetworkType!==t.networkType)){this.isNetworkDisconnect=!1;var n="UNKNOWN";1==t.networkType?n="WIFI":2==t.networkType&&(n="MOBILE"),I.BuryPointUtils.send(D.BuryPoint.Debug.Net.NetStateChange,"networkType: "+n),f.ComUI.showToast(d.ComUtils.getLang(C.LangKey.text_connecting)),this.tryConnectGate(!0)}this.curNetworkType=t.networkType}else O.offNetworkStatusChange(null)},e.prototype.listEvent=function(){return new Map([[E.GuiEvent.PopMsg.DISPLAY_FIX_DIALOG,this.onDisplayFixDialog],[g.Notify.Base.ON_APP_LOG_OUT,this.onAppLogOut],[g.Notify.Base.ON_APP_LOG_RE_IN,this.onAppLogReIN],[g.Notify.Gate.CLOSED,this.onGateClosed],[A.cx.Notify.Network.ERROR,this.onGateError],[L.NativeNotify.CALL_SDK,this.onCallSdk],[g.Notify.Base.ON_RECONNET_TIP,this.onReconnectTip]])},e.prototype.onReconnectTip=function(){P.DataProxy.getInstance().otherData.isNetConnected&&this.tryConnectGate(!1)},e.prototype.onCallSdk=function(){this.mCallingSdk=!0},e.prototype.onAppLogOut=function(){T.Manager.logout()},e.prototype.onAppLogReIN=function(){T.Manager.reLogin(),n.mResPreloadFinish&&v.EventDispatcher.getInstance().dispatch(g.Notify.Base.LOAD_RES_PRE_FINISH)},e.prototype.onAppResume=function(){l.SystemUtil.ObserveNetworkEanble(!0),this.bEnterBackground=!1;var t=Date.now()-this.enterBackgroundTime;p.Logger.info("onAppResume enterBGInterval="+t),O.getSetting(),O.setKeepScreenOn(),this.dispatch(g.Notify.Base.ON_APP_RESUME,{interval:t,callSdk:this.mCallingSdk}),this.mCallingSdk=!1,I.BuryPointUtils.sendCache()},e.prototype.onAppPause=function(){p.Logger.info("onAppPause"),l.SystemUtil.ObserveNetworkEanble(!1),this.bEnterBackground=!0,this.dispatch(g.Notify.Base.ON_APP_PAUSE),this.enterBackgroundTime=Date.now()},e.prototype.onDestroy=function(){cc.log("GlobalRoot_onDestroy"),O.offNetworkStatusChange(null),cc.game.off(cc.game.EVENT_SHOW),cc.game.off(cc.game.EVENT_HIDE),y.Router.clear(),b.StatsUtil.clear(),l.SystemUtil.ObserveNetworkEanble(!1),T.Manager.desInstance(),t.prototype.onDestroy.call(this)},e.prototype.initPersistRootNode=function(){var t=w.ResourceUIConfig.cacheNode;for(var e in t)if(t.hasOwnProperty(e)){var o=t[e];cc.resources.load(o.path,function(t,e){if(!t){var o=cc.instantiate(e);o.zIndex=cc.macro.MAX_ZINDEX,o.active=!0,cc.game.addPersistRootNode(o),n.mResPreloadFinish=!0,v.EventDispatcher.getInstance().dispatch(g.Notify.Base.LOAD_RES_PRE_FINISH)}})}cc.game.addPersistRootNode(this.node)},e.prototype.preloadComRes=function(){var t=w.ResourceUIConfig.prefab,e=function(e){if(t.hasOwnProperty(e)){var n=t[e];R.default.getInstance().loadPrefab(n.path,m.gAssetBundleName.RESOURCES,function(t){t&&cc.error("preloadComRes fail "+n.path)})}};for(var n in t)e(n);R.default.getInstance().loadAtlasArray(w.ResourceUIConfig.altas,m.gAssetBundleName.RESOURCES)},e.prototype.onPlatformResume=function(t){p.Logger.info("onPlatformResume:"+JSON.stringify(t)),P.DataProxy.getInstance().handleQuery(t),y.Router.handle(t)},e.prototype.onShareAppMenu=function(){b.StatsUtil.send(b.StatsType.MenuShare);var t=P.DataProxy.getInstance().otherData.getHallShareCfg();p.Logger.info("onShareAppMenu:"+JSON.stringify(t));var e=t.query;if(e&&e.length>0&&(e+="&"),e=(e||"")+"wwShareScene="+m.gShareScene.Menu,t)return{title:t.title,imageUrl:t.url,imageUrlId:t.urlId,query:e}},e.prototype.onDisplayFixDialog=function(){f.ComUI.showDialog({title:"Tips",text:"Please reopen the game after repair",cb2:this.onFixGame.bind(this)})},e.prototype.onFixGame=function(){return a(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return p.Logger.info("onFixGame"),[4,O.clearStorage()];case 1:return t.sent(),[4,O.exitApp()];case 2:return t.sent(),[2]}})})},e.prototype.onGateError=function(){this.isNetworkDisconnect=!0},e.prototype.onGateClosed=function(t){if(!1===this.bEnterBackground){this.tryConnectGate(!0),console.log("[onGateClosed]",t);var e=d.ComUtils.getLang(C.LangKey.text_logging_in)||"";f.ComUI.addLoading({time:25,sw:!0,type:2,tipsTxt:e,cancelTime:10});var n=this,o=setTimeout(function(){clearTimeout(o),f.ComUI.dismissDialog(),n.isNetworkDisconnect&&f.ComUI.showDialog({title:d.ComUtils.getLang(C.LangKey.text_prompt),text:d.ComUtils.getLang(C.LangKey.text_no_network_tip),cb1:function(){n.tryConnectGate(!0)}})},25e3)}},e.prototype.tryConnectGate=function(t){var e=this,n=setTimeout(function(){clearTimeout(n),e.isNetworkDisconnect||e.dispatch(g.Notify.Gate.TRY_CONNECT,t)},20)},e.mResPreloadFinish=!1,n=r([N],e)}(u.CxComponent);n.GlobalRootComponent=k,cc._RF.pop()},{"../lib/base/CxComponent":"CxComponent","../lib/event/BaseEvent":"BaseEvent","../lib/event/EventDispatcher":"EventDispatcher","../lib/manager/ResManager":"ResManager","../lib/utils/ComUtils":"ComUtils","../lib/utils/Logger":"Logger","../lib/utils/ScreenAdapter":"ScreenAdapter","./Manager":"Manager","./config/ResourceUIConfig":"ResourceUIConfig","./const/Global":"Global","./event/GuiEvent":"GuiEvent","./event/Notify":"Notify","./language/LanguageCfg":"LanguageCfg","./model/DataProxy":"DataProxy","./module/buryPoint/BuryPoint":"BuryPoint","./module/buryPoint/BuryPointUtils":"BuryPointUtils","./platform/DebugPlatform":"DebugPlatform","./platform/NativeApi":"NativeApi","./platform/NativeNotify":"NativeNotify","./platform/NativePlatform":"NativePlatform","./platform/SystemUtil":"SystemUtil","./router/Router":"Router","./stats/StatsUtil":"StatsUtil","./view/ComUI":"ComUI"}],Global:[function(t,e,n){"use strict";var o,i,r;cc._RF.push(e,"58095Gw+yFMHqEKBBwy1C3C","Global"),Object.defineProperty(n,"__esModule",{value:!0}),n.eBoostType=n.TimeRecord=n.GameOpeType=n.BonusPage=n.SubscGuide=n.SubscType=n.eGoldHelpType=n.rankStage=n.gUnlcokTag=n.USING_LAN_KEY=n.ENABLE_CHANGE_LANGUAGE=n.gColorStyle=n.gOriginLevel=n.gTaskStatus=n.gGooglePayType=n.gPaySDKChannel=n.gShopCostType=n.gShopBuyGroup=n.gMoneyType=n.gShopTag=n.gShopHBType=n.gShopBuySrcType=n.gPayType=n.gGoldHelpType=n.gGameLevelType=n.gLobbyGameType=n.gLobbyEnterType=n.Gender=n.gExitGameType=n.gShareScene=n.gMJJuType=n.gRoomCardPayType=n.gLoginType=n.gSubViewType=n.gSceneName=n.gSceneType=n.gLayerLevel=n.gLanguagesSet=n.gLanguagesInfo=n.gAssetBundlePriority=n.gAssetBundleName=n.gHuskyGameType=n.Global=void 0;var a,s,c=function(){function t(){}return t.addGame=function(e,n){t.mapGame.set(e,n)},t.convertGameType=function(e){return t.mapGame.get(e)||a.SCOPA_GOLD},t.getHuskyGameInfo=function(t){return u[t]?u[t]:{name:"",sname:"",key:""}},t.getGameDepBundle=function(t){var e=u[t];return e?this.getBundleDep(e.bundle):(cc.error("getGameDepBundle("+t+") not found!"),null)},t.getGameBundleName=function(t){return u[t]?u[t].bundle:(cc.error("getGameBundleName("+t+") not found!"),null)},t.getBundleDep=function(t){var e,n=[t],o={},i=[],r=[];do{o[t=n.shift()]||(o[t]=!0,(e=l[t])&&(n=n.concat(e.preId),i.push({name:t,priority:e.priority})))}while(n.length>0);i.sort(function(t,e){return e.priority-t.priority});for(var a=0;a<i.length;a++)r.push(i[a].name);return r},t.mapGame=new Map,t}();n.Global=c,function(t){t[t.SCOPA_GOLD=200]="SCOPA_GOLD",t[t.SCOPA_GOLD_WILD=210]="SCOPA_GOLD_WILD",t[t.SCOPA_GOLD_A=220]="SCOPA_GOLD_A",t[t.SCOPA_GOLD_CRAZY=230]="SCOPA_GOLD_CRAZY",t[t.SCOPA_GOLD_CRAZY_V3=240]="SCOPA_GOLD_CRAZY_V3",t[t.SCOPONE_GOLD=0]="SCOPONE_GOLD"}(a=n.gHuskyGameType||(n.gHuskyGameType={})),function(t){t.MAIN="main",t.COMMON_RES="comres",t.RESOURCES="resources",t.LOBBY_SRC="lobbySrc",t.LOBBY_RES="lobbyRes",t.GAME_BASE_SRC="gameBaseSrc",t.GAME_BASE_RES="gameBaseRes",t.SCOPA_GOLD_RES="scopaGDRes",t.SCOPA_GOLD_SRC="scopaGDSrc",t.TABLES_RES="tablesRes",t.TABLES_SRC="tablesSrc",t.ACTIVITY_RES="activityRes",t.ACTIVITY_SRC="activitySrc"}(s=n.gAssetBundleName||(n.gAssetBundleName={})),n.gAssetBundlePriority=((o={})[s.MAIN]=11,o[s.RESOURCES]=8,o[s.LOBBY_SRC]=1,o[s.LOBBY_RES]=1,o[s.GAME_BASE_SRC]=2,o[s.GAME_BASE_RES]=2,o[s.SCOPA_GOLD_SRC]=1,o[s.SCOPA_GOLD_RES]=1,o[s.TABLES_RES]=3,o[s.TABLES_SRC]=3,o[s.ACTIVITY_RES]=3,o[s.ACTIVITY_SRC]=3,o);var l=((i={})[s.LOBBY_RES]={priority:1,preId:[s.LOBBY_SRC,s.TABLES_SRC,s.ACTIVITY_SRC]},i[s.LOBBY_SRC]={priority:1,preId:[s.LOBBY_RES,s.TABLES_SRC,s.ACTIVITY_SRC]},i[s.GAME_BASE_RES]={priority:2,preId:[s.GAME_BASE_SRC,s.TABLES_SRC]},i[s.GAME_BASE_SRC]={priority:2,preId:[s.GAME_BASE_RES,s.TABLES_SRC]},i[s.SCOPA_GOLD_RES]={priority:1,preId:[s.SCOPA_GOLD_SRC,s.GAME_BASE_SRC]},i[s.SCOPA_GOLD_SRC]={priority:1,preId:[s.SCOPA_GOLD_RES,s.GAME_BASE_SRC]},i[s.TABLES_RES]={priority:3,preId:[s.TABLES_SRC]},i[s.TABLES_SRC]={priority:3,preId:[s.TABLES_RES]},i[s.ACTIVITY_RES]={priority:3,preId:[s.ACTIVITY_SRC]},i[s.ACTIVITY_SRC]={priority:3,preId:[s.ACTIVITY_RES]},i),u=((r={})[a.SCOPA_GOLD]={bundle:s.SCOPA_GOLD_RES,name:"Scopa",sname:"Scopa",key:"ScopaGD"},r[a.SCOPA_GOLD_WILD]={bundle:s.SCOPA_GOLD_RES,name:"Scopa",sname:"Scopa",key:"ScopaGD"},r[a.SCOPA_GOLD_A]={bundle:s.SCOPA_GOLD_RES,name:"ScopaA",sname:"ScopaA",key:"ScopaGD"},r[a.SCOPA_GOLD_CRAZY]={bundle:s.SCOPA_GOLD_RES,name:"ScopaCrazy",sname:"ScopaCrazy",key:"ScopaGDCrazy"},r[a.SCOPA_GOLD_CRAZY_V3]={bundle:s.SCOPA_GOLD_RES,name:"ScopaCrazyV3",sname:"ScopaCrazyV3",key:"ScopaGDCrazy"},r);n.gLanguagesInfo=["English","Italiano"],n.gLanguagesSet=[cc.sys.LANGUAGE_ENGLISH,cc.sys.LANGUAGE_ITALIAN],function(t){t[t.None=0]="None",t[t.Normal=10]="Normal",t[t.LowLayer=20]="LowLayer",t[t.Effect=100]="Effect",t[t.Popup=1e3]="Popup",t[t.Replay=5e3]="Replay",t[t.System=1e4]="System"}(n.gLayerLevel||(n.gLayerLevel={})),function(t){t[t.Login=1]="Login",t[t.Lobby=2]="Lobby",t[t.Game=3]="Game",t[t.Club=4]="Club"}(n.gSceneType||(n.gSceneType={})),function(t){t.Lobby="Lobby",t.Game="Game",t.Login="Login"}(n.gSceneName||(n.gSceneName={})),function(t){t[t.Login=10]="Login",t[t.MainView=20]="MainView",t[t.Shop=30]="Shop"}(n.gSubViewType||(n.gSubViewType={})),function(t){t[t.None=0]="None",t[t.WXMini=1]="WXMini",t[t.YK=2]="YK",t[t.FaceBook=3]="FaceBook",t[t.Apple=4]="Apple",t[t.WXNative=5]="WXNative"}(n.gLoginType||(n.gLoginType={})),function(t){t[t.Free=0]="Free",t[t.FangZhu=1]="FangZhu",t[t.AA=2]="AA",t[t.Agency=2]="Agency",t[t.ClubAA=3]="ClubAA"}(n.gRoomCardPayType||(n.gRoomCardPayType={})),function(t){t[t.JU=1]="JU",t[t.QUAN=2]="QUAN",t[t.KE=3]="KE",t[t.SIX_JIN=6]="SIX_JIN"}(n.gMJJuType||(n.gMJJuType={})),function(t){t[t.Lobby=1]="Lobby",t[t.Menu=2]="Menu",t[t.RoomInvite=3]="RoomInvite",t[t.GameEnd=4]="GameEnd",t[t.Replay=5]="Replay",t[t.RuleLK=6]="RuleLK",t[t.RoomInviteLK=7]="RoomInviteLK"}(n.gShareScene||(n.gShareScene={})),function(t){t[t.exitAndLeftRoom=0]="exitAndLeftRoom",t[t.returnLobby=1]="returnLobby",t[t.reLogin=3]="reLogin",t[t.exitApp=4]="exitApp"}(n.gExitGameType||(n.gExitGameType={})),function(t){t[t.UNKNOW=0]="UNKNOW",t[t.BOY=1]="BOY",t[t.GIRL=2]="GIRL"}(n.Gender||(n.Gender={})),function(t){t[t.Main=1]="Main",t[t.Sub=2]="Sub"}(n.gLobbyEnterType||(n.gLobbyEnterType={})),function(t){t[t.SCOPA_GOLD=200]="SCOPA_GOLD",t[t.SCOPA_GOLD_WILD=210]="SCOPA_GOLD_WILD",t[t.GameType3=220]="GameType3",t[t.GameType4=230]="GameType4"}(n.gLobbyGameType||(n.gLobbyGameType={})),function(t){t[t.None=0]="None",t[t.NewPlayer=1]="NewPlayer",t[t.Common=2]="Common",t[t.Business=3]="Business",t[t.RichPlayer=4]="RichPlayer"}(n.gGameLevelType||(n.gGameLevelType={})),function(t){t[t.None=0]="None",t[t.onlyPC=1]="onlyPC",t[t.onlyDaily=2]="onlyDaily",t[t.showBoth=3]="showBoth"}(n.gGoldHelpType||(n.gGoldHelpType={})),function(t){t[t.WX=1]="WX",t[t.WXMDS=2]="WXMDS",t[t.ZB=3]="ZB",t[t.IOS=4]="IOS",t[t.H5=5]="H5",t[t.GooglePlay=6]="GooglePlay"}(n.gPayType||(n.gPayType={})),function(t){t[t.LOBBY=1]="LOBBY",t[t.GOLD_GAME=2]="GOLD_GAME",t[t.YULE_GAME=3]="YULE_GAME",t[t.WEEK_CARD=4]="WEEK_CARD"}(n.gShopBuySrcType||(n.gShopBuySrcType={})),function(t){t[t.RMB=1]="RMB",t[t.GEM=2]="GEM",t[t.GOLD=3]="GOLD",t[t.RED_PACKAGE=4]="RED_PACKAGE",t[t.POWER=5]="POWER",t[t.PHONE_COST=6]="PHONE_COST",t[t.CQ=7]="CQ",t[t.CHIPS=8]="CHIPS",t[t.BOX=9]="BOX",t[t.DAO_JU=10]="DAO_JU"}(n.gShopHBType||(n.gShopHBType={})),function(t){t[t.Coins=1]="Coins",t[t.Power=2]="Power"}(n.gShopTag||(n.gShopTag={})),function(t){t[t.EURO=1]="EURO",t[t.DOLLAR=2]="DOLLAR",t[t.RMB=3]="RMB",t[t.HK=4]="HK"}(n.gMoneyType||(n.gMoneyType={})),function(t){t[t.GEM_GROUP=1]="GEM_GROUP",t[t.GOLD_GROUP=2]="GOLD_GROUP",t[t.DAILY_GROUP=3]="DAILY_GROUP",t[t.WEEK_CARD=4]="WEEK_CARD",t[t.SPECIAL_SALE=5]="SPECIAL_SALE",t[t.POWER_GROUP=6]="POWER_GROUP",t[t.MIX_GROUP=7]="MIX_GROUP",t[t.BOX_GROUP=8]="BOX_GROUP",t[t.PASS_GROUP=9]="PASS_GROUP",t[t.BANKRUPT_GIFT=10]="BANKRUPT_GIFT",t[t.BUY_DESK=15]="BUY_DESK",t[t.OTHER_GIFT=20]="OTHER_GIFT",t[t.VIP_WEEK_SHOP=21]="VIP_WEEK_SHOP",t[t.GAME_WEEK_SHOP=22]="GAME_WEEK_SHOP",t[t.EXP_GROUP=30]="EXP_GROUP",t[t.FREE_GIFT=32]="FREE_GIFT",t[t.DAY_CARD=33]="DAY_CARD",t[t.MONTH_CARD=34]="MONTH_CARD"}(n.gShopBuyGroup||(n.gShopBuyGroup={})),function(t){t[t.FREE=1]="FREE",t[t.PAY=2]="PAY"}(n.gShopCostType||(n.gShopCostType={})),function(t){t[t.APPLE=1]="APPLE",t[t.FACEBOOK=2]="FACEBOOK",t[t.GOOGLE=3]="GOOGLE",t[t.WECHAT=4]="WECHAT",t[t.ALIPAY=5]="ALIPAY"}(n.gPaySDKChannel||(n.gPaySDKChannel={})),function(t){t.INAPP="inapp",t.SUBS="subs"}(n.gGooglePayType||(n.gGooglePayType={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.CAN_REWARD=1]="CAN_REWARD",t[t.FINISH=2]="FINISH"}(n.gTaskStatus||(n.gTaskStatus={})),function(t){t[t.BASE=0]="BASE",t[t.LEVEL_1=1]="LEVEL_1",t[t.LEVEL_2=2]="LEVEL_2",t[t.LEVEL_3=3]="LEVEL_3",t[t.LEVEL_4=4]="LEVEL_4",t[t.LEVEL_5=5]="LEVEL_5",t[t.LEVEL_6=6]="LEVEL_6"}(n.gOriginLevel||(n.gOriginLevel={})),function(t){t[t.GREEN=1]="GREEN",t[t.YELLOW=2]="YELLOW",t[t.RED=3]="RED",t[t.ORANGE=4]="ORANGE",t[t.BLUE=5]="BLUE",t[t.DARKBLUE=6]="DARKBLUE",t[t.GRAY=7]="GRAY"}(n.gColorStyle||(n.gColorStyle={})),n.ENABLE_CHANGE_LANGUAGE=!0,n.USING_LAN_KEY="i18n.",function(t){t[t.scopaWild=1]="scopaWild",t[t.table=2]="table",t[t.rank=3]="rank"}(n.gUnlcokTag||(n.gUnlcokTag={})),function(t){t[t.NONE=0]="NONE",t[t.BRONZE=1]="BRONZE",t[t.SILVER=2]="SILVER",t[t.GOLD=3]="GOLD",t[t.PLATINUM=4]="PLATINUM",t[t.DIAMONDS=5]="DIAMONDS"}(n.rankStage||(n.rankStage={})),function(t){t[t.FFD=0]="FFD",t[t.HELP=1]="HELP",t[t.GIFT=2]="GIFT",t[t.NONE=3]="NONE"}(n.eGoldHelpType||(n.eGoldHelpType={})),function(t){t[t.MONTH=0]="MONTH",t[t.YEAR=1]="YEAR",t[t.NONE=-1]="NONE"}(n.SubscType||(n.SubscType={})),function(t){t[t.GOLDEN_NAME=0]="GOLDEN_NAME",t[t.REWARD_REVIEW=1]="REWARD_REVIEW",t[t.FINISH_REWARD=2]="FINISH_REWARD",t[t.FINISH_REWARD_ALL=3]="FINISH_REWARD_ALL"}(n.SubscGuide||(n.SubscGuide={})),function(t){t[t.FREE_BONUS=0]="FREE_BONUS",t[t.GOLDEN_BONUS=1]="GOLDEN_BONUS"}(n.BonusPage||(n.BonusPage={})),function(t){t[t.DOUBLE=1]="DOUBLE",t[t.CHANGE_CARDS=2]="CHANGE_CARDS"}(n.GameOpeType||(n.GameOpeType={}));var d=function(){function t(){this.totalTime=0,this.ms=!1,this.localTimeStamp=0}return t.prototype.start=function(t,e){void 0===e&&(e=!1),this.totalTime=t,this.ms=e,this.localTimeStamp=Date.now()},t.prototype.end=function(){var t=Date.now()-this.localTimeStamp;return this.ms?this.totalTime-t:Math.floor(this.totalTime-t/1e3)},t}();n.TimeRecord=d,function(t){t[t.gold=0]="gold",t[t.power=1]="power"}(n.eBoostType||(n.eBoostType={})),cc._RF.pop()},{}],GoldAnim:[function(t,e,n){"use strict";cc._RF.push(e,"f0e97hYYkRN55rFUs3izS/j","GoldAnim");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.GoldAnim=void 0;var a=t("./../../lib/base/CxComponent"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([c],e)}(a.CxComponent));n.GoldAnim=l,cc._RF.pop()},{"./../../lib/base/CxComponent":"CxComponent"}],GoldBankRuptLayer:[function(t,e,n){"use strict";cc._RF.push(e,"ed311CpfSZP4KuDBluGAs1p","GoldBankRuptLayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../lib/base/ComPopup"),s=t("../../lib/base/CxComponent"),c=t("../../lib/utils/ComUtils"),l=t("../const/Global"),u=t("../event/GuiEvent"),d=t("../event/Notify"),p=t("../language/LanguageCfg"),h=t("./ComUI"),f=cc._decorator,g=f.ccclass,_=f.property,y=f.requireComponent,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pTitleLabel=null,e.pGoldIcon=null,e.pGoldLabel=null,e.pNowPrice=null,e.pPrePrice=null,e.pPercentNode=null,e.pPercentLabel=null,e.mData=null,e.delayLock=!0,e.bClickBuyBtn=!1,e}return i(e,t),e.prototype.listEvent=function(){return new Map([[d.Notify.Shop.RTN_BUY_GOODS_SUCCESS,this.onBuySuccess],[d.Notify.Shop.RTN_BANKRUPT_GIFT,this.onUpdateView]])},e.prototype.init=function(t){t&&t[0]&&(this.mData=t[0])},e.prototype.start=function(){this.initView()},e.prototype.initView=function(){this.initTitle(),this.initButton(),this.initGoodInfo()},e.prototype.initTitle=function(){this.pTitleLabel&&(this.pTitleLabel.string=c.ComUtils.getLang(p.LangKey.text_not_enough_coins))},e.prototype.initButton=function(){},e.prototype.initGoodInfo=function(){if(this.mData){if(this.pNowPrice&&(this.pNowPrice.string=this.getSymbol(this.mData.dwCurrencyType)+""+this.mData.dwSrcNum/100,0==this.mData.dwForeSrcNum&&(this.pNowPrice.node.x=0,this.pNowPrice.node.y=4,this.pNowPrice.fontSize=70)),this.pPrePrice&&(0==this.mData.dwForeSrcNum?this.pPrePrice.node.active=!1:(this.pPrePrice.node.active=!0,this.pPrePrice.string=this.getSymbol(this.mData.dwCurrencyType)+""+this.mData.dwForeSrcNum/100)),this.pGoldLabel){var t=c.ComUtils.formatGoldStr(this.mData.dwDesNum);this.pGoldLabel.string=t}0==this.mData.dwDZ?this.pPercentNode.active=!1:this.pPercentLabel&&(this.pPercentLabel.string=""+this.mData.dwDZ)}},e.prototype.getSymbol=function(t){return c.ComUtils.getCurrencySymbol(t)},e.prototype.closeLayer=function(){this.node.destroy()},e.prototype.onClose=function(){this.dispatch(d.Notify.Other.GET_GOLD_LAYER,{from:l.eGoldHelpType.GIFT}),this.closeLayer()},e.prototype.onBrankruptGetGold=function(){this.closeLayer()},e.prototype.onBuySuccess=function(){this.dispatch(d.Notify.Other.GET_GOLD_LAYER,{from:l.eGoldHelpType.GIFT}),this.dispatch(d.Notify.Shop.REQ_BANKRUPT_GIFT),this.closeLayer()},e.prototype.onClickGoldHelp=function(){this.delayLock&&(c.ComUtils.delayLimit(this,1e3),this.dispatch(u.GuiEvent.UI.CLICK_GET_BANKRUPT))},e.prototype.onClickBuy=function(){this.bClickBuyBtn=!0,this.delayLock&&(c.ComUtils.delayLimit(this,2e3),h.ComUI.addLoading({time:1}),this.mData&&this.dispatch(d.Notify.Shop.REQ_BUY_GOODS_ACTION,this.mData))},e.prototype.onUpdateView=function(t){0!==t.length?(this.mData=t[0],this.initGoodInfo()):this.closeLayer()},r([_(cc.Label)],e.prototype,"pTitleLabel",void 0),r([_(cc.Sprite)],e.prototype,"pGoldIcon",void 0),r([_(cc.Label)],e.prototype,"pGoldLabel",void 0),r([_(cc.Label)],e.prototype,"pNowPrice",void 0),r([_(cc.Label)],e.prototype,"pPrePrice",void 0),r([_(cc.Node)],e.prototype,"pPercentNode",void 0),r([_(cc.Label)],e.prototype,"pPercentLabel",void 0),r([g,y(a.ComPopup)],e)}(s.CxComponent);n.default=m,cc._RF.pop()},{"../../lib/base/ComPopup":"ComPopup","../../lib/base/CxComponent":"CxComponent","../../lib/utils/ComUtils":"ComUtils","../const/Global":"Global","../event/GuiEvent":"GuiEvent","../event/Notify":"Notify","../language/LanguageCfg":"LanguageCfg","./ComUI":"ComUI"}],GoldGemChangeMsgDef:[function(t,e,n){"use strict";cc._RF.push(e,"4c42dV+DNdG/pLacXxAxw6E","GoldGemChangeMsgDef"),Object.defineProperty(n,"__esModule",{value:!0}),n.TILI_TYPE=n.HONGBAO_TYPE=n.GOLD_TYPE=n.USERDATA_CHANG_SUB_MSG=n.Msg_SC_DataChange=void 0;var o=function(){function t(){this.dwUserID=0,this.dwChangeType=0,this.llChangeNum=0,this.llTotalNum=protobuf.util.Long?protobuf.util.LongBits.from(0).toLong():0,this.dwDaoJuID=0}return t.encode=function(t,e){return void 0===e&&(e=protobuf.Writer.create()),null!=t.dwUserID&&e.uint32(8).uint32(t.dwUserID),null!=t.dwChangeType&&e.uint32(16).uint32(t.dwChangeType),null!=t.llChangeNum&&e.uint32(24).int32(t.llChangeNum),null!=t.llTotalNum&&e.uint32(32).int64(t.llTotalNum),null!=t.dwDaoJuID&&e.uint32(40).uint32(t.dwDaoJuID),e},t.decode=function(e,n){for(var o=e instanceof Uint8Array?new protobuf.Reader(e):e,i=void 0===n?o.len:o.pos+n,r=new t,a=!1;o.pos<i&&!a;){var s=o.uint32();switch(s>>>3){case 0:a=!0;break;case 1:r.dwUserID=o.uint32();break;case 2:r.dwChangeType=o.uint32();break;case 3:r.llChangeNum=o.int32();break;case 4:r.llTotalNum=o.int64();break;case 5:r.dwDaoJuID=o.uint32();break;default:o.skipType(7&s)}}return r},t}();n.Msg_SC_DataChange=o,n.USERDATA_CHANG_SUB_MSG={MSG_SC_GOLD_CHANGE:1,MSG_SC_GEM_CHANGE:2,MSG_SC_HONGBAO_CHANGE:3,MSG_SC_DAOJU_CHANGE:4,MSG_SC_PS_CHANGE:5,UNRECOGNIZED:-1},n.GOLD_TYPE={REGISTER_PRESET:1e3,MALL_BUY_GOLD:1001,MALL_BUY_GOLD_DAYTH:1002,MALL_BUY_GEMTOGOLD:1003,MALL_BUY_GEMTODAYTH:1004,ACTIVE_REWARD:1005,GAME_SERVER_CHANGE:1006,TASK_REWARD:1007,BANKRUPT_REWARD:1008,ROBOT_SITDESK_GOLD:1009,GAME_SERVER_TAIFEI:1010,FACEBOOK_BD:1011,GAME_SERVER_CHOUSHUI:1012,TABLE_FINISH_GOLD:1013,TABLE_UNLOCK_TABLECD:1014,SHOP_OPENBOX:1015,MYSTERY_GOLD:1016,CD_TIME_GG_GOLD:1017,BANKRUPT_GG_REWARD:1018,MRCJ_GG_GOLD:1019,TASK_GG_REWARD:1020,INVITE_GOLD:1021,GOLDEN_DAILY_GOLD:1022,GOLDEN_PASS_GOLD:1023,CRIT_GG_GOLD:1024,EXP_LEVEL_GOLD:1025,PC_GOLD:1026,COMFORT_GIFT_BAG_GOLD:1027,DAN_UPGRATE_GOLD:1028,SCOPA_WIN_GOLD:1029,GOLDEN_A_REWARD:1031,ROBOT_RECHARFE:1030,UNRECOGNIZED:-1},n.HONGBAO_TYPE={REGISTER_PRESET_HB:2e3,ACTIVE_REWARD_HB:2001,TASK_REWARD_HB:2002,UNRECOGNIZED:-1},n.TILI_TYPE={TABLE_FINISH_PS:1e3,UNLOCK_BOX_PS:1001,SHOP_BOX_PS:1002,MYSTERY_PS:1003,CD_TIME_GG_PS:1004,MRCJ_GG_PS:1005,INVITE_PS:1006,GOLDEN_DAILY_PS:1007,GOLDEN_PASS_PS:1008,TLBZ_GG_PS:1009,CRIT_GG_PS:1010,REGISTER_PRESET_PS:1100,MALL_BUY_PS:1101,GAME_SERVER_PS:1102,GAME_WIN_PS:1103,GET_PS:1104,PC_PS:1105,EXP_LEVEL_PS:1106,DAN_UPGRATE_PS:1107,UNRECOGNIZED:-1},cc._RF.pop()},{}],GoldHelpLayer:[function(t,e,n){"use strict";cc._RF.push(e,"08c48JvS7BMCqJlOCAR1aot","GoldHelpLayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../lib/base/ComPopup"),s=t("../../lib/base/CxComponent"),c=t("../../lib/utils/ComUtils"),l=t("../const/Global"),u=t("../event/GuiEvent"),d=t("../event/Notify"),p=t("../language/LanguageCfg"),h=t("./ComUI"),f=cc._decorator,g=f.ccclass,_=f.property,y=f.requireComponent,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pTitleLabel=null,e.pLowerBtn=null,e.pBankruptBtn=null,e.pGoldNode=null,e.pGoldIcon=null,e.pGoldLabel=null,e.pNowPrice=null,e.pPrePrice=null,e.pPercentNode=null,e.pPercentLabel=null,e.pPCTextNode=null,e.pPCTotal=null,e.pPCCurrent=null,e.pPCLine=null,e.mCanMatchGame=!1,e.mGameConfig=null,e.mGold=0,e.mBankrupt=null,e.mTkInfo=null,e.mSaleList=null,e.mShopGoldGoods=null,e.mGoodsData=null,e.showLowerGame=!1,e.showBankrupt=!1,e.delayLock=!0,e.bClickBuyBtn=!1,e}return i(e,t),e.prototype.listEvent=function(){return new Map([[d.Notify.Other.RTN_BRANKRUPT_GOLD,this.onBrankruptGetGold],[d.Notify.Shop.RTN_BUY_GOODS_SUCCESS,this.onBuySuccess]])},e.prototype.init=function(t){var e=t.msgData;e&&(this.mCanMatchGame=e.canMatchGame||!1,this.mGameConfig=e.gameConfig||null,this.mGold=e.gold||0,this.mBankrupt=e.bankruptCfg,this.mTkInfo=e.tangKuangInfo,this.mSaleList=e.specailSale,this.mShopGoldGoods=e.goodsList)},e.prototype.start=function(){this.initData(),this.initView()},e.prototype.initData=function(){var t=this.mGold;this.mBankrupt&&t<this.mBankrupt.dwGoldLimit&&this.mBankrupt.dwPCCount<this.mBankrupt.dwPCTotal&&(this.showBankrupt=!0),this.mTkInfo;var e=this.mShopGoldGoods;if(e)if(this.mGameConfig){this.mCanMatchGame&&(this.showLowerGame=!0);var n=0;this.mGameConfig.chClientData&&(n=this.mGameConfig.chClientData.dg||0);for(var o=0;o<e.length;o++){var i=e[o];if(i){var r=i.dwDesNum;if(r&&r>=n){this.mGoodsData=i;break}}}this.mGoodsData||(this.mGoodsData=e[0])}else this.mGoodsData=e[0]},e.prototype.initView=function(){this.initTitle(),this.initButton(),this.initGoodInfo()},e.prototype.initTitle=function(){this.pTitleLabel&&(this.pTitleLabel.string=c.ComUtils.getLang(p.LangKey.text_not_enough_coins))},e.prototype.initButton=function(){if(this.pBankruptBtn&&(this.pBankruptBtn.node.active=!1),this.pLowerBtn&&(this.pLowerBtn.node.active=!1),this.showBankrupt||this.showLowerGame&&this.pLowerBtn&&(this.pLowerBtn.node.active=!0),this.mBankrupt){if(this.pPCCurrent){var t=this.mBankrupt.dwPCCount||0;this.pPCCurrent.string=""+t}if(this.pPCTotal){var e=this.mBankrupt.dwPCTotal||0;this.pPCTotal.string=""+e}this.pPCLine&&this.pPCTextNode&&(this.pPCLine.node.width=this.pPCTextNode.width)}},e.prototype.initGoodInfo=function(){var t=this.mGoodsData;if(t){if(this.pNowPrice&&(this.pNowPrice.string=this.getSymbol(t)+""+t.dwSrcNum/100,0==t.dwForeSrcNum&&(this.pNowPrice.node.x=0,this.pNowPrice.node.y=4,this.pNowPrice.fontSize=70)),this.pPrePrice&&(0==t.dwForeSrcNum?this.pPrePrice.node.active=!1:(this.pPrePrice.node.active=!0,this.pPrePrice.string=this.getSymbol(t)+""+t.dwForeSrcNum/100)),this.pGoldLabel){var e=c.ComUtils.formatGoldStr(t.dwDesNum);this.pGoldLabel.string=e}this.pGoldNode&&(this.pGoldNode.width=this.pGoldLabel.node.width+this.pGoldIcon.node.width),0==t.dwDZ?this.pPercentNode.active=!1:this.pPercentLabel&&(this.pPercentLabel.string=""+t.dwDZ)}},e.prototype.getSymbol=function(t){return c.ComUtils.getCurrencySymbol(t.dwCurrencyType)},e.prototype.closeLayer=function(){this.node.destroy()},e.prototype.onClose=function(){this.dispatch(d.Notify.Other.GET_GOLD_LAYER,{from:l.eGoldHelpType.FFD}),this.closeLayer()},e.prototype.onBrankruptGetGold=function(){this.dispatch(d.Notify.Other.GET_GOLD_LAYER,{from:l.eGoldHelpType.FFD}),this.closeLayer()},e.prototype.onBuySuccess=function(){this.closeLayer()},e.prototype.onClickGoldHelp=function(){this.delayLock&&(c.ComUtils.delayLimit(this,1e3),this.dispatch(u.GuiEvent.UI.CLICK_GET_BANKRUPT))},e.prototype.onClickBuy=function(){cc.log("\u8d2d\u4e70 REQ_BUY_GOODS_ACTION",this.mGoodsData),this.bClickBuyBtn=!0,this.delayLock&&(c.ComUtils.delayLimit(this,2e3),h.ComUI.addLoading({time:1}),this.mGoodsData&&this.dispatch(d.Notify.Shop.REQ_BUY_GOODS_ACTION,this.mGoodsData))},e.prototype.onLowGame=function(){if(this.delayLock&&(c.ComUtils.delayLimit(this,1e3),this.mGameConfig)){var t=this.mGameConfig.dwGameType;this.dispatch(d.Notify.MatchGame.MATCH_GAME_TYPE,t),this.closeLayer()}},r([_(cc.Label)],e.prototype,"pTitleLabel",void 0),r([_(cc.Button)],e.prototype,"pLowerBtn",void 0),r([_(cc.Button)],e.prototype,"pBankruptBtn",void 0),r([_(cc.Node)],e.prototype,"pGoldNode",void 0),r([_(cc.Sprite)],e.prototype,"pGoldIcon",void 0),r([_(cc.Label)],e.prototype,"pGoldLabel",void 0),r([_(cc.Label)],e.prototype,"pNowPrice",void 0),r([_(cc.Label)],e.prototype,"pPrePrice",void 0),r([_(cc.Node)],e.prototype,"pPercentNode",void 0),r([_(cc.Label)],e.prototype,"pPercentLabel",void 0),r([_(cc.Node)],e.prototype,"pPCTextNode",void 0),r([_(cc.Label)],e.prototype,"pPCTotal",void 0),r([_(cc.Label)],e.prototype,"pPCCurrent",void 0),r([_(cc.Sprite)],e.prototype,"pPCLine",void 0),r([g,y(a.ComPopup)],e)}(s.CxComponent);n.default=m,cc._RF.pop()},{"../../lib/base/ComPopup":"ComPopup","../../lib/base/CxComponent":"CxComponent","../../lib/utils/ComUtils":"ComUtils","../const/Global":"Global","../event/GuiEvent":"GuiEvent","../event/Notify":"Notify","../language/LanguageCfg":"LanguageCfg","./ComUI":"ComUI"}],GoldNotEnoughLayer:[function(t,e,n){"use strict";cc._RF.push(e,"27799halQpJyqiOAxw8rVk4","GoldNotEnoughLayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../lib/base/BottomBarView"),s=t("../../lib/base/ComPopup"),c=t("../../lib/base/CxComponent"),l=t("../../lib/base/PopupView"),u=t("../../lib/utils/ComUtils"),d=t("../const/Global"),p=t("../event/GuiEvent"),h=t("../event/Notify"),f=t("../language/LanguageCfg"),g=t("./ComUI"),_=cc._decorator,y=_.ccclass,m=_.property,b=_.requireComponent,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spGoldIcon=null,e.labGoldNum=null,e.btnLowerGame=null,e.mCanMatchGame=!1,e.delayLock=!0,e.mGameConfig=null,e.mGoodsData=null,e.mShopGoldGoods=null,e}return i(e,t),e.prototype.listEvent=function(){return new Map([[h.Notify.Shop.RTN_BUY_GOODS_SUCCESS,this.onBuySuccess]])},e.prototype.init=function(t){if(t&&t.msgData){this.mCanMatchGame=t.msgData.canMatchGame||!1,this.mGameConfig=t.msgData.gameConfig,this.mShopGoldGoods=t.msgData.goodsList||[];var e=this.mShopGoldGoods;if(e)if(this.mGameConfig){var n=0;this.mGameConfig.chClientData&&(n=this.mGameConfig.chClientData.dg||0);for(var o=0;o<e.length;o++){var i=e[o];if(i){var r=i.dwDesNum;if(r&&r>=n){this.mGoodsData=i;break}}}this.mGoodsData||(this.mGoodsData=e[0])}else this.mGoodsData=e[0]}},e.prototype.start=function(){l.PopupView.setTitle(this.node,u.ComUtils.makeLang(f.LangKey.text_not_enough_coins)),this.btnLowerGame&&(this.btnLowerGame.node.active=this.mCanMatchGame,this.btnLowerGame.node.on("click",this.onLowGame,this)),this.initGoodInfo()},e.prototype.initGoodInfo=function(){var t=this,e=this.mGoodsData;if(e&&(a.BottomBarView.setBottomBar(this.node,[{style:d.gColorStyle.GREEN,text:this.getSymbol(e)+""+e.dwSrcNum/100,callback:function(){e?(g.ComUI.addLoading({time:1}),t.dispatch(h.Notify.Shop.REQ_BUY_GOODS_ACTION,e)):t.dispatch(p.GuiEvent.PopMsg.DISPLAY_SHOP_LAYER,{tag:d.gShopBuyGroup.GOLD_GROUP})}}]),this.labGoldNum)){var n=u.ComUtils.formatGoldStr(e.dwDesNum);this.labGoldNum.string=n}},e.prototype.getSymbol=function(t){return u.ComUtils.getCurrencySymbol(t.dwCurrencyType)},e.prototype.onLowGame=function(){if(this.delayLock&&(u.ComUtils.delayLimit(this,1e3),this.mGameConfig)){var t=this.mGameConfig.dwGameType;this.dispatch(h.Notify.MatchGame.MATCH_GAME_TYPE,t),this.closeLayer()}},e.prototype.onBuySuccess=function(){this.closeLayer()},e.prototype.closeLayer=function(){this.node.destroy()},r([m({type:cc.Sprite,tooltip:"\u91d1\u5e01\u56fe\u7247"})],e.prototype,"spGoldIcon",void 0),r([m({type:cc.Label,tooltip:"\u91d1\u5e01\u6570\u91cf"})],e.prototype,"labGoldNum",void 0),r([m({type:cc.Button,tooltip:"\u53bb\u4f4e\u7ea7\u573a"})],e.prototype,"btnLowerGame",void 0),r([y,b(s.ComPopup)],e)}(c.CxComponent);n.default=v,cc._RF.pop()},{"../../lib/base/BottomBarView":"BottomBarView","../../lib/base/ComPopup":"ComPopup","../../lib/base/CxComponent":"CxComponent","../../lib/base/PopupView":"PopupView","../../lib/utils/ComUtils":"ComUtils","../const/Global":"Global","../event/GuiEvent":"GuiEvent","../event/Notify":"Notify","../language/LanguageCfg":"LanguageCfg","./ComUI":"ComUI"}],GoldRevengeLayer:[function(t,e,n){"use strict";cc._RF.push(e,"2bcddylcVFEm63CEklDeiXx","GoldRevengeLayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../lib/base/BottomBarView"),s=t("../../lib/base/ComPopup"),c=t("../../lib/base/CxComponent"),l=t("../../lib/base/PopupView"),u=t("../../lib/utils/ComUtils"),d=t("../const/Global"),p=t("../event/Notify"),h=t("../language/LanguageCfg"),f=cc._decorator,g=f.ccclass,_=f.property,y=f.requireComponent,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labGoldNum=null,e}return i(e,t),e.prototype.init=function(t){if(t){var e=t.tabReward[0];e&&(this.labGoldNum.string="x"+e.dwNum)}},e.prototype.start=function(){var t=this;l.PopupView.setTitle(this.node,u.ComUtils.makeLang(h.LangKey.txt_title_revenege)),a.BottomBarView.setBottomBar(this.node,[{style:d.gColorStyle.GREEN,text:u.ComUtils.makeLang(h.LangKey.text_collect),callback:function(){t.dispatch(p.Notify.Other.REQ_RECV_REVENEGE_GIFT),t.close()}}])},r([_(cc.Label)],e.prototype,"labGoldNum",void 0),r([g,y(s.ComPopup)],e)}(c.CxComponent);n.default=m,cc._RF.pop()},{"../../lib/base/BottomBarView":"BottomBarView","../../lib/base/ComPopup":"ComPopup","../../lib/base/CxComponent":"CxComponent","../../lib/base/PopupView":"PopupView","../../lib/utils/ComUtils":"ComUtils","../const/Global":"Global","../event/Notify":"Notify","../language/LanguageCfg":"LanguageCfg"}],GoldRichLayer:[function(t,e,n){"use strict";cc._RF.push(e,"8edcc5U0pRLdrp5dPuwLp2d","GoldRichLayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../lib/base/BottomBarView"),s=t("../../lib/base/ComPopup"),c=t("../../lib/base/CxComponent"),l=t("../../lib/base/PopupView"),u=t("../../lib/utils/ComUtils"),d=t("../const/Global"),p=t("../event/Notify"),h=t("../language/LanguageCfg"),f=cc._decorator,g=f.ccclass,_=f.property,y=f.requireComponent,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labTips=null,e.mGameType=0,e.mStayGameId=0,e}return i(e,t),e.prototype.init=function(t){t&&(this.mGameType=t.gameType,this.mStayGameId=t.stayGameId)},e.prototype.start=function(){var t=this;l.PopupView.setTitle(this.node,u.ComUtils.makeLang(h.LangKey.text_too_much_coins)),this.mStayGameId?(a.BottomBarView.setBottomBar(this.node,[{style:d.gColorStyle.GREEN,text:u.ComUtils.makeLang(h.LangKey.text_stay_here),callback:function(){t.stayHere()}},{style:d.gColorStyle.YELLOW,text:u.ComUtils.makeLang(h.LangKey.text_higher_game),callback:function(){t.gotoHigherGame()}}]),this.labTips&&(this.labTips.string=u.ComUtils.getLang(h.LangKey.text_too_many_coins))):(this.labTips&&(this.labTips.string=u.ComUtils.getLang(h.LangKey.text_gold_over_limit)),a.BottomBarView.setBottomBar(this.node,[{style:d.gColorStyle.GREEN,text:u.ComUtils.makeLang(h.LangKey.text_higher_game),callback:function(){t.gotoHigherGame()}}]))},e.prototype.gotoHigherGame=function(){this.mGameType&&(this.dispatch(p.Notify.MatchGame.MATCH_GAME_TYPE,this.mGameType),this.node.destroy())},e.prototype.stayHere=function(){this.mStayGameId&&this.dispatch(p.Notify.MatchGame.MATCH_GAME_ID,{gameId:this.mStayGameId}),this.node.destroy()},r([_(cc.Label)],e.prototype,"labTips",void 0),r([g,y(s.ComPopup)],e)}(c.CxComponent);n.default=m,cc._RF.pop()},{"../../lib/base/BottomBarView":"BottomBarView","../../lib/base/ComPopup":"ComPopup","../../lib/base/CxComponent":"CxComponent","../../lib/base/PopupView":"PopupView","../../lib/utils/ComUtils":"ComUtils","../const/Global":"Global","../event/Notify":"Notify","../language/LanguageCfg":"LanguageCfg"}],GoldenBonusPage:[function(t,e,n){"use strict";cc._RF.push(e,"514ebF75qlHqrN1RhDqX8OB","GoldenBonusPage");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.GoldenBonusPage=void 0;var a,s=t("../../../lib/base/CxComponent"),c=t("../../../lib/utils/ComUtils"),l=t("../../const/Global"),u=t("../../event/GuiEvent"),d=t("../../event/Notify"),p=t("../../language/LanguageCfg"),h=t("../../model/DataProxy"),f=t("../ComUI"),g=cc._decorator,_=g.ccclass,y=g.property;(function(t){t[t.normal=1]="normal",t[t.vip=2]="vip",t[t.vipRecv=3]="vipRecv"})(a||(a={}));var m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ndRewardExtra=null,e.ndRewardDaily=null,e.ndTime=null,e.btnClaim=null,e.ndPlus=null,e.labTips=null,e.viewData=null,e}return i(e,t),e.prototype.initView=function(){this.hideNodes();var t=h.DataProxy.getInstance().glodenPassData.getGoldenBonusData();t?(this.viewData=t,this.shoPage()):this.dispatch(d.Notify.GoldenPass.REQ_GOLDEN_BONUS)},e.prototype.listEvent=function(){return new Map([[d.Notify.GoldenPass.RESP_GOLDEN_BONUS,this.onUpdateView],[d.Notify.GoldenPass.RESP_RECV_DAILY_REWARD,this.onRecvReward]])},e.prototype.hideNodes=function(){this.ndRewardExtra.active=!1,this.ndRewardDaily.active=!1,this.ndTime.active=!1,this.ndPlus.active=!1},e.prototype.shoPage=function(){this.hideNodes(),this.viewData.dwType==a.normal?(this.ndPlus.active=!0,this.showExtraReward(),this.showDailyReward(!0),this.showTips(!1)):this.viewData.dwType==a.vip?(this.showDailyReward(),this.showTips(!0)):(this.showDailyReward(),this.showTips(!0),this.showTimeCD(this.viewData.dwTime))},e.prototype.showTips=function(t){if(this.labTips.node.active=t,t){var e=this.viewData.tabDailyReward[0],n=c.ComUtils.formatGoldStr(e.dwNum,1e5,0),o=String.format(c.ComUtils.getLang(p.LangKey.goldenPass_daily_coins),n);this.labTips.string=o}},e.prototype.showExtraReward=function(){if(this.labTips.string="",!this.viewData.tabReward)return this.ndRewardExtra.active=!1,void(this.ndPlus.active=!1);this.ndRewardExtra.active=!0;var t=this.viewData.tabReward[0],e=this.ndRewardExtra.getComponentInChildren(cc.Label);e&&(e.string=c.ComUtils.formatGoldStr(t.dwNum))},e.prototype.showDailyReward=function(t){if(void 0===t&&(t=!1),!this.viewData.tabDailyReward)return this.ndRewardDaily.active=!1,void(this.ndPlus.active=!1);this.ndRewardDaily.active=!0;var e=this.viewData.tabDailyReward[0],n=this.ndRewardDaily.getComponentInChildren(cc.Layout),o=c.ComUtils.formatGoldStr(e.dwNum,1e5,0),i=n.node.getChildByName("labNum");i&&(i.getComponent(cc.Label).string=o);var r=n.node.getChildByName("labDay");t?(r.active=!0,r.getComponent(cc.Label).string="/DAY"):r.active=!1},e.prototype.showTimeCD=function(t){var e=this;this.ndTime.active=!0,this.btnClaim.node.active=!1;var n=this.ndTime.getComponentInChildren(cc.Label);f.ComUI.StartTimeCountDown(n,t,function(){e.ndTime.active=!1,e.btnClaim.node.active=!0})},e.prototype.onClickClaim=function(){this.viewData.dwType==a.normal?this.dispatch(u.GuiEvent.PopMsg.DISPLAY_GOLDEN_PASS_SIMPLE_BUY,{rewardType:l.SubscGuide.REWARD_REVIEW}):this.viewData.dwType==a.vip&&(console.log("\u8bf7\u6c42\u9886\u53d6golden pass\u6bcf\u65e5\u5956\u52b1"),this.dispatch(d.Notify.GoldenPass.REQ_RECV_DAILY_REWARD),this.btnClaim.node.active=!1)},e.prototype.onUpdateView=function(){this.initView()},e.prototype.onRecvReward=function(){this.btnClaim.node.active=!1,this.dispatch(d.Notify.GoldenPass.SWICH_BONUS_PAGE,l.BonusPage.FREE_BONUS)},r([y({type:cc.Node,tooltip:"\u4e00\u6b21\u6027\u989d\u5916\u5956\u52b1"})],e.prototype,"ndRewardExtra",void 0),r([y({type:cc.Node,tooltip:"\u6bcf\u65e5\u5956\u52b1"})],e.prototype,"ndRewardDaily",void 0),r([y({type:cc.Node,tooltip:"\u5012\u8ba1\u65f6"})],e.prototype,"ndTime",void 0),r([y({type:cc.Button,tooltip:"\u9886\u53d6\u6309\u94ae"})],e.prototype,"btnClaim",void 0),r([y({type:cc.Node,tooltip:"+"})],e.prototype,"ndPlus",void 0),r([y({type:cc.RichText,tooltip:"+"})],e.prototype,"labTips",void 0),r([_],e)}(s.CxComponent);n.GoldenBonusPage=m,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../../lib/utils/ComUtils":"ComUtils","../../const/Global":"Global","../../event/GuiEvent":"GuiEvent","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../../model/DataProxy":"DataProxy","../ComUI":"ComUI"}],GoldenPassDataProxy:[function(t,e,n){"use strict";cc._RF.push(e,"a38bbsOlXdIa7EgHkK1G9yT","GoldenPassDataProxy"),Object.defineProperty(n,"__esModule",{value:!0}),n.GoldenPassDataProxy=void 0;var o=t("../../plugin/pb/protofile/CMD_SubscribeMsg"),i=function(){function t(){this._entryData=new o.MSG_SC_RtnGolenPassInfo,this._tempData=[],this._completeData=[],this._baseInfo=new o.MSG_SC_RtnRewardList,this._goldenBonusData=new o.MSG_SC_RtnGolenBounsInfo,this._dailyRewardData=new o.MSG_SC_RtnGolenDailyInfo,this._redPoint=new o.MSG_SC_ResponseRedpoint}return t.prototype.setEntryData=function(t){this._entryData=t},t.prototype.getEntryData=function(){return this._entryData},t.prototype.setBaseInfo=function(t){this._baseInfo=t},t.prototype.getBaseInfo=function(){return this._baseInfo},t.prototype.pushTempData=function(t){this._tempData.push(t)},t.prototype.getCompleteData=function(){return this._completeData},t.prototype.toCompleteData=function(){return this._completeData=this._tempData.slice(),this._tempData=[],this._completeData},t.prototype.clear=function(){this._tempData=[]},t.prototype.isVip=function(){return this._baseInfo.bGoldenPass},t.prototype.setGoldenBonusData=function(t){this._goldenBonusData=t},t.prototype.getGoldenBonusData=function(){return this._goldenBonusData},t.prototype.setDailyReward=function(t){this._dailyRewardData=t},t.prototype.getDailyReward=function(){return this._dailyRewardData},t.prototype.getCanRecvCountOfGoldenPass=function(){var t=0;return this._completeData.forEach(function(e){e.dwSubscribeReward.bFinishNew&&!e.dwSubscribeReward.bGetReward&&t++}),t},t.prototype.setRedPoint=function(t){this._redPoint=t},t.prototype.getRedPoint=function(){return this._redPoint},t.timeArr=[],t.openTest=!1,t}();n.GoldenPassDataProxy=i,cc._RF.pop()},{"../../plugin/pb/protofile/CMD_SubscribeMsg":"CMD_SubscribeMsg"}],GoldenPassMenuMini:[function(t,e,n){"use strict";cc._RF.push(e,"9488aaTg3pHU7Goj3JHnfO+","GoldenPassMenuMini");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../lib/utils/ScreenAdapter"),s=t("../../event/Notify"),c=t("../ComFunctions"),l=t("./GoldenPassMenu"),u=cc._decorator,d=u.ccclass,p=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cupAniSprite=null,e._actCupNum=0,e._actFromPos=cc.v2(0,0),e._actNodeSize=cc.size(0,0),e}return i(e,t),e.prototype.listEvent=function(){return new Map([[s.Notify.GoldenPass.RESP_GOLDENPASS_ENTRY_INFO,this.onDisplay]])},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.multiLanguage(),a.ScreenAdapter.paddingTop(this.node),this.dispatch(s.Notify.GoldenPass.REQ_ACT_ENTRY_INFO)},e.prototype.onDisplay=function(t){var e=this,n=t;if(n){if(this._data=n,cc.log(n),this.applyTheme(n.dwTopicalId),this._actCupNum>0){var o=(n.dwNowCup-this._actCupNum+n.dwNeedCup)%n.dwNeedCup;return cc.log("\u5956\u676f\u53d8\u5316",o,n.dwNowCup,this._actCupNum,n.dwNeedCup),this.displayProgressView(o,n.dwNeedCup),void c.ComFunctions.performWithDelay(this.node,function(){e.dispayCupIncreaseActions()},1)}n.bGetReward?this.displayFinishView():this.displayProgressView(n.dwNowCup,n.dwNeedCup)}},e.prototype.progressIncrease=function(t){void 0===t&&(t=1),this._nowCups+=t,this.progressBar.progress=this._nowCups/this._needCups,this._nowCups>this._needCups&&(this._nowCups-=this._needCups),this.displayProgressView(this._nowCups,this._needCups)},e.prototype.dispayCupIncreaseActions=function(){var t=this;if(this.cupAniSprite){for(var e=0,n=this.cupAniSprite.node.convertToWorldSpaceAR(cc.v2(0,0)),o=cc.v2(this._actFromPos.x-n.x,this._actFromPos.y-n.y),i=cc.v2(this.cupAniSprite.node.x+o.x,this.cupAniSprite.node.y+o.y),r=cc.v2(this.cupAniSprite.node.x,this.cupAniSprite.node.y),a=cc.v2(.5*(-r.x+i.x),.5*(-r.y+i.y)),s=function(){var n=cc.instantiate(l.cupAniSprite.node);n.setPosition(i),n.scale=l._actNodeSize.width/n.width,n.parent=l.cupAniSprite.node.parent,n.active=!0;var o=2*Math.random();e=Math.max(o,e),cc.tween(n).parallel(cc.tween().to(.5*o,{scale:Math.random()+1}).to(.5*o,{scale:1}),cc.tween().bezierTo(o,i,cc.v2(a.x-300*(Math.random()-.5),a.y),r)).call(function(){t.progressIncrease(1),n.destroy()}).start()},l=this,u=0;u<this._actCupNum;++u)s();c.ComFunctions.performWithDelay(this.node,function(){t._data.bGetReward&&t.displayFinishView()},e+1)}},e.prototype.setActionData=function(t,e,n){this._actCupNum=t,this._actFromPos=e,this._actNodeSize=n},r([p({type:cc.Sprite,tooltip:"\u5956\u676f\u52a8\u753b\u7cbe\u7075\u56fe\u7247"})],e.prototype,"cupAniSprite",void 0),r([d],e)}(l.default);n.default=h,cc._RF.pop()},{"../../../lib/utils/ScreenAdapter":"ScreenAdapter","../../event/Notify":"Notify","../ComFunctions":"ComFunctions","./GoldenPassMenu":"GoldenPassMenu"}],GoldenPassMenu:[function(t,e,n){"use strict";cc._RF.push(e,"110078bdANJS7U+o0FBIlR6","GoldenPassMenu");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../lib/base/CxComponent"),s=t("../../../lib/i18n/i18nHelper"),c=t("../../event/GuiEvent"),l=t("../../event/Notify"),u=t("../../language/LanguageCfg"),d=t("../../model/DataProxy"),p=t("../ComUI"),h=cc._decorator,f=h.ccclass,g=h.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.progressBar=null,e.labProgress=null,e.labDescribe=null,e.unLockViewNode=null,e.cupViewNode=null,e.themeBg=null,e.spAnim=null,e.themeAtlas=null,e._nowCups=0,e._needCups=0,e._isFromGame=!1,e._data=null,e}return i(e,t),e.prototype.setOpenFromGame=function(t){this._isFromGame=t},e.prototype.listEvent=function(){return new Map([[l.Notify.GoldenPass.RESP_GOLDENPASS_ENTRY_INFO,this.onDisplay],[l.Notify.Base.CHANGE_LANGUAGE,this.onChangeLanguage]])},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.multiLanguage(),this.onDisplay(null)},e.prototype.start=function(){this.node.on("click",this.onClicked,this)},e.prototype.multiLanguage=function(){this.labDescribe&&(this.labDescribe.language=s.i18nHelper.getLanguage(u.LangKey.goldenpass_entry_desc)),p.ComUI.getLabelSize(this.labDescribe).width>this.labDescribe.node.parent.width-40&&(this.labDescribe.overflow=cc.Label.Overflow.SHRINK,this.labDescribe.enableWrapText=!1,this.labDescribe.node.width=this.labDescribe.node.parent.width-40)},e.prototype.onClicked=function(){this.dispatch(c.GuiEvent.PopMsg.DISPLAY_GOLDEN_PASS_MIAN_VIEW,{isFromGame:this._isFromGame})},e.prototype.onDisplay=function(t){var e;(e=t||d.DataProxy.getInstance().glodenPassData.getEntryData())&&(this._data=e,cc.log(e),this.applyTheme(e.dwTopicalId),e.bGetReward?this.displayFinishView():this.displayProgressView(e.dwNowCup,e.dwNeedCup))},e.prototype.displayProgressView=function(t,e){this._nowCups=t,this._needCups=e,this.unLockViewNode.active=!1,this.cupViewNode.active=!0,this.labProgress.string=t+"/"+e,this.progressBar.progress=e>0?t/e:0},e.prototype.displayFinishView=function(){if(this.unLockViewNode.active=!0,this.cupViewNode.active=!1,this.spAnim){var t=this.spAnim.getComponent(cc.Animation);t&&t.play()}},e.prototype.applyTheme=function(t){if(this.themeAtlas){var e=this.themeAtlas.getSpriteFrame("theme_"+t);e&&(this.themeBg.spriteFrame=e)}},e.prototype.onChangeLanguage=function(){this.multiLanguage()},r([g(cc.ProgressBar)],e.prototype,"progressBar",void 0),r([g(cc.Label)],e.prototype,"labProgress",void 0),r([g(cc.Label)],e.prototype,"labDescribe",void 0),r([g({type:cc.Node,tooltip:"\u89e3\u9501\u9875\u9762\u7236\u8282\u70b9"})],e.prototype,"unLockViewNode",void 0),r([g({type:cc.Node,tooltip:"\u5956\u676f\u9875\u9762\u7236\u8282\u70b9"})],e.prototype,"cupViewNode",void 0),r([g({type:cc.Sprite,tooltip:"\u4e3b\u9898\u80cc\u666f"})],e.prototype,"themeBg",void 0),r([g({type:cc.Sprite,tooltip:"\u5e8f\u5217\u5e27\u52a8\u753b\u8282\u70b9"})],e.prototype,"spAnim",void 0),r([g({type:cc.SpriteAtlas,tooltip:"\u4e3b\u9898\u80cc\u666f\u6240\u5728atlas"})],e.prototype,"themeAtlas",void 0),r([f],e)}(a.CxComponent);n.default=_,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../../lib/i18n/i18nHelper":"i18nHelper","../../event/GuiEvent":"GuiEvent","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../../model/DataProxy":"DataProxy","../ComUI":"ComUI"}],GooglePySdk:[function(t,e,n){"use strict";cc._RF.push(e,"9de6alLy05P7LtE3b0T1PR6","GooglePySdk"),Object.defineProperty(n,"__esModule",{value:!0});var o,i=t("./../language/LanguageCfg"),r=t("./../module/buryPoint/BuryPointUtils"),a=t("../../lib/base/Callback"),s=t("../../lib/network/HttpManager"),c=t("../../lib/utils/ComUtils"),l=t("../const/Global"),u=t("../model/LocalDataProxy"),d=t("../view/ComUI"),p=t("./CallBackManager"),h=t("../module/buryPoint/BuryPoint"),f=t("./NativeApi"),g=t("../model/DataProxy"),_=t("../../lib/event/EventDispatcher"),y=t("../event/Notify"),m=t("./PyManager");(function(t){t[t.SERVICE_TIMEOUT=-3]="SERVICE_TIMEOUT",t[t.FEATURE_NOT_SUPPORTED=-2]="FEATURE_NOT_SUPPORTED",t[t.SERVICE_DISCONNECTED=-1]="SERVICE_DISCONNECTED",t[t.OK=0]="OK",t[t.USER_CANCELED=1]="USER_CANCELED",t[t.SERVICE_UNAVAILABLE=2]="SERVICE_UNAVAILABLE",t[t.BILLING_UNAVAILABLE=3]="BILLING_UNAVAILABLE",t[t.ITEM_UNAVAILABLE=4]="ITEM_UNAVAILABLE",t[t.DEVELOPER_ERROR=5]="DEVELOPER_ERROR",t[t.ERROR=6]="ERROR",t[t.ITEM_ALREADY_OWNED=7]="ITEM_ALREADY_OWNED",t[t.ITEM_NOT_OWNED=8]="ITEM_NOT_OWNED"})(o||(o={}));var b=function(){function t(){}return t.doPy=function(e,n,o,i){if(c.ComUtils.isAndroid()){console.log("GooglePySdk: doPy=");var s=JSON.stringify({orderId:o,sku:e});r.BuryPointUtils.send(h.BuryPoint.Operation.SDK.GooglePayReq,s),this.mPyCallback=i,p.CallBackManager.getInstance().register(t.PY,new a.Callback(t,t.onPyCallback));var l=new f.NativeParams;l.className="BillingSDK",l.methodName="googlePy",l.javaMethodSig="(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",l.ocMethodSig="googlePy:",l.javaClassPath=this.javaClassPath,l.asyncEvent=t.PY,f.CallNativeMethod.callStaticMethod(l,e,n,o)}},t.onPyCallback=function(e){console.log("GooglePySdk: onCallback() data="+e);var n=JSON.parse(e);n&&n.orderId&&n.isSuccess&&r.BuryPointUtils.send(h.BuryPoint.Operation.SDK.GooglePaySucc,JSON.stringify({orderId:n.orderId,desc:"\u652f\u4ed8\u8fd4\u56de"})),e&&this.mPyCallback&&n&&this.mPyCallback(n),this.mPyCallback=null,p.CallBackManager.getInstance().unregister(t.PY)},t.queryGooglePurchase=function(e){if(c.ComUtils.isAndroid()){this.mQueryCallback=e,p.CallBackManager.getInstance().register(t.Query,new a.Callback(t,t.onQueryCallback));var n=new f.NativeParams;n.className="BillingSDK",n.methodName="queryGooglePurchase",n.javaMethodSig="(Ljava/lang/String;)V",n.ocMethodSig="queryGooglePurchase:",n.javaClassPath=this.javaClassPath,n.asyncEvent=t.Query,f.CallNativeMethod.callStaticMethod(n)}},t.onQueryCallback=function(t){console.log("GooglePySdk: onQueryCallback() data="+t);var e=JSON.parse(t);e&&e.orderId&&e.isSuccess&&r.BuryPointUtils.send(h.BuryPoint.Operation.SDK.GooglePaySucc,JSON.stringify({orderId:e.orderId,desc:"\u68c0\u67e5\u6389\u5355\u8fd4\u56de"})),this.mQueryCallback?this.mQueryCallback(e):console.log("GooglePySdk: onQueryCallback() \u6ca1\u6709mQueryCallback")},t.removeGoogleOrder=function(t){if(c.ComUtils.isAndroid()){var e=new f.NativeParams;e.className="BillingSDK",e.methodName="removeGoogleOrder",e.javaMethodSig="(Ljava/lang/String;)V",e.ocMethodSig="removeGoogleOrder:",e.javaClassPath=this.javaClassPath,f.CallNativeMethod.callStaticMethod(e,t)}},t.doBuy=function(e,n){var a=this;void 0===n&&(n=l.gGooglePayType.INAPP),console.log("PyManager: googlePy()");var s=e.strProductNo,p=e.order,f=e.callbackUrl;f&&g.DataProxy.getInstance().localData.set(u.LocalStorageProxy.SHOP_ORDER_URL,f),t.doPy(s,n,p,function(t){if(t)if(t.isSuccess&&t.orderToken)console.log("GooglePySdk.doPy: callback ok",JSON.stringify(t)),a.handleGooglePy(f,s,n,p,t.orderToken),_.EventDispatcher.getInstance().dispatch(y.Notify.Shop.LOG_PURCHASE_EVENT,{signature:t.signature,purchaseData:t.originalJson,productId:s});else if(t.resultCode){var e="",l=o[t.resultCode];switch(t.resultMsg){case"Billing setup error":e=c.ComUtils.getLang(i.LangKey.py_billing_setup_error);break;case"Get goods list fail":e=c.ComUtils.getLang(i.LangKey.py_get_goods_list_fail);break;case"user cancelled":e=c.ComUtils.getLang(i.LangKey.py_user_cancelled);break;case"other error":e=c.ComUtils.getLang(i.LangKey.py_other_error);break;case"comsume failed":e=c.ComUtils.getLang(i.LangKey.py_comsume_failed)}e.length>0&&d.ComUI.showToast(e),r.BuryPointUtils.send(h.BuryPoint.Operation.SDK.GooglePayFail,JSON.stringify({msg:t.resultMsg,code:l||t.resultCode})),console.log("GooglePySdk.doPy: Fail resultMsg="+t.resultMsg+" error="+l)}})},t.handleGooglePy=function(t,e,n,o,i){var r={};r.orderid=o,r.packageName=f.NativeApi.getPackageName(),r.productId=e,r.token=i||"",console.log("PyManager: googlePy() callback data="+JSON.stringify(r)),m.default.saveOrderIdToLocal(o,e),m.default.saveOrderIdToLocal(o,e),d.ComUI.addLoading({time:3}),s.HttpManager.Post({url:t,method:"post",body:r}).then(function(){d.ComUI.rmLoading()}).catch(function(){})},t.javaClassPath="com/husky/libbilling/",t.PY="google_py",t.Query="google_query",t.mPyCallback=null,t.mQueryCallback=null,t}();n.default=b,cc._RF.pop()},{"../../lib/base/Callback":"Callback","../../lib/event/EventDispatcher":"EventDispatcher","../../lib/network/HttpManager":"HttpManager","../../lib/utils/ComUtils":"ComUtils","../const/Global":"Global","../event/Notify":"Notify","../model/DataProxy":"DataProxy","../model/LocalDataProxy":"LocalDataProxy","../module/buryPoint/BuryPoint":"BuryPoint","../view/ComUI":"ComUI","./../language/LanguageCfg":"LanguageCfg","./../module/buryPoint/BuryPointUtils":"BuryPointUtils","./CallBackManager":"CallBackManager","./NativeApi":"NativeApi","./PyManager":"PyManager"}],GuiEvent:[function(t,e,n){"use strict";cc._RF.push(e,"a5dceSj6kxKk5kw5KRpJOxk","GuiEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.GuiEvent=void 0,function(t){(function(t){t.COM_DLG="gpm_comdlg",t.RM_SUB_VIEW="gpm_rmsubview",t.AUTO_POP_VIEW="gpm_autopopview",t.CLOSE_ALL="gpm_closeall",t.START_ACCEPT_POP="gpm_startAutoPop",t.PAUSE_AUTO_POP="gpm_pauseAutoPop",t.DISPLAY_INFO_DIALOG="gpm_displayinfodialog",t.DISPLAY_SETTING_LAYER="gpm_displaysettinglayer",t.DISPLAY_SHOP_LAYER="gpm_displayshoplayer",t.DISPLAY_SHOP_SPECIAL_SALE="gpm_displayshopspecialsale",t.DISPLAY_SHOP_BOX_LAYER="gpm_displayshopboxlayer",t.DISPLAY_SHOP_BOX_DETAIL="gpm_displayshopboxtail",t.DISPLAY_MISSION_LAYER="gpm_displaymissionlayer",t.DISPLAY_FRIENDS_LAYER="gpm_displayfriendslayer",t.DISPLAY_MORE_LAYER="gpm_displaymorelayer",t.DISPLAY_LOBBY_SELECT_GAME="gpm_displaylobbyselectgame",t.DISPLAY_MODIFY_HEAD="gpm_displaymodifyhead",t.DISPLAY_TEST_GOLD="gpm_displaytestgold",t.DISPLAY_GOLD_HELP="gpm_displaygoldhelp",t.DISPLAY_BANKRUPT_GIFT="gpm_displayBankRuptGift",t.DISPLAY_RICH_LAYER="gpm_displayrichlayer",t.DISPLAY_NOT_ENOUGH_LAYER="gpm_displaynotenoughlayer",t.DISPLAY_POWER_NOT_ENOUGH="gpm_displaypowernotenough",t.DISPLAY_TASK_LIST_LAYER="gpm_displaytasklistlayer",t.DISPLAY_POLICY_LAYER="gpm_displaypolicylayer",t.DISPLAY_BIND_ACCOUNT="gpm_displaybindaccount",t.DISPLAY_BIND_CONFIRM="gpm_displaybindconfirm",t.DISPLAY_FIVE_STAR_LAYER="gpm_displayfivestarlayer",t.DISPLAY_FIVE_STAR_EDITOR="gpm_displayfivestareditor",t.DISPLAY_TABLES="gpm_displaytables",t.DISPLAY_DESK_BUILD_LAYER="gpm_displaydeskbuildlayer",t.DISPLAY_FIX_DIALOG="gpm_displayfixdialog",t.BRANKRUPT_DLG="gpm_brankruptdlg",t.DISPLAY_TABLE_PROGRESS="gpm_displaytableprocess",t.DISPLAY_COMPLT_TABLE="gpm_displaycomplttable",t.DISPLAY_TABLE_GUIDE="gpm_displaytableguide",t.SHOW_TABLE_BOX_LAYER="gpm_showtableboxlayer",t.SHOW_TABLE_BOX_INFO="gpm_showtableboxreinfo",t.SHOW_TABLE_BOX_REWARD="gpm_showtableboxreward",t.DISPLAY_GET_MORE_CHIPS_DLG="gpm_displaygetmorechips",t.DISPLAY_MYSTERY_GIFT_DLG="gpm_displaymysterygiftdlg",t.DISPLAY_VIDEO_LOTTERY="gpm_displayvideolottery",t.DISPLAY_LOTTERY_ODDS_LAYER="gpm_display_lottery_odds_layer",t.DISPLAY_BONUS="gpm_displaybonus",t.DISPLAY_MISSION_BONUS_DLG="gpm_displaymissionbonus",t.INVITE_USER="gpm_inviteuser",t.INVITE_SUCCESS="gpm_invitesuccess",t.DISPLAY_MISSION_BONUS="gpm_displaymissionbonus",t.DISPLAY_BANKRUPT_BONUS="gpm_displaybankruptbonus",t.DISPLAY_OUTTOKENS_BONUS="gpm_displayouttokenstbonus",t.DISPLAY_RULE_TIPS="gpm_displayruletips",t.DISPLAY_GOLDEN_PASS_SHOP="gpm_displaygoldenpassshop",t.DISPLAY_GOLDEN_PASS_MIAN_VIEW="gpm_displaygoldenpassMainView",t.DISPLAY_GOLDEN_PASS_DAILY_REWARD="gpm_displayGoldenPassDailyReward",t.DISPLAY_GOLDEN_PASS_REWARD_PREVIEW="gpm_displayGoldenPassRewardPreview",t.DISPLAY_GOLDEN_PASS_BUY_SUCC="gpm_displayGoldenPassBuySucc",t.DISPLAY_GOLDEN_PASS_SIMPLE_BUY="gpm_displayGoldenPassSimpleBuy",t.DISPLAY_HIT_BONUS="gpm_displayhitbonus",t.DISPLAY_LEVEL_UP_LAYER="gpm_displayLeveUp",t.DISPLAY_LEVEL_UNLOCK_LAYER="gpm_displayLeveUnlock",t.DISPLAY_CARD_SKIN_GUIDE_LAYER="gpm_displayCardSkinGuideLayer",t.DISPLAY_CARD_SKIN_CHANGE_LAYER="gpm_displayCardSkinChangeLayer",t.DISPLAY_REVENEGE_LAYER="gpm_displayRevenegeLayer",t.RANK_PROMOTION="gpm_rank_promotion",t.RANK_REWARD="gpm_rank_reward",t.HIT_LUCKY="gpm_hit_lucky",t.DSIPLAY_BOOST_GIFT="gpm_dsiplay_boost_gift"})(t.PopMsg||(t.PopMsg={})),function(t){t.COM_DROP_TOUCH_BEGAN="gui_droptouchbegan",t.COM_DROP_TOUCH_ENDED="gui_droptouchended",t.COM_DROP_TOUCH_BEGAN_MISS="gui_droptouchbeganmiss",t.COM_DROP_CLICK_INDEX="gui_dropclickindex",t.DISPLAY_MENU_SPECIAL_SALE="gui_displaymenuspecialsale",t.DISPLAY_BIND_ACCOUNT_MENU="gui_displaybind_account_menu",t.OPEN_LOBBY_TABLES="lobby_click_tables",t.SHOW_FINGER="gui_showfinger",t.HIDE_FINGER="gui_hidefinger",t.CLICK_GET_BANKRUPT="gui_getbankrupt",t.REQ_POP_EXTDATA="gui_reqpopextdata",t.RSP_POP_EXTDATA="gui_rsppopextdata",t.SHOW_BANKRUPT_GIFT="gui_show_bankrupt_gift"}(t.UI||(t.UI={})),function(t){t.COM_AWARD_ANIM="gan_awardanim",t.AWARD_GET_ICON_POS="gan_getawardpos",t.AWARD_PUT_ICON_POS="gan_putawardpos",t.COM_PLAY_AWARD_ANIM_FINISH="gan_playawardanimfinish",t.COM_POWER_ANIM="gan_poweranim",t.POWER_GET_ICON_POS="gan_getpowerpos",t.POWER_PUT_ICON_POS="gan_putpowerpos",t.ANIM_DESK_BUILD_GOLD="gan_animdeskbuildgold",t.DESK_BUILD_GET_ICON_POS="gan_getdeskbuildpos",t.DESK_BUILD_PUT_ICON_POS="gan_putdeskbuildpos",t.GET_PACK_UP_TABLE_POS="gan_getpackuptablepos",t.PUT_PACK_UP_TABLE_POS="gan_putpackuptablepos"}(t.Anim||(t.Anim={}))}(n.GuiEvent||(n.GuiEvent={})),cc._RF.pop()},{}],HandlerMgr:[function(t,e,n){"use strict";cc._RF.push(e,"118a6C6qudNxLUCzA2ZckH3","HandlerMgr"),Object.defineProperty(n,"__esModule",{value:!0}),n.HandlerMgr=void 0;var o=t("../../../lib/event/EventDispatcher"),i=t("../../../lib/utils/Logger"),r=t("./ProxyHandler"),a=t("../../event/Notify"),s=t("../../model/http/HttpEvents"),c=t("../../module/gate/GateHandler"),l=t("../../module/login/handler/LoginHandler"),u=t("../../module/match/GameMatchHandler"),d=t("../../module/other/ActivityHandler"),p=t("../../module/other/OtherHandler"),h=t("../../module/query/QueryHandler"),f=t("../../module/shop/ShopHandler"),g=t("../../module/task/TaskHandler"),_=t("../../module/userInfo/CurrencyChangeHandler"),y=t("../../module/userInfo/UserInfoHandler"),m=t("../../module/ffd/FFDHandler"),b=t("../../module/rank/RankHandler"),v=function(){function t(){this.gateHandler=null,this.loginHandler=null,this._bEnable=!0,this.mapSubHandler=new Map,this.enabled=!0,this.loginHandler=new l.LoginHandler,this.httpEvent=new s.HttpEvents,o.EventDispatcher.getInstance().add(a.Notify.Gate.ADD_HANDLER,this.addSubHandler,this),o.EventDispatcher.getInstance().add(a.Notify.Gate.RM_HANDLER,this.rmSubHandler,this),this.registerHandlers()}return t.getInstance=function(){return t.$instance||(t.$instance=new t),t.$instance},t.desInstance=function(){t.$instance&&(o.EventDispatcher.getInstance().remove(t.$instance),t.$instance.gateHandler&&(t.$instance.gateHandler.release(),t.$instance.gateHandler=null),t.$instance.loginHandler&&(t.$instance.loginHandler.release(),t.$instance.loginHandler=null),t.$instance.httpEvent&&(t.$instance.httpEvent.onDestroy(),t.$instance.httpEvent=null),t.$instance.mapSubHandler.forEach(function(t){t.setParent(null),t.release()}),t.$instance.mapSubHandler.clear(),t.$instance.mapSubHandler=null,t.$instance=null)},Object.defineProperty(t.prototype,"enabled",{get:function(){return this._bEnable},set:function(t){var e=this;this._bEnable=t,!1===t?this.gateHandler&&(this.gateHandler.release(),this.gateHandler=null,this.mapSubHandler.forEach(function(t){t.setParent(null)})):null===this.gateHandler&&(this.gateHandler=new c.GateHandler,this.mapSubHandler.forEach(function(t){t.setParent(e.gateHandler)}))},enumerable:!1,configurable:!0}),t.prototype.registerHandlers=function(){this.addSubHandler(new y.UserInfoHandler),this.addSubHandler(new p.OtherHandler),this.addSubHandler(new u.GameMatchHandler),this.addSubHandler(new f.ShopHandler),this.addSubHandler(new g.TaskHandler),this.addSubHandler(new _.CurrencyChangeHandler),this.addSubHandler(new h.QueryHandler),this.addSubHandler(new d.ActivityHandler),this.addSubHandler(new m.FFDHandler),this.addSubHandler(new b.default)},t.prototype.addSubHandler=function(t){if(t instanceof r.ProxyHandler){0==t.getMainID()&&i.Logger.error("[SubHandlerMgr addSubHandler] mainid is 0, handle=",t);var e=""+t.getName();this.mapSubHandler.delete(e),this.mapSubHandler.set(e,t),this.gateHandler&&t.setParent(this.gateHandler)}},t.prototype.rmSubHandler=function(t){t instanceof r.ProxyHandler&&(cc.log("[SubHandlerMgr rmSubHandler]:"+t.getMainID()),this.mapSubHandler.delete(t.getName()),t.setParent(null),t.release())},t.prototype.dispatchMsg=function(t){var e=t.getID(),n=!1;return this.mapSubHandler.forEach(function(o){o.isHasRegMsgId(e)&&(o.handle(e,t),n=!0)}),n},t}();n.HandlerMgr=v,cc._RF.pop()},{"../../../lib/event/EventDispatcher":"EventDispatcher","../../../lib/utils/Logger":"Logger","../../event/Notify":"Notify","../../model/http/HttpEvents":"HttpEvents","../../module/ffd/FFDHandler":"FFDHandler","../../module/gate/GateHandler":"GateHandler","../../module/login/handler/LoginHandler":"LoginHandler","../../module/match/GameMatchHandler":"GameMatchHandler","../../module/other/ActivityHandler":"ActivityHandler","../../module/other/OtherHandler":"OtherHandler","../../module/query/QueryHandler":"QueryHandler","../../module/rank/RankHandler":"RankHandler","../../module/shop/ShopHandler":"ShopHandler","../../module/task/TaskHandler":"TaskHandler","../../module/userInfo/CurrencyChangeHandler":"CurrencyChangeHandler","../../module/userInfo/UserInfoHandler":"UserInfoHandler","./ProxyHandler":"ProxyHandler"}],HeartHandler:[function(t,e,n){"use strict";cc._RF.push(e,"245cdIx9gRBb5M5hWBBxmCm","HeartHandler"),Object.defineProperty(n,"__esModule",{value:!0}),n.HeartHandler=void 0;var o=function(){function t(t,e){this.timeout=t,this.toFunc=e,this.timerID=0,this.intervalID=0,this.intervalTime=0,this.intervalFunc=null}return t.prototype.start=function(){this.stop(),this.timerID=setTimeout(this.toFunc,this.timeout)},t.prototype.stop=function(){this.timerID>0&&(clearTimeout(this.timerID),this.timerID=0)},t.prototype.interval=function(t,e){t&&(this.intervalTime=t),e&&(this.intervalFunc=e),this.stopInterval(),this.intervalID=setInterval(this.intervalFunc,this.intervalTime)},t.prototype.stopInterval=function(){this.intervalID>0&&(clearInterval(this.intervalID),this.intervalID=0)},t.prototype.cancel=function(t){void 0===t&&(t=!1),this.stop(),this.stopInterval(),t&&(this.intervalFunc=null,this.intervalTime=null,this.toFunc=null,this.timeout=null)},t}();n.HeartHandler=o,cc._RF.pop()},{}],HitBonusDlg:[function(t,e,n){"use strict";cc._RF.push(e,"c88dfm+sGhD+6LLVXjci9Bu","HitBonusDlg");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.HitBonusDlg=void 0;var a=t("../../../lib/base/CxComponent"),s=t("../../../lib/base/PopupView"),c=t("../../../lib/utils/ComUtils"),l=t("../../event/Notify"),u=t("../../language/LanguageCfg"),d=t("../../model/AdDataProxy"),p=t("../../model/DataProxy"),h=t("../ComUI"),f=t("./BonusRewardItem"),g=cc._decorator,_=g.ccclass,y=g.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnWatchVideo=null,e.btnWatchVideoGray=null,e.svAward=null,e.ndAward=null,e.labDesc=null,e}return i(e,t),e.prototype.init=function(t){this.viewData=t,t&&t.awardList||this.dispatch(l.Notify.FFD.REQ_FFD_SCENEDATA,d.RVADSceneID.HIT_LUCKY)},e.prototype.listEvent=function(){return new Map([[l.Notify.FFD.RTN_FFD_SCENEDATA,this.updateViewData],[l.Notify.AD.CANCELED,this.onAdCanceled],[l.Notify.AD.REWARD,this.onAdReward]])},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),this.viewData=null},e.prototype.start=function(){this.btnWatchVideo&&this.btnWatchVideo.node.on("click",this.onWatchVideoClicked,this);var t=this.getComponent(s.PopupView);t&&(this.viewData&&this.viewData.isWin?t.setTitle(c.ComUtils.getLang(u.LangKey.title_hit_bonus)):t.setTitle(c.ComUtils.getLang(u.LangKey.title_lucky_bonus))),this.labDesc&&(this.labDesc.language=c.ComUtils.getLang(u.LangKey.watch_video_to)),this.setVerticalOffset(),this.updateView()},e.prototype.updateViewData=function(t){t&&t.adSceneId===d.RVADSceneID.HIT_LUCKY&&(this.viewData=this.viewData||{},this.viewData.bCanGG=t.bCanGG,this.viewData.awardList=t.awardList,this.viewData.placementID=t.placementID,this.viewData.adSceneId=t.adSceneId,this.updateView())},e.prototype.updateView=function(){if(this.svAward&&this.viewData&&this.viewData.awardList){for(var t=this.svAward.content.children,e=this.viewData.awardList.length,n=Math.max(e,t.length),o=0;o<n;o++){var i=t[o];i||(i=cc.instantiate(this.ndAward)),i.parent=this.svAward.content;var r=i.getComponent(f.BonusRewardItem);r&&this.viewData.awardList[o]&&r.init(this.viewData.awardList[o]),i.active=!(o>=e)}this.viewData&&this.viewData.placementID&&this.dispatch(l.Notify.AD.LOAD_VIDEO,{userId:p.DataProxy.getInstance().userData.userId,placementID:this.viewData.placementID,adSceneId:d.RVADSceneID.HIT_LUCKY})}},e.prototype.onWatchVideoClicked=function(){cc.sys.isBrowser?this.onAdReward(this.viewData.adSceneId):this.dispatch(l.Notify.AD.OPEN_VIDEO,this.viewData.adSceneId)},e.prototype.onAdReward=function(t){this.dispatch(l.Notify.FFD.REQ_REWARD,t),this.close()},e.prototype.onAdCanceled=function(){h.ComUI.showToast(c.ComUtils.getLang(u.LangKey.close_video_ad_tips))},r([y({type:cc.Button,tooltip:"\u89c2\u770b\u6309\u94ae\u9886\u53d6"})],e.prototype,"btnWatchVideo",void 0),r([y({type:cc.Button,tooltip:"\u7070\u8272\u89c2\u770b\u6309\u94ae"})],e.prototype,"btnWatchVideoGray",void 0),r([y({type:cc.ScrollView,tooltip:"\u5956\u52b1\u5217\u8868"})],e.prototype,"svAward",void 0),r([y({type:cc.Node,tooltip:"\u5956\u52b1"})],e.prototype,"ndAward",void 0),r([y({type:cc.Label,tooltip:"\u63cf\u8ff0"})],e.prototype,"labDesc",void 0),r([_],e)}(a.CxComponent);n.HitBonusDlg=m,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../../lib/base/PopupView":"PopupView","../../../lib/utils/ComUtils":"ComUtils","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../../model/AdDataProxy":"AdDataProxy","../../model/DataProxy":"DataProxy","../ComUI":"ComUI","./BonusRewardItem":"BonusRewardItem"}],HttpClient:[function(t,e,n){"use strict";cc._RF.push(e,"23745xfUU1OuaEwL2rRlAKp","HttpClient"),Object.defineProperty(n,"__esModule",{value:!0}),n.HttpClient=n.DEFAULT_REQUEST_OPTIONS=void 0;var o=t("../utils/StringBuffer"),i=t("../external/ByteArray"),r=t("../utils/ComUtils"),a=t("../utils/Logger");n.DEFAULT_REQUEST_OPTIONS={ignoreCache:!1,headers:[{header:"Accept",value:"application/json, text/javascript, text/plain"}],timeout:15e3,url:"",body:null,method:"get",exData:null,queryParams:null,responseType:"text"};var s=function(){function t(){}return t.prototype.queryParams=function(t){return void 0===t&&(t={}),null===t?null:Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")},t.prototype.withQuery=function(t,e){void 0===e&&(e={});var n=this.queryParams(e);return n?t+(-1===t.indexOf("?")?"?":"&")+n:t},t.prototype.parseXHRResult=function(t){var e=parseInt(t.getResponseHeader("Content-Length")||"1");return{ok:t.status>=200&&t.status<300&&e>0,status:t.status,statusText:t.statusText,headers:t.getAllResponseHeaders(),data:t.responseText,json:function(){return JSON.parse(t.responseText)},bytes:t.response}},t.prototype.errorResponse=function(t,e){return void 0===e&&(e=null),{ok:!1,status:t.status,statusText:t.statusText,headers:t.getAllResponseHeaders(),data:e||t.statusText,json:function(){return JSON.parse(e||t.statusText)}}},t.prototype.request=function(t){var e=this,o=t.ignoreCache||n.DEFAULT_REQUEST_OPTIONS.ignoreCache,i=t.headers||n.DEFAULT_REQUEST_OPTIONS.headers,r=t.timeout||n.DEFAULT_REQUEST_OPTIONS.timeout,s=t.url,c=t.method,l=t.queryParams||n.DEFAULT_REQUEST_OPTIONS.queryParams,u=t.body||n.DEFAULT_REQUEST_OPTIONS.body,d=t.responseType||n.DEFAULT_REQUEST_OPTIONS.responseType;return a.Logger.info("Http url = "+s),new Promise(function(t){var n=new XMLHttpRequest;if(n.responseType=d,n.open(c,e.withQuery(s,l)),i)for(var a=0,p=i;a<p.length;a++){var h=p[a];n.setRequestHeader(h.header,h.value)}o&&n.setRequestHeader("Cache-Control","no-cache"),n.timeout=r,n.onload=function(){t(e.parseXHRResult(n))},n.onerror=function(){t(e.errorResponse(n,"Failed to make request."))},n.ontimeout=function(){t(e.errorResponse(n,"Request took longer than expected.")),n.abort()},u?(n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(u))):n.send()})},t.prototype.uploadFile=function(t){var e=this,a=t.ignoreCache||n.DEFAULT_REQUEST_OPTIONS.ignoreCache,s=t.headers||r.ComUtils.clone(n.DEFAULT_REQUEST_OPTIONS.headers)||[],c=t.timeout||n.DEFAULT_REQUEST_OPTIONS.timeout,l=t.url,u=t.queryParams||n.DEFAULT_REQUEST_OPTIONS.queryParams,d=t.method,p=t.responseType||n.DEFAULT_REQUEST_OPTIONS.responseType,h=t.body,f=0;h instanceof ArrayBuffer?f=h.byteLength:h instanceof Uint8Array&&(f=h.length);var g=r.ComUtils.randomString(16),_=new o.StringBuffer;_.clear(),_.append("--").append(g).append("\r\n").append('Content-Disposition: form-data; name="lua_upload"; filename="'+t.exData+'"').append("\r\n").append("Content-Type: application/octet-stream").append("\r\n").append("Content-Length: "+f).append("\r\n\r\n");var y=_.toBytes(),m=new o.StringBuffer;m.clear(),m.append("\r\n"),m.append("--"+g+"--"),m.append("\r\n");var b=m.toBytes();s.push({header:"Content-Type",value:'multipart/form-data; boundary="'+g+'"'});var v=new i.ByteArray;return v.clear(),v.writeBytes(new i.ByteArray(y)),v.writeBytes(new i.ByteArray(h)),v.writeBytes(new i.ByteArray(b)),t.body=new Uint8Array(v.bytes).buffer,new Promise(function(n){var o=new XMLHttpRequest;o.responseType=p,o.open(d,e.withQuery(l,u)),s&&s.forEach(function(t){o.setRequestHeader(t.header,t.value)}),a&&o.setRequestHeader("Cache-Control","no-cache"),o.timeout=c,o.onload=function(){n(e.parseXHRResult(o))},o.onerror=function(){n(e.errorResponse(o,"Failed to make request."))},o.ontimeout=function(){n(e.errorResponse(o,"Request took longer than expected."))},o.send(t.body)})},t.CancelResult={ok:!1,status:600,statusText:"Request Canceled",data:"",headers:"",json:function(){return JSON.parse("{}")}},t}();n.HttpClient=s,cc._RF.pop()},{"../external/ByteArray":"ByteArray","../utils/ComUtils":"ComUtils","../utils/Logger":"Logger","../utils/StringBuffer":"StringBuffer"}],HttpEvents:[function(t,e,n){"use strict";cc._RF.push(e,"f1303sfgDlFZ481nTjCwTS4","HttpEvents"),Object.defineProperty(n,"__esModule",{value:!0}),n.HttpEvents=void 0;var o=t("../../../lib/event/EventDispatcher"),i=t("../../../lib/utils/ComUtils"),r=t("../../view/ComUI"),a=t("../../const/Global"),s=t("../../config/GameConfig"),c=t("../../../lib/network/HttpManager"),l=t("../../event/Notify"),u=t("../DataProxy"),d=function(){function t(){var t=this,e=this.listEvent();e&&e.size>0&&e.forEach(function(e,n){o.EventDispatcher.getInstance().add(n,e,t,0)})}return t.prototype.listEvent=function(){return new Map([[l.Notify.Http.HTTP_REQ_HISTORY_LIST,this.reqHistoryList],[l.Notify.Http.HTTP_REQ_HISTORY_DETAILS,this.reqHistoryDetails],[l.Notify.Http.HTTP_REQ_HISTORY_VIDEO,this.reqHistoryVideo],[l.Notify.Http.HTTP_REQ_STATS_INFO,this.reqStatsInfo]])},t.prototype.onDestroy=function(){o.EventDispatcher.getInstance().remove(this)},t.prototype.dispatch=function(t,e){o.EventDispatcher.getInstance().dispatch(t,e)},t.prototype.reqHistoryList=function(){var t=this;r.ComUI.addLoading({time:3}),c.HttpManager.Post({url:s.GameConfig.getInstance().getHistoryListUrl(),method:"post",body:{typeid:1,userid:u.DataProxy.getInstance().userData.userId}}).then(function(e){r.ComUI.rmLoading(),t.dispatch(l.Notify.Http.HTTP_RSP_HISTORY_LIST,e)}).catch(function(){})},t.prototype.reqHistoryDetails=function(t){var e=this;r.ComUI.addLoading({time:3}),c.HttpManager.Post({url:s.GameConfig.getInstance().getHistoryListUrl(),method:"post",body:{typeid:3,roomdate:t.roomDate,roomuuid:t.roomUuid}}).then(function(t){r.ComUI.rmLoading(),e.dispatch(l.Notify.Http.HTTP_RSP_HISTORY_DETAILS,t)}).catch(function(){})},t.prototype.reqHistoryVideo=function(t){var e=this;c.HttpManager.Post({url:s.GameConfig.getInstance().getHistoryListUrl(),method:"post",body:{typeid:4,roomdate:t.roomdate,deskuuid:t.deskuuid}}).then(function(t){r.ComUI.rmLoading(),e.rspHistoryVideo(t.bytes)}).catch(function(){})},t.prototype.rspHistoryVideo=function(t){if(!i.ComUtils.isTextEmpty(t)){var e=JSON.parse(t);console.log("roomdate: "+e.roomdate),console.log("deskuuid: "+e.deskuuid),u.DataProxy.getInstance().gameData.setGameReplayInfo("",e.VideoDate),this.dispatch(l.Notify.Query.ENTER_ROOM,{gameId:e.GameID,fromScene:a.gSceneType.Lobby,replay:!0,roomdate:e.roomdate,deskuuid:e.deskuuid})}},t.prototype.reqStatsInfo=function(t){c.HttpManager.Post({url:s.GameConfig.getInstance().getStatsUrl(),method:"post",body:t.body||null})},t.prototype.reqHistoryListLK=function(t){var e=this;r.ComUI.addLoading({time:3}),c.HttpManager.Post({url:s.GameConfig.getInstance().getHistoryListUrl(),method:"post",body:{typeid:5,seruserid:u.DataProxy.getInstance().userData.userId,dwtime:t.time,strendtime:String(t.stime)}}).then(function(t){r.ComUI.rmLoading(),e.dispatch(l.Notify.Http.HTTP_RSP_HISTORY_LIST,t)}).catch(function(){})},t}();n.HttpEvents=d,cc._RF.pop()},{"../../../lib/event/EventDispatcher":"EventDispatcher","../../../lib/network/HttpManager":"HttpManager","../../../lib/utils/ComUtils":"ComUtils","../../config/GameConfig":"GameConfig","../../const/Global":"Global","../../event/Notify":"Notify","../../view/ComUI":"ComUI","../DataProxy":"DataProxy"}],HttpManager:[function(t,e,n){"use strict";cc._RF.push(e,"a5ca12L7odMcrOHW30/QJil","HttpManager");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{c(o.next(t))}catch(e){r(e)}}function s(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.HttpManager=n.HttpRequest=void 0;var r=t("./HttpClient"),a=function(){function t(t){var e=this;this.p=t,this.c=new Promise(function(t){e.cancelFunc=t}),this.r=Promise.race([this.p,this.c])}return t.prototype.cancel=function(){this.cancelFunc&&this.cancelFunc(r.HttpClient.CancelResult)},t.prototype.then=function(t,e){return o(this,void 0,Promise,function(){return i(this,function(){return[2,this.r.then(t,e)]})})},t.prototype.catch=function(t){return o(this,void 0,Promise,function(){return i(this,function(){return[2,this.r.catch(t)]})})},t}();n.HttpRequest=a;var s=function(){function t(){}return t.Get=function(t){var e=(new r.HttpClient).request({method:"get",url:t});return new a(e)},t.Post=function(t){t.method=t.method||"post";var e=(new r.HttpClient).request(t);return new a(e)},t.Upload=function(t){t.method=t.method||"post";var e=(new r.HttpClient).uploadFile(t);return new a(e)},t.Download=function(t){t.method=t.method||"get",t.responseType="arraybuffer";var e=(new r.HttpClient).request(t);return new a(e)},t.Head=function(t){var e=(new r.HttpClient).request({method:"head",url:t});return new a(e)},t}();n.HttpManager=s,cc._RF.pop()},{"./HttpClient":"HttpClient"}],IConfig:[function(t,e,n){"use strict";cc._RF.push(e,"c916cXPTxNJaa5NpMTUuRcx","IConfig"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],InviteDataProxy:[function(t,e,n){"use strict";cc._RF.push(e,"d48eaKOrSZE7LkZx+XJ6r1z","InviteDataProxy"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this.mInviteCfg=null,this.mInvitedData=null}return t.prototype.clear=function(){this.mInviteCfg=null,this.mInvitedData=null},t.prototype.setInvitInfo=function(t){this.mInviteCfg=t},t.prototype.getInvitInfo=function(){return this.mInviteCfg},t.prototype.getInvitedData=function(){return this.mInvitedData},t.prototype.parseInvitedData=function(t){if(this.mInvitedData)for(var e=0,n=t.tabInviteRewardInfoList;e<n.length;e++){for(var o=n[e],i=!1,r=0,a=this.mInvitedData.tabInviteRewardInfoList;r<a.length;r++){var s=a[r];if(o.dwInvitedID===s.dwInvitedID){i=!0;break}}i||this.mInvitedData.tabInviteRewardInfoList.push(o)}else this.mInvitedData=t},t.prototype.rmGetRewardItem=function(t){if(this.mInvitedData)for(var e=0;e<this.mInvitedData.tabInviteRewardInfoList.length;e++)if(this.mInvitedData.tabInviteRewardInfoList[e].dwInvitedID===t){this.mInvitedData.tabInviteRewardInfoList.splice(e,1);break}},t}();n.default=o,cc._RF.pop()},{}],InviteSuccess:[function(t,e,n){"use strict";cc._RF.push(e,"37aefbs+cNHYpvPCKveOLMk","InviteSuccess");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.InviteSuccess=void 0;var a=t("../../../lib/base/ComPopup"),s=t("../../../lib/base/CxComponent"),c=t("../../../lib/base/PopupView"),l=t("../../../lib/utils/ComUtils"),u=t("../../event/Notify"),d=t("../../language/LanguageCfg"),p=t("../../model/DataProxy"),h=cc._decorator,f=h.ccclass,g=h.property,_=h.requireComponent,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pInvitedHeadNod=null,e.pInvitedNameLabel=null,e.pMainLabel=null,e.pGoldLabel=null,e.pInviteBtn=null,e.pOtherLabel=null,e.pCollectLabel=null,e._rewardList=null,e._invitedFriendInfo=null,e}return i(e,t),e.prototype.start=function(){this.pInviteBtn.node.on("click",this.onClickBtn,this),this.initData(),this.initView()},e.prototype.initData=function(){var t=p.DataProxy.getInstance().inviteData.getInvitedData();t&&(this._inviteInfo=t,this._rewardList=t.tabRewardList||[],this._invitedFriendInfo=t.tabInviteRewardInfoList.pop())},e.prototype.initView=function(){this.initTitle(),this.initInviteInfo()},e.prototype.initTitle=function(){c.PopupView.setTitle(this.node,l.ComUtils.makeLang(d.LangKey.friend_join_tips)),this.pCollectLabel&&(this.pCollectLabel.string=l.ComUtils.getLang(d.LangKey.friend_join_collect)),this.pMainLabel&&(this.pMainLabel.string=l.ComUtils.getLang(d.LangKey.friend_join_main))},e.prototype.initInviteInfo=function(){if(this._invitedFriendInfo){cc.log(this._invitedFriendInfo.dwInvitedID),this.dispatch(u.Notify.Head.CREATE_HEAD,{parent:this.pInvitedHeadNod,userId:this._invitedFriendInfo.dwInvitedID,size:this.pInvitedHeadNod.getContentSize(),sex:this._invitedFriendInfo.iGender,save:!1}),this.pInvitedNameLabel&&(this.pInvitedNameLabel.string=l.ComUtils.u8ToUTF8Str(this._invitedFriendInfo.szInvitedNickName));for(var t=0,e=this._rewardList;t<e.length;t++){var n=e[t];3==n.dwType?this.pGoldLabel&&(this.pGoldLabel.string=l.ComUtils.formatGoldStr(n.dwNum)):this.pOtherLabel&&(this.pOtherLabel.string=l.ComUtils.formatGoldStr(n.dwNum))}}},e.prototype.onClickBtn=function(){if(this._invitedFriendInfo){var t=this._invitedFriendInfo.dwInvitedID;this.dispatch(u.Notify.Other.GET_INVITE_GIFT,t),0==this._inviteInfo.tabInviteRewardInfoList.length?this.node.destroy():(this.initData(),this.initView())}},r([g(cc.Node)],e.prototype,"pInvitedHeadNod",void 0),r([g(cc.Label)],e.prototype,"pInvitedNameLabel",void 0),r([g(cc.Label)],e.prototype,"pMainLabel",void 0),r([g(cc.Label)],e.prototype,"pGoldLabel",void 0),r([g(cc.Button)],e.prototype,"pInviteBtn",void 0),r([g(cc.Label)],e.prototype,"pOtherLabel",void 0),r([g(cc.Label)],e.prototype,"pCollectLabel",void 0),r([f,_(a.ComPopup)],e)}(s.CxComponent);n.InviteSuccess=y,cc._RF.pop()},{"../../../lib/base/ComPopup":"ComPopup","../../../lib/base/CxComponent":"CxComponent","../../../lib/base/PopupView":"PopupView","../../../lib/utils/ComUtils":"ComUtils","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../../model/DataProxy":"DataProxy"}],InviteUser:[function(t,e,n){"use strict";cc._RF.push(e,"ccbfbRF3UFGMZNEbScLYjWT","InviteUser");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.InviteUser=void 0;var a=t("../../../lib/base/ComPopup"),s=t("../../../lib/base/CxComponent"),c=t("../../../lib/base/PopupView"),l=t("../../../lib/utils/ComUtils"),u=t("../../const/Global"),d=t("../../event/Notify"),p=t("../../language/LanguageCfg"),h=t("../ComUI"),f=cc._decorator,g=f.ccclass,_=f.property,y=f.requireComponent,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pMainLabel=null,e.pInviteLabel=null,e.pGoldLabel=null,e.pInviteBtn=null,e.pOtherLabel=null,e.inviteCfg=null,e.goldCfg=null,e.otherCfg=null,e}return i(e,t),e.prototype.listEvent=function(){return new Map([[d.Notify.Invite.UPDATE_INVITED_CFG,this.updateViewData]])},e.prototype.init=function(t){t?this.inviteCfg=t:this.dispatch(d.Notify.Other.GET_INVITE_CFG)},e.prototype.updateViewData=function(t){t&&(this.inviteCfg=t,this.initData(),this.initView())},e.prototype.start=function(){this.pInviteBtn.node.on("click",this.onClickBtn,this),this.initData(),this.initView()},e.prototype.initData=function(){if(this.inviteCfg)for(var t=0,e=this.inviteCfg.tabRewardList;t<e.length;t++){var n=e[t];n.dwType==u.gShopHBType.GOLD?this.goldCfg=n:this.otherCfg=n}},e.prototype.initView=function(){this.initTitle(),this.initInviteInfo()},e.prototype.initTitle=function(){c.PopupView.setTitle(this.node,l.ComUtils.makeLang(p.LangKey.invite_user_tips)),this.pMainLabel&&(this.pMainLabel.string=l.ComUtils.getLang(p.LangKey.invite_user_main)),this.pInviteLabel&&(this.pInviteLabel.string=l.ComUtils.getLang(p.LangKey.invite_user_invite))},e.prototype.initInviteInfo=function(){this.goldCfg&&this.pGoldLabel&&(this.pGoldLabel.string=l.ComUtils.formatGoldStr(this.goldCfg.dwNum)),this.otherCfg&&this.pOtherLabel&&(this.pOtherLabel.string=l.ComUtils.formatGoldStr(this.otherCfg.dwNum))},e.prototype.onClickBtn=function(){h.ComUI.addLoading({time:1}),this.dispatch(d.Notify.Invite.LOBBY_INVITE)},r([_(cc.Label)],e.prototype,"pMainLabel",void 0),r([_(cc.Label)],e.prototype,"pInviteLabel",void 0),r([_(cc.Label)],e.prototype,"pGoldLabel",void 0),r([_(cc.Button)],e.prototype,"pInviteBtn",void 0),r([_(cc.Label)],e.prototype,"pOtherLabel",void 0),r([g,y(a.ComPopup)],e)}(s.CxComponent);n.InviteUser=m,cc._RF.pop()},{"../../../lib/base/ComPopup":"ComPopup","../../../lib/base/CxComponent":"CxComponent","../../../lib/base/PopupView":"PopupView","../../../lib/utils/ComUtils":"ComUtils","../../const/Global":"Global","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../ComUI":"ComUI"}],JSONSocket:[function(t,e,n){"use strict";cc._RF.push(e,"ba84fZw7hBIo4gKeEaaV+q0","JSONSocket");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.JSONSocket=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onReceive=function(e){var n=JSON.parse(e);n&&n.type&&t.prototype.onReceive.call(this,n)},e.prototype.send=function(e){var n=JSON.stringify(e);n&&t.prototype.send.call(this,n)},e}(t("../CxSocket").CxSocket);n.JSONSocket=r,cc._RF.pop()},{"../CxSocket":"CxSocket"}],LabaHandler:[function(t,e,n){"use strict";cc._RF.push(e,"f99f8PxootDxaypr8PRySY8","LabaHandler");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.LabaHandler=void 0;var r=t("../../base/handler/ProxyHandler"),a=t("../../../plugin/pb/protofile/CMD_LabaMsg"),s=t("../../event/Notify"),c=t("../../../lib/utils/ComUtils"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getName=function(){return"LabaHandler"},e.prototype.protocolConfig=function(){return[{protocol:a.Msg_SC_LabaInfo,subid:a.LABA_SERVER_SUB_MSG.MSG_SC_LABA_INFO,cb:this.onSpeakInfoMsg}]},e.prototype.getMainID=function(){return 0},e.prototype.onSpeakInfoMsg=function(t){var e=t.data,n=c.ComUtils.u8ToUTF8Str(e.chText),o=JSON.parse(n);0==c.ComUtils.isTextEmpty(o.info)&&this.dispatch(s.Notify.Laba.ADD_SPEAK_INFO,{scene:e.dwScene,text:o.info})},e}(r.ProxyHandler);n.LabaHandler=l,cc._RF.pop()},{"../../../lib/utils/ComUtils":"ComUtils","../../../plugin/pb/protofile/CMD_LabaMsg":"CMD_LabaMsg","../../base/handler/ProxyHandler":"ProxyHandler","../../event/Notify":"Notify"}],LabaMsg:[function(t,e,n){"use strict";cc._RF.push(e,"ad903d/2ghB3Lhg5OPJNp72","LabaMsg");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.LabaMsg=void 0;var r=t("../../../lib/network/struct/StructProtocol"),a=t("../../../plugin/pb/protofile/CMD_LabaMsg");(function(t){t.mainId=0;var e=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=a.Msg_SC_LabaInfo.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+a.LABA_SERVER_SUB_MSG.MSG_SC_LABA_INFO,n}(r.StructProtocol);t.Msg_SC_LabaInfo=e})(n.LabaMsg||(n.LabaMsg={})),cc._RF.pop()},{"../../../lib/network/struct/StructProtocol":"StructProtocol","../../../plugin/pb/protofile/CMD_LabaMsg":"CMD_LabaMsg"}],LangDrawItem:[function(t,e,n){"use strict";cc._RF.push(e,"aeeeclilctMTp5Q8zqRGonM","LangDrawItem");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../lib/base/CxComponent"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pSpriteAtlas=null,e.spBg=null,e.pLabel=null,e.mItemInfo="",e.mIndex=0,e.mCurIndex=0,e.mTotal=0,e.mCallback=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.initData=function(t){t&&(this.mCallback=t.callback,this.mItemInfo=t.info||"",this.mIndex=t.index,this.mCurIndex=t.curIndex,this.mTotal=t.total,this.initView())},e.prototype.initView=function(){this.pLabel&&(this.pLabel.string=this.mItemInfo);var t="",e=!1;if(0==this.mIndex||this.mIndex==this.mTotal-1?(t=this.mIndex==this.mCurIndex?"com_setting_list_top_1":"com_setting_list_top_2",this.mIndex==this.mTotal-1&&(e=!0)):t=this.mIndex==this.mCurIndex?"com_setting_list_item_1":"com_setting_list_item_2",this.pSpriteAtlas){var n=this.pSpriteAtlas.getSpriteFrame(t);n&&(this.spBg.spriteFrame=n),e&&(this.spBg.node.scaleY=-1)}},e.prototype.onClick=function(){this.mCallback&&this.mCallback(this.mIndex)},r([l(cc.SpriteAtlas)],e.prototype,"pSpriteAtlas",void 0),r([l(cc.Sprite)],e.prototype,"spBg",void 0),r([l(cc.Label)],e.prototype,"pLabel",void 0),r([c],e)}(a.CxComponent);n.default=u,cc._RF.pop()},{"../../lib/base/CxComponent":"CxComponent"}],LangDrawList:[function(t,e,n){"use strict";cc._RF.push(e,"90034Nc4cVFDqQpA0OhjnIL","LangDrawList");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../lib/base/CxComponent"),s=t("../../lib/base/Language"),c=t("../../lib/utils/Display"),l=t("../const/Global"),u=t("../module/buryPoint/BuryPoint"),d=t("../module/buryPoint/BuryPointUtils"),p=t("./LangDrawItem"),h=cc._decorator,f=h.ccclass,g=h.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pfListItem=null,e.spBg=null,e.pContainer=null,e.pScrollView=null,e.mLanguages=null,e.mLanSet=null,e.mIsStartIn=!1,e.mRect=null,e.mOutClose=!1,e.mPoint=null,e.bLateUpdate=!1,e.mPreHeight=0,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){this.mLanguages=l.gLanguagesInfo,this.mLanSet=l.gLanguagesSet,this.initTouch(),this.initList(),this.pContainer&&(this.mPreHeight=this.pContainer.height,this.bLateUpdate=!0)},e.prototype.update=function(){},e.prototype.initList=function(){for(var t=this,e=0;e<this.mLanguages.length;e++){var n=this.mLanguages[e],o=cc.instantiate(this.pfListItem);if(o&&this.pContainer){var i=o.getComponent(p.default);i&&(i.initData({parent:this,info:n,index:e,curIndex:0,total:this.mLanguages.length,callback:function(e){t.onItemClick(e)}}),this.pContainer.addChild(o))}}},e.prototype.onItemClick=function(t){if(null!=t&&t<this.mLanSet.length){var e=this.mLanSet[t];e&&(s.Language.getInstance().change(e),d.BuryPointUtils.send(u.BuryPoint.Debug.Lobby.ClickSetLanguge,e))}this.closeLayer()},e.prototype.onTouchStart=function(t){if(void 0!==this.spBg){var e=this.spBg.convertToWorldSpaceAR(new cc.Vec2(0,0));this.mRect=cc.rect(e.x,e.y-this.spBg.height,this.spBg.width,this.spBg.height),this.mRect.contains(t.getLocation())?this.mIsStartIn=!0:this.mIsStartIn=!1}},e.prototype.onTouchEnd=function(t){void 0!==this.spBg&&!1===this.mIsStartIn&&this.mRect&&!this.mRect.contains(t.getLocation())&&this.closeLayer()},e.prototype.initTouch=function(){this.node.width=c.Display.width,this.node.height=c.Display.height,this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},e.prototype.closeLayer=function(){this.node.destroy()},e.prototype.setPosition=function(t,e){this.mPoint=new cc.Vec2(t,e)},e.prototype.initPosition=function(){if(this.pContainer){var t=this.mPoint.x+this.pContainer.width/2,e=this.mPoint.y-this.pContainer.height/2;this.node.x=t,this.node.y=e}},r([g(cc.Prefab)],e.prototype,"pfListItem",void 0),r([g(cc.Node)],e.prototype,"spBg",void 0),r([g(cc.Node)],e.prototype,"pContainer",void 0),r([g(cc.ScrollView)],e.prototype,"pScrollView",void 0),r([f],e)}(a.CxComponent);n.default=_,cc._RF.pop()},{"../../lib/base/CxComponent":"CxComponent","../../lib/base/Language":"Language","../../lib/utils/Display":"Display","../const/Global":"Global","../module/buryPoint/BuryPoint":"BuryPoint","../module/buryPoint/BuryPointUtils":"BuryPointUtils","./LangDrawItem":"LangDrawItem"}],LangGolbalEN:[function(t,e,n){"use strict";cc._RF.push(e,"2ef300hWoBKnpJ+5AVaIVaX","LangGolbalEN"),Object.defineProperty(n,"__esModule",{value:!0}),n.LangGolbalEN=void 0;n.LangGolbalEN=function(){this.language=cc.sys.LANGUAGE_ENGLISH,this.text_ok="OK",this.text_cancel="CANCEL",this.text_confirm="CONFIRM",this.text_coming_soon="Coming Soon!",this.text_play_now="PLAY NOW",this.text_not_enough_coins="Not Enough Coins",this.text_too_much_coins="Too Much Coins",this.text_lower_game="Lower Game",this.text_higher_game="Higher Game",this.text_login="LOGIN",this.text_get_coins="Get Coins",this.text_collect="CLAIM",this.text_collect_all="CLAIM ALL",this.text_prompt="TIPS",this.text_quit="QUIT",this.text_go_back="Go Back",this.text_return_lobby="BACK",this.text_guest="GUEST",this.text_connecting="CONNECTING\u2026",this.text_no_network_tip="Connection lost. Please check your internet and try again.",this.text_not_connect_tip="Connection lost. Please check your internet and try again.",this.text_out_connection="Connection Lost.",this.text_login_fail_tip="Connection Lost, please try again",this.text_resource_load_fail="Connection Lost, please try again",this.text_login_fail="Connection Lost",this.text_wrong_password="Wrong password, please enter the right password",this.text_not_connect_server="Connection lost. ",this.text_update_failed="Failed to update",this.text_udpate_completed="Updated",this.text_udpating="Updating",this.text_succ_purchase_coins="Payment completed and got %s coins",this.text_succ_purchase_daily="Payment completed and got daily offer",this.text_succ_purchase="Payment completed",this.text_purchase_fail="Payment Failed, please try again",this.text_succ_get_coins="Claimed %s coins",this.text_fail_get_coins="Failed to claim coins",this.text_got_it="You Got it",this.text_succ_bind_fb="Connected to facebook and got %s coins.",this.text_fail_bind_fb="Failed to connect to Facebook account",this.text_succ_get_task="Claimed\uff01",this.text_fail_get_task="Failed to Claim.",this.text_no_task_reward="No Mission",this.text_succ_modify_head="Avatar Changed",this.text_fail_modify_head="Failed to change avatar",this.text_match_wait_partner="Waiting for opponent",this.text_match_game_fail="Match Failed",this.text_match_game_succ="Matched, you are gaming",this.text_ready_enter_game="Matched, going to the game.",this.text_server_preparing="Connection lost. Please check your internet and try again.",this.text_login_prohibited="Login Disabled",this.text_account_abnormal="Account Error",this.text_desk_full="Table\u2019s full. Please try again later",this.text_account_expired="Token is invalid, you need login again",this.text_not_enough_coins_play="Not Enough Coins,go to play in  %s",this.text_info_lost="Information lost",this.text_waiting="Waiting...",this.text_loading="Loading...",this.text_now_loading="Loading...",this.text_loaded_succ="loaded",this.text_loaded_fail="Failed to load",this.text_not_found_resouse="Sorry,can't find resources of game, please try to fix it",this.text_reenter_game="Re-enter the game",this.text_network_broken="Network lost, please open the network",this.text_go_suitable_game="Not Enough Coins, go to a lower state",this.text_logging_in="LOADING...",this.text_description="DESCRIPTION",this.text_scopa_wild_tips="Each time scopa, the score will be doubled",this.text_next="NEXT",this.text_finish_all="Finish All",this.text_profile="PROFILE",this.text_table="TABLE",this.text_goto_play="GO TO PLAY",this.text_too_many_coins="You have too many coins, please go to higher game",this.text_draw="DRAW",this.text_out_of_tokens="Out of tokens",this.text_get_premium="[en]GET PREMIUM",this.text_stay_here="Stay Here",this.text_loading_ads="Loading AD...",this.text_gold_over_limit="Your coins have been over the limit, Please go to higher game.",this.match_game_tips="Your {0} game haven't finished,Continute?",this.text_apple_login_tip="The phone system does not support Apple login",this.text_apple_auth_fail="Apple login authorization failed",this.setting_version="VERSION",this.setting_sound="SOUND",this.setting_music="MUSIC",this.setting_language="LANGUAGE",this.setting_policy="Privacy Policy",this.setting_userprofile="Term & Conditions",this.setting_log_out="LOG OUT",this.menu_shop="STORE",this.menu_missions="MISSIONS",this.menu_friend="FRIENDS",this.menu_more="MORE",this.user_total_wins="TOTAL WINS",this.user_scopa_wins="SCOPA WINS",this.user_scopone_wins="SCOPONE WINS",this.user_confirm_change="CONFIRM",this.fb_bind_account_tip="Connect to facebook for free coins",this.fb_bind_account_content="Do you want to login this facebook account and quit the guest account?",this.py_billing_setup_error="Please sign in Google Play account before buying",this.py_get_goods_list_fail="Load failed, Please check the network",this.py_user_cancelled="You have cancelled buying",this.py_other_error="Purchase failed,please try again",this.py_comsume_failed="Purchase success,please wait a moment",this.five_star_like_play="Do you like to play scopa?",this.five_star_rate="Please rate Scopa",this.five_star_editor_title="Please tell us the shortcomings in the game",this.five_star_not_now="NOT NOW",this.power_text_after="in",this.power_text_not_enough="Out of tokens?",this.power_text_wait_tip="Or wait {0} for {1} tokens",this.table_error_of_cfg="Construction Error",this.table_error_of_id="Construction Error",this.table_error_isfinished="Construction Completed",this.table_error_notenough="Not enough coins",this.table_build_award_tips="Congratulations",this.table_map_tilte="Unlock Table",this.table_unlock_tips="Unlock at level {0}",this.table_to_use_tips="Go to table list to use the table",this.text_start="START",this.text_build="BUILD",this.text_desk_build_tip="Build tables to increase double time and multiples",this.text_build_finish_tips="You have completed the {0} table, try now to do some experience the new table",this.text_unlock_all_tables_tips="You have already unlocked all the themes, please wait for a new theme to open",this.text_table_complete="Completed",this.text_table_useit="USE",this.text_table_using="USING",this.table_list_info="Play scopa to get the table chips",this.table_box_top_info="Trace your deplicate chips for exciting new chest",this.table_box_cards_tip="Have: {0} chips stars",this.table_box_time_tip="Skip time",this.table_complete="Completed",this.txt_i_see="I see",this.table_guide_content="Collect chips in the game and get rewards after collecting",this.table_text_you_won="YOU WON",this.table_get_table_chips="Get Table Chips",this.table_get_more_chips_1_1="No table chips on this level",this.table_get_more_chips_1_2="No more table chips on this level today",this.table_get_more_chips_2_1="go to higher game to get more chips",this.table_get_more_chips_2_2="go to higher game to get no limited chips",this.table_get_more_chips_special="No more table chips today",this.text_watch_video="Watch Video",this.video_lottery_tips="Watch AD video to get bonus",this.video_to_free="<color=#FFFFFF>Watch AD video\nto get free coins</c><color=#37E502> (</c><color=#F6FF00>{0}</c><color=#37E502>/{1})</c>",this.watch_video_to="Watch AD video to get",this.video_reward_odds="Video lottery odds",this.video_lottery_done="All of reward of today has been collected",this.video_lottery_draw="DRAW",this.bonus_multiple_tips="Watch video to get {0} times coins",this.bonus_get_more_tips="Watch video to get more bonus",this.close_video_ad_tips="please don\u2019t close the video",this.bankrupt_bonus_tips="Get Free Coins ",this.invite_user_tips="Invite Friends",this.invite_user_main="For each friend you will receive:",this.invite_user_invite="INVITE",this.friend_join_tips="Friend Joined",this.friend_join_main="You got",this.friend_join_collect="COLLECT",this.scopa_rule_a_name="Scopa Scards: ",this.scopa_rule_a="Aces are scopa cards, they can scopa any cards.",this.scopa_rule_double_up_name="Double Up: ",this.scopa_rule_double_up="everytime scopa,score will double up.",this.scopa_rule_big_win_name="Big Win: ",this.scopa_rule_big_win="Win Coins = Score x BET",this.scopa_rule_crazy_name="Scopa Attack: ",this.scopa_rule_crazy="Everytime you scopa, you will win coins immediately",this.goldenpass_daily_buy_tips="Get GOLDEN PASS to unluck golden reward",this.goldenpass_free="FREE",this.goldenpass_golden_pass="Golden Pass",this.goldenpass_unlock_next_lvl="level {0} is unlocked in",this.goldenpass_play_scopa="Play scopa to get stars",this.goldenpass_season_left_time="SEASON ENDS IN",this.goldenpass_active="Active",this.goldenpass_daily_reward="Golden Reward",this.goldenpass_entry_desc="ClAIM REWARD",this.goldenpass_buy_to_unlock="Get GOLDEN PASS to unluck primium rewards",this.goldenpass_crown_to_unlock="Get more Crowns to unlock this thir!",this.goldenpass_recv="Claim",this.goldenpass_get_reward="GET IT NOW",this.goldenpass_tips_active="Activate the Golden Pass",this.goldenpass_tips_to_finish="Mission unfinished",this.goldenpass_btn_get_goldenPass="GET GOLDEN PASS",this.table_guide_title="UNLOCK",this.table_get_more_chips_title="GET MORE TABLE CHIPS",this.mystery_gift_title="MYSTERY GIFT",this.bonus_title="BONUS",this.mission_bonus_title="MISSION BONUS",this.table_list_title="TABLE COLLECTION",this.table_box_title="Chest Store",this.setting_title="SETTING",this.title_hit_bonus="HIT BONUS",this.title_lucky_bonus="LUCKY BONUS",this.title_scopa_rule="TABLE RULES",this.activity_btn_lottery_txt="Free Lottery",this.activity_btn_invite_txt="Invite Prize",this.activity_btn_sale_txt="Sale",this.activity_btn_support_txt="Support",this.menu_btn_store_txt="STORE",this.menu_btn_scopa_txt="SCOPA",this.menu_btn_tables_txt="TABLE",this.menu_btn_mission_txt="MISSIONS",this.shopBox_btn_open_txt="OPEN",this.shopBox_btn_free_txt="FREE",this.shopBox_btn_free2open_txt="Free to Open",this.shopBox_min_piece_txt="{0} {1} stars chips",this.shopBox_at_least_txt="At least",this.txt_update_game_force="Your version is too low to enter the game.",this.txt_update_game_force_ios="Your version is too low to enter the game.",this.txt_update_game_suggest="new version is detected. it is recommended to update in time.",this.txt_update_game_suggest_ios="new version is detected. it is recommended to update in time.",this.txt_late="Late",this.title_card_skin="Graphics",this.txt_select_card_skin="please select your graphics ",this.txt_set_card_skin="Graphics",this.txt_title_revenege="Revenage Bonus",this.rank_lv="rank_lv",this.rank_lv_bronze="BRONZE",this.rank_lv_silver="SILVER",this.rank_lv_gold="GOLD",this.rank_lv_platnum="PLATNUM",this.rank_lv_diamond="DIAMOND",this.rank_lv_challenger="CHALLENGER",this.rank_union="LEAGUE",this.rank_at_end_of="League Ends {0} left",this.rank_has_win="Earnings",this.rank_upgrade_after_winning="Earn over {0} coins to",this.rank_quick_upgrade="INSTANT PROMOTE",this.rank_ranking="PLACE",this.rank_name="NAME",this.rank_new="NEW!",this.rank_win="Earnings",this.rank_rise="PROMOTE",this.rank_relegation="REMAIN",this.rank_decline="DEMOTE",this.rank_upgrade_to="The above will be promoted to",this.rank_relegated_to="The above will be remain",this.rank_demoted_to="The above will be demoted to",this.rank_win_more="Win {0} more coins to be instantly promoted to ",this.rank_league_info="League info",this.rank_wild_league="WILD SCOPA LEAGUE",this.rank_settlement_tip="Stats are being counted\nReopen after the countdown is complete",this.rank_settlement_result="Updating",this.bonus_title_free="Free Bonus",this.bonus_title_golden="Golden Bonus",this.goldenPass_preview_reward="<color=#FFFFFF>Get </c><color=#ffe92b>Golden Pass </c><color=#FFFFFF>to\nclaim golden bonus everyday</color>",this.goldenPass_buy_to_unlock="<color=#FFFFFF>Get </c><color=#ffe92b>Golden Pass </c><color=#FFFFFF>to unlock golden missions</color>",this.goldenPass_buy_to_unlock_all="<color=#FFFFFF>Get </c><color=#ffe92b>Golden Pass </c><color=#FFFFFF>to\n unlock all missions immediately</color>",this.goldenPass_buy_to_golden_name="<color=#FFFFFF>Get </c><color=#ffe92b>Golden Pass </c><color=#FFFFFF>to get\n Golden Name</color>",this.goldenPass_congratulation="Congratulation! You have got Golden Pass",this.goldenPass_extra_reward="You have got {0} Coins",this.goldenPass_left_time="{0} remaining the month",this.golden_name="Golden Name",this.more_about_goldenPass="More about Golden Pass >>",this.goldenPass_daily_coins="{0} coins daily Bonus",this.tex_game_bankrupt_tips="Recharging Coins",this.winner_get_pot="Winnner will get the pot",this.game_fclb_cheapest="CHEAPEAST",this.game_fclb_popular="MOST POPULAR",this.game_fclb_bestdeal="BEST DEAL",this.boost_recharge="Recharging",this.game_switch_cards="SWITCH"},cc._RF.pop()},{}],LangGolbalIT:[function(t,e,n){"use strict";cc._RF.push(e,"e84a2bJuD5Dyq7CkQtzQp+R","LangGolbalIT"),Object.defineProperty(n,"__esModule",{value:!0}),n.LangGolbalIT=void 0;n.LangGolbalIT=function(){this.language=cc.sys.LANGUAGE_ITALIAN,this.text_ok="OK",this.text_cancel="CANCELLA",this.text_confirm="CONFERMA",this.text_coming_soon="Sta arrivando",this.text_play_now="INIZIA ORA",this.text_not_enough_coins="Non abbastanza monete",this.text_too_much_coins="troppe monete",this.text_lower_game="Gioco basso",this.text_higher_game="Gioco alto",this.text_login="Accesso",this.text_get_coins="Get Coins",this.text_collect="CLAIM",this.text_collect_all="Claim all",this.text_prompt="Richiesta",this.text_quit="Smette",this.text_go_back="Torna in dietro",this.text_return_lobby="Ritornare alla sala",this.text_guest="Ospite",this.text_connecting="Collegando\u2026",this.text_no_network_tip="Nessuna rete, controlla l'impostazione della rete",this.text_not_connect_tip="Impossibile connettersi alla rete, riprova pi\xf9 tardi",this.text_out_connection="Disconnesso dalla rete",this.text_login_fail_tip="Errore login, riprova pi\xf9 tardi",this.text_resource_load_fail="Caricamento delle risorse non riuscito, riprova",this.text_login_fail="Login non riuscito",this.text_wrong_password="Password sbagliata,inserisce una password corretta",this.text_not_connect_server="Non riesce a connettersi il server",this.text_update_failed="Aggiornamento non riuscito",this.text_udpate_completed="Aggiornamento riuscito",this.text_udpating="\xc8 in fase di aggiornamento",this.text_succ_purchase_coins="Hai acquistato %s monete in successo",this.text_succ_purchase_daily="Hai acquistato con successo l'offerta giornaliera",this.text_succ_purchase="Acquisto con successo",this.text_purchase_fail="Acquista non riuscito, prova di nuovo, per favole",this.text_succ_get_coins="Raccoglie %s monete in successo",this.text_fail_get_coins="Impossibile raccogliere le monete",this.text_got_it="L'hai raccolto",this.text_succ_bind_fb="Collega con successo l'account facebook, hai ricevuto %s monete.",this.text_fail_bind_fb="Impossibile associare l'account Facebook",this.text_succ_get_task="Ricevi con successo ricompense per l'attivit\xe0",this.text_fail_get_task="Impossibile ricevere la ricompensa dell'attivit\xe0",this.text_no_task_reward="Nessun compito da ricevere",this.text_succ_modify_head="Foto di profilo modificato con successo",this.text_fail_modify_head="Foto di profilo modificato non riuscito",this.text_match_wait_partner="Aspettando l'avversario",this.text_match_game_fail="Impossibile abbinare il gioco",this.text_match_game_succ="Il gioco di abbinamento ha successo, sei gi\xe0 dentro nel gioco",this.text_ready_enter_game="Il gioco di abbinamento ha successo, pronto per entrare nel gioco",this.text_server_preparing="Il server sta preparando,prova a fare l'accesso pi\xf9 tardi",this.text_login_prohibited="Accesso vietato",this.text_account_abnormal="Il tuo account \xe8 anormale",this.text_desk_full="Il tavolo \xe8 pieno, prova ad entrare pi\xf9 tardi",this.text_account_expired="Il tuo account \xe8 scaduto, esci e accedi di nuovo",this.text_not_enough_coins_play="Non hai abbastanza monete,prova a giocare %s",this.text_info_lost="Information lost",this.text_waiting="Aspettando\u2026",this.text_loading="Caricamento in corso...",this.text_now_loading="Caricamento in corso...",this.text_loaded_succ="Caricamento con successo",this.text_loaded_fail="Caricamento non riuscito",this.text_not_found_resouse="Spiacenti, non sono state trovate risorse di gioco, prova a risolverlo.",this.text_reenter_game="Rientra nel gioco",this.text_network_broken="La rete \xe8 scollegata, aggiorna la rete",this.text_go_suitable_game="Non hai abbastanza monete d'oro, vai a una sessione adatta",this.text_logging_in="LOADING...",this.text_description="DESCRIZIONE",this.text_scopa_wild_tips="Ogni volta Scopa, il punteggio sar\xe0 raddoppiato",this.text_next="next",this.text_finish_all="Finish All",this.text_profile="PROFILE",this.text_table="TABLE",this.text_goto_play="GO TO PLAY",this.text_too_many_coins="Hai troppe monete, per favore vai al gioco del livello pi\xf9 alto.",this.text_draw="DRAW",this.text_out_of_tokens="Out of tokens",this.text_get_premium="[it]GET PREMIUM",this.text_stay_here="Stay Here",this.text_loading_ads="Loading AD...",this.text_gold_over_limit="Your coins have been over the limit, Please go to higher game.",this.match_game_tips="Sei sicuro di uscire dalla partita {0} precedente che non \xe8 ancora finita ed entrare a questa?",this.text_apple_login_tip="The phone system does not support Apple login",this.text_apple_auth_fail="Apple login authorization failed",this.setting_version="version",this.setting_sound="Suono",this.setting_music="Musica",this.setting_language="Lingua",this.setting_policy="Politica Provinciale",this.setting_userprofile="Termine & Condizioni",this.setting_log_out="Log out",this.menu_shop="Negozio",this.menu_missions="Missioni",this.menu_friend="Amici",this.menu_more="Inoltre",this.user_total_wins="Vinto totale",this.user_scopa_wins="Scopa vinto",this.user_scopone_wins="Scopone vinto",this.user_confirm_change="Conferma",this.fb_bind_account_tip="Login e prendi monete gratis",this.fb_bind_account_content="Vuoi accedere con questo account di Facebook e chiudere account di ospite?",this.five_star_like_play="Ti piace giocare scopa?",this.five_star_rate="Si prega di valutare scopa",this.five_star_editor_title="Facci sapere i difetti del gioco, per favore",this.py_billing_setup_error="Accedi al tuo account Google Play per acquistare",this.py_get_goods_list_fail="Caricamento non riuscito, conferma se la rete \xe8 normale",this.py_user_cancelled="Hai annullato l'acquisto",this.py_other_error="Acquisto non riuscito, riprova",this.py_comsume_failed="L'acquisto \xe8 andato a buon fine, attendere prego",this.power_text_after="Entro",this.power_text_not_enough="Out of tokens?",this.power_text_wait_tip="O aspetta {0} per ottenere {1} tokens ",this.five_star_not_now="NO ADESSO",this.table_error_of_cfg="Errore di costruzione",this.table_error_of_id="Errore di costruzione",this.table_error_isfinished="Costruzione completata",this.table_error_notenough="Monete d'oro insufficiente",this.table_build_award_tips="Congratulazioni",this.table_map_tilte="Sblocca il tavolo",this.table_unlock_tips="Sblocca al livello {0}",this.table_to_use_tips="Vai all'elenco delle tabelle per utilizzare la tabella",this.text_start="INIZIA",this.text_build="Build",this.text_desk_build_tip="Build tables to increase double time and multiples",this.text_build_finish_tips="Hai completato il tavolo {0}, prova subito a fare delle esperienze con il nuovo tavolo",this.text_unlock_all_tables_tips="Hai sbloccato tutti i tavoli, attendi l'apertura di nuovi tavoli, per favole",this.text_table_complete="Completed",this.text_table_useit="USO",this.text_table_using="USANDO",this.table_list_info="Gioca a scopa per ottenere frammenti di tavolo",this.table_box_top_info="Usa frammenti extra in cambio del box di sorpresa",this.table_box_cards_tip="Hai: {0} card stars",this.table_box_time_tip="Salta il tempo",this.table_complete="Completato",this.txt_i_see="Lo so",this.table_guide_content="Raccogli frammenti nel gioco e ottieni ricompense dopo la raccolta",this.table_text_you_won="HAI PERSO",this.table_get_table_chips="Get Table Chips",this.table_get_more_chips_1_1="No table chips on this level",this.table_get_more_chips_1_2="No more table chips on this level today",this.table_get_more_chips_2_1="go to higher game to get more chips",this.table_get_more_chips_2_2="go to higher game to get no limited chips",this.table_get_more_chips_special="No more table chips today",this.text_watch_video="Watch Video",this.video_lottery_tips="Guadare AD video per ottenere bonus",this.video_to_free="<color=#FFFFFF>Guadare AD video per ottenere\nottieni coins gratis</c><color=#37E502> (</c><color=#F6FF00>{0}</c><color=#37E502>/{1})</c>",this.watch_video_to="Guadare AD video per ottenere",this.video_reward_odds="Lottura gratis odds",this.video_lottery_done="All of reward of today has been collected",this.video_lottery_draw="LOTTERIA",this.bonus_multiple_tips="Watch video to get {0} times coins",this.bonus_get_more_tips="Watch video to get more bonus",this.close_video_ad_tips="please don\u2019t close the video",this.bankrupt_bonus_tips="Get Free Coins ",this.invite_user_tips="Invita Amici",this.invite_user_main="Per ogni amico puoi ricevere:",this.invite_user_invite="INVITO",this.friend_join_tips="Friend Joined",this.friend_join_main="You got",this.friend_join_collect="COLLECT",this.goldenpass_daily_buy_tips="Ottieni GOLDEN PASS per sfortunare la ricompensa d'oro",this.goldenpass_free="GRATIS",this.goldenpass_golden_pass="Golden Pass",this.goldenpass_unlock_next_lvl="Il livello {0} viene sbloccato in",this.goldenpass_play_scopa="Gioca a scopa per ottenere le stelle",this.goldenpass_season_left_time="LA STAGIONE TERMINA TRA",this.goldenpass_active="Attiva",this.goldenpass_daily_reward="Goden Reaward",this.goldenpass_entry_desc="PISCUOTI PREMIO",this.goldenpass_buy_to_unlock="Ottieni il GOLDEN PASS per sbloccare ricompense premium",this.goldenpass_crown_to_unlock="Ottieni piu conrone per sbloccare questa soglia!",this.goldenpass_recv="Riscuoti",this.goldenpass_get_reward="PRENDILO ORA",this.goldenpass_tips_active="Attiva the Golden Pass",this.goldenpass_tips_to_finish="missione incompiuta",this.goldenpass_btn_get_goldenPass="OTTENERE GOLDEN PASS",this.scopa_rule_a_name="Scopa Carte: ",this.scopa_rule_a="Aces sono le carte di scopa possono scopare tutte le carte.",this.scopa_rule_double_up_name="Raddoppiati: ",this.scopa_rule_double_up="Ogni volta che scopa, i punti vengono raddoppiat.",this.scopa_rule_big_win_name="Big Win: ",this.scopa_rule_big_win="Win Coins = Score x BET",this.scopa_rule_crazy_name="Scopa Attack: ",this.scopa_rule_crazy="Ogni volta che SCOPA vince coins d'oro immediatamente",this.setting_title="Impostazioni",this.mystery_gift_title="MYSTERY GIFT",this.bonus_title="BONUS",this.mission_bonus_title="MISSION BONUS",this.table_get_more_chips_title="GET MORE TABLE CHIPS",this.table_guide_title="SBLOCCARE",this.table_box_title="Negozio di petto",this.table_list_title="COLLEZIONE DEL TAVOLO",this.title_hit_bonus="HIT BONUS",this.title_lucky_bonus="LUCKY BONUS",this.title_scopa_rule="TABLE RULES",this.activity_btn_lottery_txt="Lottura gratis",this.activity_btn_invite_txt="Invito Premio",this.activity_btn_sale_txt="Offerta",this.activity_btn_support_txt="Supporto",this.menu_btn_store_txt="NEGOZIO",this.menu_btn_scopa_txt="SCOPA",this.menu_btn_tables_txt="TABELLA",this.menu_btn_mission_txt="MISSIONI",this.shopBox_btn_open_txt="APRI",this.shopBox_btn_free_txt="LIBERO",this.shopBox_btn_free2open_txt="Apri Gratis",this.shopBox_min_piece_txt="{0} chip a {1} stelle",this.shopBox_at_least_txt="Almeno",this.txt_update_game_force="La tua versione \xe8 troppo bassa per entrare nel gioco.",this.txt_update_game_force_ios="La tua versione \xe8 troppo bassa per entrare nel gioco.",this.txt_update_game_suggest="Viene rilevata una nuova versione, si consiglia di aggiornare in tempo.",this.txt_update_game_suggest_ios="Viene rilevata una nuova versione, si consiglia di aggiornare in tempo.",this.txt_late="Ln ritardo",this.title_card_skin="Grafica",this.txt_select_card_skin="seleziona la tua grafica",this.txt_set_card_skin="Grafica",this.txt_title_revenege="Pacchetto Vendetta",this.rank_lv="rank_lv",this.rank_lv_bronze="BRONZO",this.rank_lv_silver="ARGENTO",this.rank_lv_gold="ORO",this.rank_lv_platnum="PLATINO",this.rank_lv_diamond="DIAMANTI",this.rank_lv_challenger="CHALLENGER",this.rank_union="CAMPIONATO",this.rank_at_end_of="Fine {0} manca",this.rank_has_win="Guadagni",this.rank_upgrade_after_winning="Guadagna piu di {0} coins per",this.rank_quick_upgrade="PROMUOVI SUBITO",this.rank_ranking="POSTO",this.rank_name="NOMA",this.rank_new="NUOVO!",this.rank_win="GUADAGNI",this.rank_rise="PROMUOVI",this.rank_relegation="RIMANI",this.rank_decline="DEMOTE",this.rank_upgrade_to="I giocatori qui sopra verranno promossi a ",this.rank_relegated_to="I giocatori qui sopra rimarranno a",this.rank_demoted_to="I giocatori qui sopra verranno declassati a",this.rank_win_more="Vinci altri {0} coins essere immediatamente promosso a ",this.rank_league_info="Info Lega",this.rank_wild_league="WILD SCOPA LEGA",this.rank_settlement_tip="Le statistiche vengono contate\nRiaprire al termine del conto alla rovescia",this.rank_settlement_result="Updating",this.bonus_title_free="Bonus gratuito",this.bonus_title_golden="Golden Bonus",this.goldenPass_preview_reward="<color=#FFFFFF>Ottieni il </c><color=#ffe92b>Golden Pass </c><color=#FFFFFF>per richiedere il bonus d'oro ogni giorno</color>",this.goldenPass_buy_to_unlock="<color=#FFFFFF>Ottieni il </c><color=#ffe92b>Golden Pass </c><color=#FFFFFF>per sbloccare le golden missioni</color>",this.goldenPass_buy_to_unlock_all="<color=#FFFFFF>Ottieni il </c><color=#ffe92b>Golden Pass </c><color=#FFFFFF>per sbloccare immediatamente tutte le missioni</color>",this.goldenPass_buy_to_golden_name="<color=#FFFFFF>Ottiene </c><color=#ffe92b>Golden Pass </c><color=#FFFFFF>per ottenere Golden nome</color>",this.goldenPass_congratulation="Congratulazion\uff0cHai il Golden Pass",this.goldenPass_extra_reward="Hai {0} monete",this.goldenPass_left_time="{0} giorni rimanenti al mese",this.golden_name="Nome d'oro",this.more_about_goldenPass="Ulteriori informazioni sul Golden Pass >>",this.goldenPass_daily_coins="{0} monete al giorno Bonus",this.tex_game_bankrupt_tips="Recharging Coins",this.winner_get_pot="Il vincitore ricever\xe0 Pot",this.game_fclb_cheapest="CHEAPEAST",this.game_fclb_popular="Pi\xf9 Popolare",this.game_fclb_bestdeal="Miglior Offerta",this.boost_recharge="Ricaricare",this.game_switch_cards="Cambiare"},cc._RF.pop()},{}],LangGolbalZH:[function(t,e,n){"use strict";cc._RF.push(e,"833f9i6DTZI8LFL1snImN4/","LangGolbalZH"),Object.defineProperty(n,"__esModule",{value:!0}),n.LangGolbalZH=void 0;n.LangGolbalZH=function(){this.language=cc.sys.LANGUAGE_CHINESE,this.text_ok="\u597d",this.text_cancel="\u53d6\u6d88",this.text_confirm="\u786e\u5b9a",this.text_coming_soon="\u5373\u5c06\u53d1\u5e03!",this.text_play_now="\u7acb\u5373\u6e38\u620f",this.text_not_enough_coins="\u91d1\u5e01\u4e0d\u8db3",this.text_too_much_coins="\u91d1\u5e01\u8fc7\u591a",this.text_lower_game="\u8fdb\u5165\u4f4e\u7ea7\u573a",this.text_higher_game="\u8fdb\u5165\u9ad8\u7ea7\u573a",this.text_login="\u767b\u5f55",this.text_get_coins="\u83b7\u53d6\u91d1\u5e01",this.text_collect="\u9886\u53d6",this.text_collect_all="\u9886\u53d6\u5168\u90e8",this.text_prompt="\u63d0\u793a",this.text_quit="\u9000\u51fa",this.text_go_back="\u8fd4\u56de",this.text_return_lobby="\u8fd4\u56de\u5927\u5385",this.text_guest="\u6e38\u5ba2",this.text_connecting="\u6b63\u5728\u8fde\u63a5\u7f51\u7edc",this.text_no_network_tip="\u624b\u673a\u65e0\u7f51\u7edc\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u8bbe\u7f6e",this.text_not_connect_tip="\u65e0\u6cd5\u8fde\u63a5\u7f51\u7edc\uff0c\u8bf7\u7a0d\u5019\u91cd\u8bd5",this.text_out_connection="\u7f51\u7edc\u65ad\u5f00",this.text_login_fail_tip="\u767b\u9646\u9519\u8bef\uff0c\u8bf7\u91cd\u65b0\u767b\u9646",this.text_resource_load_fail="\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5",this.text_login_fail="\u767b\u5f55\u5931\u8d25",this.text_wrong_password="\u5bc6\u7801\u9519\u8bef\uff0c\u8bf7\u8f93\u5165\u6b63\u786e\u5bc6\u7801",this.text_not_connect_server="\u670d\u52a1\u5668\u8fde\u63a5\u4e0d\u4e0a",this.text_update_failed="\u66f4\u65b0\u5931\u8d25",this.text_udpate_completed="\u70ed\u66f4\u5df2\u5b8c\u6210",this.text_udpating="\u6b63\u5728\u70ed\u66f4\u4e2d",this.text_succ_purchase_coins="\u60a8\u5df2\u6210\u529f\u8d2d\u4e70%s\u91d1\u5e01",this.text_succ_purchase_daily="\u60a8\u5df2\u6210\u529f\u8d2d\u4e70\u6bcf\u65e5\u4f18\u60e0",this.text_succ_purchase="\u6210\u529f\u8d2d\u4e70\u5546\u54c1",this.text_purchase_fail="\u8d2d\u4e70\u5931\u8d25\uff0c\u8bf7\u7a0d\u5019\u91cd\u8bd5!",this.text_succ_get_coins="\u6210\u529f\u9886\u53d6%s\u91d1\u5e01",this.text_fail_get_coins="\u9886\u53d6\u91d1\u5e01\u5931\u8d25",this.text_got_it="\u60a8\u5df2\u9886\u53d6",this.text_succ_bind_fb="\u6210\u529f\u7ed1\u5b9aFacebook\u5e10\u6237\uff0c\u5df2\u9886\u53d6%s\u91d1\u5e01\u3002",this.text_fail_bind_fb="\u7ed1\u5b9aFacebook\u5e10\u6237\u5931\u8d25",this.text_succ_get_task="\u6210\u529f\u9886\u53d6\u4efb\u52a1\u5956\u52b1",this.text_fail_get_task="\u9886\u53d6\u4efb\u52a1\u5956\u52b1\u5931\u8d25",this.text_no_task_reward="\u6ca1\u6709\u4efb\u52a1\u53ef\u9886\u53d6",this.text_succ_modify_head="\u6210\u529f\u4fee\u6539\u7528\u6237\u5934\u50cf",this.text_fail_modify_head="\u4fee\u6539\u7528\u6237\u5934\u50cf\u5931\u8d25",this.text_match_game_fail="\u5339\u914d\u6e38\u620f\u5931\u8d25",this.text_match_wait_partner="\u6b63\u5728\u7b49\u5f85\u5bf9\u624b",this.text_match_game_succ="\u5339\u914d\u6e38\u620f\u6210\u529f\uff0c\u60a8\u5df2\u5728\u6e38\u620f\u4e2d",this.text_ready_enter_game="\u5339\u914d\u6e38\u620f\u6210\u529f\uff0c\u51c6\u5907\u8fdb\u5165\u6e38\u620f",this.text_server_preparing="\u670d\u52a1\u5668\u6b63\u5728\u51c6\u5907\u4e2d\uff0c\u8bf7\u7a0d\u540e\u767b\u5f55",this.text_login_prohibited="\u7981\u6b62\u767b\u5f55",this.text_account_abnormal="\u4f60\u7684\u8d26\u53f7\u5f02\u5e38",this.text_desk_full="\u684c\u5b50\u5750\u6ee1\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8fdb",this.text_account_expired="\u4f60\u7684\u8d26\u53f7\u5df2\u5931\u6548\uff0c\u8bf7\u9000\u51fa\u91cd\u65b0\u767b\u5f55",this.text_not_enough_coins_play="\u91d1\u5e01\u4e0d\u591f\uff0c\u53bb%s\u73a9\u4e00\u4e0b\u5427",this.text_info_lost="\u6ca1\u6709\u627e\u5230\u5bf9\u5e94\u7684\u6e38\u620f\u914d\u7f6e",this.text_waiting="\u7b49\u5f85\u4e2d...",this.text_loading="\u52a0\u8f7d\u4e2d...",this.text_now_loading="\u6b63\u5728\u52a0\u8f7d...",this.text_loaded_succ="\u52a0\u8f7d\u6210\u529f",this.text_loaded_fail="\u52a0\u8f7d\u5931\u8d25",this.text_not_found_resouse="\u62b1\u6b49\uff0c\u6ca1\u6709\u627e\u5230\u6e38\u620f\u8d44\u6e90\uff0c\u8bf7\u5c1d\u8bd5\u4fee\u590d\u3002",this.text_reenter_game="\u91cd\u65b0\u8fdb\u5165\u6e38\u620f",this.text_network_broken="\u7f51\u7edc\u65ad\u5f00\u8fde\u63a5\uff0c\u8bf7\u5237\u65b0\u7f51\u7edc",this.text_go_suitable_game="\u60a8\u7684\u91d1\u5e01\u4e0d\u8db3\uff0c\u8bf7\u524d\u5f80\u9002\u5408\u7684\u573a\u6b21~",this.text_logging_in="\u6b63\u5728\u767b\u5f55\u4e2d",this.text_description="\u8bf4\u660e",this.text_scopa_wild_tips="\u6bcfScopa\u4e00\u6b21\uff0c\u52a0\u500d\u4e00\u6b21",this.text_apple_login_tip="\u624b\u673a\u7cfb\u7edf\u4e0d\u652f\u6301Apple\u767b\u5f55",this.text_apple_auth_fail="\u82f9\u679c\u767b\u9646\u6388\u6743\u5931\u8d25",this.text_next="\u4e0b\u4e00\u4e2a",this.text_finish_all="\u5b8c\u6210\u6240\u6709",this.text_profile="\u4e2a\u4eba\u4fe1\u606f",this.text_table="\u684c\u5b50",this.text_goto_play="\u53bb\u73a9\u6e38\u620f",this.text_too_many_coins="\u60a8\u7684\u91d1\u5e01\u592a\u591a\uff0c\u8bf7\u8fdb\u66f4\u9ad8\u7ea7\u7684\u573a\u6b21\u5427",this.text_draw="\u63d0\u53d6",this.text_out_of_tokens="\u4f53\u529b\u4e0d\u8db3",this.text_get_premium="[zh]GET PREMIUM",this.text_stay_here="\u5f85\u5728\u539f\u573a\u6b21",this.text_loading_ads="\u5e7f\u544a\u52a0\u8f7d\u4e2d...",this.text_gold_over_limit="\u91d1\u5e01\u8d85\u51fa\u6700\u5927\u9650\u5236\uff0c\u8bf7\u53bb\u66f4\u9ad8\u7ea7\u573a\u6b21\uff1f",this.match_game_tips="\u60a8\u7684 {0} \u5bf9\u5c40\u8fd8\u672a\u7ed3\u675f\uff0c\u662f\u5426\u8fdb\u5165\uff1f",this.setting_version="\u7248\u672c",this.setting_sound="\u97f3\u6548",this.setting_music="\u97f3\u4e50",this.setting_language="\u8bed\u8a00",this.setting_policy="\u9690\u79c1\u534f\u8bae",this.setting_userprofile="\u7528\u6237\u534f\u8bae",this.setting_log_out="\u767b\u51fa",this.menu_shop="\u5546\u57ce",this.menu_missions="\u4efb\u52a1",this.menu_friend="\u597d\u53cb",this.menu_more="\u66f4\u591a",this.user_total_wins="\u603b\u8d62\u5c40",this.user_scopa_wins="Scopa\u8d62\u5c40",this.user_scopone_wins="Scopone\u8d62\u5c40",this.user_confirm_change="\u786e\u5b9a\u4fee\u6539",this.fb_bind_account_tip="\u6388\u6743facebook\u9886\u53d6\u91d1\u5e01",this.fb_bind_account_content="\u60a8\u60f3\u4f7f\u7528\u8fd9\u4e2afacebook\u8d26\u53f7\u767b\u5f55\u5e76\u4e14\u653e\u5f03\u6e38\u5ba2\u8d26\u53f7\u5417\uff1f",this.py_billing_setup_error="\u8bf7\u767b\u5f55\u60a8\u7684Google Play\u8d26\u53f7\u518d\u8d2d\u4e70",this.py_get_goods_list_fail="\u52a0\u8f7d\u5931\u8d25\uff0c\u8bf7\u786e\u8ba4\u7f51\u7edc\u662f\u5426\u6b63\u5e38",this.py_user_cancelled="\u60a8\u5df2\u53d6\u6d88\u8d2d\u4e70",this.py_other_error="\u8d2d\u4e70\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u5c1d\u8bd5",this.py_comsume_failed="\u8d2d\u4e70\u6210\u529f\uff0c\u8bf7\u7a0d\u7b49",this.five_star_like_play="\u60a8\u559c\u6b22\u73a9scopa\u5417?",this.five_star_rate="\u8bf7\u7ed9Scopa\u8bc4\u5206",this.five_star_editor_title="\u8bf7\u544a\u8bc9\u6211\u4eec\u6e38\u620f\u4e2d\u7684\u4e0d\u8db3",this.power_text_after="\u540e",this.power_text_not_enough="\u4f53\u529b\u4e0d\u8db3?",this.power_text_wait_tip="\u8bf7\u7b49\u5f85{0}\u83b7\u53d6{1}\u4e2a\u4f53\u529b",this.five_star_not_now="\u4e0d\u662f\u73b0\u5728",this.table_error_of_cfg="\u914d\u7f6e\u6709\u8bef",this.table_error_of_id="table\u5757id\u6709\u8bef",this.table_error_isfinished="\u8be5table\u5757id\u5df2\u5b8c\u6210",this.table_error_notenough="\u5efa\u8bbe\u91d1\u5e01\u4e0d\u8db3",this.table_build_award_tips="\u606d\u559c\u60a8\uff0c\u5df2\u7ecf\u5efa\u8bbe\u5b8c\u6210\u724c\u684c",this.table_map_tilte="\u89e3\u9501\u684c\u5b50",this.table_unlock_tips="{0}\u7ea7\u89e3\u9501",this.table_to_use_tips="\u53bb\u4f7f\u7528\u684c\u5b50",this.text_start="\u5f00\u59cb",this.text_build="\u5efa\u8bbe",this.text_desk_build_tip="\u5efa\u8bbe\u684c\u5b50\u589e\u52a0\u52a0\u500d\u65f6\u95f4\u548c\u500d\u6570",this.text_build_finish_tips="\u60a8\u5df2\u7ecf\u5efa\u9020\u5b8c\u6210{0}\u684c\u5b50,\u9a6c\u4e0a\u53bb\u73a9\u6e38\u620f\u4f53\u9a8c\u65b0\u684c\u5b50\u5427\uff01",this.text_unlock_all_tables_tips="\u60a8\u5df2\u7ecf\u89e3\u9501\u5b8c\u6240\u6709\u684c\u5b50\uff0c\u8bf7\u7b49\u5f85\u5f00\u653e\u65b0\u7684\u684c\u5b50",this.text_table_complete="\u5b8c\u6210",this.text_table_useit="\u4f7f\u7528",this.text_table_using="\u4f7f\u7528\u4e2d",this.table_list_info="\u73a9scopa\u5f97\u5230\u684c\u5b50\u788e\u7247",this.table_box_top_info="\u4f7f\u7528\u591a\u4f59\u7684\u788e\u7247\u6362\u53d6\u60ca\u559c\u5b9d\u7bb1",this.table_box_cards_tip="\u4f60\u6709:  {0} card star",this.table_box_time_tip="\u8df3\u8fc7\u65f6\u95f4",this.table_complete="[zh]Completed",this.txt_i_see="\u6211\u77e5\u9053\u4e86",this.table_guide_content="\u6e38\u620f\u4e2d\u6536\u96c6\u788e\u7247\uff0c\u6536\u96c6\u5b8c\u6210\u6574\u5957\u540e\u53ef\u83b7\u5f97\u5956\u52b1",this.table_text_you_won="\u4f60\u8d62\u4e86",this.table_get_table_chips="\u5982\u4f55\u83b7\u53d6\u788e\u7247",this.table_get_more_chips_1_1="\u8fd9\u4e2a\u7b49\u7ea7\u6ca1\u6709\u788e\u7247",this.table_get_more_chips_1_2="\u4eca\u5929\u8fd9\u4e2a\u7b49\u7ea7\u5df2\u7ecf\u6ca1\u6709\u788e\u7247\u53ef\u83b7\u53d6\u4e86",this.table_get_more_chips_2_1="\u53bb\u66f4\u9ad8\u573a\u6b21\u83b7\u53d6\u66f4\u591a\u788e\u7247",this.table_get_more_chips_2_2="\u53bb\u66f4\u9ad8\u573a\u6b21\u83b7\u53d6\u65e0\u9650\u5236\u788e\u7247",this.table_get_more_chips_special="\u4eca\u5929\u5df2\u7ecf\u6ca1\u6709\u788e\u7247\u53ef\u83b7\u53d6\u4e86",this.text_watch_video="\u89c2\u770b\u89c6\u9891",this.video_lottery_tips="\u6bcf\u5929\u89c2\u770b\u89c6\u9891\uff0c\u53ef\u83b7\u53d6\u514d\u8d39\u91d1\u5e01",this.video_to_free="\u89c2\u770b\u89c6\u9891\u83b7\u5f97\u514d\u8d39\u91d1\u5e01",this.video_reward_odds="\u89c6\u9891\u5956\u52b1\u6982\u7387\u4e00\u89c8",this.watch_video_to="\u89c2\u770b\u89c6\u9891",this.video_lottery_done="\u4eca\u5929\u6240\u6709\u7684\u89c6\u9891\u5956\u52b1\u5df2\u7ecf\u9886\u53d6\u5b8c\u4e86",this.video_lottery_draw="\u89c2\u770b\u89c6\u9891",this.bonus_multiple_tips="\u89c2\u770b\u89c6\u9891\uff0c\u53ef\u83b7\u53d6{0}\u500d\u91d1\u5e01",this.bonus_get_more_tips="\u89c2\u770b\u89c6\u9891\uff0c\u83b7\u53d6\u591a\u5956\u52b1",this.close_video_ad_tips="\u8bf7\u4e0d\u8981\u5173\u95ed\u89c6\u9891",this.bankrupt_bonus_tips="\u9886\u53d6\u514d\u8d39\u91d1\u5e01",this.invite_user_tips="\u9080\u8bf7\u597d\u53cb",this.invite_user_main="\u6bcf\u9080\u8bf7\u4e00\u4e2a\u597d\u53cb\u4f60\u5c06\u83b7\u5f97\uff1a",this.invite_user_invite="\u9080\u8bf7",this.friend_join_tips="\u597d\u53cb\u88ab\u9080\u8bf7",this.friend_join_main="\u4f60\u5f97\u5230\u4e86",this.friend_join_collect="\u9886\u53d6",this.scopa_rule_a_name="Scopa Scards: ",this.scopa_rule_a="\u51fa\u724cA\uff0c\u53ef\u4ee5scopa \u4efb\u4f55\u724c",this.scopa_rule_double_up_name="Double Up: ",this.scopa_rule_double_up="\u6bcf\u6b21scopa, \u5206\u6570\u5c06\u7ffb\u500d",this.scopa_rule_big_win_name="Big Win: ",this.scopa_rule_big_win="Win Coins = Score x BET",this.scopa_rule_crazy_name="Scopa Attack: ",this.scopa_rule_crazy="\u6bcf\u6b21scopa, \u91d1\u5e01\u5c06\u76f4\u63a5\u7ed3\u7b97",this.goldenpass_daily_buy_tips="[zh]\u8bf7\u8ba2\u9605 goldenpass",this.goldenpass_free="\u514d\u8d39",this.goldenpass_golden_pass="\u9ec4\u91d1\u901a\u884c\u8bc1",this.goldenpass_unlock_next_lvl="[zh]distance level {0} is open",this.goldenpass_play_scopa="\u73a9scopa\u4ee5\u83b7\u53d6\u66f4\u591a\u5956\u676f",this.goldenpass_season_left_time="\u672c\u5b63\u5269\u4f59\u65f6\u95f4",this.goldenpass_active="\u8ba2\u9605",this.goldenpass_daily_reward="\u6bcf\u65e5\u5956\u52b1",this.goldenpass_entry_desc="\u9ec4\u91d1\u901a\u884c\u8bc1",this.goldenpass_buy_to_unlock="\u8ba2\u9605\u9ec4\u91d1\u901a\u884c\u8bc1\u6765\u89e3\u9501",this.goldenpass_crown_to_unlock="\u83b7\u53d6\u66f4\u591a\u5956\u676f\u6765\u89e3\u9501",this.goldenpass_recv="\u9886\u53d6",this.goldenpass_tips_active="\u8bf7\u6fc0\u6d3b\u9ec4\u91d1\u901a\u884c\u8bc1",this.goldenpass_tips_to_finish="\u8bf7\u5b8c\u6210\u4efb\u52a1",this.goldenpass_btn_get_goldenPass="\u83b7\u53d6\u9ec4\u91d1\u901a\u884c\u8bc1",this.table_list_title="\u684c\u5b50\u6536\u96c6",this.setting_title="\u8bbe\u7f6e",this.bonus_title="\u9886\u5956",this.mystery_gift_title="\u795e\u79d8\u793c\u5305",this.mission_bonus_title="\u4efb\u52a1\u9886\u5956",this.table_box_title="\u788e\u7247\u5151\u6362\u5b9d\u7bb1",this.table_get_more_chips_title="\u83b7\u53d6\u66f4\u591a\u788e\u7247",this.table_guide_title="\u788e\u7247\u6536\u96c6\u89e3\u9501\u4e86",this.title_hit_bonus="\u66b4\u51fb\u9886\u5956",this.title_lucky_bonus="\u5e78\u8fd0\u9886\u5956",this.title_scopa_rule="Table Rules",this.activity_btn_lottery_txt="[zh]Free Lottery",this.activity_btn_invite_txt="[zh]Invite Prize",this.activity_btn_sale_txt="[zh]Sale",this.activity_btn_support_txt="[zh]Support",this.menu_btn_store_txt="[zh]STORE",this.menu_btn_scopa_txt="[zh]SCOPA",this.menu_btn_tables_txt="[zh]TABLE",this.menu_btn_mission_txt="[zh]MISSIONS",this.shopBox_btn_open_txt="\u6253\u5f00",this.shopBox_btn_free_txt="\u514d\u8d39",this.shopBox_btn_free2open_txt="\u514d\u8d39\u6253\u5f00",this.shopBox_min_piece_txt="{0}\u4e2a{1}\u661f\u7684\u788e\u7247",this.shopBox_at_least_txt="\u81f3\u5c11\u83b7\u5f97",this.txt_update_game_force="\u60a8\u7684\u6e38\u620f\u7248\u672c\u8fc7\u4f4e\uff0c\u65e0\u6cd5\u8fdb\u5165\u6e38\u620f\uff0c\u8bf7\u524d\u5f80\u8c37\u6b4c\u5546\u5e97\u8fdb\u884c\u66f4\u65b0\u3002",this.txt_update_game_force_ios="\u60a8\u7684\u6e38\u620f\u7248\u672c\u8fc7\u4f4e\uff0c\u65e0\u6cd5\u8fdb\u5165\u6e38\u620f\uff0c\u8bf7\u524d\u5f80\u82f9\u679c\u5e94\u7528\u5546\u5e97\u8fdb\u884c\u66f4\u65b0\u3002",this.txt_update_game_suggest="\u68c0\u6d4b\u5230\u6709\u65b0\u7248\u672c\uff0c\u5efa\u8bae\u60a8\u524d\u5f80\u8c37\u6b4c\u5546\u5e97\u8fdb\u884c\u66f4\u65b0\u3002",this.txt_update_game_suggest_ios="\u68c0\u6d4b\u5230\u6709\u65b0\u7248\u672c\uff0c\u5efa\u8bae\u60a8\u524d\u5f80\u82f9\u679c\u5e94\u7528\u5546\u5e97\u8fdb\u884c\u66f4\u65b0\u3002",this.txt_late="Late",this.title_card_skin="[zh]\u4fee\u6539\u76ae\u80a4",this.txt_select_card_skin="[zh]Please select your graphic",this.txt_set_card_skin="[zh]GRAPHICS",this.txt_title_revenege="[zh]Revenage Bonus",this.rank_lv="rank_lv",this.rank_lv_bronze="\u9752\u94dc",this.rank_lv_silver="\u767d\u94f6",this.rank_lv_gold="\u9ec4\u91d1",this.rank_lv_platnum="\u94c2\u91d1",this.rank_lv_diamond="\u94bb\u77f3",this.rank_lv_challenger="\u738b\u8005",this.rank_union="\u8054\u76df",this.rank_at_end_of="\u8fd8\u6709{0}\u8d5b\u5b63\u7ed3\u675f",this.rank_has_win="\u8d62\u4e86",this.rank_upgrade_after_winning="\u8d62\u4e86{0}\u91d1\u5e01\u540e\u5feb\u901f\u5347\u7ea7",this.rank_quick_upgrade="\u5feb\u901f\u5347\u7ea7",this.rank_ranking="\u6392\u540d",this.rank_name="\u540d\u5b57",this.rank_new="NEW!",this.rank_win="\u8d62",this.rank_rise="\u4e0a\u5347",this.rank_relegation="\u4fdd\u7ea7",this.rank_decline="\u4e0b\u964d",this.rank_upgrade_to="\u4ee5\u4e0a\u73a9\u5bb6\u5347\u7ea7\u5230",this.rank_relegated_to="\u4ee5\u4e0a\u73a9\u5bb6\u4fdd\u7ea7\u5230",this.rank_demoted_to="\u4ee5\u4e0a\u73a9\u5bb6\u964d\u7ea7\u5230",this.rank_win_more="\u8d62\u591a{0}\u5feb\u901f\u5347\u7ea7\u5230",this.rank_league_info="\u8054\u76df\u4fe1\u606f",this.rank_wild_league="WILD SCOPA LEAGUE",this.rank_settlement_tip="\u6b63\u5728\u7edf\u8ba1\u4e0a\u8d5b\u5b63\u6570\u636e\n\u5012\u8ba1\u65f6\u5b8c\u6210\u540e\u5f00\u53d1\u6bb5\u4f4d\u6392\u540d",this.rank_settlement_result="Updating",this.bonus_title_free="[zh]Free Bonus",this.bonus_title_golden="[zh]Golden Bonus",this.goldenPass_preview_reward="[zh]Get Golden Pass to Claim Golden Bonus EveryDay",this.goldenPass_buy_to_unlock="[zh]<color=#FFFFFF>Get </c><color=#ffe92b>Golden Pass </c><color=#FFFFFF>to\n unlock all missions immediately</color>",this.goldenPass_buy_to_unlock_all="[zh]Get Golden Pass to Unlock all missions inmmediately",this.goldenPass_buy_to_golden_name="[zh]Get Golden Pass to get Golden Name",this.goldenPass_congratulation="[zh]Congratulation! You Have got Golden Pass",this.goldenPass_extra_reward="[zh]We have give you {0} Coins",this.goldenPass_left_time="[zh]\u672c\u6708\u5269\u4f59\u65f6\u95f4: {0}",this.golden_name="[zh]Golden Name",this.more_about_goldenPass="\u66f4\u591a\u5173\u4e8e\u9ec4\u91d1\u901a\u884c\u8bc1 >>",this.goldenPass_daily_coins="[zh]{0} coins daily Bonus",this.tex_game_bankrupt_tips="Recharging Coins",this.winner_get_pot="[zh]Winnner will get the pot",this.game_fclb_cheapest="\u6700\u4fbf\u5b9c",this.game_fclb_popular="\u6700\u53d7\u6b22\u8fce",this.game_fclb_bestdeal="\u6700\u4f73\u4ea4\u6613",this.boost_recharge="[zh]Ricaricare",this.game_switch_cards="\u6362\u724c"},cc._RF.pop()},{}],LanguageCfg:[function(t,e,n){"use strict";cc._RF.push(e,"f4962zjRtVAloubbS7gdx4P","LanguageCfg"),Object.defineProperty(n,"__esModule",{value:!0}),n.LangKey=n.ILangDefine=void 0;n.ILangDefine=function(){};var o=function(){function t(){}return t.text_ok="text_ok",t.text_cancel="text_cancel",t.text_confirm="text_confirm",t.text_coming_soon="text_coming_soon",t.text_play_now="text_play_now",t.text_not_enough_coins="text_not_enough_coins",t.text_too_much_coins="text_too_much_coins",t.text_lower_game="text_lower_game",t.text_higher_game="text_higher_game",t.text_login="text_login",t.text_get_coins="text_get_coins",t.text_collect="text_collect",t.text_collect_all="text_collect_all",t.text_prompt="text_prompt",t.text_quit="text_quit",t.text_go_back="text_go_back",t.text_return_lobby="text_return_lobby",t.text_guest="text_guest",t.text_connecting="text_connecting",t.text_no_network_tip="text_no_network_tip",t.text_not_connect_tip="text_not_connect_tip",t.text_out_connection="text_out_connection",t.text_login_fail_tip="text_login_fail_tip",t.text_resource_load_fail="text_resource_load_fail",t.text_login_fail="text_login_fail",t.text_wrong_password="text_wrong_password",t.text_not_connect_server="text_not_connect_server",t.text_update_failed="text_update_failed",t.text_udpate_completed="text_udpate_completed",t.text_udpating="text_udpating",t.text_succ_purchase_coins="text_succ_purchase_coins",t.text_succ_purchase_daily="text_succ_purchase_daily",t.text_succ_purchase="text_succ_purchase",t.text_purchase_fail="text_purchase_fail",t.text_succ_get_coins="text_succ_get_coins",t.text_fail_get_coins="text_fail_get_coins",t.text_got_it="text_got_it",t.text_succ_bind_fb="text_succ_bind_fb",t.text_fail_bind_fb="text_fail_bind_fb",t.text_succ_get_task="text_succ_get_task",t.text_fail_get_task="text_fail_get_task",t.text_no_task_reward="text_no_task_reward",t.text_succ_modify_head="text_succ_modify_head",t.text_fail_modify_head="text_fail_modify_head",t.text_match_wait_partner="text_match_wait_partner",t.text_match_game_fail="text_match_game_fail",t.text_match_game_succ="text_match_game_succ",t.text_ready_enter_game="text_ready_enter_game",t.text_server_preparing="text_server_preparing",t.text_login_prohibited="text_login_prohibited",t.text_account_abnormal="text_account_abnormal",t.text_desk_full="text_desk_full",t.text_account_expired="text_account_expired",t.text_loaded_succ="text_loaded_succ",t.text_loaded_fail="text_loaded_fail",t.text_not_found_resouse="text_not_found_resouse",t.text_reenter_game="text_reenter_game",t.text_network_broken="text_network_broken",t.text_go_suitable_game="text_go_suitable_game",t.text_logging_in="text_logging_in",t.text_description="text_description",t.text_scopa_wild_tips="text_scopa_wild_tips",t.text_next="text_next",t.text_finish_all="text_finish_all",t.text_profile="text_profile",t.text_table="text_table",t.text_goto_play="text_goto_play",t.text_too_many_coins="text_too_many_coins",t.text_draw="text_draw",t.text_out_of_tokens="text_out_of_tokens",t.text_get_premium="text_get_premium",t.text_stay_here="text_stay_here",t.text_loading_ads="text_loading_ads",t.text_gold_over_limit="text_gold_over_limit",t.match_game_tips="match_game_tips",t.text_apple_login_tip="text_apple_login_tip",t.text_apple_auth_fail="text_apple_auth_fail",t.setting_version="setting_version",t.setting_sound="setting_sound",t.setting_music="setting_music",t.setting_language="setting_language",t.setting_policy="setting_policy",t.setting_userprofile="setting_userprofile",t.setting_log_out="setting_log_out",t.text_not_enough_coins_play="text_not_enough_coins_play",t.text_info_lost="text_info_lost",t.text_waiting="text_account_abnormal",t.text_loading="text_loading",t.text_now_loading="text_now_loading",t.menu_shop="menu_shop",t.menu_missions="menu_missions",t.menu_friend="menu_friend",t.menu_more="menu_more",t.user_total_wins="user_total_wins",t.user_scopa_wins="user_scopa_wins",t.user_scopone_wins="user_scopone_wins",t.user_confirm_change="user_confirm_change",t.fb_bind_account_tip="fb_bind_account_tip",t.fb_bind_account_content="fb_bind_account_content",t.five_star_like_play="five_star_like_play",t.five_star_editor_title="five_star_editor_title",t.five_star_rate="five_star_rate",t.five_star_not_now="five_star_not_now",t.py_billing_setup_error="py_billing_setup_error",t.py_get_goods_list_fail="py_get_goods_list_fail",t.py_user_cancelled="py_user_cancelled",t.py_other_error="py_other_error",t.py_comsume_failed="py_comsume_failed",t.power_text_after="power_text_after",t.power_text_not_enough="power_text_not_enough",t.power_text_wait_tip="power_text_wait_tip",t.table_error_of_cfg="table_error_of_cfg",t.table_error_of_id="table_error_of_id",t.table_error_isfinished="table_error_isfinished",t.table_error_notenough="table_error_notenough",t.table_build_award_tips="table_build_award_tips",t.table_map_tilte="table_map_tilte",t.table_unlock_tips="table_unlock_tips",t.table_to_use_tips="table_to_use_tips",t.text_start="text_start",t.text_build="text_build",t.text_desk_build_tip="text_desk_build_tip",t.text_build_finish_tips="text_build_finish_tips",t.text_unlock_all_tables_tips="text_unlock_all_tables_tips",t.text_table_complete="text_table_complete",t.text_table_useit="text_table_useit",t.text_table_using="text_table_using",t.table_list_info="table_list_info",t.table_box_top_info="table_box_top_info",t.table_box_cards_tip="table_box_cards_tip",t.table_box_time_tip="table_box_time_tip",t.table_complete="table_complete",t.txt_i_see="txt_i_see",t.table_get_table_chips="table_get_table_chips",t.table_get_more_chips_1_1="table_get_more_chips_1_1",t.table_get_more_chips_1_2="table_get_more_chips_1_2",t.table_get_more_chips_2_1="table_get_more_chips_2_1",t.table_get_more_chips_2_2="table_get_more_chips_2_2",t.table_get_more_chips_special="table_get_more_chips_special",t.table_text_you_won="table_text_you_won",t.text_watch_video="text_watch_video",t.video_lottery_tips="video_lottery_tips",t.video_to_free="video_to_free",t.video_reward_odds="video_reward_odds",t.watch_video_to="watch_video_to",t.video_lottery_done="video_lottery_done",t.video_lottery_draw="video_lottery_draw",t.bonus_multiple_tips="bonus_multiple_tips",t.bonus_get_more_tips="bonus_get_more_tips",t.close_video_ad_tips="close_video_ad_tips",t.bankrupt_bonus_tips="bankrupt_bonus_tips",t.invite_user_tips="invite_user_tips",t.invite_user_main="invite_user_main",t.invite_user_invite="invite_user_invite",t.friend_join_tips="friend_join_tips",t.friend_join_main="friend_join_main",t.friend_join_collect="friend_join_collect",t.scopa_rule_a_name="scopa_rule_a_name",t.scopa_rule_a="scopa_rule_a",t.scopa_rule_double_up_name="scopa_rule_double_up_name",t.scopa_rule_double_up="scopa_rule_double_up",t.scopa_rule_big_win_name="scopa_rule_big_win_name",t.scopa_rule_big_win="scopa_rule_big_win",t.scopa_rule_crazy="scopa_rule_crazy",t.scopa_rule_crazy_name="scopa_rule_crazy_name",t.goldenpass_daily_buy_tips="goldenpass_daily_buy_tips",t.goldenpass_free="goldenpass_free",t.goldenpass_golden_pass="goldenpass_golden_pass",t.goldenpass_unlock_next_lvl="goldenpass_unlock_next_lvl",t.goldenpass_play_scopa="goldenpass_play_scopa",t.goldenpass_season_left_time="goldenpass_season_left_time",t.goldenpass_active="goldenpass_active",t.goldenpass_daily_reward="goldenpass_daily_reward",t.goldenpass_entry_desc="goldenpass_entry_desc",t.goldenpass_buy_to_unlock="goldenpass_buy_to_unlock",t.goldenpass_crown_to_unlock="goldenpass_crown_to_unlock",t.goldenpass_recv="goldenpass_recv",t.goldenpass_get_reward="goldenpass_get_reward",t.goldenpass_tips_active="goldenpass_tips_active",t.goldenpass_tips_to_finish="goldenpass_tips_to_finish",t.goldenpass_btn_get_goldenPass="goldenpass_btn_get_goldenPass",t.setting_title="setting_title",t.table_list_title="table_list_title",t.table_guide_content="table_guide_content",t.table_box_title="table_box_title",t.bonus_title="bonus_title",t.mission_bonus_title="mission_bonus_title",t.mystery_gift_title="mystery_gift_title",t.table_guide_title="table_guide_title",t.table_get_more_chips_title="table_get_more_chips_title",t.title_hit_bonus="title_hit_bonus",t.title_lucky_bonus="title_lucky_bonus",t.title_scopa_rule="title_scopa_rule",t.activity_btn_lottery_txt="activity_btn_lottery_txt",t.activity_btn_invite_txt="activity_btn_invite_txt",t.activity_btn_sale_txt="activity_btn_sale_txt",t.activity_btn_support_txt="activity_btn_support_txt",t.menu_btn_store_txt="menu_btn_store_txt",t.menu_btn_scopa_txt="menu_btn_scopa_txt",t.menu_btn_tables_txt="menu_btn_tables_txt",t.menu_btn_mission_txt="menu_btn_mission_txt",t.shopBox_btn_open_txt="shopBox_btn_open_txt",t.shopBox_btn_free_txt="shopBox_btn_free_txt",t.shopBox_btn_free2open_txt="shopBox_btn_free2open_txt",t.shopBox_min_piece_txt="shopBox_min_piece_txt",t.shopBox_at_least_txt="shopBox_at_least_txt",t.txt_update_game_suggest="txt_update_game_suggest",t.txt_update_game_force="txt_update_game_force",t.txt_update_game_suggest_ios="txt_update_game_suggest_ios",t.txt_update_game_force_ios="txt_update_game_force_ios",t.txt_late="txt_late",t.title_card_skin="title_card_skin",t.txt_select_card_skin="txt_select_card_skin",t.txt_set_card_skin="txt_set_card_skin",t.txt_title_revenege="txt_title_revenege",t.rank_lv="rank_lv",t.rank_lv_bronze="rank_lv_bronze",t.rank_lv_silver="rank_lv_silver",t.rank_lv_gold="rank_lv_gold",t.rank_lv_platnum="rank_lv_platnum",t.rank_lv_diamond="rank_lv_diamond",t.rank_lv_challenger="rank_lv_challenger",t.rank_union="rank_union",t.rank_at_end_of="rank_at_end_of",t.rank_has_win="rank_has_win",t.rank_upgrade_after_winning="rank_upgrade_after_winning",t.rank_quick_upgrade="rank_quick_upgrade",t.rank_ranking="rank_ranking",t.rank_name="rank_name",t.rank_new="rank_new",t.rank_win="rank_win",t.rank_rise="rank_rise",t.rank_relegation="rank_relegation",t.rank_decline="rank_decline",t.rank_upgrade_to="rank_upgrade_to",t.rank_relegated_to="rank_relegated_to",t.rank_demoted_to="rank_demoted_to",t.rank_win_more="rank_win_more",t.rank_league_info="rank_league_info",t.rank_wild_league="rank_wild_league",t.rank_settlement_tip="rank_settlement_tip",t.rank_settlement_result="rank_settlement_result",t.bonus_title_free="bonus_title_free",t.bonus_title_golden="bonus_title_golden",t.goldenPass_preview_reward="goldenPass_preview_reward",t.goldenPass_buy_to_unlock="goldenPass_buy_to_unlock",t.goldenPass_buy_to_unlock_all="goldenPass_buy_to_unlock_all",t.goldenPass_buy_to_golden_name="goldenPass_buy_to_golden_name",t.goldenPass_congratulation="goldenPass_congratulation",t.goldenPass_extra_reward="goldenPass_extra_reward",t.goldenPass_left_time="goldenPass_left_time",t.goldenPass_daily_coins="goldenPass_daily_coins",t.golden_name="golden_name",t.more_about_goldenPass="more_about_goldenPass",t.tex_game_bankrupt_tips="tex_game_bankrupt_tips",t.winner_get_pot="winner_get_pot",t.game_fclb_cheapest="game_fclb_cheapest",t.game_fclb_popular="game_fclb_popular",t.game_fclb_bestdeal="game_fclb_bestdeal",t.boost_recharge="boost_recharge",t.game_switch_cards="game_switch_cards",t}();n.LangKey=o,cc._RF.pop()},{}],LanguageImpl:[function(t,e,n){"use strict";cc._RF.push(e,"4833bSlATtMP5TjSnOZZYdM","LanguageImpl"),Object.defineProperty(n,"__esModule",{value:!0}),n.LanguageImpl=n.i18n=void 0;var o=t("../const/Global"),i=t("./LangGolbalEN"),r=t("./LangGolbalIT"),a=t("./LangGolbalZH");n.i18n={language:""};var s=function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t)},t.prototype.data=function(e){return t.setLanguage(e)},t.setLanguage=function(t){if(this.lan&&this.lan.language===t)return n.i18n;switch(this.lan=null,t){case cc.sys.LANGUAGE_ENGLISH:this.lan=new i.LangGolbalEN;break;case cc.sys.LANGUAGE_ITALIAN:this.lan=new r.LangGolbalIT;break;case cc.sys.LANGUAGE_CHINESE:this.lan=new a.LangGolbalZH;break;default:this.lan=new i.LangGolbalEN}return n.i18n.language=this.lan.language,n.i18n[""+o.gAssetBundleName.RESOURCES]={},n.i18n[""+o.gAssetBundleName.RESOURCES]=this.lan,n.i18n},Object.defineProperty(t,"i18n",{get:function(){return this.lan},enumerable:!1,configurable:!0}),t._instance=null,t.lan=null,t}();n.LanguageImpl=s,cc._RF.pop()},{"../const/Global":"Global","./LangGolbalEN":"LangGolbalEN","./LangGolbalIT":"LangGolbalIT","./LangGolbalZH":"LangGolbalZH"}],Language:[function(t,e,n){"use strict";cc._RF.push(e,"b21c1RT379P5ru+HX2HXW9M","Language"),Object.defineProperty(n,"__esModule",{value:!0}),n.Language=void 0;var o=t("./../../app/model/LocalDataProxy"),i=t("../../app/const/Global"),r=t("../../app/event/Notify"),a=t("../event/EventDispatcher"),s=function(){function t(){this._data={language:"unknown"}}return t.getInstance=function(){return this._instance||(this._instance=new t)},Object.defineProperty(t,"defLan",{get:function(){var t=cc.sys.language;return i.gLanguagesSet.indexOf(t)>0?this._defLanguage=t:this._defLanguage=cc.sys.LANGUAGE_ITALIAN,this._defLanguage},set:function(t){i.gLanguagesSet.indexOf(t)>0&&(this._defLanguage=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"delegate",{get:function(){return this._delegate},set:function(t){this._delegate=t,this.change(this.getLanguage())},enumerable:!1,configurable:!0}),t.prototype.change=function(t){this.delegate&&(this._data&&this._data.language==t||(i.ENABLE_CHANGE_LANGUAGE?(this._data=this.delegate.data(t),o.LocalStorageProxy.setValue(o.LocalStorageProxy.AppLanguage,t),a.EventDispatcher.getInstance().dispatch(r.Notify.Base.CHANGE_LANGUAGE,t)):(this._data=this.delegate.data(this.getLanguage()),o.LocalStorageProxy.setValue(o.LocalStorageProxy.AppLanguage,this._data.language))))},t.prototype.get=function(t){var e="";do{if(!t)break;if(t.length<1)break;var n=t[0];if("string"!=typeof n){cc.error("key error");break}if(!(n.indexOf(i.USING_LAN_KEY)>-1))return n=t.shift(),String.format(n,t);var o=n.split(".");if(o.length<2){cc.error("key error");break}if(o.shift(),t.shift(),!(e=this._data[o[0]])){cc.error("\u8bed\u8a00\u5305\u4e0d\u5b58\u5728 : "+n);break}for(var r=1;r<o.length&&null!=e[o[r]];r++)e=e[o[r]];r!=o.length&&cc.error("\u8bed\u8a00\u5305\u4e0d\u5b58\u5728 : "+n),e=String.format(e,t)}while(0);return e},t.prototype.getLanguage=function(){return o.LocalStorageProxy.getValue(o.LocalStorageProxy.AppLanguage,t.defLan)},t.prototype.getSpritePath=function(t){var e={url:"",bundle:"",name:"",type:0};do{if(!t)break;if(t.length<1)break;var n=t.split(":"),o=n[0],i=n[1];if("string"!=typeof i){cc.error("key error");break}e.bundle=o;var r=void 0,a=i.split("/");if("i18n"===a[0]){if(a.length<3){cc.error("key error");break}r=a[2]}else r=a[1];if(r.startsWith("#")){var s=r.substr(1,r.length).split("."),c=s[0],l=s[1];e.url=a[0]+"/"+a[1]+"/"+c,e.name=l,e.type=2}else e.url=i,e.name=r,e.type=1}while(0);return e},t._defLanguage=cc.sys.LANGUAGE_ITALIAN,t._instance=null,t}();n.Language=s,cc._RF.pop()},{"../../app/const/Global":"Global","../../app/event/Notify":"Notify","../event/EventDispatcher":"EventDispatcher","./../../app/model/LocalDataProxy":"LocalDataProxy"}],LevelUnlockLayer:[function(t,e,n){"use strict";cc._RF.push(e,"da386EXZrlKUKJg2CCjja5s","LevelUnlockLayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../lib/base/BottomBarView"),s=t("../../../lib/base/CxComponent"),c=t("../../../lib/utils/ComUtils"),l=t("../../../lib/utils/Logger"),u=t("../../const/Global"),d=t("../../language/LanguageCfg"),p=cc._decorator,h=p.ccclass,f=p.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spUnLockIcon=null,e.spFrames=[],e.labDesc=null,e}return i(e,t),e.prototype.initParams=function(){return{showSubBG:!1,showTitle:!1}},e.prototype.init=function(t){var e=t.data;this.setUnlockIcon(e.dwId),this.setDesc(JSON.parse(c.ComUtils.u8ToUTF8Str(e.byContent)).txt||"")},e.prototype.start=function(){a.BottomBarView.setBottomBar(this.node,[{style:u.gColorStyle.GREEN,text:c.ComUtils.makeLang(d.LangKey.text_confirm),callback:this.close.bind(this)}])},e.prototype.listEvent=function(){return null},e.prototype.setUnlockIcon=function(t){var e=this.spFrames[t-1];e?this.spUnLockIcon.spriteFrame=e:(this.spUnLockIcon.node.active=!1,l.Logger.error("\u9519\u8bef\uff0c\u627e\u4e0d\u5230\u89e3\u9501\u56fe\u6807"))},e.prototype.setDesc=function(t){this.labDesc.string=t},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this)},r([f({type:cc.Sprite,tooltip:"\u89e3\u9501\u529f\u80fd\u56fe\u6807"})],e.prototype,"spUnLockIcon",void 0),r([f({type:cc.SpriteFrame,tooltip:"\u89e3\u9501\u529f\u80fd\u56fe\u6807\uff0c\u4f9d\u6b21\u4e3a\uff1a\u6e38\u620f\u3001\u684c\u5b50"})],e.prototype,"spFrames",void 0),r([f({type:cc.Label,tooltip:"\u63cf\u8ff0\u6587\u5b57"})],e.prototype,"labDesc",void 0),r([h],e)}(s.CxComponent);n.default=g,cc._RF.pop()},{"../../../lib/base/BottomBarView":"BottomBarView","../../../lib/base/CxComponent":"CxComponent","../../../lib/utils/ComUtils":"ComUtils","../../../lib/utils/Logger":"Logger","../../const/Global":"Global","../../language/LanguageCfg":"LanguageCfg"}],LevelUpLayer:[function(t,e,n){"use strict";cc._RF.push(e,"6e419Z2y4FGIZfKmQfp4M/f","LevelUpLayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../lib/base/BottomBarView"),s=t("../../../lib/base/CxComponent"),c=t("../../../lib/utils/ComUtils"),l=t("../../const/AudioFile"),u=t("../../const/Global"),d=t("../../event/Notify"),p=t("../../language/LanguageCfg"),h=t("../ComFunctions"),f=cc._decorator,g=f.ccclass,_=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labLevel=null,e.ndReward=null,e.spRewardNorFrames=[],e.spRewardBoxFrame=null,e.spFrameGoldenBg=null,e.spFrameSilverBg=null,e.spineAni=[],e._level=0,e}return i(e,t),e.prototype.initParams=function(){return{showSubBG:!1,showTitle:!1}},e.prototype.init=function(t){this.dispatch(d.Notify.Base.PLAY_EFFECT,{path:l.AudioFile.Com.LEVEL_UP});var e=t.body;this.setLevel(e.dwLevel),this.setRewards(e.tabReward),this.playEnterAni()},e.prototype.playEnterAni=function(){var t=this,e=this.spineAni[1],n=this.spineAni[0];e.animation="levelup",e.loop=!1,n.node.active=!1,e.setCompleteListener(function(){n.node.active=!0,n.animation="levelup_zhanshi",n.loop=!0}),this.labLevel.node.opacity=0,h.ComFunctions.performWithDelay(this.labLevel.node,function(){t.labLevel.node.runAction(cc.fadeIn(.6))},.4)},e.prototype.start=function(){a.BottomBarView.setBottomBar(this.node,[{style:u.gColorStyle.GREEN,text:c.ComUtils.makeLang(p.LangKey.text_collect),callback:this.onClickClaim.bind(this)}]);var t=this.getComponent(a.BottomBarView);t&&(t.hideBottomBar(),h.ComFunctions.performWithDelay(this.node,function(){t.hideBottomBar(!1)},.8))},e.prototype.setLevel=function(t){this._level=t,this.labLevel&&(this.labLevel.string=t.toString())},e.prototype.setRewards=function(t){var e=this;cc.log("\u5956\u52b1\u6570\u636e",t),this.ndReward.active=!1,t.forEach(function(t){var n=null;if(t.strExData&&t.strExData.length>0){var o=JSON.parse(c.ComUtils.u8ToUTF8Str(t.strExData));cc.log("\u5956\u52b1\u989d\u5916\u6570\u636e",o),o.level&&(n=o.level)}var i=e.getRewardIconFrame(t.dwType,n);if(i){var r=cc.instantiate(e.ndReward);r.getChildByName("sp_award").getComponent(cc.Sprite).spriteFrame=i;var a=r.getChildByName("item_bg"),s=r.getChildByName("lab_num");t.dwType==u.gShopHBType.GOLD?(a.getComponent(cc.Sprite).spriteFrame=e.spFrameGoldenBg,s.getComponent(cc.Label).string="x"+t.dwNum):t.dwType==u.gShopHBType.POWER?(a.getComponent(cc.Sprite).spriteFrame=e.spFrameSilverBg,s.getComponent(cc.Label).string="x"+t.dwNum):a.active=!1,t.dwNum<=0&&(s.active=!1),t.dwType==u.gShopHBType.BOX&&(s.active=!1),r.parent=e.ndReward.parent,r.active=!0}})},e.prototype.getRewardIconFrame=function(t,e){var n=null;switch(t){case u.gShopHBType.GOLD:n=this.spRewardNorFrames[0];break;case u.gShopHBType.POWER:n=this.spRewardNorFrames[1];break;case u.gShopHBType.CHIPS:n=this.spRewardNorFrames[2]}return e&&(n=this.spRewardBoxFrame),n},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this)},e.prototype.onClickClaim=function(){this.dispatch(d.Notify.Other.REQ_RECV_LEVELUP_REWARD),this.close()},r([_({type:cc.Label,tooltip:"\u7b49\u7ea7\u6807\u7b7e"})],e.prototype,"labLevel",void 0),r([_({type:cc.Node,tooltip:"\u5956\u52b1\u8282\u70b9"})],e.prototype,"ndReward",void 0),r([_({type:cc.SpriteFrame,tooltip:"\u5956\u52b1\u56fe\u6807\u8d44\u6e90\uff0c\u4f9d\u6b21\u4e3a\uff1a\u91d1\u5e01\uff0c\u4f53\u529b\uff0c\u788e\u7247"})],e.prototype,"spRewardNorFrames",void 0),r([_({type:cc.SpriteFrame,tooltip:"\u5956\u52b1\u56fe\u6807\u8d44\u6e90\uff0c\u5b9d\u7bb1"})],e.prototype,"spRewardBoxFrame",void 0),r([_({type:cc.SpriteFrame,tooltip:"\u91d1\u8272\u56fe\u6807\u80cc\u666f"})],e.prototype,"spFrameGoldenBg",void 0),r([_({type:cc.SpriteFrame,tooltip:"\u94f6\u8272\u56fe\u6807\u80cc\u666f"})],e.prototype,"spFrameSilverBg",void 0),r([_({type:sp.Skeleton,tooltip:"\u6807\u9898\u52a8\u753b"})],e.prototype,"spineAni",void 0),r([g],e)}(s.CxComponent);n.default=y,cc._RF.pop()},{"../../../lib/base/BottomBarView":"BottomBarView","../../../lib/base/CxComponent":"CxComponent","../../../lib/utils/ComUtils":"ComUtils","../../const/AudioFile":"AudioFile","../../const/Global":"Global","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../ComFunctions":"ComFunctions"}],Loading:[function(t,e,n){"use strict";cc._RF.push(e,"6ebf8OV335FmYRIErb77lfU","Loading");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.Loading=void 0;var a=t("../../../lib/base/CxComponent"),s=t("../../../lib/utils/Display"),c=t("../../event/Notify"),l=t("../../view/ComUI"),u=cc._decorator,d=u.ccclass,p=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mask=null,e.aniLoading=null,e.labLoadingText=null,e.btnCancel=null,e}return i(e,t),e.prototype.show=function(t){var e=t||{},n=!0,o=10;void 0!==e.sw&&(n=e.sw),void 0!==e.time&&(o=e.time),this.node.width=s.Display.width,this.node.height=s.Display.height,n&&this.node.addComponent(cc.BlockInputEvents),e.tipsTxt&&(this.labLoadingText.node.active=!0,this.labLoadingText.string=e.tipsTxt),cc.tween(this.node).delay(o).call(function(){l.ComUI.rmLoading()}).start(),this.switchView(t.type),this.mask&&!1===e.mask&&(this.mask.active=!1),t.cancelTime&&this.btnCancel&&(this.btnCancel.node.on("click",this.onClickCancelBtn,this),this.btnCancel.node.active=!0,this.btnCancel.node.opacity=0,cc.tween(this.btnCancel.node).delay(t.cancelTime).to(.5,{opacity:255}).start())},e.prototype.start=function(){this.aniLoading&&this.aniLoading.play()},e.prototype.switchView=function(){},e.prototype.onClickCancelBtn=function(){this.dispatch(c.Notify.Base.CANCEL_LOADING_VIEW),this.node.destroy()},r([p(cc.Node)],e.prototype,"mask",void 0),r([p(cc.Animation)],e.prototype,"aniLoading",void 0),r([p(cc.Label)],e.prototype,"labLoadingText",void 0),r([p(cc.Button)],e.prototype,"btnCancel",void 0),r([d],e)}(a.CxComponent);n.Loading=h,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../../lib/utils/Display":"Display","../../event/Notify":"Notify","../../view/ComUI":"ComUI"}],LobbyRankList:[function(t,e,n){"use strict";cc._RF.push(e,"3d4ca1dyllM54Zuwe/Ikezq","LobbyRankList");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../script/lib/base/CxComponent"),s=t("../../../lib/base/Language"),c=t("../../../lib/i18n/i18nHelper"),l=t("../../../lib/utils/ComUtils"),u=t("../../../lib/utils/Display"),d=t("../../base/component/ComListView"),p=t("../../base/component/ComMoreListView"),h=t("../../event/Notify"),f=t("../../language/LanguageCfg"),g=t("../ComUI"),_=t("./RankFristView"),y=t("./RankInfo"),m=t("./RankItemView"),b=t("./RankMyItem"),v=cc._decorator,S=v.ccclass,w=v.property,C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mPreItem=null,e.mPreFristItem=null,e.mPreMyItem=null,e.mPreTips=null,e.nScrollView=null,e.mProbarUpgrade=null,e.mLabEndtime=null,e.nMyRankItem=null,e.nMainNode=null,e.mBtnToTop=null,e.mBtnRankCfg=null,e.mSpriteAtl=null,e.mRankLv=null,e.mRankLvNum=null,e.mRankLvName=null,e.mRankNextLv=null,e.mRankNextLvNum=null,e.mRankNextLvName=null,e.mMyRank=null,e.mWinGold=null,e.mQuickGold=null,e.nProbarMask=null,e.mSprTop=null,e.mLabTraEarnings1=null,e.mLabTraEarnings2=null,e.mLabTraEarnings3=null,e.mLabTraEarnOver=null,e.mLabTraInstant=null,e.mLabTraPromote=null,e.mLabTraPlace=null,e.mLabTraName=null,e.mLabTraLeague=null,e.nStatisticsBg=null,e.mLabStatisticsTip=null,e.mLabStatisticsTime=null,e.nNormol=[],e.testdate=[],e.mStartTime=0,e.mCurTime=0,e.mTimeCount=0,e.mCheckCnt=0,e.mStatTime=0,e.startScr=null,e.timeLock=!0,e}return i(e,t),e.prototype.listEvent=function(){return new Map([[h.Notify.Ranking.RESP_PERSONAL_INFORMATION,this.onMyRankInfo],[h.Notify.Ranking.RESP_RANKING_LIST,this.onRankList],[h.Notify.Ranking.IN_STATISTICS,this.showStatistics]])},e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},e.prototype.start=function(){this.nMainNode&&(this.nMainNode.height=u.Display.height-381),this.mBtnToTop&&this.mBtnToTop.node.on("click",this.toTop,this),this.mBtnRankCfg&&this.mBtnRankCfg.node.on("click",this.getRewardCfg,this),this.nScrollView&&this.nScrollView.node.on("scroll-ended",this.toTopShow,this),this.dispatch(h.Notify.Ranking.REQ_SEGMENT_COMPETITION_LIST)},e.prototype.onMyRankInfo=function(t){if(t){var e=0;if(this.mProbarUpgrade&&t.dwQuickGold&&t.dwMyWinGold<=t.dwQuickGold?(this.mProbarUpgrade.node.getChildByName("Mask").getChildByName("bar").opacity=255,e=t.dwMyWinGold/t.dwQuickGold):(this.mProbarUpgrade.node.getChildByName("Mask").getChildByName("bar").opacity=0,e=.5),this.nProbarMask&&(this.nProbarMask.width=e*this.mProbarUpgrade.totalLength),this.mMyRank&&this.nProbarMask){var n=this.nProbarMask.width-400;this.mMyRank.node.parent.x=n}this.mLabEndtime&&t.dwTime&&(this.mTimeCount=0,this.mCheckCnt=0,this.mStartTime=(new Date).getTime()/1e3,this.mCurTime=t.dwTime,this.updateEndTime(t.dwTime),this.stopTimer(),this.startTimer()),this.upRankInfo(t),this.i18nLab(t)}},e.prototype.i18nLab=function(t){this.mLabTraEarnings1&&(this.mLabTraEarnings1.string=l.ComUtils.getLang(f.LangKey.rank_has_win)),this.mLabTraEarnings2&&(this.mLabTraEarnings2.string=l.ComUtils.getLang(f.LangKey.rank_has_win)),this.mLabTraEarnings3&&(this.mLabTraEarnings3.string=l.ComUtils.getLang(f.LangKey.rank_has_win)),this.mLabTraEarnOver&&(this.mLabTraEarnOver.string=c.i18nHelper.getLanguage([f.LangKey.rank_upgrade_after_winning,l.ComUtils.formatGoldStr(t.dwQuickGold,1e3,0)])),this.mLabTraInstant&&(this.mLabTraInstant.string=l.ComUtils.getLang(f.LangKey.rank_quick_upgrade)),this.mLabTraPromote&&(this.mLabTraPromote.string=l.ComUtils.getLang(f.LangKey.rank_rise)),this.mLabTraPlace&&(this.mLabTraPlace.string=l.ComUtils.getLang(f.LangKey.rank_ranking)),this.mLabTraName&&(this.mLabTraName.string=l.ComUtils.getLang(f.LangKey.rank_name)),this.mLabTraLeague&&(this.mLabTraLeague.string=l.ComUtils.getLang(f.LangKey.rank_league_info)),this.mSprTop&&this.mSpriteAtl&&this.mSpriteAtl.getSpriteFrame("rank_lob_title_"+s.Language.getInstance().getLanguage())&&(this.mSprTop.spriteFrame=this.mSpriteAtl.getSpriteFrame("rank_lob_title_"+s.Language.getInstance().getLanguage()))},e.prototype.upRankInfo=function(t){var e=y.default.rankName[t.dwDan1-1],n=y.default.rankName[t.dwNextDan1-1];if(this.mSpriteAtl&&(this.mRankLv&&this.mSpriteAtl.getSpriteFrame("rank_lv_"+e)&&(this.mRankLv.spriteFrame=this.mSpriteAtl.getSpriteFrame("rank_lv_"+e)),this.mRankNextLv&&this.mSpriteAtl.getSpriteFrame("rank_lv_"+n)&&(this.mRankNextLv.spriteFrame=this.mSpriteAtl.getSpriteFrame("rank_lv_"+n))),this.mRankLvNum&&(this.mRankLvNum.string=y.default.rankNum[t.dwDan2-1],this.mRankLvNum.node.color=(new cc.Color).fromHEX(y.default.rankNumColor[t.dwDan2-1]),this.mRankLvNum.node.getComponent(cc.LabelOutline)&&(this.mRankLvNum.node.getComponent(cc.LabelOutline).color=(new cc.Color).fromHEX(y.default.rankNumStrok[t.dwDan1-1]))),this.mRankLvName){var o=f.LangKey.rank_lv+"_"+y.default.rankTranslateName[t.dwDan1-1];this.mRankLvName.string=l.ComUtils.getLang(o)}this.mRankNextLvNum&&(this.mRankNextLvNum.string=y.default.rankNum[t.dwNextDan2-1],this.mRankNextLvNum.node.color=(new cc.Color).fromHEX(y.default.rankNumColor[t.dwNextDan2-1]),this.mRankNextLvNum.node.getComponent(cc.LabelOutline)&&(this.mRankNextLvNum.node.getComponent(cc.LabelOutline).color=(new cc.Color).fromHEX(y.default.rankNumStrok[t.dwNextDan1-1]))),this.mRankNextLvName&&(o=f.LangKey.rank_lv+"_"+y.default.rankTranslateName[t.dwNextDan1-1],this.mRankNextLvName.string=l.ComUtils.getLang(o)),this.updateCursor(t)},e.prototype.updateCursor=function(t){this.mMyRank&&(1==t.dwMyRank?this.mMyRank.string="1st":2==t.dwMyRank?this.mMyRank.string="2nd":this.mMyRank.string=t.dwMyRank+"th"),this.mWinGold&&(-1==t.dwMyWinGold?this.mWinGold.string=l.ComUtils.getLang(f.LangKey.rank_new):this.mWinGold.string=l.ComUtils.formatGoldStr(t.dwMyWinGold,1e10))},e.prototype.onRankList=function(t){if(this.timeLock&&t){var e=null;this.nScrollView.content.getChildByName("RankFrist")?(e=this.nScrollView.content.getChildByName("RankFrist")).getComponent(_.default).init(t.fristitem):((e=cc.instantiate(this.mPreFristItem)).getComponent(_.default).init(t.fristitem),this.nScrollView.content.addChild(e));var n=cc.instantiate(this.mPreMyItem),o=n.getComponent(b.default);this.nMyRankItem.childrenCount>0?this.nMyRankItem.children[0].getComponent(b.default).init(t.myItem):(o.init(t.myItem),this.nMyRankItem.addChild(n));for(var i=[],r=0;r<t.rankList.length;r++){if(i.push(t.rankList[r]),r==t.rankToUpNum-1){var a={type:1};i.push(a)}r==t.rankKeep-1&&(a={type:2},i.push(a))}var s={scrollView:this.nScrollView,content:this.nScrollView.content,itemPrefab:this.mPreItem,itemClass:m.default,dataList:i,dataEx:null,top:e.height+13+10,space:13,bottom:n.height},c=this.node.getComponent(d.ComListView);null==c&&(c=this.node.addComponent(d.ComListView)),this.timeLock=!1,c.initParams(s),c.initScrollView()}else{var l=this.node.getComponent(d.ComListView);null==l&&(l=this.node.addComponent(d.ComListView)),l.ScrollTo(0,1)}g.ComUI.rmLoading()},e.prototype.onRankList1=function(t){if(this.timeLock&&t){var e=cc.instantiate(this.mPreMyItem),n=e.getComponent(b.default);this.nMyRankItem.childrenCount>0?this.nMyRankItem.children[0].getComponent(b.default).init(t.myItem):(n.init(t.myItem),this.nMyRankItem.addChild(e)),this.nScrollView,this.nScrollView.content,this.mPreItem,m.default,t.rankList,e.height;var o={scrollView:this.nScrollView,content:this.nScrollView.content,itemPrefabList:[this.mPreFristItem,this.mPreItem,this.mPreTips],itemClassList:[_.default,m.default,m.default],dataList:t.rankList,space:20,dataEx:null,top:20,bottom:e.height};null==(i=this.node.getComponent(p.ComMoreListView))&&(i=this.node.addComponent(p.ComMoreListView)),this.timeLock=!1,i.initParamsList(o),i.initScrollViewList()}else{var i;null==(i=this.node.getComponent(p.ComMoreListView))&&(i=this.node.addComponent(p.ComMoreListView)),i.ScrollTo(0)}g.ComUI.rmLoading()},e.prototype.updateEndTime=function(t){this.mLabEndtime.string=c.i18nHelper.getLanguage([f.LangKey.rank_at_end_of,l.ComUtils.formatTimeString(t,"00:00:00")])},e.prototype.startTimer=function(){this.schedule(this.updateTimer,1)},e.prototype.updateTimer=function(){this.mTimeCount++,this.mCheckCnt++,20==this.mCheckCnt&&(this.mCheckCnt=0,this.timeLock=!0,this.mTimeCount=Math.floor((new Date).getTime()/1e3)-this.mStartTime),this.mCurTime-this.mTimeCount<0?this.stopTimer():this.updateEndTime(this.mCurTime-this.mTimeCount)},e.prototype.stopTimer=function(){this.unschedule(this.updateTimer)},e.prototype.toTop=function(){var t=this.node.getComponent(d.ComListView);null==t&&(t=this.node.addComponent(d.ComListView)),t.ScrollTo(0,-1),this.mBtnToTop.node.active=!1},e.prototype.toTop1=function(){var t=this.node.getComponent(p.ComMoreListView);null==t&&(t=this.node.addComponent(p.ComMoreListView)),t.ScrollTo(0,-1),this.mBtnToTop.node.active=!1},e.prototype.getRewardCfg=function(){this.dispatch(h.Notify.Ranking.REQ_UPGRADE_CONFIGURATION)},e.prototype.toTopShow=function(){null==this.startScr?this.startScr=this.nScrollView.content.y:(this.mBtnToTop&&this.nScrollView.content.y>this.startScr+100&&(this.mBtnToTop.node.active=!0),this.mBtnToTop&&this.nScrollView.content.y<=this.startScr+100&&(this.mBtnToTop.node.active=!1))},e.prototype.showStatistics=function(t){this.showBg(t.isStat),t&&t.isStat&&(this.mLabStatisticsTip&&(this.mLabStatisticsTip.string=l.ComUtils.getLang(f.LangKey.rank_settlement_tip)),this.mTimeCount=0,this.mCheckCnt=0,this.mStartTime=(new Date).getTime()/1e3,this.mStatTime=t.dwTime,this.updateStatisticsEndTime(t.dwTime),this.stopStatisticsTimer(),this.startStatisticsTimer(),g.ComUI.rmLoading())},e.prototype.updateStatisticsEndTime=function(t){this.mLabStatisticsTime.string=l.ComUtils.formatTimeString(t,"00:00")},e.prototype.updateStatisticsTimer=function(){this.mTimeCount++,this.mCheckCnt++,20==this.mCheckCnt&&(this.mCheckCnt=0,this.mTimeCount=Math.floor((new Date).getTime()/1e3)-this.mStartTime),this.mStatTime-this.mTimeCount<0?(this.stopStatisticsTimer(),this.dispatch(h.Notify.Ranking.REQ_SEGMENT_COMPETITION_LIST)):this.updateStatisticsEndTime(this.mStatTime-this.mTimeCount)},e.prototype.startStatisticsTimer=function(){this.schedule(this.updateStatisticsTimer,1)},e.prototype.stopStatisticsTimer=function(){this.unschedule(this.updateStatisticsTimer)},e.prototype.showBg=function(t){this.nStatisticsBg&&(this.nStatisticsBg.active=t),this.nNormol&&this.nNormol.forEach(function(e){e&&(e.active=!t)})},r([w(cc.Prefab)],e.prototype,"mPreItem",void 0),r([w(cc.Prefab)],e.prototype,"mPreFristItem",void 0),r([w(cc.Prefab)],e.prototype,"mPreMyItem",void 0),r([w(cc.Prefab)],e.prototype,"mPreTips",void 0),r([w(cc.ScrollView)],e.prototype,"nScrollView",void 0),r([w(cc.ProgressBar)],e.prototype,"mProbarUpgrade",void 0),r([w(cc.Label)],e.prototype,"mLabEndtime",void 0),r([w(cc.Node)],e.prototype,"nMyRankItem",void 0),r([w(cc.Node)],e.prototype,"nMainNode",void 0),r([w(cc.Button)],e.prototype,"mBtnToTop",void 0),r([w(cc.Button)],e.prototype,"mBtnRankCfg",void 0),r([w(cc.SpriteAtlas)],e.prototype,"mSpriteAtl",void 0),r([w(cc.Sprite)],e.prototype,"mRankLv",void 0),r([w(cc.Label)],e.prototype,"mRankLvNum",void 0),r([w(cc.Label)],e.prototype,"mRankLvName",void 0),r([w(cc.Sprite)],e.prototype,"mRankNextLv",void 0),r([w(cc.Label)],e.prototype,"mRankNextLvNum",void 0),r([w(cc.Label)],e.prototype,"mRankNextLvName",void 0),r([w(cc.Label)],e.prototype,"mMyRank",void 0),r([w(cc.Label)],e.prototype,"mWinGold",void 0),r([w(cc.Label)],e.prototype,"mQuickGold",void 0),r([w(cc.Node)],e.prototype,"nProbarMask",void 0),r([w(cc.Sprite)],e.prototype,"mSprTop",void 0),r([w(cc.Label)],e.prototype,"mLabTraEarnings1",void 0),r([w(cc.Label)],e.prototype,"mLabTraEarnings2",void 0),r([w(cc.Label)],e.prototype,"mLabTraEarnings3",void 0),r([w(cc.Label)],e.prototype,"mLabTraEarnOver",void 0),r([w(cc.Label)],e.prototype,"mLabTraInstant",void 0),r([w(cc.Label)],e.prototype,"mLabTraPromote",void 0),r([w(cc.Label)],e.prototype,"mLabTraPlace",void 0),r([w(cc.Label)],e.prototype,"mLabTraName",void 0),r([w(cc.Label)],e.prototype,"mLabTraLeague",void 0),r([w(cc.Node)],e.prototype,"nStatisticsBg",void 0),r([w(cc.Label)],e.prototype,"mLabStatisticsTip",void 0),r([w(cc.Label)],e.prototype,"mLabStatisticsTime",void 0),r([w(cc.Node)],e.prototype,"nNormol",void 0),r([S],e)}(a.CxComponent);n.default=C,cc._RF.pop()},{"../../../../script/lib/base/CxComponent":"CxComponent","../../../lib/base/Language":"Language","../../../lib/i18n/i18nHelper":"i18nHelper","../../../lib/utils/ComUtils":"ComUtils","../../../lib/utils/Display":"Display","../../base/component/ComListView":"ComListView","../../base/component/ComMoreListView":"ComMoreListView","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../ComUI":"ComUI","./RankFristView":"RankFristView","./RankInfo":"RankInfo","./RankItemView":"RankItemView","./RankMyItem":"RankMyItem"}],LocalDataProxy:[function(t,e,n){"use strict";cc._RF.push(e,"b2a41ZkEwRDm7cNbhk1LXg7","LocalDataProxy"),Object.defineProperty(n,"__esModule",{value:!0}),n.LocalStorageProxy=void 0;var o=function(){function t(){t.USERID=cc.sys.localStorage.getItem("userId","")}return t.prototype.set=function(t,e){cc.sys.localStorage.setItem(t,e)},t.prototype.get=function(t,e){var n=cc.sys.localStorage.getItem(t);return null===n||""===n?e:n},t.prototype.remove=function(t){cc.sys.localStorage.removeItem(t)},t.prototype.clear=function(){cc.sys.localStorage.clear()},t.setValue=function(t,e){cc.sys.localStorage.setItem(t,e)},t.getValue=function(t,e){var n=cc.sys.localStorage.getItem(t);return null===n||""===n?e:n},t.removeValue=function(t){cc.sys.localStorage.removeItem(t)},t.getUserSaveKey=function(t){return t+"_"+this.USERID},t.setUserValue=function(t,e){cc.sys.localStorage.setItem(this.getUserSaveKey(t),e)},t.getUserValue=function(t,e){var n=cc.sys.localStorage.getItem(this.getUserSaveKey(t));return null===n||""===n?e:n},t.removeUserValue=function(t){cc.sys.localStorage.removeItem(this.getUserSaveKey(t))},t.replaceToUserValue=function(){var t=this;i.forEach(function(e){var n=cc.sys.localStorage.getItem(e);null!==n&&(cc.sys.localStorage.setItem(t.getUserSaveKey(e),n),cc.sys.localStorage.removeItem(e))})},t.clearLastDateData=function(){t.setUserValue(t.TodayPopCount,0),t.setUserValue(t.NumOfGameToday,0)},t.NAME="local_storage_proxy",t.USERID="",t.On="1",t.Off="0",t.lastLoginUserId="lastLoginUserId",t.LoginType="loginType",t.UserId="userId",t.UserAccount="userAccount",t.UserPwd="userPwd",t.Music="music",t.Effect="effect",t.FangYan="fangYan",t.Record="record",t.MusicVolume="musicVolume",t.EffectVolume="effectVolume",t.HeadUrl="headUrl",t.HeadMode="MyHeadMode",t.AntiCheat="antiCheat",t.LastGid="lastGid",t.LastGidLK="lastGidLK",t.CreateInfo="createInfo%d",t.ResVersion="latestResVersion",t.AddedToMyApp="addedToMyApp",t.SubscribeSHB="SubscribeShb",t.AppLanguage="AppLanguage",t.EnterGame="enter_game",t.EnterGameType="enterGameType",t.MachineId="machine_id",t.UseTableId="useTableId",t.FaceBookToken="FaceBookToken",t.FaceBookTokenSaveTime="FaceBookTokenSaveTime",t.FaceBookLongToken="FaceBookLongToken",t.FaceBookLongExpiredTime="FaceBookLongExpiredTime",t.SHOP_ORDER_URL="shop_order_url",t.DailyFirstLogin="DailyFirstLogin",t.FirstLoginDate="first_login_date",t.UnRewardAdSceneId="unreward_ad_scene_id",t.PlayVideoAdCount="playvideoadcount",t.OpenAppCount="openappcount",t.PopCountCfg="popcount_cfg",t.TodayPopCount="today_popcount",t.ChaPinADJuShu="chapinadjushu",t.PopHigherGameJSCount="pophighergamejscount",t.NumOfGameToday="numofgametoday",t.LastLoginDate="lastlogindate",t.PlayedRule="playedrule_%s",t.PaySuccOrderList="PaySuccOrderList",t}();n.LocalStorageProxy=o;var i=[o.HeadUrl,o.LastGid,o.LastGidLK,o.CreateInfo,o.AddedToMyApp,o.SubscribeSHB,o.EnterGame,o.EnterGameType,o.DailyFirstLogin];cc._RF.pop()},{}],Logger:[function(t,e,n){"use strict";cc._RF.push(e,"86cd9spfNpA6bbG39oqRIh3","Logger"),Object.defineProperty(n,"__esModule",{value:!0}),n.Logger=void 0;var o=function(){function t(){}return Object.defineProperty(t,"level",{get:function(){return t.current},set:function(e){t.current=e},enumerable:!1,configurable:!0}),t.debug=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];t.current<=t.DEBUG&&cc.log(e,n)},t.info=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];t.current<=t.INFO&&cc.log(e,n)},t.warn=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];t.current<=t.WARN&&cc.warn(e,n)},t.error=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];t.current<=t.ERROR&&cc.error(e,n)},t.DEBUG=0,t.INFO=1,t.WARN=2,t.ERROR=3,t.CLOSE=4,t.current=t.INFO,t}();n.Logger=o,cc._RF.pop()},{}],LoginHandler:[function(t,e,n){"use strict";cc._RF.push(e,"5d196Nc+cpH2IrKI1/Sokn5","LoginHandler");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.LoginHandler=void 0;var r=t("./../../../platform/NativeApi"),a=t("../../../../lib/utils/ComUtils"),s=t("../../../../lib/utils/Logger"),c=t("../../../../plugin/pb/protofile/CMD_LoginMsg"),l=t("../../../config/GameConfig"),u=t("../../../model/LocalDataProxy"),d=t("../../../event/Notify"),p=t("../../../base/handler/ProxyHandler"),h=t("./LoginSocket"),f=t("../../../const/Global"),g=t("../view/LoginManager"),_=t("../../userInfo/UserInfoManager"),y=t("../../../language/LanguageCfg"),m=t("../../../../plugin/pb/protofile/GlobalMsgDef"),b=t("../../../platform/AppsFlyerSDK"),v=t("../../../platform/StatisticsDefine"),S=t("../../../../lib/utils/DateUtils"),w=t("../../../platform/ShareSDK"),C=t("../../../platform/AnalyticsUtils"),I=t("../../../platform/AnyThinkSDK"),D=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.connected=!1,e}return i(e,t),e.prototype.getName=function(){return"LoginHandler"},e.prototype.initSource=function(){t.prototype.initSource.call(this);var e=new h.LoginSocket("LoginSocket");this.registerProto(e),this.inter=e,this.sr=e},e.prototype.protocolConfig=function(){return[{protocol:c.MSG_SC_LogonSuccess,subid:c.LOGIN_SUB_MSG.MSGID_SC_LOGON_SUCCESS,cb:this.onLoginSuccess},{protocol:c.MSG_SC_LoginFinish,subid:c.LOGIN_SUB_MSG.MSGID_SC_LOGON_FINISH,cb:this.onLoginFinish},{protocol:c.MSG_SC_LogonError,subid:c.LOGIN_SUB_MSG.MSGID_SC_LOGON_ERROR,cb:this.onLoginError},{protocol:c.MSG_SC_RtnRegAccountsInfo,subid:c.LOGIN_SUB_MSG.MSGID_SC_RTNREGACCOUNTINFO,cb:this.onRtnRegAccountsInfo},{protocol:c.MSG_SC_GameServerList,subid:c.LOGIN_SUB_MSG.MSGID_SC_GAMESERVERINFO,cb:this.onGameServerList},{protocol:c.MSG_SC_ProhibitLogin,subid:c.LOGIN_SUB_MSG.MSGID_SC_PROHIBITLOGINMSG,cb:this.onProhibitLogin},{protocol:c.MSG_SC_StopLoginMsg,subid:c.LOGIN_SUB_MSG.MSGID_SC_STOPLOGINMSG,cb:this.onStopLogin},{protocol:c.MSG_SC_GameDNS,subid:c.LOGIN_SUB_MSG.MSGID_SC_RTNGAMEDNS,cb:this.onGameDNS},{protocol:c.MSG_SC_ProhibitGameList,subid:c.LOGIN_SUB_MSG.MSGID_SC_PROHIBITGAMELIST,cb:this.onProhibitGameList},{protocol:c.MSG_SC_UserExistGame,subid:c.LOGIN_SUB_MSG.MSGID_SC_USEREXISTGAMEMSG,cb:this.onUserExistGame}]},e.prototype.getMainID=function(){return m.MAIN_MSG_ID.MAIN_MSG_VERIFY_LOGIN_ID},e.prototype.initEvent=function(){var e=this;t.prototype.initEvent.call(this),this.addEvent(h.LoginSocket.CONNECTED,function(){cc.log("LoginSocket_Connected"),e.connected=!0,e.trySendLoginData()}),this.addEvent(h.LoginSocket.CLOSED,function(t){var n=t.event;if(cc.log("LoginSocket_Closed:",n),e.connected=!1,1e3!==n.code&&t.curScoketId==t.closeScoketId&&0!=t.curScoketId){s.Logger.warn("LoginSocket\u8fde\u63a5\u4e0d\u4e0a");var o=a.ComUtils.getLang(y.LangKey.text_not_connect_server);e.dispatch(d.Notify.Login.FAILURE,o)}}),this.addEvent(h.LoginSocket.RECEIVED,function(t){cc.log("LoginSocket_Received:",t);var n=t.getID();e.handle(n,t)}),this.addEvent(d.Notify.Login.SEND,function(t){cc.log("LoginSocket_sendData:",t),e.sendNetMsg(t)}),this.addEvent(d.Notify.Login.CONNECT,function(){cc.log("connect-loginSocket"),e.inter.connect(l.GameConfig.g().getGameWSUrl())}),this.addEvent(d.Notify.Login.PLATFORM_LOGIN_FINISH,function(){e.trySendLoginData()})},e.prototype.trySendLoginData=function(){this.connected||this.dispatch(d.Notify.Login.CONNECT),cc.sys.platform==cc.sys.WECHAT_GAME&&this.userData.code?this.sendLoginData():cc.sys.platform!==cc.sys.WECHAT_GAME&&this.sendLoginData()},e.prototype.sendLoginData=function(){var t,e=((t={})[cc.sys.OS_ANDROID]=1,t[cc.sys.OS_IOS]=2,t[cc.sys.OS_OSX]=3,t),n=new c.MSG_CS_LoginData;n.dwPlatformID=l.GameConfig.g().getPlatformId(),n.dwProjectID=l.GameConfig.g().getProjectId(),n.chMachineType=a.ComUtils.utf8StrToU8(cc.sys.os),n.chTimeStamp=a.ComUtils.utf8StrToU8(Date.now()/1e3),n.iUseNetType=cc.sys.getNetworkType(),n.iDeviceType=e[cc.sys.os]||1,n.strSysLanguage=a.ComUtils.utf8StrToU8(cc.sys.language),n.dwSysTime=Date.now()/1e3,n.chMachineSerial=a.ComUtils.utf8StrToU8(r.NativeApi.getMachineId()),n.dwInviteUserID=parseInt(w.ShareSDK.getInviteUserId()),n.strVersion=l.GameConfig.g().getResVersion(),n.strResVersion=a.ComUtils.utf8StrToU8(l.GameConfig.g().getResVersion()),console.log("sendLoginData(): \u53d1\u8d77\u9080\u8bf7\u7684\u73a9\u5bb6 = ",n.dwInviteUserID);var o=g.LoginManager.getInstance().getLoginInfo();if(o){var i=g.LoginManager.getInstance().getPlatformAccountInfo(o.loginType);if(i){var u=i.account,d=i.pwd,p=i.userId,h=o.loginType,_=o.token,y=c.LOGIN_ACC_TYPE.LOGIN_ACCOUNT_YK;s.Logger.info("sendLoginData(): loginType=",h),s.Logger.info("sendLoginData(): accoutInfo=",i);var m={};this.adsData.append(m),m.serial=this.thirdData.inviteCode,a.ComUtils.isTextEmpty(_)?h==f.gLoginType.YK?(s.Logger.info("sendLoginData(): yk"),y=c.LOGIN_ACC_TYPE.LOGIN_ACCOUNT_YK,0!=p&&""!=u&&""!=d&&(s.Logger.info("sendLoginData(): yk account"),y=c.LOGIN_ACC_TYPE.LOGIN_ACCOUNT_LOGINREG)):(s.Logger.info("sendLoginData(): other account"),0!=p&&""!=u&&""!=d&&(y=c.LOGIN_ACC_TYPE.LOGIN_ACCOUNT_LOGINREG)):(console.log("sendLoginData(): token=",_),y=c.LOGIN_ACC_TYPE.LOGIN_ACCOUNT_TOKEN,m.token=_,o.id&&""!=o.id&&(m.id=o.id),o.name&&""!=o.name&&(m.name=o.name)),n.strLoginCfg=JSON.stringify(m),n.LoginType=y,n.dwSDKLoginType=this.getSDKLoginType(h),n.chPlatformAccount=a.ComUtils.utf8StrToU8(u),n.chPlatformPWD=a.ComUtils.utf8StrToU8(d),this.sendLoginRequest(n,this.getMainID(),c.LOGIN_SUB_MSG.MSGID_CS_ACCOUNTS_LOGIN_GAME),b.AppsFlyerSDK.logLogin(f.gLoginType[n.dwSDKLoginType]),console.log("sendLoginData(): loginType=",h),console.log("sendLoginData(): strLoginCfg=",n.strLoginCfg),console.log("sendLoginData(): serverAccountType=",y),console.log("sendLoginData(): dwSDKLoginType=",n.dwSDKLoginType),s.Logger.info("LoginHandler \u53d1\u9001 loginSocket\u767b\u5f55 ========>  requestBody: ",n)}}else console.log("sendLoginData(): getLoginInfo null")},e.prototype.getSDKLoginType=function(t){var e=0;return f.gLoginType.WXMini==t?e=c.LOGIN_TYPE.WECHAT_MINI:f.gLoginType.YK==t?e=c.LOGIN_TYPE.GUEST:f.gLoginType.FaceBook==t?e=c.LOGIN_TYPE.FACEBOOK:f.gLoginType.Apple==t&&(e=c.LOGIN_TYPE.APPLE),e},e.prototype.onLoginSuccess=function(t){console.log("login: onLoginSuccess:");var e=t.data;this.userData.userName=a.ComUtils.u8ToUTF8Str(e.szNickName),this.userData.gem=e.dwGem,this.userData.gemPercent=0,this.userData.gender=e.iGender,this.userData.gold=e.llGold,this.userData.userId=e.dwUserID,this.userData.faceId=e.iSysFaceID,this.userData.isNewPlayer=e.IsNewUser,e.chMachineSerial&&r.NativeApi.saveMachineId(a.ComUtils.u8ToUTF8Str(e.chMachineSerial)),u.LocalStorageProxy.USERID=e.dwUserID+"",C.AnalyticsUtils.setUserID(this.userData.userId+""),C.AnalyticsUtils.addUserValue("name",this.userData.userName+""),C.AnalyticsUtils.addUserValue("sex",this.userData.gender+""),C.AnalyticsUtils.addUserValue("loginType",this.userData.loginType+""),C.AnalyticsUtils.addUserValue("isNewPlayer",this.userData.isNewPlayer+""),console.log("NativeApi.getMachineId="+r.NativeApi.getMachineId()),I.AnyThinkSDK.getInstance().initSDK(),e.IsRegUser&&b.AppsFlyerSDK.logRegister(this.userData.loginType+"");var n=S.DateUtil.getTodayDateString(),o=u.LocalStorageProxy.getUserValue(u.LocalStorageProxy.FirstLoginDate,"");if(""==o&&e.IsRegUser)u.LocalStorageProxy.setUserValue(u.LocalStorageProxy.FirstLoginDate,n);else if(o){var i=new Date,s=S.DateUtil.getDateFromString(o),c=S.DateUtil.getDateNum(s,i);2===c?b.AppsFlyerSDK.logCustom(v.StatisticsDefine.DAY2OPEN):3===c?b.AppsFlyerSDK.logCustom(v.StatisticsDefine.DAY3OPEN):7===c&&b.AppsFlyerSDK.logCustom(v.StatisticsDefine.DAY7OPEN)}u.LocalStorageProxy.getUserValue(u.LocalStorageProxy.LastLoginDate,"")!=n&&(u.LocalStorageProxy.setUserValue(u.LocalStorageProxy.LastLoginDate,n),u.LocalStorageProxy.clearLastDateData()),_.UserInfoManager.getInstance().requestUserHead()},e.prototype.onLoginFinish=function(t){console.log("onLoginFinish:",t);var e=t.data;this.userData.sessionId=e.strUUID,this.userData.userId=e.dwUserID,console.log("onLoginFinish() chPlatformAccount="+a.ComUtils.u8ToUTF8Str(e.chPlatformAccount)),console.log("onLoginFinish() chPlatformPWD="+a.ComUtils.u8ToUTF8Str(e.chPlatformPWD)),g.LoginManager.getInstance().savePlatformAccount(a.ComUtils.u8ToUTF8Str(e.chPlatformAccount),a.ComUtils.u8ToUTF8Str(e.chPlatformPWD),e.dwUserID),this.localData.set(u.LocalStorageProxy.lastLoginUserId,e.dwUserID),this.dispatch(d.Notify.Login.FINISH,this.gameData.exsitGameInfo),this.inter.close(),this.dispatch(d.Notify.Gate.CONNECT)},e.prototype.onLoginError=function(t){var e=t.data,n=a.ComUtils.getLang(y.LangKey.text_login_fail)+"("+e.ErrorCode+", "+e.dwLineNum+")";console.log("onLoginError(): "+n);var o=e.ErrorCode;c.LOGIN_ERR_CODE.ERC_SC_PASSWORD_ERCOR==o&&(n=a.ComUtils.getLang(y.LangKey.text_wrong_password)),this.dispatch(d.Notify.Login.FAILURE,n)},e.prototype.onRtnRegAccountsInfo=function(t){var e=t.data;cc.log("onRtnRegAccountsInfo \u6ce8\u518c\u6210\u529f ====== ",e),console.log("onRtnRegAccountsInfo() chPlatformAccount="+a.ComUtils.u8ToUTF8Str(e.chPlatformAccount)),console.log("onRtnRegAccountsInfo() chPlatformPWD="+a.ComUtils.u8ToUTF8Str(e.chPlatformPWD)),g.LoginManager.getInstance().savePlatformAccount(a.ComUtils.u8ToUTF8Str(e.chPlatformAccount),a.ComUtils.u8ToUTF8Str(e.chPlatformPWD),e.dwUserID),this.userData.isNewPlayer=!0},e.prototype.onProhibitLogin=function(t){var e=t.data,n=a.ComUtils.u8ToUTF8Str(e.chProhibitDescribt);cc.log("onProhibitLogin \u7981\u6b62\u767b\u5f55 ====== ",n),this.dispatch(d.Notify.Login.FAILURE,n)},e.prototype.onStopLogin=function(t){var e=t.data,n=a.ComUtils.u8ToUTF8Str(e.chStopLoginSay);cc.log("onStopLogin \u505c\u6b62\u767b\u5f55 ====== ",n),this.dispatch(d.Notify.Login.FAILURE,n)},e.prototype.onGameServerList=function(t){var e=t.data;if(e&&e.gslist.length>0){var n=0,o=-1;this.configData.clear();for(var i=0;i<e.gslist.length;i++){var r=e.gslist[i],s=r.dwGameType,c=a.ComUtils.u8ToUTF8Str(r.chClientData),l=JSON.parse(c),u={dwServerID:r.dwServerID,dwGameID:r.dwGameID,dwGameType:s,dwGradeType:r.dwGradeType,dwOnLinePeopleNums:r.dwOnLinePeopleNums,dwHighPeopleNums:r.dwHighPeopleNums,chGameName:a.ComUtils.u8ToUTF8Str(r.chGameName),chClientData:l};-1==o&&l&&null!=l.entertype&&(o=l.entertype,this.configData.setEnterType(o)),this.configData.addGameInfo(u),n>0&&n!=s&&this.configData.sortByGameType(n),n=s}this.configData.sortByGameType(n),this.configData.setEntryGameTypeList(e.tabGameTypeList),this.configData.firstPlayNowGameId=e.dwPlayNowGameID||0}},e.prototype.onGameDNS=function(t){var e=t.data,n=JSON.parse(e.strgateaddr);this.configData.server={yunyingURL:e.stryunyingURL,uploadURL:e.struploadfileURL,downloadURL:e.strdownloadfileURL,gameURL:e.strgameURL,gate:{uri:n.dns,ip:n.ip,port:n.port}},cc.log("onGameDNS \u670d\u52a1\u5668\u5730\u5740\u4fe1\u606f\uff1a ",this.configData.server),l.GameConfig.g().updateServerInfo(this.configData.server)},e.prototype.onProhibitGameList=function(t){var e=t.data;cc.log("\u767b\u5f55\u7981\u6b62\u6e38\u620f\u5f00\u5173\u914d\u7f6e:",e),a.ComUtils.isNotNull(e.strGameList)&&0==a.ComUtils.isTextEmpty(e.strGameList)&&JSON.parse(e.strGameList),a.ComUtils.isNotNull(e.strNoShowList)&&0==a.ComUtils.isTextEmpty(e.strNoShowList)&&JSON.parse(e.strNoShowList)},e.prototype.onUserExistGame=function(t){var e=t.data;s.Logger.info("\u73a9\u5bb6\u5728\u6e38\u620f\u4e2d:",e),this.gameData.exsitGameInfo={gameID:e.dwGameID,gameType:e.dwGameType,gradeType:e.dwGradeType,queryTime:Date.now()}},e}(p.ProxyHandler);n.LoginHandler=D,cc._RF.pop()},{"../../../../lib/utils/ComUtils":"ComUtils","../../../../lib/utils/DateUtils":"DateUtils","../../../../lib/utils/Logger":"Logger","../../../../plugin/pb/protofile/CMD_LoginMsg":"CMD_LoginMsg","../../../../plugin/pb/protofile/GlobalMsgDef":"GlobalMsgDef","../../../base/handler/ProxyHandler":"ProxyHandler","../../../config/GameConfig":"GameConfig","../../../const/Global":"Global","../../../event/Notify":"Notify","../../../language/LanguageCfg":"LanguageCfg","../../../model/LocalDataProxy":"LocalDataProxy","../../../platform/AnalyticsUtils":"AnalyticsUtils","../../../platform/AnyThinkSDK":"AnyThinkSDK","../../../platform/AppsFlyerSDK":"AppsFlyerSDK","../../../platform/ShareSDK":"ShareSDK","../../../platform/StatisticsDefine":"StatisticsDefine","../../userInfo/UserInfoManager":"UserInfoManager","../view/LoginManager":"LoginManager","./../../../platform/NativeApi":"NativeApi","./LoginSocket":"LoginSocket"}],LoginManager:[function(t,e,n){"use strict";cc._RF.push(e,"addb0T0AbJK2brmKmW72Clo","LoginManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.LoginManager=void 0;var o=t("../../../../lib/event/EventDispatcher"),i=t("../../../../lib/external/Base64"),r=t("../../../../lib/utils/ComUtils"),a=t("../../../../lib/utils/Logger"),s=t("../../../const/Global"),c=t("../../../event/Notify"),l=t("../../../language/LanguageCfg"),u=t("../../../model/LocalDataProxy"),d=t("../../../platform/AppleLogin"),p=t("../../../view/ComUI"),h=t("./../../../platform/FaceBookSdk"),f=t("../../../model/DataProxy"),g=function(){function t(){this.mLoginType=0,this.mSuccCb=null,this.mFailCb=null,this.mLoginList=null,this.mAutoFlag=!0,this.mLoginInfo=null,this.init()}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.init=function(){this.initLoginConfig()},t.prototype.initLoginConfig=function(){this.mLoginList=[{loginType:s.gLoginType.WXMini,handleFunc:this.wxMiniLogin.bind(this)},{loginType:s.gLoginType.YK,handleFunc:this.ykLogin.bind(this)},{loginType:s.gLoginType.FaceBook,handleFunc:this.fbLogin.bind(this)},{loginType:s.gLoginType.Apple,handleFunc:this.apppleLogin.bind(this)}]},t.prototype.doLogin=function(t){if(t){a.Logger.info("LoginManager:doLogin() params=",t),this.mLoginType=t.loginType,this.mSuccCb=t.succCb,this.mFailCb=t.failCb;var e=this.getLoginConfig(this.mLoginType);e&&e.handleFunc&&e.handleFunc(t)}},t.prototype.doLoginSucc=function(t){this.saveLoginType(),(t=t||{}).loginType=this.mLoginType,this.mSuccCb&&this.mSuccCb(t)},t.prototype.doLoginFail=function(t){(t=t||{}).loginType=this.mLoginType,this.mFailCb&&this.mFailCb(t)},t.prototype.doAutoLogin=function(t){if(t){this.mSuccCb=t.succCb,this.mFailCb=t.failCb;var e=t.defaultType||0;a.Logger.info("doAutoLogin(): defaultType="+e);var n=this.getLoginType();if(0==n&&(n=e),a.Logger.info("doAutoLogin(): type=",n),n>0){var o=this.getLoginConfig(n);if(o&&o.handleFunc)return o.handleFunc(t),!0}}return!1},t.prototype.setAutoLogin=function(t){this.mAutoFlag=t},t.prototype.getAutoLogin=function(){return this.mAutoFlag},t.prototype.saveLoginType=function(){this.mLoginType&&this.mLoginType>0&&this.getLoginType()!=this.mLoginType&&f.DataProxy.getInstance().localData.set(u.LocalStorageProxy.LoginType,this.mLoginType)},t.prototype.getLoginType=function(){return f.DataProxy.getInstance().localData.get(u.LocalStorageProxy.LoginType,0)},t.prototype.saveNewLoginType=function(t){t&&f.DataProxy.getInstance().localData.set(u.LocalStorageProxy.LoginType,t)},t.prototype.getLoginConfig=function(t){if(this.mLoginList&&t)for(var e=0;e<this.mLoginList.length;e++){var n=this.mLoginList[e];if(n&&n.loginType==t)return n}return null},t.prototype.getPlatformAccountInfo=function(t){var e=u.LocalStorageProxy.UserAccount,n=u.LocalStorageProxy.UserPwd,o=u.LocalStorageProxy.UserId;return t?(t==s.gLoginType.FaceBook?(e+="_fb",n+="_fb",o+="_fb"):t==s.gLoginType.Apple?(e+="_apple",n+="_apple",o+="_apple"):t==s.gLoginType.WXMini?(e+="_wxmin",n+="_wxmin",o+="_wxmin"):t==s.gLoginType.WXNative?(e+="_wxnative",n+="_wxnative",o+="_wxnative"):s.gLoginType.YK,{account:f.DataProxy.getInstance().localData.get(e,""),pwd:f.DataProxy.getInstance().localData.get(n,""),userId:f.DataProxy.getInstance().localData.get(o,0)}):null},t.prototype.setPlatformAccount=function(t,e,n,o){var i=u.LocalStorageProxy.UserAccount,r=u.LocalStorageProxy.UserPwd,a=u.LocalStorageProxy.UserId;t==s.gLoginType.FaceBook?(i+="_fb",r+="_fb",a+="_fb"):t==s.gLoginType.Apple?(i+="_apple",r+="_apple",a+="_apple"):t==s.gLoginType.WXMini?(i+="_wxmin",r+="_wxmin",a+="_wxmin"):t==s.gLoginType.WXNative?(i+="_wxnative",r+="_wxnative",a+="_wxnative"):s.gLoginType.YK,t&&e&&n&&o?(f.DataProxy.getInstance().localData.set(i,e),f.DataProxy.getInstance().localData.set(r,n),f.DataProxy.getInstance().localData.set(a,o),cc.log("setPlatformAccount() chPlatformAccount="+e),cc.log("setPlatformAccount() chPlatformPWD="+n),cc.log("setPlatformAccount() userId="+o)):(cc.log("clear setPlatformAccount() logType=",t),f.DataProxy.getInstance().localData.set(i,""),f.DataProxy.getInstance().localData.set(r,""),f.DataProxy.getInstance().localData.set(a,0))},t.prototype.savePlatformAccount=function(t,e,n){var o=this.getLoginType();this.setPlatformAccount(o,t,e,n)},t.prototype.clearPlatformAccount=function(t){this.setPlatformAccount(t,"","",0)},t.prototype.wxMiniLogin=function(){var t=this;a.Logger.info("LoginManager: wxMiniLogin()"),platform.wechatLogin().then(function(e){e&&(t.setLoginInfo({type:s.gLoginType.WXMini,token:e.code||""}),t.doLoginSucc(e))}).catch(function(e){t.doLoginFail(e)})},t.prototype.ykLogin=function(){a.Logger.info("LoginManager:ykLogin()"),this.setLoginInfo({type:s.gLoginType.YK}),this.doLoginSucc({})},t.prototype.fbLogin=function(){var t=this;a.Logger.info("LoginManager:facebookLogin() ");var e=h.FaceBookSdk.checkLoginToken();e.needLogin?h.FaceBookSdk.login({callback:function(e){cc.log("facebookLogin: callback() data=",e),e&&e.token?(t.setLoginInfo({type:s.gLoginType.FaceBook,token:e.token,id:e.id||"",name:e.name||""}),h.FaceBookSdk.requestLongToken(),t.doLoginSucc(e)):t.doLoginFail(e)}}):(this.setLoginInfo({type:s.gLoginType.FaceBook,token:e.token}),this.doLoginSucc({token:e.token}))},t.prototype.bindFBAccount=function(t){cc.log("LoginManager:bindFBAccount()");var e={};h.FaceBookSdk.login({callback:function(n){cc.log("bindFBAccount: callback() data=",n),n&&n.token?(e.ok=!0,e.token=n.token,h.FaceBookSdk.requestLongToken(function(n){n.ok?(e.longInfo=n,h.FaceBookSdk.requestUserInfo(function(n){n.ok?(e.userInfo=n,cc.log("bindFBAccount: ok data =",n),t&&t(e)):t&&t({ok:!1})})):t&&t({ok:!1})})):t&&t({ok:!1})}})},t.prototype.apppleLogin=function(){var t=this;cc.log("LoginManager: apppleLogin()111"),d.default.login({callback:function(e){if(e&&null!=e.code)if(cc.log("LoginManager: apppleLogin() code=",e.code),cc.log("LoginManager: apppleLogin() res.name=",e.name),0==e.code){var n="";e.name&&e.name.length>0&&(n=i.Base64.base64decode(e.name)),cc.log("LoginManager: apppleLogin() token=",e.token),cc.log("LoginManager: apppleLogin() name=",n),t.setLoginInfo({type:s.gLoginType.Apple,token:e.token||"",name:n}),t.doLoginSucc(e)}else 1==e.code?p.ComUI.showDialog({text:r.ComUtils.getLang(l.LangKey.text_apple_login_tip)}):e.code}})},t.prototype.wxNativeLogin=function(){a.Logger.info("LoginManager:wxNativeLogin()")},t.prototype.setLoginInfo=function(t){t&&(this.mLoginInfo={},this.mLoginInfo.loginType=t.type,this.mLoginInfo.token=t.token||"",this.mLoginInfo.id=t.id||"",this.mLoginInfo.name=t.name||"")},t.prototype.getLoginInfo=function(){return this.mLoginInfo},t.prototype.connectServer=function(){this.dispatch(c.Notify.Login.CONNECT)},t.prototype.dispatch=function(t,e){o.EventDispatcher.getInstance().dispatch(t,e)},t.instance=null,t}();n.LoginManager=g,cc._RF.pop()},{"../../../../lib/event/EventDispatcher":"EventDispatcher","../../../../lib/external/Base64":"Base64","../../../../lib/utils/ComUtils":"ComUtils","../../../../lib/utils/Logger":"Logger","../../../const/Global":"Global","../../../event/Notify":"Notify","../../../language/LanguageCfg":"LanguageCfg","../../../model/DataProxy":"DataProxy","../../../model/LocalDataProxy":"LocalDataProxy","../../../platform/AppleLogin":"AppleLogin","../../../view/ComUI":"ComUI","./../../../platform/FaceBookSdk":"FaceBookSdk"}],LoginScene:[function(t,e,n){"use strict";cc._RF.push(e,"f67b0NIH41Hbo3YA+uq2oBB","LoginScene");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.LoginScene=void 0;var a=t("../../../../lib/base/CxComponent"),s=t("../../../../lib/utils/Logger"),c=t("../../../../lib/utils/ScreenAdapter"),l=t("../../../view/ComUI"),u=t("../../../const/Global"),d=t("../../../event/Notify"),p=t("../../../model/GameDataProxy"),h=t("../../../router/Router"),f=t("../../../../lib/manager/ResManager"),g=t("./LoginManager"),_=t("../../../../lib/manager/SceneManager"),y=t("../../../../lib/base/Callback"),m=t("../../buryPoint/BuryPointUtils"),b=t("../../../../lib/utils/ComUtils"),v=t("../../../config/GameConfig"),S=t("../../../GlobalRoot"),w=t("../../../language/LanguageCfg"),C=t("../../buryPoint/BuryPoint"),I=t("../../../model/DataProxy"),D=t("../../../platform/AppsFlyerSDK"),L=t("../../../platform/StatisticsDefine"),R=t("../../../model/LocalDataProxy"),P=cc._decorator,T=P.ccclass,E=P.property,A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pFBBtn=null,e.pIosBtn=null,e.pVersionLabel=null,e.pGuestLabel=null,e.trackData={},e.isPreloadFinish=!1,e.isSubpackageLoaded=!1,e.isGateConnected=!1,e.loginTimeout=30,e.mCurLoginType=0,e.isAutoLogin=!1,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},e.prototype.start=function(){var t=this;console.info("LoginScene: start()"),m.BuryPointUtils.send(C.BuryPoint.Operation.Login.ShowLoginView),c.ScreenAdapter.setCanvas(cc.director.getScene().getComponentInChildren(cc.Canvas)),this.loadPackages(),v.GameConfig.getInstance().initNative(function(){t.initLogin()}),l.ComUI.rmLoading();var e=R.LocalStorageProxy.getUserValue(R.LocalStorageProxy.OpenAppCount,"0")||0;e=parseInt(e),e+=e,R.LocalStorageProxy.setUserValue(R.LocalStorageProxy.OpenAppCount,e),3===e?D.AppsFlyerSDK.logCustom(L.StatisticsDefine.SESSION_3):5===e&&D.AppsFlyerSDK.logCustom(L.StatisticsDefine.SESSION_5)},e.prototype.initLogin=function(){this.isPreloadFinish=S.GlobalRootComponent.mResPreloadFinish,this.initButton(),this.initVersion(),this.pGuestLabel&&(this.pGuestLabel.language=b.ComUtils.getLang(w.LangKey.text_guest)),this.isAutoLogin=g.LoginManager.getInstance().getAutoLogin(),this.isAutoLogin&&this.autoLogin()&&this.schedule(this.checkLoginTimeout,this.loginTimeout)},e.prototype.initButton=function(){b.ComUtils.isAndroid()?this.pFBBtn&&this.pIosBtn&&(this.pFBBtn.node.x=this.pIosBtn.node.x,this.pFBBtn.node.y=this.pIosBtn.node.y,this.pIosBtn.node.active=!1):this.pIosBtn&&(this.pIosBtn.node.active=!0)},e.prototype.initVersion=function(){if(this.pVersionLabel){var t=v.GameConfig.g().getAppVersion()||"1.0.0",e=v.GameConfig.getInstance().getResVersion(),n=v.GameConfig.getBuildTime();this.pVersionLabel.string="App V"+t+"  Res V"+e+" Build "+n,c.ScreenAdapter.paddingTop(this.pVersionLabel.node)}},e.prototype.loadPackages=function(){var t=this;f.default.getInstance().loadBundle(u.Global.getBundleDep(u.gAssetBundleName.LOBBY_SRC),function(e){e&&(cc.log("loadPackages finish"),t.isSubpackageLoaded=!0,t.tryDoNext())})},e.prototype.listEvent=function(){return new Map([[d.Notify.Login.LOGIN_AGAIN,this.onLoginAgain],[d.Notify.Login.FINISH,this.onLoginFinish],[d.Notify.Login.FAILURE,this.onLoginFailure],[d.Notify.Gate.GATE_LOGIN_SUCCESS,this.onGateLoginSucc],[d.Notify.Gate.GATE_LOGIN_FAILED,this.onGateLoginFailed],[d.Notify.Base.LOAD_RES_PRE_FINISH,this.onPreloadFinish]])},e.prototype.fbLogin=function(){this.platformLogin(u.gLoginType.FaceBook),m.BuryPointUtils.send(C.BuryPoint.Operation.Login.FaceBookBtnClick)},e.prototype.iosLogin=function(){this.platformLogin(u.gLoginType.Apple),m.BuryPointUtils.send(C.BuryPoint.Operation.Login.AppleBtnClick)},e.prototype.ykLogin=function(){this.platformLogin(u.gLoginType.YK),m.BuryPointUtils.send(C.BuryPoint.Operation.Login.YKBtnClick)},e.prototype.platformLogin=function(t){if(t&&t>0){s.Logger.info("platformLogin() loginType=",t);var e=b.ComUtils.getLang(w.LangKey.text_logging_in)||"";l.ComUI.addLoading({time:25,sw:!0,type:2,tipsTxt:e,cancelTime:10}),this.mCurLoginType=t,g.LoginManager.getInstance().doLogin({loginType:t,succCb:this.onSDKSuccess.bind(this),failCb:this.onSDKError.bind(this)})}},e.prototype.autoLogin=function(){if(this.isAutoLogin){s.Logger.info("LoginScene: autoLogin()");var t=g.LoginManager.getInstance().doAutoLogin({succCb:this.onSDKSuccess.bind(this),failCb:this.onSDKError.bind(this)});if(t){var e=b.ComUtils.getLang(w.LangKey.text_logging_in)||"";l.ComUI.addLoading({time:20,sw:!0,type:2,tipsTxt:e,cancelTime:5})}return t}return!1},e.prototype.onSDKSuccess=function(t){this.stopCheckLoginTimeout(),console.info("LoginScene: onSDKSuccess() data=",t),this.connectServer()},e.prototype.onSDKError=function(){console.info("LoginScene: onSDKError()"),this.stopCheckLoginTimeout(),l.ComUI.rmLoading();var t=this;l.ComUI.showDialog({text:b.ComUtils.getLang(w.LangKey.text_login_fail_tip),close:!1,outClose:!1,parent:cc.director.getScene(),cb1:function(){cc.isValid(t)&&t.enabled}})},e.prototype.connectServer=function(){s.Logger.info("Login: connectServer()"),this.dispatch(d.Notify.Login.CONNECT)},e.prototype.onLoginAgain=function(){},e.prototype.onPreloadFinish=function(){this.isPreloadFinish=!0,this.tryDoNext()},e.prototype.onLoginFinish=function(t){if(this.stopCheckLoginTimeout(),s.Logger.info("onLoginFinish =====> ",JSON.stringify(t)),this.trackData=t,this.trackData&&this.trackData.gameID>0){var e=this.trackData.gameType;this.dispatch(d.Notify.Other.PRE_LOAD_GAME_RES,e)}},e.prototype.onGateLoginSucc=function(){s.Logger.info("==== onGateLoginSucc ==="),this.isGateConnected=!0,this.tryDoNext()},e.prototype.tryDoNext=function(){this.isSubpackageLoaded&&this.isGateConnected&&this.isPreloadFinish&&this.doNext()},e.prototype.doNext=function(){s.Logger.info("Login: doNext()");var t=0,e=0;if(this.trackData&&(t=this.trackData.gameID,e=this.trackData.gameType),t>0){cc.log("Login: doNext() existGameID=",t),h.Router.delayHandle(null);var n=new p.MatchGameConfig;n.gameId=t,n.gameType=e,n.extData={roomid:0},I.DataProxy.getInstance().gameData.setMatchGameCfg(n),_.default.getInstance().enterGame({gameId:n.gameId,gameType:n.gameType,fromScene:u.gSceneType.Login})}else this.enterLobby()},e.prototype.onGateLoginFailed=function(){s.Logger.info("==== onGateLoginFailed ===")},e.prototype.onLoginFailure=function(t){l.ComUI.rmLoading(this.node),this.stopCheckLoginTimeout(),s.Logger.info("onLoginFailure",t),l.ComUI.showDialog({text:t,close:!1,outClose:!1,cb1:function(){}})},e.prototype.onDestroy=function(){this.stopCheckLoginTimeout(),t.prototype.onDestroy.call(this),l.ComUI.rmLoading()},e.prototype.enterLobby=function(){cc.log("Login: enterLobby()"),_.default.getInstance().gotoLobby(new y.Callback(this,function(){l.ComUI.rmLoading()}))},e.prototype.checkLoginTimeout=function(){l.ComUI.rmLoading(this.node),this.stopCheckLoginTimeout();var t=this;l.ComUI.showDialog({text:b.ComUtils.getLang(w.LangKey.text_login_fail_tip),close:!1,outClose:!1,parent:cc.director.getScene(),cb1:function(){cc.isValid(t)&&t.enabled}})},e.prototype.stopCheckLoginTimeout=function(){this.unschedule(this.checkLoginTimeout)},r([E(cc.Button)],e.prototype,"pFBBtn",void 0),r([E(cc.Button)],e.prototype,"pIosBtn",void 0),r([E(cc.Label)],e.prototype,"pVersionLabel",void 0),r([E(cc.Label)],e.prototype,"pGuestLabel",void 0),r([T],e)}(a.CxComponent);n.LoginScene=A,cc._RF.pop()},{"../../../../lib/base/Callback":"Callback","../../../../lib/base/CxComponent":"CxComponent","../../../../lib/manager/ResManager":"ResManager","../../../../lib/manager/SceneManager":"SceneManager","../../../../lib/utils/ComUtils":"ComUtils","../../../../lib/utils/Logger":"Logger","../../../../lib/utils/ScreenAdapter":"ScreenAdapter","../../../GlobalRoot":"GlobalRoot","../../../config/GameConfig":"GameConfig","../../../const/Global":"Global","../../../event/Notify":"Notify","../../../language/LanguageCfg":"LanguageCfg","../../../model/DataProxy":"DataProxy","../../../model/GameDataProxy":"GameDataProxy","../../../model/LocalDataProxy":"LocalDataProxy","../../../platform/AppsFlyerSDK":"AppsFlyerSDK","../../../platform/StatisticsDefine":"StatisticsDefine","../../../router/Router":"Router","../../../view/ComUI":"ComUI","../../buryPoint/BuryPoint":"BuryPoint","../../buryPoint/BuryPointUtils":"BuryPointUtils","./LoginManager":"LoginManager"}],LoginSocket:[function(t,e,n){"use strict";cc._RF.push(e,"5a0f4VZ/MdHya2fj8Gr4dT1","LoginSocket");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.LoginSocket=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),Object.defineProperty(e.prototype,"msgEvent",{get:function(){return e.RECEIVED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"closeEvent",{get:function(){return e.CLOSED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"connectEvent",{get:function(){return e.CONNECTED},enumerable:!1,configurable:!0}),e.CONNECTED="cx_loginSocket_connected",e.CLOSED="cx_loginSocket_closed",e.RECEIVED="cx_loginSocket_received",e}(t("../../../../lib/network/struct/StructSocket").StructSocket);n.LoginSocket=r,cc._RF.pop()},{"../../../../lib/network/struct/StructSocket":"StructSocket"}],Long:[function(t,e,n){"use strict";cc._RF.push(e,"33ff07lUoZCII9hbvIa1xra","Long"),Object.defineProperty(n,"__esModule",{value:!0}),n.Long=void 0;var o=t("./ByteArray"),i=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._highValue=0,this._lowValue=0,this.cacheString=new Array,this._lowValue=t,this._highValue=e}return Object.defineProperty(t.prototype,"higherUint",{get:function(){return this._highValue},set:function(t){this._highValue!=t&&(this._highValue=t,this.cacheBytes=null,this.cacheString=[])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lowerUint",{get:function(){return this._lowValue},set:function(t){this._lowValue=t,this._lowValue!=t&&(this.cacheBytes=null,this.cacheString=[])},enumerable:!1,configurable:!0}),t.prototype.fromString=function(t,e){if(void 0===e&&(e=10),t){t=t.toLowerCase();for(var n=0,o=0,i=0;i<t.length;i++){var r=t.charCodeAt(i)-48;r>9&&(r-=39),o=o*e+((n=n*e+r)/4294967296>>0),n%=4294967296}this._lowValue=n,this._highValue=o,this.cacheString=[],this.cacheString[e]=t,this.cacheBytes=null}else this.reset()},t.prototype.fromBytes=function(t,e){void 0===e&&(e=0);try{t.position=e,t.endian==o.Endian.LITTLE_ENDIAN?(this._lowValue=t.readUnsignedInt(),this._highValue=t.readUnsignedInt()):(this._highValue=t.readUnsignedInt(),this._lowValue=t.readUnsignedInt())}catch(n){return void this.reset()}this.cacheBytes=null,this.cacheString=[]},t.prototype.reset=function(){this._highValue=0,this._lowValue=0,this.cacheBytes=null,this.cacheString=[]},t.prototype.clone=function(){return new t(this._lowValue,this._highValue)},t.prototype.copy=function(t){this.reset(),this._lowValue=t._lowValue,this._highValue=t._highValue},t.prototype.cloneTo=function(e){return null==e&&(e=new t),e.copy(this),e},t.prototype.equals=function(t){return null!=t&&this._highValue==t._highValue&&this._lowValue==t._lowValue},Object.defineProperty(t.prototype,"bytes",{get:function(){return this.cacheBytes?this.cacheBytes:(this.cacheBytes=new o.ByteArray,this.cacheBytes.endian=o.Endian.LITTLE_ENDIAN,this.cacheBytes.writeUnsignedInt(this._lowValue),this.cacheBytes.writeUnsignedInt(this._highValue),this.cacheBytes)},enumerable:!1,configurable:!0}),t.prototype.toString=function(t){if(void 0===t&&(t=10),t<2||t>36)throw new RangeError("\u57fa\u6570\u53c2\u6570\u5fc5\u987b\u4ecb\u4e8e 2 \u5230 36 \u4e4b\u95f4\uff1b\u5f53\u524d\u503c\u4e3a "+t+"\u3002");if(this.cacheString[t])return this.cacheString[t];for(var e,n,o,i="",r=this._lowValue,a=this._highValue,s=Math.pow(2,32);0!=a||0!=r;)i=(n=(o=(e=a%t)*s+r)%t).toString(t)+i,a=(a-e)/t,r=(o-n)/t;return this.cacheString[t]=i,this.cacheString[t]},t.prototype.parseData=function(t){this._highValue=t.readUnsignedInt(),this._lowValue=t.readUnsignedInt()},t.prototype.toData=function(t){t.writeUnsignedInt(this._highValue),t.writeUnsignedInt(this._lowValue)},t.prototype.gc=function(){this.cacheBytes=null,this.cacheString=null},t}();n.Long=i,cc._RF.pop()},{"./ByteArray":"ByteArray"}],LotteryOddItem:[function(t,e,n){"use strict";cc._RF.push(e,"9f5caJ5A+dNjI1tNQMWkCOh","LotteryOddItem");var o,i,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../lib/base/CxComponent"),c=t("../../const/Global"),l=cc._decorator,u=l.ccclass,d=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spLine=null,e.labReward=null,e.labOdd=null,e}var n;return r(e,t),n=e,e.prototype.updateItem=function(t,e){var o=e;this.labReward.string=o.num+" "+(n.RewardTips[o.type]||""),this.labOdd.string=o.odd+"%"},e.RewardTips=((i={})[c.gShopHBType.GOLD]="Coins",i[c.gShopHBType.POWER]="Power",i[c.gShopHBType.CHIPS]="Chips",i),a([d({type:cc.Sprite})],e.prototype,"spLine",void 0),a([d({type:cc.Label,tooltip:"\u5956\u52b1\u63cf\u8ff0"})],e.prototype,"labReward",void 0),a([d({type:cc.Label,tooltip:"\u5956\u52b1\u6982\u7387"})],e.prototype,"labOdd",void 0),n=a([u],e)}(s.CxComponent);n.default=p,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../const/Global":"Global"}],LotteryOddLayer:[function(t,e,n){"use strict";cc._RF.push(e,"6958ckfGwxG/YzHwuzc/rOg","LotteryOddLayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../lib/base/CxCompExt"),s=t("../../../lib/utils/ComUtils"),c=t("../../base/component/ComListView"),l=t("../../language/LanguageCfg"),u=t("./LotteryOddItem"),d=cc._decorator,p=d.ccclass,h=d.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mScrollView=null,e.pfItem=null,e.labTips=null,e}return i(e,t),e.prototype.init=function(e){t.prototype.init.call(this,e),this.initLitView(e)},e.prototype.start=function(){this.multiLang()},e.prototype.initLitView=function(t){var e={scrollView:this.mScrollView,content:this.mScrollView.content,itemPrefab:this.pfItem,itemClass:u.default,dataList:t.awardList,space:0,top:0,bottom:0,createInterval:.05},n=this.node.getComponent(c.ComListView);null==n&&(n=this.node.addComponent(c.ComListView)),n.initParams(e),n.initScrollView(!0)},e.prototype.multiLang=function(){this.labTips&&(this.labTips.language=s.ComUtils.getLang(l.LangKey.video_reward_odds))},r([h({type:cc.ScrollView})],e.prototype,"mScrollView",void 0),r([h({type:cc.Prefab,tooltip:"item"})],e.prototype,"pfItem",void 0),r([h({type:cc.Label,tooltip:"\u63cf\u8ff0"})],e.prototype,"labTips",void 0),r([p],e)}(a.CxCompExt);n.default=f,cc._RF.pop()},{"../../../lib/base/CxCompExt":"CxCompExt","../../../lib/utils/ComUtils":"ComUtils","../../base/component/ComListView":"ComListView","../../language/LanguageCfg":"LanguageCfg","./LotteryOddItem":"LotteryOddItem"}],MD5Utils:[function(t,e,n){"use strict";cc._RF.push(e,"d934beoi8FKN6B8nZKntci0","MD5Utils"),Object.defineProperty(n,"__esModule",{value:!0}),n.MD5Utils=void 0;var o=function(){function t(){}return t.prototype.fflog=function(t){try{console.log(t)}catch(e){}},t.prototype.to_zerofilled_hex=function(t){var e=(t>>>24).toString(16),n=(16777215&t).toString(16);return"00".substr(0,2-e.length)+e+"000000".substr(0,6-n.length)+n},t.prototype.int64_to_bytes=function(t){for(var e=[],n=0;n<8;n++)e.push(255&t),t>>>=8;return e},t.rol=function(t,e){return t<<e&4294967295|t>>>32-e},t._add=function(t,e){return 4294967295&t+e},t.prototype.fF=function(t,e,n){return t&e|~t&n},t.prototype.fG=function(t,e,n){return n&t|~n&e},t.prototype.fH=function(t,e,n){return t^e^n},t.prototype.fI=function(t,e,n){return e^(t|~n)},t.prototype.bytes_to_int32=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},t.prototype.int128le_to_hex=function(t,e,n,o){for(var i="",r=0,a=0,s=3;s>=0;s--)r=255&(a=arguments[s]),r<<=8,r|=255&(a>>>=8),r<<=8,r|=255&(a>>>=8),r<<=8,r|=a>>>=8,i+=this.to_zerofilled_hex(r);return i},t.prototype.parseMD5=function(e){if(!e)return null;if(!(e instanceof Uint8Array))return null;for(var n=[],o=0;o<e.byteLength;o++)n.push(e[o]);var i=n.length;n.push(128);var r=n.length%64;if(r>56){for(o=0;o<64-r;o++)n.push(0);r=n.length%64}for(o=0;o<56-r;o++)n.push(0);n=n.concat(this.int64_to_bytes(8*i));var a=1732584193,s=4023233417,c=2562383102,l=271733878,u=0,d=0,p=0,h=0,f=function(e,n,o,i){var r=h;h=p,p=d,d=t._add(d,t.rol(t._add(u,t._add(e,t._add(n,o))),i)),u=r};for(o=0;o<n.length/64;o++){u=a,d=s,p=c,h=l;var g=64*o;f(this.fF(d,p,h),3614090360,this.bytes_to_int32(n,g),7),f(this.fF(d,p,h),3905402710,this.bytes_to_int32(n,g+4),12),f(this.fF(d,p,h),606105819,this.bytes_to_int32(n,g+8),17),f(this.fF(d,p,h),3250441966,this.bytes_to_int32(n,g+12),22),f(this.fF(d,p,h),4118548399,this.bytes_to_int32(n,g+16),7),f(this.fF(d,p,h),1200080426,this.bytes_to_int32(n,g+20),12),f(this.fF(d,p,h),2821735955,this.bytes_to_int32(n,g+24),17),f(this.fF(d,p,h),4249261313,this.bytes_to_int32(n,g+28),22),f(this.fF(d,p,h),1770035416,this.bytes_to_int32(n,g+32),7),f(this.fF(d,p,h),2336552879,this.bytes_to_int32(n,g+36),12),f(this.fF(d,p,h),4294925233,this.bytes_to_int32(n,g+40),17),f(this.fF(d,p,h),2304563134,this.bytes_to_int32(n,g+44),22),f(this.fF(d,p,h),1804603682,this.bytes_to_int32(n,g+48),7),f(this.fF(d,p,h),4254626195,this.bytes_to_int32(n,g+52),12),f(this.fF(d,p,h),2792965006,this.bytes_to_int32(n,g+56),17),f(this.fF(d,p,h),1236535329,this.bytes_to_int32(n,g+60),22),f(this.fG(d,p,h),4129170786,this.bytes_to_int32(n,g+4),5),f(this.fG(d,p,h),3225465664,this.bytes_to_int32(n,g+24),9),f(this.fG(d,p,h),643717713,this.bytes_to_int32(n,g+44),14),f(this.fG(d,p,h),3921069994,this.bytes_to_int32(n,g),20),f(this.fG(d,p,h),3593408605,this.bytes_to_int32(n,g+20),5),f(this.fG(d,p,h),38016083,this.bytes_to_int32(n,g+40),9),f(this.fG(d,p,h),3634488961,this.bytes_to_int32(n,g+60),14),f(this.fG(d,p,h),3889429448,this.bytes_to_int32(n,g+16),20),f(this.fG(d,p,h),568446438,this.bytes_to_int32(n,g+36),5),f(this.fG(d,p,h),3275163606,this.bytes_to_int32(n,g+56),9),f(this.fG(d,p,h),4107603335,this.bytes_to_int32(n,g+12),14),f(this.fG(d,p,h),1163531501,this.bytes_to_int32(n,g+32),20),f(this.fG(d,p,h),2850285829,this.bytes_to_int32(n,g+52),5),f(this.fG(d,p,h),4243563512,this.bytes_to_int32(n,g+8),9),f(this.fG(d,p,h),1735328473,this.bytes_to_int32(n,g+28),14),f(this.fG(d,p,h),2368359562,this.bytes_to_int32(n,g+48),20),f(this.fH(d,p,h),4294588738,this.bytes_to_int32(n,g+20),4),f(this.fH(d,p,h),2272392833,this.bytes_to_int32(n,g+32),11),f(this.fH(d,p,h),1839030562,this.bytes_to_int32(n,g+44),16),f(this.fH(d,p,h),4259657740,this.bytes_to_int32(n,g+56),23),f(this.fH(d,p,h),2763975236,this.bytes_to_int32(n,g+4),4),f(this.fH(d,p,h),1272893353,this.bytes_to_int32(n,g+16),11),f(this.fH(d,p,h),4139469664,this.bytes_to_int32(n,g+28),16),f(this.fH(d,p,h),3200236656,this.bytes_to_int32(n,g+40),23),f(this.fH(d,p,h),681279174,this.bytes_to_int32(n,g+52),4),f(this.fH(d,p,h),3936430074,this.bytes_to_int32(n,g),11),f(this.fH(d,p,h),3572445317,this.bytes_to_int32(n,g+12),16),f(this.fH(d,p,h),76029189,this.bytes_to_int32(n,g+24),23),f(this.fH(d,p,h),3654602809,this.bytes_to_int32(n,g+36),4),f(this.fH(d,p,h),3873151461,this.bytes_to_int32(n,g+48),11),f(this.fH(d,p,h),530742520,this.bytes_to_int32(n,g+60),16),f(this.fH(d,p,h),3299628645,this.bytes_to_int32(n,g+8),23),f(this.fI(d,p,h),4096336452,this.bytes_to_int32(n,g),6),f(this.fI(d,p,h),1126891415,this.bytes_to_int32(n,g+28),10),f(this.fI(d,p,h),2878612391,this.bytes_to_int32(n,g+56),15),f(this.fI(d,p,h),4237533241,this.bytes_to_int32(n,g+20),21),f(this.fI(d,p,h),1700485571,this.bytes_to_int32(n,g+48),6),f(this.fI(d,p,h),2399980690,this.bytes_to_int32(n,g+12),10),f(this.fI(d,p,h),4293915773,this.bytes_to_int32(n,g+40),15),f(this.fI(d,p,h),2240044497,this.bytes_to_int32(n,g+4),21),f(this.fI(d,p,h),1873313359,this.bytes_to_int32(n,g+32),6),f(this.fI(d,p,h),4264355552,this.bytes_to_int32(n,g+60),10),f(this.fI(d,p,h),2734768916,this.bytes_to_int32(n,g+24),15),f(this.fI(d,p,h),1309151649,this.bytes_to_int32(n,g+52),21),f(this.fI(d,p,h),4149444226,this.bytes_to_int32(n,g+16),6),f(this.fI(d,p,h),3174756917,this.bytes_to_int32(n,g+44),10),f(this.fI(d,p,h),718787259,this.bytes_to_int32(n,g+8),15),f(this.fI(d,p,h),3951481745,this.bytes_to_int32(n,g+36),21),a=t._add(a,u),s=t._add(s,d),c=t._add(c,p),l=t._add(l,h)}return this.int128le_to_hex(l,c,s,a).toLowerCase()},t.getFileMd5=function(e){var n="";if(e){var o=jsb.fileUtils.getDataFromFile(e);o&&(n=(new t).parseMD5(o)||"")}return n},t.test=function(){var e=t.getFileMd5("remote-asset/test.txt");cc.log("test() md5=",e)},t}();n.MD5Utils=o,cc._RF.pop()},{}],Manager:[function(t,e,n){"use strict";cc._RF.push(e,"30e05JrTqhPrJdwb4wEFoZP","Manager"),Object.defineProperty(n,"__esModule",{value:!0}),n.Manager=void 0;var o=t("./platform/CallBackManager"),i=t("./base/handler/HandlerMgr"),r=t("../lib/base/Language"),a=t("../lib/manager/NodePoolMgr"),s=t("../lib/manager/ResManager"),c=t("../lib/manager/SceneManager"),l=t("./language/LanguageImpl"),u=t("./model/DataProxy"),d=t("../lib/extentions/EngineEx"),p=t("./module/match/GameMatchManager"),h=t("../lib/manager/ObjectPool"),f=t("./base/EnterGameAuthorize"),g=t("./stats/StatsUtil"),_=t("../lib/manager/AudioManager"),y=t("./platform/OriginManager"),m=t("../lib/base/PopUpLogic"),b=t("./module/manager/UserHeadManager"),v=function(){function t(){}return t.init=function(){this.reLogin(),_.AudioManager.getInstance().init(),f.EnterGameAuthorize.getInstance().init(),g.StatsUtil.init(),p.GameMatchManager.getInstance(),y.OriginManager.getInstance(),i.HandlerMgr.getInstance(),b.UserHeadManager.getInstance(),d.CocosExtentionInit(),r.Language.getInstance().delegate=l.LanguageImpl.getInstance()},t.desInstance=function(){c.default.desInstance(),a.NodePoolMgr.desInstance(),s.default.desInstance(),h.ObjectPoolMgr.desInstance(),g.StatsUtil.clear(),p.GameMatchManager.getInstance().clear(),f.EnterGameAuthorize.getInstance().onDestroy(),y.OriginManager.getInstance().clear(),i.HandlerMgr.desInstance(),m.PopUpLogic.desInstance(),o.CallBackManager.desInstance(),b.UserHeadManager.desInstance()},t.reLogin=function(){u.DataProxy.getInstance().init(),i.HandlerMgr.getInstance().enabled=!0},t.logout=function(){b.UserHeadManager.getInstance().clearMyCache(),i.HandlerMgr.getInstance().enabled=!1,u.DataProxy.getInstance().clear(),o.CallBackManager.getInstance().clear()},t}();n.Manager=v,cc._RF.pop()},{"../lib/base/Language":"Language","../lib/base/PopUpLogic":"PopUpLogic","../lib/extentions/EngineEx":"EngineEx","../lib/manager/AudioManager":"AudioManager","../lib/manager/NodePoolMgr":"NodePoolMgr","../lib/manager/ObjectPool":"ObjectPool","../lib/manager/ResManager":"ResManager","../lib/manager/SceneManager":"SceneManager","./base/EnterGameAuthorize":"EnterGameAuthorize","./base/handler/HandlerMgr":"HandlerMgr","./language/LanguageImpl":"LanguageImpl","./model/DataProxy":"DataProxy","./module/manager/UserHeadManager":"UserHeadManager","./module/match/GameMatchManager":"GameMatchManager","./platform/CallBackManager":"CallBackManager","./platform/OriginManager":"OriginManager","./stats/StatsUtil":"StatsUtil"}],Mask:[function(t,e,n){"use strict";cc._RF.push(e,"79a8f6cBX1AEIrfDAl6IOYj","Mask");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.Mask=void 0;var a=t("../../../lib/base/CxComponent"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spMask=null,e.rect=null,e.outClose=!1,e._touchStart=!1,e}return i(e,t),e.prototype.init=function(t,e,n){void 0===n&&(n=!0),n||(this.spMask.node.active=!1),this.rootNode=t,this.boxNode=e,this.setSwallowTouches(!0)},e.prototype.onLoad=function(){this.node.width=cc.winSize.width,this.node.height=cc.winSize.height,this.spMask.node.width=cc.winSize.width,this.spMask.node.height=cc.winSize.height+1e3},e.prototype.setSwallowTouches=function(t){var e=this.node.getComponent(cc.BlockInputEvents);e||(e=this.node.addComponent(cc.BlockInputEvents)),e.enabled=t,t?(this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)):(this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this))},e.prototype.onTouchStart=function(t){if(this.boxNode){this._touchStart=!1;var e=t.getLocation(),n=this.boxNode.getBoundingBoxToWorld();n&&n.contains(e)&&(this._touchStart=!0,t.stopPropagation())}},e.prototype.onTouchEnd=function(t){if(this.boxNode){if(!1===this._touchStart){var e=t.getLocation();!this.boxNode.getBoundingBoxToWorld().contains(e)&&this.outClose&&this.close()}this._touchStart=!1}},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this)},e.prototype.clear=function(){this.boxNode=null,this.rootNode=null,this._touchStart=!1},e.prototype.close=function(){cc.isValid(this.rootNode)&&this.rootNode.destroy(),this.clear()},r([l(cc.Sprite)],e.prototype,"spMask",void 0),r([c],e)}(a.CxComponent);n.Mask=u,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent"}],MathUtils:[function(t,e,n){"use strict";cc._RF.push(e,"cd6662QjltFRIAX0B3cgNyQ","MathUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.MathUtils=void 0;var o=function(){function t(){}return t.pointAtCircle=function(t,e,n,o){return cc.v2(t+Math.cos(n)*o,e+Math.sin(n)*o)},t.degrees2radians=function(t){return t*this.ANGLE_TO_RADIAN},t.radians2degrees=function(t){return t*this.RADIAN_TO_ANGLE},t.radians4point=function(t,e,n,o){return Math.atan2(e-o,n-t)},t.dist=function(t,e,n,o){var i=n-t,r=o-e;return Math.sqrt(i*i+r*r)},t.getPosX=function(t,e){return e*Math.cos(t*this.ANGLE_TO_RADIAN)},t.getPosY=function(t,e){return e*Math.sin(t*this.ANGLE_TO_RADIAN)},t.lookAt=function(t,e,n){var o=t.x-e.x,i=t.y-e.y,r=cc.v2(o,i);return(null==n||1==n?r.signAngle(cc.v2(1,0)):r.signAngle(cc.v2(0,1)))/Math.PI*180},t.ANGLE_TO_RADIAN=Math.PI/180,t.RADIAN_TO_ANGLE=180/Math.PI,t}();n.MathUtils=o,cc._RF.pop()},{}],MissionBonusDlg:[function(t,e,n){"use strict";cc._RF.push(e,"56dadEmMl5FRYHJ5ZAiGbA0","MissionBonusDlg");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.MissionBonusDlg=void 0;var a=t("../../../lib/base/Callback"),s=t("../../../lib/base/CxComponent"),c=t("../../../lib/i18n/i18nHelper"),l=t("../../../lib/utils/ComUtils"),u=t("../../event/Notify"),d=t("../../language/LanguageCfg"),p=t("../../model/AdDataProxy"),h=t("../../model/DataProxy"),f=t("../ComUI"),g=t("./BonusRewardItem"),_=cc._decorator,y=_.ccclass,m=_.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labTitle=null,e.labBonusTips=null,e.pDefReward=null,e.pExtReward=null,e}return i(e,t),e.prototype.init=function(t){this.taskId=t.taskId,this.viewData=t,this.dispatch(u.Notify.FFD.REQ_FFD_SCENEDATA,p.RVADSceneID.DAILY_TASK+this.taskId)},e.prototype.listEvent=function(){return new Map([[u.Notify.FFD.RTN_FFD_SCENEDATA,this.updateViewData],[u.Notify.AD.CANCELED,this.onAdCanceled],[u.Notify.AD.REWARD,this.onAdReward]])},e.prototype.start=function(){this.setVerticalOffset(),this.labBonusTips&&(this.labBonusTips.string=c.i18nHelper.getLanguage(d.LangKey.bonus_get_more_tips)),this.labTitle&&(this.labTitle.string=c.i18nHelper.getLanguage(d.LangKey.mission_bonus_title)),this.pDefReward&&this.viewData.defReward&&(this.viewData.defReward.index=1,this.pDefReward.init(this.viewData.defReward),this.pDefReward.setSwitchBtn(!1),this.pDefReward.setCallback(new a.Callback(this,this.onNormalClaimClicked)))},e.prototype.updateView=function(){this.viewData&&this.viewData.awardList&&this.pExtReward&&(this.viewData.awardList[0]?(this.pExtReward.init(this.viewData.awardList[0]),this.pExtReward.node.active=!0,this.pExtReward.setCallback(new a.Callback(this,this.onWatchVideoClicked,this.viewData.adSceneId))):(this.pExtReward.node.active=!1,this.pDefReward&&this.pDefReward.setSwitchBtn(!0))),this.viewData&&this.dispatch(u.Notify.AD.LOAD_VIDEO,{userId:h.DataProxy.getInstance().userData.userId,placementID:this.viewData.placementID,adSceneId:p.RVADSceneID.DAILY_TASK+this.taskId})},e.prototype.updateViewData=function(t){t&&t.adSceneId===p.RVADSceneID.DAILY_TASK+this.taskId&&(this.viewData=this.viewData||{},this.viewData.placementID=t.placementID,this.viewData.awardList=t.awardList,this.viewData.bCanGG=t.bCanGG,this.viewData.adSceneId=t.adSceneId,this.updateView())},e.prototype.onWatchVideoClicked=function(){cc.sys.isBrowser?this.onAdReward(this.viewData.adSceneId):this.dispatch(u.Notify.AD.OPEN_VIDEO,this.viewData.adSceneId)},e.prototype.onNormalClaimClicked=function(){this.dispatch(u.Notify.Task.REQ_DAY_TASK_RESULT,[this.taskId]),this.close()},e.prototype.onAdReward=function(t){this.dispatch(u.Notify.FFD.REQ_REWARD,t),this.pExtReward&&this.pExtReward.setBtnUnenable(),this.close()},e.prototype.onAdCanceled=function(){f.ComUI.showToast(l.ComUtils.getLang(d.LangKey.close_video_ad_tips))},r([m({type:cc.Label,tooltip:"\u6807\u9898"})],e.prototype,"labTitle",void 0),r([m({type:cc.Label,tooltip:"\u63d0\u793a\u4fe1\u606f"})],e.prototype,"labBonusTips",void 0),r([m({type:g.BonusRewardItem,tooltip:"\u9ed8\u8ba4\u5956\u52b1"})],e.prototype,"pDefReward",void 0),r([m({type:g.BonusRewardItem,tooltip:"\u9644\u52a0\u5956\u52b1"})],e.prototype,"pExtReward",void 0),r([y],e)}(s.CxComponent);n.MissionBonusDlg=b,cc._RF.pop()},{"../../../lib/base/Callback":"Callback","../../../lib/base/CxComponent":"CxComponent","../../../lib/i18n/i18nHelper":"i18nHelper","../../../lib/utils/ComUtils":"ComUtils","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../../model/AdDataProxy":"AdDataProxy","../../model/DataProxy":"DataProxy","../ComUI":"ComUI","./BonusRewardItem":"BonusRewardItem"}],MysteryGiftDlg:[function(t,e,n){"use strict";cc._RF.push(e,"89fd6rdy89JkLZBvH0BtQMO","MysteryGiftDlg");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./../../const/Global"),s=t("./../../../lib/base/PopupView"),c=t("../../../lib/base/CxComponent"),l=t("../../const/Global"),u=t("../../../lib/utils/ComUtils"),d=t("../../language/LanguageCfg"),p=t("../../event/Notify"),h=t("../ComUI"),f=t("../../../lib/base/BottomBarView"),g=cc._decorator,_=g.ccclass,y=g.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ndAwardItem=null,e.mAwardList=[],e}return i(e,t),e.prototype.init=function(t){this.mAwardList=t||[]},e.prototype.start=function(){var t=this,e=this.getComponent(s.PopupView);e&&e.setTitle(u.ComUtils.getLang(d.LangKey.mystery_gift_title));var n=this.getComponent(f.BottomBarView);n&&n.setBottomBar([{style:l.gColorStyle.GREEN,text:u.ComUtils.makeLang(d.LangKey.text_collect),callback:function(){t.dispatch(p.Notify.Other.GET_MYSTERY_GIFT),t.close()}}]);var o=this.node.getChildByName("Layout");o&&(o.destroyAllChildren(),this.mAwardList=this.mAwardList||[],this.mAwardList.length>2&&o.getComponent(cc.Layout),this.mAwardList.forEach(function(e){if(e){var n="",i="",r=cc.instantiate(t.ndAwardItem);if(e.type===a.gShopHBType.GOLD?(n="com_award_bg_yellow",i="shop_item_gold_icon_4"):e.type===a.gShopHBType.POWER&&(n="com_award_bg_blue",i="shop_power_icon_1"),r){r.parent=o,r.active=!0,h.ComUI.setSprite(r,n),h.ComUI.setSprite(r.getChildByName("sp_award"),i);var s=r.getComponentInChildren(cc.Label);s&&(s.string="x"+u.ComUtils.formatGoldStr(e.num))}}}))},r([y({type:cc.Node,tooltip:"\u5956\u54c1\u6a21\u7248"})],e.prototype,"ndAwardItem",void 0),r([_],e)}(c.CxComponent);n.default=m,cc._RF.pop()},{"../../../lib/base/BottomBarView":"BottomBarView","../../../lib/base/CxComponent":"CxComponent","../../../lib/utils/ComUtils":"ComUtils","../../const/Global":"Global","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../ComUI":"ComUI","./../../../lib/base/PopupView":"PopupView","./../../const/Global":"Global"}],NativeApi:[function(t,e,n){"use strict";cc._RF.push(e,"ad361FP99lNPZG4bWJEFWBL","NativeApi");var o=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),i=0;for(e=0;e<n;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,i++)o[i]=r[a];return o};Object.defineProperty(n,"__esModule",{value:!0}),n.NativeApi=n.CallNativeMethod=n.NativeParams=void 0;var i=t("./../model/DataProxy"),r=t("./../model/LocalDataProxy"),a=t("./CallBackManager"),s=t("../../lib/event/EventDispatcher"),c=t("./NativeNotify"),l=function(){this.className="",this.methodName="",this.javaMethodSig="",this.ocMethodSig="",this.asyncEvent=""};n.NativeParams=l;var u=function(){function t(){}return t.callStaticMethod=function(t){for(var e,n,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];if(cc.sys.isNative){var a;if(t.asyncEvent&&(i&&i.length>0?i.splice(0,0,t.asyncEvent):i=[t.asyncEvent]),cc.sys.os===cc.sys.OS_ANDROID){var s=t.javaClassPath+t.className;a=(e=jsb.reflection).callStaticMethod.apply(e,o([s,t.methodName,t.javaMethodSig],i))}else cc.sys.os===cc.sys.OS_IOS&&(a=(n=jsb.reflection).callStaticMethod.apply(n,o([t.className,t.ocMethodSig],i)));return a}},t}();n.CallNativeMethod=u;var d=function(){function t(){}return t.javaCallback=function(t){console.log("NativeApi.javaCallback",t);var e="",n=JSON.parse(t);n&&(e=n.type),e&&a.CallBackManager.getInstance().pushEvent(e,t)},t.objCCallback=function(t){console.log("NativeApi.objCCallback",t);var e="",n=JSON.parse(t);n&&(e=n.type),e&&a.CallBackManager.getInstance().pushEvent(e,t)},t.getName=function(){return"NativeApi"},t.getJavaClassPath=function(){return"com/husky/libhuskycom/"},t.exitGame=function(){var t=new l;return t.methodName="exitGame",t.javaMethodSig="()V",t.ocMethodSig="exitGame",t.className=this.getName(),t.javaClassPath=this.getJavaClassPath(),u.callStaticMethod(t)},t.installApkFile=function(){var t=new l;return t.methodName="installApkFile",t.javaMethodSig="(Ljava/lang/String;)V",t.ocMethodSig="installApkFile:",t.className=this.getName(),t.javaClassPath=this.getJavaClassPath(),u.callStaticMethod(t)},t.getAppVersionName=function(){var t=new l;return t.methodName="getVersionName",t.javaMethodSig="()Ljava/lang/String;",t.ocMethodSig="getVersionName",t.className=this.getName(),t.javaClassPath=this.getJavaClassPath(),u.callStaticMethod(t)},t.getDeviceUUID=function(){var t=new l;return t.methodName="getDeviceUUID",t.javaMethodSig="()Ljava/lang/String;",t.ocMethodSig="getDeviceUUID",t.className=this.getName(),t.javaClassPath=this.getJavaClassPath(),u.callStaticMethod(t)},t.getHardwareInfo=function(){var t=new l;return t.methodName="getHardwareInfo",t.javaMethodSig="()Ljava/lang/String;",t.ocMethodSig="getHardwareInfo",t.className=this.getName(),t.javaClassPath=this.getJavaClassPath(),u.callStaticMethod(t)},t.getNetInfo=function(){var t=new l;return t.methodName="getNetInfo",t.javaMethodSig="()Ljava/lang/String;",t.ocMethodSig="getNetInfo",t.className=this.getName(),t.javaClassPath=this.getJavaClassPath(),u.callStaticMethod(t)},t.getBatteryValue=function(){var t=new l;return t.methodName="getBatteryValue",t.javaMethodSig="()I;",t.ocMethodSig="getBatteryValue",t.className=this.getName(),t.javaClassPath=this.getJavaClassPath(),u.callStaticMethod(t)},t.phoneVibrate=function(){var t=new l;return t.methodName="phoneVibrate",t.javaMethodSig="()V;",t.ocMethodSig="phoneVibrate",t.className=this.getName(),t.javaClassPath=this.getJavaClassPath(),u.callStaticMethod(t)},t.openUrl=function(t){s.EventDispatcher.getInstance().dispatch(c.NativeNotify.CALL_SDK);var e=new l;return e.methodName="openUrl",e.javaMethodSig="(Ljava/lang/String;)V",e.ocMethodSig="openUrl:",e.className=this.getName(),e.javaClassPath=this.getJavaClassPath(),u.callStaticMethod(e,t)},t.setClipboardData=function(t){var e=new l;e.methodName="setClipboardData",e.javaMethodSig="(Ljava/lang/String;)V",e.ocMethodSig="setClipboardData:",e.className=this.getName(),e.javaClassPath=this.getJavaClassPath(),u.callStaticMethod(e,t)},t.getClipboardData=function(){var t=new l;return t.methodName="getClipboardData",t.javaMethodSig="()Ljava/lang/String;",t.ocMethodSig="getClipboardData",t.className=this.getName(),t.javaClassPath=this.getJavaClassPath(),u.callStaticMethod(t)},t.startApp=function(t){s.EventDispatcher.getInstance().dispatch(c.NativeNotify.CALL_SDK);var e=new l;return e.methodName="startApp",e.javaMethodSig="(Ljava/lang/String;)V",e.ocMethodSig="startApp:",e.className=this.getName(),e.javaClassPath=this.getJavaClassPath(),u.callStaticMethod(e,t)},t.getPackageName=function(){var t=new l;t.methodName="getPackageName",t.javaMethodSig="()Ljava/lang/String;",t.ocMethodSig="getPackageName",t.className=this.getName(),t.javaClassPath=this.getJavaClassPath();var e=u.callStaticMethod(t);return console.log("getPackageName",e),e},t.saveMachineId=function(t){if(!(t.length<=0)){i.DataProxy.getInstance().localData.get(r.LocalStorageProxy.MachineId,"")||i.DataProxy.getInstance().localData.set(r.LocalStorageProxy.MachineId,t);var e=new l;e.methodName="saveMachineId",e.javaMethodSig="(Ljava/lang/String;Ljava/lang/String;)V",e.ocMethodSig="saveMachineId:fileName:id",e.className=this.getName(),e.javaClassPath=this.getJavaClassPath(),u.callStaticMethod(e,".sysinfo",t)}},t.getMachineId=function(){var t=this.getGoogleAdId();if(t)return i.DataProxy.getInstance().localData.set(r.LocalStorageProxy.MachineId,t),t;if(t=i.DataProxy.getInstance().localData.get(r.LocalStorageProxy.MachineId,""))return t;var e=new l;e.methodName="getMachineId",e.javaMethodSig="(Ljava/lang/String;)Ljava/lang/String;",e.ocMethodSig="getMachineId:fileName",e.className=this.getName(),e.javaClassPath=this.getJavaClassPath();var n=u.callStaticMethod(e,".sysinfo");return n&&(t=n),t},t.launchMarketStar=function(){var t=new l;t.methodName="launchMarketStar",t.javaMethodSig="()V",t.ocMethodSig="launchMarketStar",t.className=this.getName(),t.javaClassPath=this.getJavaClassPath(),u.callStaticMethod(t),console.log("cc: launchMarketStar 111")},t.requestGoogleAdId=function(){var t=new l;t.methodName="requestGoogleAdId",t.javaMethodSig="()V",t.ocMethodSig="requestGoogleAdId",t.className=this.getName(),t.javaClassPath=this.getJavaClassPath(),u.callStaticMethod(t)},t.getGoogleAdId=function(){var t=new l;return t.methodName="getGoogleAdId",t.javaMethodSig="()Ljava/lang/String;",t.ocMethodSig="getGoogleAdId",t.className=this.getName(),t.javaClassPath=this.getJavaClassPath(),u.callStaticMethod(t)},t.testAPI=function(){var t=this.getPackageName();console.log("native: packageName=",t);var e=this.getNetInfo();console.log("native: getNetInfo=",e);var n=this.getDeviceUUID();console.log("native: deviceUUid=",n);var o=this.getAppVersionName();console.log("native: getAppVersionName=",o);var i=this.getHardwareInfo();console.log("native: getHardwareInfo=",i);var r=this.getBatteryValue();console.log("native: battery =",r);var a=this.getClipboardData();console.log("native: getClip 111 =",a),this.setClipboardData("abc"),console.log("native: set clip");var s=this.getClipboardData();console.log("native: getClip 222 =",s),this.phoneVibrate(),console.log("native: vibrate")},t}();n.NativeApi=d,cc.sys.isNative&&(window.nativeApi||(window.nativeApi=d)),cc._RF.pop()},{"../../lib/event/EventDispatcher":"EventDispatcher","./../model/DataProxy":"DataProxy","./../model/LocalDataProxy":"LocalDataProxy","./CallBackManager":"CallBackManager","./NativeNotify":"NativeNotify"}],NativeNotify:[function(t,e,n){"use strict";cc._RF.push(e,"ee1b8X2CmNGk7Mlkhzay3d/","NativeNotify"),Object.defineProperty(n,"__esModule",{value:!0}),n.NativeNotify=void 0,function(t){t.Battery="native_phoneinfo_battery",t.NetInfo="native_phoneinfo_netinfo",t.NetworkChange="notify_network_change",t.CALL_SDK="native_call_sdk",t.NET_DISCONNECTED="native_net_disconnected"}(n.NativeNotify||(n.NativeNotify={})),cc._RF.pop()},{}],NativePlatform:[function(t,e,n){"use strict";cc._RF.push(e,"1f404Ll1URLkqyyMMNJ5zDz","NativePlatform");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{c(o.next(t))}catch(e){r(e)}}function s(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.NativePlatform=void 0;var r=t("../../lib/base/Callback"),a=t("./CallBackManager"),s=t("./NativeApi"),c=t("./NativeNotify"),l=function(){function t(){this.SETTING_USERINFO=-1,this.SETTING_LOCATION=-1,this.SETTING_RECORD=-1}return t.prototype.getUserInfo=function(){return new Promise(function(t,e){e()})},t.prototype.wechatLogin=function(){return new Promise(function(t){t("no")})},t.prototype.share=function(){return new Promise(function(t){t("no")})},t.prototype.onShareApp=function(){},t.prototype.checkUpdate=function(){},t.prototype.playAudio=function(){},t.prototype.pay=function(){return new Promise(function(t){t("no")})},t.prototype.setUserCloudStorage=function(){return new Promise(function(t){t("no")})},t.prototype.removeUserCloudStorage=function(){return new Promise(function(t){t("no")})},t.prototype.getLaunchOptionsSync=function(){return new Promise(function(t){t("no")})},t.prototype.onShow=function(){},t.prototype.onHide=function(){},t.prototype.createUserInfoButton=function(){return new Promise(function(t){t("no")})},t.prototype.initAdSDK=function(){},t.prototype.openVideoAd=function(){return new Promise(function(t){t("no")})},t.prototype.showBanner=function(){return new Promise(function(t){t("no")})},t.prototype.showInterstitialAd=function(){return new Promise(function(t){t("no")})},t.prototype.initRecord=function(){return new Promise(function(t){t("no")})},t.prototype.startRecord=function(){return new Promise(function(t){t("no")})},t.prototype.stopRecord=function(){return new Promise(function(t){t("no")})},t.prototype.requestPermission=function(){return new Promise(function(t){t("no")})},t.prototype.getLocation=function(){return new Promise(function(t){t("no")})},t.prototype.isEnableLocation=function(){return new Promise(function(t){t("no")})},t.prototype.writeFile=function(){return new Promise(function(t){t("no")})},t.prototype.readFile=function(){return new Promise(function(t){t("no")})},t.prototype.mkdir=function(){return new Promise(function(t){t("no")})},t.prototype.downloadFile=function(){return new Promise(function(t){t("no")})},t.prototype.uploadFile=function(){return new Promise(function(t){t("no")})},t.prototype.deleteFile=function(){return new Promise(function(t){t("no")})},t.prototype.setKeepScreenOn=function(){},t.prototype.getMenuPosition=function(){return new Promise(function(t){t("no")})},t.prototype.exitApp=function(){return new Promise(function(t){t("no")})},t.prototype.getSystemInfo=function(){return new Promise(function(t){t("no")})},t.prototype.getShareTemplate=function(){return new Promise(function(t){t("no")})},t.prototype.getShareInfo=function(){return new Promise(function(t){t("no")})},t.prototype.getTigerList=function(){return new Promise(function(t){t("no")})},t.prototype.navigateToTiger=function(){return new Promise(function(t){t("no")})},t.prototype.sendLoadingStart=function(){return new Promise(function(t){t("no")})},t.prototype.sendLoadingEnd=function(){return new Promise(function(t){t("no")})},t.prototype.getSetting=function(){return new Promise(function(t){t({})})},t.prototype.openSetting=function(){return new Promise(function(t){t("no")})},t.prototype.authorize=function(){},t.prototype.cacheUsage=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2,0]})})},t.prototype.clearCache=function(){return null},t.prototype.clearStorage=function(){return null},t.prototype.getLocalImgPath=function(t,e){return o(this,void 0,Promise,function(){return i(this,function(){return[2,new Promise(function(n){n(jsb.fileUtils.getWritablePath()+"/downimg/dowmload_img_"+t+"_"+e+".jpg")})]})})},t.prototype.fileAccess=function(t){return new Promise(function(e){e(jsb.fileUtils.isFileExist(t))})},t.prototype.destroyUserInfoButton=function(){return new Promise(function(t){t("no")})},t.prototype.restart=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2,new Promise(function(t){t("no")})]})})},t.prototype.getBatteryLevel=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2,new Promise(function(t){t("no")})]})})},t.prototype.onNetworkStatusChange=function(t){a.CallBackManager.getInstance().register(c.NativeNotify.NetworkChange,new r.Callback(this,function(e){t&&t(e)}))},t.prototype.offNetworkStatusChange=function(){a.CallBackManager.getInstance().unregister(c.NativeNotify.NetworkChange)},t.prototype.getNetworkStatus=function(){return new Promise(function(t){var e=s.NativeApi.getNetInfo();t(e?JSON.parse(e).netType:null)})},t.prototype.createCanvas=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2,new Promise(function(t){t("no")})]})})},t.prototype.drawImage=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2,new Promise(function(t){t("no")})]})})},t.prototype.drawText=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2,new Promise(function(t){t("no")})]})})},t.prototype.drawCanvas=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2,new Promise(function(t){t("no")})]})})},t.prototype.updateShare=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2,new Promise(function(t){t("no")})]})})},t.prototype.setRemoteServerURL=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2]})})},t.prototype.showShareMenu=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2]})})},t.prototype.getEnvVersion=function(){return"release"},t.prototype.openService=function(){},t.prototype.subscribeMessage=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2]})})},t.prototype.isSubscribedMsg=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2,0]})})},t.prototype.setClipboardData=function(t){return new Promise(function(e){s.NativeApi.setClipboardData(t),e("")})},t.prototype.getClipboardData=function(){return new Promise(function(t){t(s.NativeApi.getClipboardData())})},t.prototype.navigateToMiniProgram=function(){throw new Error("Method not implemented.")},t.prototype.navigateBackMiniProgram=function(){throw new Error("Method not implemented.")},t}();n.NativePlatform=l,cc._RF.pop()},{"../../lib/base/Callback":"Callback","./CallBackManager":"CallBackManager","./NativeApi":"NativeApi","./NativeNotify":"NativeNotify"}],NetInterface:[function(t,e,n){"use strict";cc._RF.push(e,"ce3881QoOBGupnAsRpUU3PE","NetInterface"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],NewTag:[function(t,e,n){"use strict";cc._RF.push(e,"d0369qm5LZM95vA0r4shzdL","NewTag");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../app/event/Notify"),s=t("../../app/model/DataProxy"),c=t("./CxComponent"),l=cc._decorator,u=l.ccclass,d=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.unlockTag=0,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.node.active=!1},e.prototype.listEvent=function(){return new Map([[a.Notify.Other.RESP_NEW_UNLOCK_READ_ST,this.onGetUnLockNewStatus]])},e.prototype.start=function(){cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).repeatForever(cc.tween(this.node).to(.5,{position:cc.v3(0,-5)},{easing:cc.easing.sineOut}).to(.5,{position:cc.v3(0,5)},{easing:cc.easing.sineOut})).start()},e.prototype.onGetUnLockNewStatus=function(){var t=s.DataProxy.getInstance().otherData.isNewTagRead(this.unlockTag);this.node.active=!t},e.prototype.readNewTag=function(){this.node.active=!1,s.DataProxy.getInstance().otherData.isNewTagRead(this.unlockTag)||(s.DataProxy.getInstance().otherData.delTagRead(this.unlockTag),this.dispatch(a.Notify.Other.REQ_READ_NEW_UNLOCK,this.unlockTag))},r([d({type:cc.Integer,tooltip:"\u679a\u4e3e\u7c7b\u578b gUnlcokTag \u7684\u4e00\u79cd"})],e.prototype,"unlockTag",void 0),r([u],e)}(c.CxComponent);n.default=p,cc._RF.pop()},{"../../app/event/Notify":"Notify","../../app/model/DataProxy":"DataProxy","./CxComponent":"CxComponent"}],NodePoolMgr:[function(t,e,n){"use strict";cc._RF.push(e,"b93abt/UpBPMrXnlVr5J4my","NodePoolMgr"),Object.defineProperty(n,"__esModule",{value:!0}),n.NodePoolMgr=void 0;var o=t("../utils/Logger"),i=function(){function t(){this.mapNodePools=new Map}return t.getInstance=function(){return null==t.$instance&&(t.$instance=new t),t.$instance},t.desInstance=function(){t.$instance&&(t.$instance.clearAll(),t.$instance.mapNodePools=null,t.$instance=null)},t.prototype.getPool=function(t){var e=this.mapNodePools.get(t);return e||(e=new cc.NodePool(t),this.mapNodePools.set(t,e)),e},t.prototype.clearPool=function(t){var e=this.mapNodePools.get(t);e&&(e.clear(),this.mapNodePools.delete(t))},t.prototype.clearAll=function(){for(var t in this.mapNodePools)this.clearPool(t);this.mapNodePools.clear()},t.prototype.init=function(t,e,n){if(!t||!e||0===e.length||n<=0)return o.Logger.warn("NodePoolMgr init failed ! prefab is "+t+" prefabType is "+e+" initNum is "+n),!1;var i,r=this.mapNodePools.get(e);if(r||(r=new cc.NodePool(e),this.mapNodePools.set(e,r)),r.size()>=n)return!0;for(var a=n-r.size();a>=0;--a)i=cc.instantiate(t),r.put(i);return!0},t.$instance=null,t}();n.NodePoolMgr=i,cc._RF.pop()},{"../utils/Logger":"Logger"}],Notify:[function(t,e,n){"use strict";cc._RF.push(e,"de8094tpOZCDYupVU62mDgT","Notify"),Object.defineProperty(n,"__esModule",{value:!0}),n.Notify=void 0,function(t){(function(t){t.GET_CURRENCY="nbs_getcurrency",t.UPDATE_CURRENCY="nbs_updatecurrency",t.UPDATE_HB_INFO="nbs_updatehbinfo",t.UPDATE_POWER_INFO="nbs_updatepowerinfo",t.SET_USERINFO="nbs_setuserinfo",t.GET_USERINFO="nbs_getuserinfo",t.UPDATE_USERINFO="nbs_updateuserinfo",t.OPEN_USERINFO="nbs_openuserinfo",t.LOAD_RES_START="nbs_loadresstart",t.LOAD_RES_FAILUE="nbs_loadresfailue",t.LOAD_RES_FINISH="nbs_loadresfinish",t.LOAD_RES_PRE_FINISH="nbs_loadresprefinish",t.LOAD_BUNDLE_START="nbs_loadbundlestart",t.LOAD_BUNDLE_FINISH="nbs_loadbundlefinish",t.LOAD_BUNDLE_FAILUE="nbs_loadbundlefailue",t.GET_LOCAL_STORAG="nbs_getlocalstorag",t.UPDATE_LOCAL_STORAG="nbs_updatelocalstorag",t.SET_LOCAL_STORAG="nbs_setlocalstorag",t.RTN_LOCAL_STORAG="nbs_rtnlocalstorag",t.PLAY_MUSIC="nbs_playmusic",t.STOP_MUSIC="nbs_stopmusic",t.PLAY_EFFECT="nbs_playeffect",t.STOP_EFFECT="nbs_stopEffect",t.ON_APP_RESUME="nbs_onappresume",t.ON_APP_PAUSE="nbs_onapppause",t.ON_RECONNET_TIP="nbs_onreconnettip",t.ON_RECONNET_FINISH="nbs_onreconnetfinish",t.HIDE_LOBBY_SOME_LAYER="nbs_hideSomeLayer",t.ON_APP_LOG_OUT="nbs_onapplogout",t.ON_APP_LOG_RE_IN="nbs_onapplogrein",t.CHANGE_LANGUAGE="nbs_changelanguage",t.ADD_ORIGIN="nbs_addorigin",t.ADD_ORIGIN_LIST="nbs_addoriginlist",t.HANDLER_ORIGIN="nb_handlerorigin",t.REQ_SCREEN_SHOT="nb_reqscreenshot",t.SCREEN_SHOT_START="nb_screenshotstart",t.SCREEN_SHOT_RESULT="nb_screenshotresult",t.CHANGE_SKIN="nb_changeskin",t.CANCEL_LOADING_VIEW="nb_cancelloadingview",t.CHECK_VIEW_IS_OPENED="nb_checkNodeIsOpened",t.RTN_CHECK_VIEW_IS_OPENED="nb_returnCheckNodeIsOpened",t.POP_NEXT_WATING_LAYER="nb_popNextWatingLayer",t.CLOSE_ALL="nb_popCloseAll",t.RESTART_TIME_CD="nb_restart_time_cd"})(t.Base||(t.Base={})),function(t){t.LOGIN_AGAIN="nl_loginagain",t.CONNECT="nl_connect",t.SEND="nl_send",t.FINISH="nl_finish",t.FAILURE="nl_failure",t.PLATFORM_LOGIN_FINISH="nl_platformloginfinish",t.UPDATE_VERSION="notify_login_update_version",t.UPDATE_NEXT="notify_login_update_next"}(t.Login||(t.Login={})),(t.Update||(t.Update={})).UPDATE_TO_NEXT="notify_update_to_next",function(t){t.CONNECT="ngt_connect",t.SEND="ngt_send",t.CONNECTED="ngt_connected",t.CLOSED="ngt_closed",t.TRY_CONNECT="ngt_try_connect",t.RECONNECT="ngt_reconnect",t.ADD_HANDLER="ngt_add_handler",t.RM_HANDLER="ngt_rm_handler",t.CLOSE_SOCKET="ngt_close_socket",t.GATE_LOGIN_SUCCESS="ngt_loginsuccess",t.GATE_LOGIN_FAILED="ngt_loginfailed",t.USER_ON_OTHER_GAME="ngt_useronothergame",t.USER_KICK_HINT="ngt_userkickhint",t.GATE_HEART_BEAT="ngt_heartbeat"}(t.Gate||(t.Gate={})),function(t){t.SEND_ROOMINFO_GET="nqy_sendroominfoget",t.FIND_ROOMINFO_GET="nqy_findroominfoget",t.FIND_USER_ROOM="nqy_finduserroom",t.FIND_ROOMINFO_ERR="nqy_findroominfoerr",t.FIND_ROOMINFO_AC_TIP="nqy_findroominfoactip",t.ENTER_ROOM="nqy_findroominfoenterroom",t.FIND_ROOMINFO_RESULT="nqy_findroominforesult"}(t.Query||(t.Query={})),function(t){t.GET_USER_INFO="nus_getuserinfo",t.UPLOAD_USER_INFO="nus_uploaduserinfo",t.UPLOAD_USER_NAME="nus_uploadusername",t.UPLOAD_USER_GENDER="nus_uploadusergender",t.GET_USER_GOLD="nus_getusergold",t.UPDATE_USER_GOLD="nus_updateusergold",t.GET_LOB_USER_INFO="nus_getlobuserinfo",t.UPDATE_LOB_USER_INFO="nus_updatelobuserinfo",t.UPDATE_USER_HEAD="nus_updateuserhead",t.UPDATE_USER_HEAD_URL="nus_updateuserheadurl",t.UPLOAD_USER_NAMEHEADURL="nus_updateusernameheadurl",t.GET_USER_NAMEHEARURL="nus_getusernameheadurl",t.FORCE_UPDATE_USER_HEAD="nus_force_updateuserhead",t.UPLOAD_USER_FACE_ID="nus_uploaduserfalceid",t.RTN_MODIFY_USER_FACE_ID="nus_rtnmodifyuserfaceid",t.GET_BIND_ACCOUNT_INFO="nus_getbindaccountinfo",t.RTN_BIND_ACCOUNT_INFO="nus_rtnbindaccountinfo",t.REQ_BIND_USER_ACCOUNT="nus_reqbinduseraccount",t.RTN_BIND_USER_ACCOUNT="nus_rtnbinduseraccount",t.REQ_EXTSESSION_TIME="nus_reqextsession_time",t.REQ_USER_POWER_DATA="nus_requserpowerdata",t.RTN_USER_POWER_RESULT="nus_rtnuserpowerresult",t.UPDATE_USER_POWER="nus_updateuserpower",t.UPDATE_USER_NICKNAME="nus_update_user_nickname",t.UPDATE_USER_NICKNAMEHEADURL="nus_update_user_nicknameheadurl"}(t.UserInfo||(t.UserInfo={})),function(t){t.REQ_HALL_SHARE_CFG="noh_reqhallsharecfg",t.SET_HALL_SHARE_CFG="noh_sethallsharecfg",t.GET_HALL_SHARE_CFG="noh_gethallsharecfg",t.RTN_HALL_SHARE_CFG="noh_rtnhallsharecfg",t.REQ_BRANKRUPT_INFO="noh_reqbrankruptinfo",t.GET_BRANKRUPT_GOLD="noh_getbrankruptgold",t.RTN_BRANKRUPT_GOLD="noh_rtnbrankruptgold",t.GET_ENTER_GOLD_ROOM_INFO="noh_getingamegoldmin",t.OPEN_PO_CHANLAYER="noh_openpochanlayer",t.OTHER_TEST_GOLD="noh_othertestgold",t.REQ_TANG_KUANG_INFO="noh_reqtangkuanginfo",t.RTN_FUFEI_TANG_KUANG_RESULT="noh_rtnfufeitangkuangresult",t.REQ_SEND_FIVE_STAR_CONTENT="noh_reqsendfivestarcontent",t.RTN_FIVE_STAR_CONTENT_RESULT="noh_rtnfivestarcontentresult",t.UPDATE_DESK_BUILD_INFO="noh_updatedesk_build_info",t.REQ_DESK_BUILD_STATE="noh_reqdeskbuildstate",t.RTN_DESK_BUILD_STATE="noh_rtndeskbuildstate",t.REQ_BUILD_DESK_WIN="noh_reqbuilddeskwin",t.RTN_BUILD_DESK_WIN="noh_rtnbuilddeskwin",t.REQ_USE_POWER_BUILD="noh_requsepowerbuild",t.RTN_USE_POWER_BUILD="noh_rtnusepowerbuild",t.PRE_LOAD_GAME_RES="noh_notifypreloadgameres",t.REQ_MYSTERY_GIFT_DATA="noh_mysterygiftdata",t.GET_MYSTERY_GIFT="noh_getmysterygift",t.GET_INVITE_CFG="noh_getinvitecfg",t.GET_INVITE_INFO="noh_getinviteinfo",t.GET_INVITE_GIFT="noh_getinvitegift",t.GET_POPUP_CFG="noh_getpopupcfg",t.GET_CFG="noh_getcfg",t.REQ_LEVEL_UP="noh_reqLevelUp",t.RESP_LEVEL_UP="noh_respLevelUp",t.REQ_RECV_LEVELUP_REWARD="noh_reqRecvLvlupReward",t.RESP_RECV_LEVELUP_REWARD="noh_respRecvLvlupReward",t.REQ_NEW_UNLOCK_INFO="noh_reqNewUnlockInfo",t.RESP_NEW_UNLOCK_INFO="noh_respNewUnlockInfo",t.REQ_NEW_UNLOCK_READ_ST="noh_reqNewUnlockReadState",t.RESP_NEW_UNLOCK_READ_ST="noh_respNewUnlockReadState",t.REQ_READ_NEW_UNLOCK="noh_reqReadNewUnlock",t.RESP_READ_NEW_UNLOCK="noh_respReadNewUnlock",t.REQ_TABLES_NEW_ST="noh_reqTablesNewStatus",t.RESP_TABLES_NEW_ST="noh_respTablesNewStatus",t.REQ_READ_TABLES_NEW_ST="noh_reqReadTablesNewStatus",t.RESP_READ_TABLES_NEW_ST="noh_respReadTablesNewStatus",t.REQ_CARD_SKIN_CONFIG="noh_reqCardSkinConfig",t.RESP_CARD_SKIN_CONFIG="noh_respCardSkinConfig",t.REQ_CHANGE_CARD_SKIN="noh_reqChangeCardSkin",t.RESP_CHANGE_CARD_SKIN="noh_respChangeCardSkin",t.REQ_SET_CARD_REDPOINT="noh_reqSetCardRedPoint",t.RESP_SET_CARD_REDPOINT="noh_respSetCardRedPoint",t.REQ_REVENEGE_GIFT="noh_reqRevenegeGift",t.RESP_REVENEGE_GIFT="noh_respRevenegeGift",t.REQ_RECV_REVENEGE_GIFT="noh_reqRecvRevenegeGift",t.RESP_RECV_REVENEGE_GIFT="noh_resRecvpRevenegeGift",t.REQ_BANKRUPT_LAYER_CONFIG="noh_reqBankRuptLayerConfig",t.RESP_BANKRUPT_LAYER_CONFIG="noh_respBankRuptLayerConfig",t.GET_GOLD_LAYER="noh_getGoldLayer",t.GOLD_NOT_ENOUGH="noh_GoldNotEnough",t.REQ_STATISTICS_CONFIG="noh_reqStatisticsConfig"}(t.Other||(t.Other={})),function(t){t.HTTP_REQ_HISTORY_LIST="nht_reqhistorylist",t.HTTP_RSP_HISTORY_LIST="nht_rsphistorylist",t.HTTP_REQ_HISTORY_DETAILS="nht_reqhistorydetails",t.HTTP_RSP_HISTORY_DETAILS="nht_rsphistorydetails",t.HTTP_REQ_HISTORY_VIDEO="nht_rsphistoryvideo",t.HTTP_RSP_HISTORY_VIDEO="nht_reqhistoryvideo",t.HTTP_REQ_STATS_INFO="nht_reqstatsinfo",t.HTTP_REQ_BURYPOINT_STATS_INFO="nht_reqburypointstatsinfo"}(t.Http||(t.Http={})),function(t){t.EXIT_SCENE="ngm_exit_scene",t.CHECK_SENSITIVE_WORD="ngm_chatcheckSensitiveword",t.SEND_CHAT_WORD="ngm_chatsendchatword",t.REMATCH_BTN_CLIKCABLE="ngm_show_rematch_button"}(t.Game||(t.Game={})),function(t){t.REQ_ACT_ON_OFF="nac_actreqactonoff",t.RSP_ACT_ON_OFF="nac_actrspactonoff",t.CHANGE_REDDOT_NUM="nac_actchangerednum"}(t.Activity||(t.Activity={})),function(t){t.COM_SHARE="nsh_lobsharecom",t.USER_INVITE_SHARE="nsh_lobshareuserinvite",t.LK_RULE_SHARE="nsh_lobsharelkrule"}(t.Share||(t.Share={})),(t.Laba||(t.Laba={})).ADD_SPEAK_INFO="nlb_labaaddspeakinfo",function(t){t.MATCH_GAME_ID="nmt_matchgameid",t.MATCH_QUICK_GAME="nmt_matchquickgame",t.MATCH_GAME_TYPE="nmt_matchgametype",t.MATCH_QUICK_START="nmt_matchquickstart",t.MATCH_PLAY_AGAIN="nmt_matchplayagain",t.MATCH_VIEW="nmt_matchview",t.SEND_MATCH_REQ="nmt_matchreq",t.SEND_CANEL_MATCH="nmt_cancelmatch",t.MATCH_RSP="nmt_matchrsp",t.MATCH_FINISH="nmt_matchfinish",t.SEND_LEFT_ROOM="noh_reqleftroom"}(t.MatchGame||(t.MatchGame={})),function(t){t.UPDATE_SHOP_INFO="nsp_updateshopinfo",t.REQ_SHOP_BASE_INFO="nsp_reqshopbaseinfo",t.REQ_BUY_GOODS_ACTION="nsp_reqbuygoodsaction",t.RTN_BUY_GOODS_PAYDATA="nsp_rtnbuygoodspaydata",t.RTN_BUY_GOODS_SUCCESS="nsp_rtnbuygoodssuccess",t.RTN_BUY_GOODS_FAILED="nsp_rtnbuygoodsfailed",t.REQ_GET_GOODS_ACTION="nsp_reqgetgoodsaction",t.RTN_GET_GOODS_SUCCESS="nsp_rtngetgoodssuccess",t.RTN_GET_GOODS_FAILED="nsp_rtngetgoodsfailed",t.REQ_BOX_SHOP_DATA_INFO="nsp_reqboxshopdatainfo",t.RTN_BOX_SHOP_INFO_RESULT="nsp_rtnboxshopinforesult",t.REQ_OPEN_BOX_SHOP_ACTION="nsp_reqopenboxshopaction",t.RTN_OPEN_BOX_SHOP_ACTION_RESULT="nsp_rtnopenboxshopactionresult",t.LOG_PURCHASE_EVENT="nsp_logpurchaseevent",t.REQ_GOLDEN_PASS_INFO="nsp_reqgoldenpassinfo",t.RTN_GOLDEN_PASS_INFO="nsp_rspgoldenpassinfo",t.REQ_BUY_GOLDEN_PASS="nsp_reqbuygoldenpass",t.RTN_BUY_GOLDEN_PASS="nsp_rtnbuygoldenpass",t.REQ_MIX_GIFT="nsp_reqMixGift",t.RTN_MIX_GIFT="nsp_rtnMixGift",t.REQ_BANKRUPT_GIFT="nsp_reqBankRuptGift",t.RTN_BANKRUPT_GIFT="nsp_rtnBankRuptGift",t.REQ_REVENGE_GIFT="nsp_reqRevengeGift",t.RSP_REVENGE_GIFT="nsp_rspRevengeGift",t.REQ_BOOST_GIFT="nsp_reqBoostGift",t.RSP_BOOST_GIFT="nsp_rspBoostGift"}(t.Shop||(t.Shop={})),function(t){t.REQ_TASK_TIME_REWARD_INFO="nts_reqtasktimerewardinfo",t.RTN_TASK_TIME_REWARD_INFO="nts_rtntasktimerewardinfo",t.UPDATE_TASK_TIME_REWARD_INFO="nts_update_task_time_reward_info",t.REQ_TASK_TIME_REWARD_RESULT="nts_reqtasktimerewardresult",t.RTN_TASK_TIME_REWARD_RESULT="nts_rtntasktimerewardresult",t.REQ_DAY_TASK_LIST="nts_reqdaytasklist",t.RTN_DAY_TASK_LIST="nts_rtndaytasklist",t.REQ_DAY_TASK_RESULT="nts_reqdaytaskresult",t.RTN_DAY_TASK_RESULT="nts_rtndaytaskresult",t.REQ_DAY_TASK_REDDOT="nts_reqdaytaskreaddot",t.CLICK_CD_TASK="nts_clickcdtask",t.OPEN_SCOPA_CLASSIC="nts_openScopaClassic",t.OPEN_SCOPA_WILD="nts_openScopaWild",t.OPEN_VIDEO_LOTTERY="nts_openVideoLottery",t.DISPLAY_SHOP_SPECIAL_SALE="nts_openShopSpecialSale"}(t.Task||(t.Task={})),function(t){t.REQ_TABLES_LIST="ntb_reqtableslist",t.RTN_TABLES_LIST="ntb_rtntableslist",t.REQ_GAME_GET_CHIPS="ntb_reqgamegetchips",t.RTN_GAME_GET_CHIPS="ntb_rtngamegetchips",t.REQ_TABLE_RED_DOT="ntb_reqtablereddot",t.RTN_TABLE_RED_DOT="ntb_rtntablereddot",t.REQ_NOT_GET_AWARD="ntb_reqnotgetaward",t.RTN_NOT_GET_AWARD="ntb_rtnnotgetaward",t.REQ_TABLE_FINISH_REWARD="ntb_reqtablefinishreward",t.RTN_TABLE_FINISH_REWARD="ntb_rtntablefinishreward",t.REQ_TABLE_RECYCLE="ntb_reqtablerecycle",t.RTN_TABLE_RECYCLE="ntb_rtntablerecycle",t.REQ_TABLE_BOX_UNLOCK="ntb_reqtableboxunlock",t.RTN_TABLE_BOX_UNLOCK="ntb_rtntableboxunlock",t.REQ_TABLE_BOX_UNLOCK_CD="ntb_reqtableboxunlockcd",t.RTN_TABLE_BOX_UNLOCK_CD="ntb_rtntableboxunlockcd",t.REQ_TABLES_MULTI_CFG="ntb_reqtablesmulticfg",t.RTN_TABLES_MULTI_CFG="ntb_rtntablesmulticfg",t.USE_TABLE="ntb_usetable",t.GUIDE_CLOSE="ntb_guideclosed",t.MORE_CHIPS_DLG="ntb_morechipsdlg"}(t.Tables||(t.Tables={})),function(t){t.REQ_ALL_FFD="nffd_reqallffd",t.REQ_FFD_SCENEDATA="nffd_reqffdscenedata",t.REQ_REWARD="nffd_reqreward",t.REQ_RED_DOT="nffd_reqreddot",t.REQ_OTHER_GG_INFO="nffd_reqothergginfo",t.RTN_FFD_SCENEDATA="nffd_rtnffdscenedata"}(t.FFD||(t.FFD={})),function(t){t.LOAD_VIDEO="nad_loadvideo",t.OPEN_VIDEO="nad_openvideo",t.REFUSE_VIDEO="nad_refusevideo",t.REWARD="nad_reward",t.CANCELED="nad_canceled",t.AD_LOADED="nad_adloaded",t.VIDEO_PLAY_START="nad_videoplaystart",t.VIDEO_PLAY_END="nad_videoplayend",t.SET_BANNER_ON_OFF="nad_banneronoff",t.LOAD_BANNER="nad_loadbanner",t.SHOW_BANNER="nad_showbanner",t.RM_BANNER="nad_rmbanner",t.HIDE_BANNER="nad_hidebanner",t.RESHOW_BANNER="nad_reshowbanner",t.LOAD_CP_GG="nad_loadcpgg",t.OPEN_CP_GG="nad_opencpgg",t.CP_GG_CLOSED="nad_cpggclosed"}(t.AD||(t.AD={})),function(t){t.UPDATE_INVITED_CFG="nad_updateinvitecfg",t.LOBBY_INVITE="nad_lobbyinvite"}(t.Invite||(t.Invite={})),function(t){t.REQ_INFO="goldenPass_requestInfo",t.RESP_INFO="goldenPass_responceInfo",t.RESP_LIST_INFO="goldenPass_responceListInfo",t.REQ_RECV_REWARD="goldenPass_requestRecvReward",t.RESP_RECV_REWARD="goldenPass_responseRecvReward",t.RESP_UPDATE_VIEW="goldenPass_responseUpdateView",t.REQ_ACT_ENTRY_INFO="goldenPass_requestEntryInfo",t.RESP_GOLDENPASS_ENTRY_INFO="goldenPass_responseEntryInfo",t.REQ_DAILY_REWARD="goldenPass_requestDailyReward",t.REQ_RECV_DAILY_REWARD="goldenPass_requestRecvDailyReward",t.RESP_RECV_DAILY_REWARD="goldenPass_responseRecvDailyReward",t.SUBSCRIBE_SUCC="goldenPass_subscribe_succ",t.REQ_GOLDEN_BONUS="goldenpass_req_golden_bonus",t.RESP_GOLDEN_BONUS="goldenpass_resp_golden_bonus",t.REQ_GOLDEN_BONUS_REDPOINT="goldenpass_req_golden_bonus_redpoint",t.RESP_GOLDEN_BONUS_REDPOINT="goldenpass_resp_golden_bonus_redpoint",t.SWICH_BONUS_PAGE="goldenpass_swich_bonus_page"}(t.GoldenPass||(t.GoldenPass={})),function(t){t.REQ_SEGMENT_COMPETITION_LIST="req_segment_competition_list",t.RESP_PERSONAL_INFORMATION="resp_personal_information",t.GAME_RESP_PERSONAL_INFORMATION="game_resp_personal_information",t.RESP_RANKING_LIST="resp_ranking_list",t.GAME_RESP_RANKING_LIST="game_resp_ranking_list",t.REQ_QUICK_UPGRADE_REWARD="req_quick_upgrade_reward",t.RESP_QUICK_UPGRADE_REWARD="resp_quick_upgrade_reward",t.REQ_RANK_REWARD="req_rank_reward",t.RESP_RANK_REWARD="resp_rank_reward",t.REQ_UPGRADE_CONFIGURATION="req_upgrade_configuration",t.RESP_UPGRADE_CONFIGURATION="resp_upgrade_configuration",t.OPEN_UPGRADE_CONFIGURATION="open_upgrade_configuration",t.UPDATE_RANK_LOGO="update_rank_logo",t.TO_INDEX="to_index",t.IN_STATISTICS="in_statistics"}(t.Ranking||(t.Ranking={})),function(t){t.OPEN_POPUR="notify_test_open_popur",t.INIT_DATA="notify_test_init_data",t.SHOW_VIEW="notify_test_show_view",t.CLOSE_DATA="notify_test_close_data"}(t.Test||(t.Test={})),(t.CardSkin||(t.CardSkin={})).SELECT_CARD_SKIN="cs_selectCardSkin",function(t){t.CREATE_HEAD="nts_createhead",t.PRELOAD_HEAD="nts_preloadhead",t.CLEAR_MY_CACHE="nts_clearmycache",t.CLEAR_HEAD_CACHE="nts_clearheadcache",t.SWITCH_HEAD_MODE="nts_switchheadmode",t.SAVE_PHOTO_HEAD="nts_savephotohead"}(t.Head||(t.Head={}))}(n.Notify||(n.Notify={})),cc._RF.pop()},{}],ObjectPool:[function(t,e,n){"use strict";cc._RF.push(e,"ee0c8GVM4tNQ7C3CrSJacBi","ObjectPool"),Object.defineProperty(n,"__esModule",{value:!0}),n.ObjectPoolMgr=n.ObjectPool=void 0;var o=function(){function t(t){this.typeName=t,this.arrObj=[]}return t.prototype.getName=function(){return this.typeName},t.prototype.clear=function(){this.arrObj.forEach(function(){return null}),this.arrObj=null},t.prototype.put=function(t){t&&this.arrObj.push(t)},t.prototype.size=function(){return this.arrObj.length},t.prototype.pop=function(){this.arrObj.shift()},t}();n.ObjectPool=o;var i=function(){function t(){this.objPoolMap=new Map}return t.Get=function(){return t.$instance||(t.$instance=new t),t.$instance},t.desInstance=function(){if(t.$instance){var e=t.$instance.objPoolMap;e.forEach(function(t){t.clear(),t=null}),e.clear(),t.$instance.objPoolMap=null,t.$instance=null}},t.prototype.initPool=function(t,e){if(t){var n=this.getPool(t);if(n.size()>=e)return;for(var o=e-n.size();o<e;o++)if(!new t)return}},t.prototype.getPool=function(t){var e=this.objPoolMap.get(t);return e||(e=new o(t),this.objPoolMap.set(t,e)),e},t}();n.ObjectPoolMgr=i,cc._RF.pop()},{}],OptimizeDrawCall:[function(t,e,n){"use strict";cc._RF.push(e,"e6bc1STiZdDb6FHQ1Pw0/1J","OptimizeDrawCall");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.OptimizeDrawCallOptions=void 0;var a=cc._decorator,s=a.ccclass,c=a.property,l=a.menu,u=a.executionOrder,d=a.help,p=function(){function t(){this.enabledOptimize=!0,this.rootNode=null,this.pathToNode=[],this.pathToNode4Hide=[],this.container=null,this.containerZIndex=1}return r([c({displayName:"\u5f00\u542f\u4f18\u5316",tooltip:"\u7528\u4e8e\u5bf9\u6bd4\u4f18\u5316\u6548\u679c"})],t.prototype,"enabledOptimize",void 0),r([c({type:cc.Node,displayName:"\u5f85\u4f18\u5316\u6839\u8282\u70b9",tooltip:"\u4ece\u6b64\u8282\u70b9\u4e0b\u83b7\u53d6\u6307\u5b9a\u8def\u5f84\u6307\u5b9a\u540d\u79f0\u7684\u5b50\u8282\u70b9\u8fdb\u884c\u4f18\u5316"})],t.prototype,"rootNode",void 0),r([c({type:cc.String,displayName:"\u5f85\u4f18\u5316\u8282\u70b9\u8def\u5f84",tooltip:"\u76f8\u5bf9\u4e8e\u5f85\u4f18\u5316\u6839\u8282\u70b9\u8ba1\u7b97\uff0c\u987a\u5e8f\u51b3\u5b9azIndex\uff0c\u7d22\u5f15\u4f4e\u7684\u5728\u5e95\u5c42\u3002\u4f8b\u5982\uff1anodeNameA/nodeNameB/nodeNameC"})],t.prototype,"pathToNode",void 0),r([c({type:cc.String,displayName:"\u5f85\u9690\u85cf\u8282\u70b9\u8def\u5f84",tooltip:"\u76f8\u5bf9\u4e8e\u5f85\u4f18\u5316\u6839\u8282\u70b9\u8ba1\u7b97\uff0c\u7528\u4e8e\u79fb\u9664\u5360\u7528\u9ad8\u5ea6\u7684\u7a7a\u8282\u70b9\uff08\u5b50\u8282\u70b9\u5168\u90e8\u88ab\u4f18\u5316\u7684\u7236\u8282\u70b9\uff09\u3002\u4f8b\u5982\uff1anodeNameA/nodeNameB/nodeNameC"})],t.prototype,"pathToNode4Hide",void 0),r([c({type:cc.Node,displayName:"\u5206\u5c42\u5bb9\u5668",tooltip:"\u6240\u6709\u4f18\u5316\u540e\u7684\u8282\u70b9\u6302\u5230\u6b64\u8282\u70b9\u4e0a"})],t.prototype,"container",void 0),r([c({type:cc.Integer,displayName:"\u5206\u5c42\u8282\u70b9zIndex",tooltip:"\u5982\u5c42\u7ea7\u4e0d\u5bf9\uff0c\u53ef\u81ea\u884c\u8c03\u6574\uff0c\u4e00\u822c\u8282\u70b9\u5c42\u7ea7\u9ed8\u8ba4\u4e3a0"})],t.prototype,"containerZIndex",void 0),r([s("OptimizeDrawCallOptions")],t)}();n.OptimizeDrawCallOptions=p;var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.options=[],e}return i(e,t),e.prototype.start=function(){this.do()},e.prototype.do=function(){var t=this;this.options.forEach(function(e){if(cc.log("option",e.enabledOptimize),e.enabledOptimize){var n=e.rootNode.getComponent(cc.Widget);n&&n.updateAlignment();var o=e.rootNode.getComponent(cc.Layout);o&&o.updateLayout(),e.container.width=e.rootNode.width,e.container.height=e.rootNode.height,e.container.parent.width=e.rootNode.width,e.container.parent.height=e.rootNode.height,e.rootNode.on(cc.Node.EventType.SIZE_CHANGED,function(){e.container.width=e.rootNode.width,e.container.height=e.rootNode.height}),e.pathToNode.forEach(function(n,o){t.findTarget(e.rootNode,n).forEach(function(t){var n=e.container.convertToNodeSpaceAR(t.convertToWorldSpaceAR(cc.Vec2.ZERO));t.parent=e.container,t.position=cc.v3(n),t.zIndex=o,cc.log("OptimizeDrawCall name="+t.name+" x="+n.x+", y="+n.y)})}),e.pathToNode4Hide.forEach(function(n){t.findTarget(e.rootNode,n).forEach(function(t){return t.active=!1})}),e.container.zIndex=e.containerZIndex}})},e.prototype.findTarget=function(t,e){var n=this;if(!t)return[];var o=e.split("/").filter(function(t){return t.length>0}),i=o.shift();if(0==o.length)return t.children.filter(function(t){return t.name==i});var r=[];return t.children.forEach(function(t){t.name==i&&(r=r.concat(n.findTarget(t,o.join("/"))))}),r},r([c({type:p,displayName:"\u4f18\u5316\u9879",tooltip:"\u4e0d\u5171\u4eab\u540c\u4e00\u4e2a\u6839\u8282\u70b9\uff0c\u66f4\u7075\u6d3b"})],e.prototype,"options",void 0),r([s,l("\u4f18\u5316\u7ec4\u4ef6/DrawCall"),u(1),d("https://github.com/wclssdn/optimize_draw_call/")],e)}(cc.Component);n.default=h,cc._RF.pop()},{}],OptionGroup:[function(t,e,n){"use strict";cc._RF.push(e,"c032edE6lVIQ5yvjJJLXIX+","OptionGroup");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.OptionGroup=n.OptionType=n.OptionPD=void 0;var a,s,c=t("../../../lib/base/Callback"),l=t("../../../lib/base/CxComponent"),u=t("../../../lib/manager/NodePoolMgr");(function(t){t[t.PD_RELATIVE=1]="PD_RELATIVE",t[t.PD_ABSOLUTE=2]="PD_ABSOLUTE"})(a=n.OptionPD||(n.OptionPD={})),function(t){t[t.CM_TYPE_CIRCLE=0]="CM_TYPE_CIRCLE",t[t.CM_TYPE_RECT=1]="CM_TYPE_RECT",t[t.CM_TYPE_DIY=2]="CM_TYPE_DIY",t[t.RECT_TYPE=3]="RECT_TYPE",t[t.CIRCLE_TYPE=4]="CIRCLE_TYPE",t[t.RECT_TYPE_DIY=5]="RECT_TYPE_DIY"}(s=n.OptionType||(n.OptionType={}));var d=cc._decorator,p=d.ccclass,h=d.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.preOptionItem=null,e.preOptionItemDIY=null,e.txtTitle=null,e.ndOption=null,e.arrOptions=[],e.optionData=null,e.options=null,e.callBack=null,e.pdType=a.PD_ABSOLUTE,e.padding=0,e.startX=0,e.firstPd=100,e.rectSize=cc.size(230,74),e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.clear=function(){this.arrOptions&&Array.isArray(this.arrOptions)&&(this.arrOptions.forEach(function(t){u.NodePoolMgr.getInstance().getPool(t.name).put(t)}),this.arrOptions=null)},e.prototype.init=function(t){this.optionData=t,this.options=t.ops,this.padding=t.padding||0,this.startX=t.startX||0,this.callBack=t.cb,void 0!==t.pdType&&(this.pdType=t.pdType),void 0!==t.firstPd&&(this.firstPd=t.firstPd),this.initView()},e.prototype.getPrefabInstantiate=function(t){var e,n=null;return(e=t&&t==s.RECT_TYPE_DIY?this.preOptionItemDIY:this.preOptionItem)&&(n=cc.instantiate(e)),n},e.prototype.getScriptComponent=function(t){return t&&t==s.RECT_TYPE_DIY?"OptionItemDIY":"OptionItem"},e.prototype.initView=function(){for(var t=this.optionData.itemSize||this.rectSize,e=0;e<this.options.length;++e){var n=this.options[e],o=this.getScriptComponent(n.subType),i=u.NodePoolMgr.getInstance().getPool(o).get();i||(i=this.getPrefabInstantiate(n.subType));var r=i.getComponent(o);r||(r=i.addComponent(o)),this.ndOption.addChild(i),this.ndOption.x=this.firstPd,n.type=this.optionData.opType,n.size=t,r.init(e,n,new c.Callback(this,this.selectIndex)),this.arrOptions[e]=i}void 0!==this.optionData.title&&(this.txtTitle.getComponent(cc.Label).string=this.optionData.title),this.reSize(),this.selectIndex(this.optionData.selectIdx||0,!0)},e.prototype.reSize=function(){for(var t=this.startX,e=0;e<this.arrOptions.length;++e){var n=this.arrOptions[e];this.pdType===a.PD_ABSOLUTE?n.x=this.padding*e+this.startX:this.pdType===a.PD_RELATIVE&&(n.x=t,t=t+n.width+this.padding)}},e.prototype.selectIndex=function(t,e){for(var n=0;n<this.arrOptions.length;++n){var o=this.getScriptComponent(this.options[n].subType);if((i=this.arrOptions[n].getComponent(o)).getIndex()===t&&!i.isEndbled()&&this.callBack)return void this.callBack.call(-1)}for(n=0;n<this.arrOptions.length;++n){var i;if(o=this.getScriptComponent(this.options[n].subType),(i=this.arrOptions[n].getComponent(o)).getIndex()===t)if(e||1!==this.arrOptions.length)i.setSelect(!0);else{var r=i.isSelect();i.setSelect(!r),t=r?1:0}else i.isEndbled()&&i.setSelect(!1)}this.callBack&&!e&&this.callBack.call(t)},r([h(cc.Prefab)],e.prototype,"preOptionItem",void 0),r([h(cc.Prefab)],e.prototype,"preOptionItemDIY",void 0),r([h(cc.Label)],e.prototype,"txtTitle",void 0),r([h(cc.Node)],e.prototype,"ndOption",void 0),r([p],e)}(l.CxComponent);n.OptionGroup=f,cc._RF.pop()},{"../../../lib/base/Callback":"Callback","../../../lib/base/CxComponent":"CxComponent","../../../lib/manager/NodePoolMgr":"NodePoolMgr"}],OptionItemDIY:[function(t,e,n){"use strict";cc._RF.push(e,"5b936JrH4FDj54EZP6XoCbM","OptionItemDIY");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.OptionItemDIY=void 0;var a=t("../../../lib/base/CxComponent"),s=t("../../../lib/utils/ComUtils"),c=t("../../const/AudioFile"),l=t("../../event/Notify"),u=cc._decorator,d=u.ccclass,p=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.baseNode=null,e.edInput=null,e.bxSelect=null,e.bxNormal=null,e.bxNormalTips=null,e.rectSize=cc.size(230,74),e.index=null,e.itemData=null,e.callBack=null,e.strInput="",e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.init=function(t,e,n){this.index=t,this.itemData=e,this.callBack=n,void 0!==e.size&&(this.rectSize=e.size),void 0!==e.diyDef&&(this.strInput=String(e.diyDef)),this.initView()},e.prototype.initView=function(){this.node.width=this.rectSize.width,this.node.height=this.rectSize.height},e.prototype.onOptionClick=function(){this.isSelect()||this.callBack&&this.callBack.call(this.index)},e.prototype.getIndex=function(){return this.index},e.prototype.isSelect=function(){return this.bxSelect.node.active},e.prototype.setSelect=function(t){if(this.bxSelect.node.active=t,this.bxNormal.node.active=!t,this.bxNormalTips.node.active=!t,t){var e=s.ComUtils.isTextEmpty(this.strInput)?"0":this.strInput;this.edInput.node.getComponent(cc.EditBox).string=e}else this.edInput.node.getComponent(cc.EditBox).string="",this.bxNormalTips.node.getComponent(cc.Label).string="\u81ea\u5b9a\u4e49"},e.prototype.isEndbled=function(){return void 0===this.itemData.enable||this.itemData.enable},e.prototype.onSelectBegan=function(){this.dispatch(l.Notify.Base.PLAY_EFFECT,{path:c.AudioFile.Lobby.JOIN_KEYBOARD_EFFECT}),this.onOptionClick();var t=s.ComUtils.isTextEmpty(this.strInput)?"0":this.strInput;this.edInput.node.getComponent(cc.EditBox).string=t},e.prototype.onSelectChanged=function(){},e.prototype.onSelectEnded=function(t){this.onSelectFinish(t)},e.prototype.onSelectReturn=function(t){this.onSelectFinish(t)},e.prototype.onSelectFinish=function(t){this.strInput=t.string.trim();for(var e=0;e<this.strInput.length;++e)if(!Number(this.strInput.substr(e,1))){this.strInput="";break}if(s.ComUtils.isTextEmpty(this.strInput))this.bxNormalTips.node.active=!1,this.strInput=String(this.itemData.diyDef||0);else{var n=Number(this.strInput);n<=0?this.strInput="1":n>99&&(this.strInput="99"),this.itemData.diyDef=this.strInput,this.bxNormalTips.node.active=!1}this.bxNormalTips.node.getComponent(cc.Label).string=this.strInput,this.edInput.node.getComponent(cc.EditBox).string=this.strInput,this.itemData.ebCb&&this.itemData.ebCb.call(Number(this.strInput))},r([p(cc.Node)],e.prototype,"baseNode",void 0),r([p(cc.EditBox)],e.prototype,"edInput",void 0),r([p(cc.Sprite)],e.prototype,"bxSelect",void 0),r([p(cc.Sprite)],e.prototype,"bxNormal",void 0),r([p(cc.Label)],e.prototype,"bxNormalTips",void 0),r([d],e)}(a.CxComponent);n.OptionItemDIY=h,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../../lib/utils/ComUtils":"ComUtils","../../const/AudioFile":"AudioFile","../../event/Notify":"Notify"}],OptionItem:[function(t,e,n){"use strict";cc._RF.push(e,"9d510dxB3pBMpApsNdvrK9i","OptionItem");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.OptionItem=void 0;var a=t("../../../lib/base/CxComponent"),s=t("./OptionGroup"),c=t("../../const/AudioFile"),l=t("../../event/Notify"),u=cc._decorator,d=u.ccclass,p=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.baseNode=null,e.cmNode=null,e.cmBg=null,e.cm=null,e.cmTipsN=null,e.cmTipsS=null,e.bxNode=null,e.bxNormal=null,e.bxSelect=null,e.bxSelectTips=null,e.bxNormalTips=null,e.spfAtlas=null,e.rectSize=cc.size(230,74),e.cmWidth=0,e.srtTips="",e.fontSize=36,e.type=0,e.index=null,e.itemData=null,e.callBack=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.init=function(t,e,n){this.index=t,this.itemData=e,this.callBack=n,this.type=e.type||s.OptionType.RECT_TYPE,void 0!==e.size&&null!==e.size&&(this.rectSize=e.size),void 0!==e.fontSize&&(this.fontSize=e.fontSize),void 0!==e.tips&&(this.srtTips=e.tips),this.initView()},e.prototype.unuse=function(){this.index=-1,this.itemData=null,this.callBack=null,this.type=s.OptionType.RECT_TYPE,this.cmNode.active=!1,this.bxNode.active=!1},e.prototype.initView=function(){if(this.type===s.OptionType.CM_TYPE_CIRCLE);else if(this.type===s.OptionType.CM_TYPE_RECT);else if(this.type===s.OptionType.CM_TYPE_DIY);else if(this.type===s.OptionType.CIRCLE_TYPE){var t=this.spfAtlas.getSpriteFrame("lobby_create_option_circle_n"),e=this.spfAtlas.getSpriteFrame("lobby_create_option_circle_s");t&&e&&(this.cmBg.spriteFrame=t,this.cm.spriteFrame=e)}this.type===s.OptionType.RECT_TYPE?(this.cmNode.active=!1,this.bxNode.active=!0,this.bxSelectTips.getComponent(cc.RichText).fontSize=this.fontSize,this.bxSelectTips.getComponent(cc.RichText).string=this.srtTips,this.bxNormalTips.getComponent(cc.RichText).fontSize=this.fontSize,this.bxNormalTips.getComponent(cc.RichText).string=this.srtTips,this.node.width=this.rectSize.width,this.node.height=this.rectSize.height):(this.cmNode.active=!0,this.bxNode.active=!1,this.cmTipsN.getComponent(cc.RichText).fontSize=this.fontSize,this.cmTipsN.getComponent(cc.RichText).string=this.srtTips,this.cmTipsS.getComponent(cc.RichText).fontSize=this.fontSize,this.cmTipsS.getComponent(cc.RichText).string=this.srtTips,this.cmTipsN.node.x=this.cmBg.node.width+8,this.cmTipsS.node.x=this.cmBg.node.width+8,this.cmTipsN.node.width=this.srtTips.length*this.fontSize,this.cmTipsS.node.width=this.srtTips.length*this.fontSize),this.reSize()},e.prototype.reSize=function(){this.type!==s.OptionType.RECT_TYPE&&(this.cmWidth=this.cmTipsN.node.x+this.cmTipsN.node.width,this.node.width=this.cmWidth,this.baseNode.width=this.cmWidth)},e.prototype.onOptionClick=function(){this.dispatch(l.Notify.Base.PLAY_EFFECT,{path:c.AudioFile.Lobby.JOIN_KEYBOARD_EFFECT}),(!this.isSelect()||this.type!==s.OptionType.RECT_TYPE&&this.type!==s.OptionType.CIRCLE_TYPE)&&this.callBack&&this.callBack.call(this.index)},e.prototype.getIndex=function(){return this.index},e.prototype.isSelect=function(){return this.type===s.OptionType.RECT_TYPE?this.bxSelect.node.active:this.cm.node.active},e.prototype.setSelect=function(t){this.type===s.OptionType.RECT_TYPE?(this.bxSelect.node.active=t,this.bxNormal.node.active=!t):(this.cm.node.active=t,this.cmTipsN.node.active=!t,this.cmTipsS.node.active=t)},e.prototype.isEndbled=function(){return void 0===this.itemData.enable||this.itemData.enable},e.NAME="OptionItem",r([p(cc.Node)],e.prototype,"baseNode",void 0),r([p(cc.Node)],e.prototype,"cmNode",void 0),r([p(cc.Sprite)],e.prototype,"cmBg",void 0),r([p(cc.Sprite)],e.prototype,"cm",void 0),r([p(cc.RichText)],e.prototype,"cmTipsN",void 0),r([p(cc.RichText)],e.prototype,"cmTipsS",void 0),r([p(cc.Node)],e.prototype,"bxNode",void 0),r([p(cc.Sprite)],e.prototype,"bxNormal",void 0),r([p(cc.Sprite)],e.prototype,"bxSelect",void 0),r([p(cc.RichText)],e.prototype,"bxSelectTips",void 0),r([p(cc.RichText)],e.prototype,"bxNormalTips",void 0),r([p(cc.SpriteAtlas)],e.prototype,"spfAtlas",void 0),r([d],e)}(a.CxComponent);n.OptionItem=h,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../const/AudioFile":"AudioFile","../../event/Notify":"Notify","./OptionGroup":"OptionGroup"}],OriginManager:[function(t,e,n){"use strict";cc._RF.push(e,"2870b1XoHtLTr6jro4BqIUQ","OriginManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.TestOrigin=n.OriginManager=n.OriginName=void 0;var o,i=t("../../lib/event/EventDispatcher"),r=t("../../lib/utils/Logger"),a=t("../const/Global"),s=t("../event/Notify");(function(t){t.TestOrigin="TestOrigin"})(o=n.OriginName||(n.OriginName={}));var c=function(){function t(){this.mID=0,this.eventQueue=new Array,this.mCustomMap=new Map,this.init()}return t.getInstance=function(){return t.sInstance||(t.sInstance=new t),t.sInstance},t.desInstance=function(){t.sInstance&&(t.sInstance.clear(),t.sInstance=null)},t.prototype.init=function(){this.initEvent(),this.initCustom()},t.prototype.initEvent=function(){i.EventDispatcher.getInstance().add(s.Notify.Base.ADD_ORIGIN,this.addOrigin,this,0),i.EventDispatcher.getInstance().add(s.Notify.Base.ADD_ORIGIN_LIST,this.addOriginList,this,0),i.EventDispatcher.getInstance().add(s.Notify.Base.HANDLER_ORIGIN,this.hanglerEvent,this,0)},t.prototype.initCustom=function(){this.bindCustom(o.TestOrigin,new l)},t.prototype.clear=function(){i.EventDispatcher.getInstance().remove(this),this.eventQueue=null,this.mCustomMap.clear(),this.mCustomMap=null},t.prototype.bindCustom=function(t,e){this.mCustomMap&&(this.mCustomMap.has(t)?r.Logger.info("\u6765\u6e90"+t+"\u5df2\u7ecf\u7ed1\u5b9a\u8fc7"):this.mCustomMap.set(t,e))},t.prototype.handlerCustom=function(t){if(t&&this.mCustomMap){var e=this.mCustomMap.get(t.event);if(e&&e.handle)return e.handle(t.data),!0}return!1},t.prototype.addOriginList=function(t){var e=this;t&&t.forEach(function(t){e.addOrigin(t)})},t.prototype.addOrigin=function(t){t&&this.addAndSort(t)},t.prototype.removeBaseItem=function(t){if(this.eventQueue)for(var e=0;e<this.eventQueue.length;e++)if(this.eventQueue[e].level==t){this.eventQueue.splice(e,1);break}},t.prototype.checkSame=function(t){if(this.eventQueue&&t)for(var e=0;e<this.eventQueue.length;e++)if(this.eventQueue[e].event==t.event){this.eventQueue.splice(e,1);break}},t.prototype.addAndSort=function(t){t&&this.eventQueue&&(this.mID++,t.id=this.mID,t.level=t.level||a.gOriginLevel.LEVEL_1,this.checkSame(t),t.level>=a.gOriginLevel.BASE&&this.removeBaseItem(a.gOriginLevel.BASE),this.eventQueue.push(t),this.eventQueue.sort(function(t,e){return e.level==t.level?t.id-e.id:t.level-e.level}))},t.prototype.hanglerEvent=function(){if(this.eventQueue&&this.eventQueue.length>0)for(var t=this.eventQueue.shift();t;)this.handlerCustom(t)||i.EventDispatcher.getInstance().delayDispatch(10,t.event,t.data),t=this.eventQueue.shift()},t.prototype.test=function(){},t.sInstance=null,t}();n.OriginManager=c;var l=function(){function t(){}return t.prototype.handle=function(){return!0},t}();n.TestOrigin=l,cc._RF.pop()},{"../../lib/event/EventDispatcher":"EventDispatcher","../../lib/utils/Logger":"Logger","../const/Global":"Global","../event/Notify":"Notify"}],OtherDataProxy:[function(t,e,n){"use strict";cc._RF.push(e,"fa74382EXNAn7qNxoAH56Eb","OtherDataProxy"),Object.defineProperty(n,"__esModule",{value:!0}),n.OtherDataProxy=void 0;var o=t("./../../lib/utils/ComUtils"),i=function(){function t(){this.mGoldAddLayerPopNum=0,this.mGoldBankRuptCfg=[],this.mHallShareCfg=null,this._isGateConnected=!0,this.mTangKuangInfo=null,this._isNetConnected=!0,this.mDestBuildInfo=null,this.mNewUnlockData=null,this.mNewTagInfo=null,this.mNewTables=null,this.mCardSkinCfg=null,this.mCardSkinRedPoint=null,this.mSporadicCfg={}}return t.prototype.clear=function(){this.mHallShareCfg=null,this.mBankruptCfg=null,this.mSporadicCfg=null,this.mGoldBankRuptCfg=[],this.mGoldAddLayerPopNum=0,this.mBankruptGift=null},t.prototype.setHallShareCfg=function(t){this.mHallShareCfg=t},t.prototype.getHallShareCfg=function(){return this.mHallShareCfg},Object.defineProperty(t.prototype,"bankruptCfg",{get:function(){return this.mBankruptCfg},set:function(t){this.mBankruptCfg=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bankruptGift",{get:function(){return this.mBankruptGift},set:function(t){this.mBankruptGift=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isGateConnected",{get:function(){return this._isGateConnected},set:function(t){this._isGateConnected=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tangKuangInfo",{get:function(){return this.mTangKuangInfo},set:function(t){this.mTangKuangInfo=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNetConnected",{get:function(){return this._isNetConnected},set:function(t){this._isNetConnected=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deskBuildInfo",{get:function(){return this.mDestBuildInfo},set:function(t){this.mDestBuildInfo=t},enumerable:!1,configurable:!0}),t.prototype.saveDeskBuildInfo=function(t){t&&(this.mDestBuildInfo?(this.mDestBuildInfo.dwStatus=t.dwStatus,this.mDestBuildInfo.buildTime=t.buildTime,this.mDestBuildInfo.dwBaseValue=t.dwBaseValue,this.mDestBuildInfo.dwStartTime=t.dwStartTime,this.mDestBuildInfo.dwAddBaseValue=t.dwAddBaseValue,this.mDestBuildInfo.dwAddTime=t.dwAddTime,this.mDestBuildInfo.dwDeskId=t.dwDeskId,t.dwMaxBase&&(this.mDestBuildInfo.dwMaxBase=t.dwMaxBase),t.dwMaxTime&&(this.mDestBuildInfo.dwMaxTime=t.dwMaxTime),t.dwConsumePower&&(this.mDestBuildInfo.dwConsumePower=t.dwConsumePower)):this.mDestBuildInfo=t)},t.prototype.parseSporadicCfg=function(t){var e=JSON.parse(o.ComUtils.u8ToUTF8Str(t.byContent));e&&(this.mSporadicCfg.popHigerGameApartJu=e.ju||0)},t.prototype.getSporadicCfg=function(){return this.mSporadicCfg},Object.defineProperty(t.prototype,"newUnlockData",{get:function(){return this.mNewUnlockData},set:function(t){this.mNewUnlockData=t},enumerable:!1,configurable:!0}),t.prototype.getUnlockCfg=function(t){if(this.mNewUnlockData&&this.mNewUnlockData.tabCfg.length>0)for(var e=0;e<this.mNewUnlockData.tabCfg.length;e++)for(var n=this.mNewUnlockData.tabCfg[e],o=0;o<n.tabFunItem.length;++o)if(n.tabFunItem[o].dwId==t)return n;return null},t.prototype.isUnlock=function(t,e){var n=this.getUnlockCfg(t);return!n||e>=n.dwLevel},t.prototype.hasUnlock=function(t,e){var n=this.getUnlockCfg(t);return!n||e==n.dwLevel},Object.defineProperty(t.prototype,"newTagInfo",{get:function(){return this.mNewTagInfo},set:function(t){this.mNewTagInfo=t},enumerable:!1,configurable:!0}),t.prototype.isNewTagRead=function(t){var e=!0;return this.mNewTagInfo&&this.mNewTagInfo.some(function(n){if(t==n)return e=!1,!0}),e},t.prototype.delTagRead=function(t){this.mNewTagInfo.splice(t-1,1)},Object.defineProperty(t.prototype,"newTables",{get:function(){return this.mNewTables},set:function(t){this.mNewTables=t},enumerable:!1,configurable:!0}),t.prototype.isNewTable=function(t){if(this.mNewTables)for(var e=0;e<this.mNewTables.length;++e)if(this.mNewTables[e]==t)return!0;return!1},Object.defineProperty(t.prototype,"cardSkinCfg",{get:function(){return this.mCardSkinCfg},set:function(t){this.mCardSkinCfg=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cardSkinRedPoint",{get:function(){return this.mCardSkinRedPoint},set:function(t){this.mCardSkinRedPoint=t},enumerable:!1,configurable:!0}),t.NAME="other_data_proxy",t}();n.OtherDataProxy=i,cc._RF.pop()},{"./../../lib/utils/ComUtils":"ComUtils"}],OtherHandler:[function(t,e,n){"use strict";cc._RF.push(e,"34b49TBLOlEB6QbZzmo7acZ","OtherHandler");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.OtherHandler=void 0;var r=t("./../../model/LocalDataProxy"),a=t("./../../const/Global"),s=t("../../base/handler/ProxyHandler"),c=t("../../../lib/utils/Logger"),l=t("../../event/Notify"),u=t("../../../lib/utils/ComUtils"),d=t("../../view/ComUI"),p=t("../../../plugin/pb/protofile/CMD_OtherMsg"),h=t("../../../plugin/pb/protofile/GlobalMsgDef"),f=t("../../language/LanguageCfg"),g=t("../buryPoint/BuryPointUtils"),_=t("../../const/Global"),y=t("../../../lib/manager/ResConfigHandler"),m=t("../../../lib/event/EventDispatcher"),b=t("../../../lib/manager/ResManager"),v=t("../../event/GuiEvent"),S=t("../../model/DataProxy"),w=t("../../model/AdDataProxy"),C=t("../../../lib/base/Language"),I=t("../../platform/ShareSDK"),D=t("../../../lib/base/PopUpLogic"),L=t("../buryPoint/BuryPoint"),R=t("../../platform/AppsFlyerSDK"),P=t("../../platform/StatisticsDefine"),T=t("../../view/ComFunctions"),E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.SERVER_ID=120,e}return i(e,t),e.prototype.getName=function(){return"OtherHandler"},e.prototype.protocolConfig=function(){return[{protocol:p.Msg_SC_GetBankruptGold,subid:p.OTHER_GAME_SUB_MSG.MSGID_SC_BANKRUPT_RESULT,cb:this.onBankruptInfo},{protocol:p.Msg_SC_UpGold,subid:p.OTHER_GAME_SUB_MSG.MSGIDSC_BANKRUPT_GOLD_NUM,cb:this.onBankruptResult},{protocol:p.Msg_SC_SendUpdateResult,subid:p.OTHER_GAME_SUB_MSG.MSGID_SC_SENDUPDATEUSER_GOLDRESULT,cb:this.onGoldUpdateRusult},{protocol:p.Msg_SC_SendFFTKResult,subid:p.OTHER_GAME_SUB_MSG.MSGID_SC_SENDFUFEITANKUANGRESULT,cb:this.onTangKuangResult},{protocol:p.Msg_SC_SetCommentContentResult,subid:p.OTHER_GAME_SUB_MSG.MSGID_SC_5STAR_COMMENT_CONTENTRESULT,cb:this.onFinveStarResult},{protocol:p.Msg_SC_MysteryData,subid:p.OTHER_GAME_SUB_MSG.MSGID_SC_SEND_MYSTERY_DATA,cb:this.onMysteryGiftData},{protocol:p.Msg_SC_GetMysteryReward,subid:p.OTHER_GAME_SUB_MSG.MSGID_SC_SEND_GET_MYSTERY_REWARD,cb:this.onGetMysteryReaward},{protocol:p.Msg_SC_GetInviteCfg,subid:p.OTHER_GAME_SUB_MSG.MSGID_SC_SEND_GET_INVITE_CFG,cb:this.onGetInviteCfg},{protocol:p.Msg_SC_GetInviteData,subid:p.OTHER_GAME_SUB_MSG.MSGID_SC_SEND_GET_INVITE_DATA,cb:this.onGetInviteData},{protocol:p.Msg_SC_GetInviteRewardResult,subid:p.OTHER_GAME_SUB_MSG.MSGID_SC_SEND_GET_INVITE_REWARD,cb:this.onGetInviteRewardResult},{protocol:p.Msg_SC_GetPopUpCfg,subid:p.OTHER_GAME_SUB_MSG.MSGID_SC_RTN_POP_UP_CFG,cb:this.onRtnPopUpCfg},{protocol:p.Msg_SC_SendCfg,subid:p.OTHER_GAME_SUB_MSG.MSGID_SC_SEND_CFG,cb:this.onRtnSendCfg},{protocol:p.Msg_SC_SendExpLevel,subid:p.OTHER_GAME_SUB_MSG.MSGID_SC_SEND_EXP_LEVEL,cb:this.onRespLeveUp},{protocol:p.Msg_SC_SendLevelReward,subid:p.OTHER_GAME_SUB_MSG.MSGID_SC_SEND_EXP_LEVEL_REWARD,cb:this.onRespRecvLevelReaward},{protocol:p.Msg_SC_SendFunUnlockCfg,subid:p.OTHER_GAME_SUB_MSG.MSGID_SC_SEND_FUNUNLOCK_CFG,cb:this.onRespUnlockCfg},{protocol:p.Msg_SC_SendNewTag,subid:p.OTHER_GAME_SUB_MSG.MSGID_SC_SEND_NEW_TAG,cb:this.onRespNewTagInfo},{protocol:p.Msg_SC_UnlockNewTag,subid:p.OTHER_GAME_SUB_MSG.MSGID_SC_UNLOCK_NEW_TAG,cb:this.onRespReadNewTag},{protocol:p.Msg_SC_SendNewTableTag,subid:p.OTHER_GAME_SUB_MSG.MSGID_SC_SEND_NEWTABLE_TAG,cb:this.onRespNewTables},{protocol:p.Msg_SC_RemoveNewTableTag,subid:p.OTHER_GAME_SUB_MSG.MSGID_SC_REMOVE_NEWTABLE_TAG,cb:this.onRespReadNewTables},{protocol:p.Msg_SC_GetPaiCfg,subid:p.OTHER_GAME_SUB_MSG.MSGID_SC_RTN_PAI_CFG,cb:this.onRespCardSkinConfig},{protocol:p.Msg_SC_SelectPaiTag,subid:p.OTHER_GAME_SUB_MSG.MSGID_SC_RTN_PAI_TAG,cb:this.onRespChangeCardSkin},{protocol:p.MSG_SC_ResponseRedpoint,subid:p.OTHER_GAME_SUB_MSG.MSGID_SC_RESPONSE_REDPOINT,cb:this.onRespCardSkinRedPoint},{protocol:p.MSG_SC_ResponseComfortGiftBag,subid:p.OTHER_GAME_SUB_MSG.MSGID_SC_RESPONSE_COMFORT_GIFT_BAG,cb:this.onRespRevenegeGift},{protocol:p.MSG_SC_GetComfortGiftBag,subid:p.OTHER_GAME_SUB_MSG.MSGID_SC_RTN_COMFORT_GIFT_BAG,cb:this.onRespRecvRevenegeGift},{protocol:p.MSG_SC_PCPopUpCFG,subid:p.OTHER_GAME_SUB_MSG.MSGID_SC_RTN_PC_POP_CFG,cb:this.onRespBankRuptLayerConfig},{protocol:p.MSG_SC_DanSafeguard,subid:p.OTHER_GAME_SUB_MSG.MSGID_SC_RTN_DAN_SAFEGUARD,cb:this.onRespStatisticsConfig}]},e.prototype.initEvent=function(){t.prototype.initEvent.call(this),this.addEvent(l.Notify.Other.GET_POPUP_CFG,this.reqGetPopUpCfg),this.addEvent(l.Notify.Other.REQ_BRANKRUPT_INFO,this.reqBrankruptInfo),this.addEvent(l.Notify.Other.GET_BRANKRUPT_GOLD,this.getBrankruptGold),this.addEvent(l.Notify.Other.REQ_TANG_KUANG_INFO,this.reqTangKuangInfo),this.addEvent(l.Notify.Other.REQ_SEND_FIVE_STAR_CONTENT,this.onSendFiveStar),this.addEvent(l.Notify.Other.OTHER_TEST_GOLD,this.reqTestGold),this.addEvent(l.Notify.Other.REQ_MYSTERY_GIFT_DATA,this.reqMysteryGiftData),this.addEvent(l.Notify.Other.GET_MYSTERY_GIFT,this.reqGetMysteryGiftData),this.addEvent(l.Notify.Other.GET_INVITE_CFG,this.reqGetInviteCfgData),this.addEvent(l.Notify.Other.GET_INVITE_INFO,this.reqGetInviteGiftData),this.addEvent(l.Notify.Other.GET_INVITE_GIFT,this.reqGetInviteGiftRewardData),this.addEvent(l.Notify.Other.GET_CFG,this.reqGetCfg),this.addEvent(l.Notify.Other.REQ_LEVEL_UP,this.reqLeveUpInfo),this.addEvent(l.Notify.Other.REQ_RECV_LEVELUP_REWARD,this.reqRecvLevelUpReward),this.addEvent(l.Notify.Other.REQ_NEW_UNLOCK_INFO,this.reqNewUnlockInfo),this.addEvent(l.Notify.Other.REQ_NEW_UNLOCK_READ_ST,this.reqReadNewUnlock),this.addEvent(l.Notify.Other.REQ_READ_NEW_UNLOCK,this.reqReadUnlock),this.addEvent(l.Notify.Other.REQ_TABLES_NEW_ST,this.reqTablesNewStatus),this.addEvent(l.Notify.Other.REQ_READ_TABLES_NEW_ST,this.reqReadTablesNewStatus),this.addEvent(l.Notify.Other.REQ_CARD_SKIN_CONFIG,this.reqCardSkinConfig),this.addEvent(l.Notify.Other.REQ_CHANGE_CARD_SKIN,this.reqChangeCardSkin),this.addEvent(l.Notify.Other.REQ_SET_CARD_REDPOINT,this.reqCardSkinRedPoint),this.addEvent(l.Notify.Other.REQ_REVENEGE_GIFT,this.reqRevenegeGift),this.addEvent(l.Notify.Other.REQ_RECV_REVENEGE_GIFT,this.reqRecvRevenegeGift),this.addEvent(l.Notify.Other.REQ_BANKRUPT_LAYER_CONFIG,this.reqBankRuptLayerConfig),this.addEvent(l.Notify.Other.REQ_STATISTICS_CONFIG,this.reqStatisticsConfig),this.addEvent(l.Notify.Gate.GATE_LOGIN_SUCCESS,this.onGateLoginSucc),this.addEvent(l.Notify.Other.PRE_LOAD_GAME_RES,this.onPreLoadGameRes),this.addEvent(v.GuiEvent.UI.CLICK_GET_BANKRUPT,this.onClickBankrupt),this.addEvent(l.Notify.FFD.RTN_FFD_SCENEDATA,this.onRevBrankruptVideoCfg),this.addEvent(l.Notify.Invite.LOBBY_INVITE,this.onLobbyInvite),this.addEvent(l.Notify.Other.GET_GOLD_LAYER,this.onGoldNotEnough),this.addEvent(l.Notify.Other.GOLD_NOT_ENOUGH,this.onOpenFFD)},e.prototype.requestBaseCfg=function(){this.dispatch(l.Notify.Other.GET_POPUP_CFG),this.dispatch(l.Notify.UserInfo.GET_USER_INFO),this.dispatch(l.Notify.Other.REQ_BRANKRUPT_INFO),this.dispatch(l.Notify.Shop.REQ_SHOP_BASE_INFO),this.dispatch(l.Notify.Other.REQ_DESK_BUILD_STATE),this.dispatch(l.Notify.Tables.REQ_TABLES_MULTI_CFG),this.dispatch(l.Notify.Other.GET_CFG),this.dispatch(l.Notify.GoldenPass.REQ_ACT_ENTRY_INFO),this.dispatch(l.Notify.Other.REQ_CARD_SKIN_CONFIG),this.dispatch(l.Notify.Other.REQ_SET_CARD_REDPOINT),this.dispatch(l.Notify.Other.REQ_BANKRUPT_LAYER_CONFIG),this.dispatch(l.Notify.Shop.REQ_BANKRUPT_GIFT),this.dispatch(l.Notify.FFD.REQ_ALL_FFD),this.dispatch(l.Notify.Shop.REQ_REVENGE_GIFT),this.dispatch(l.Notify.Shop.REQ_BOOST_GIFT)},e.prototype.getMainID=function(){return h.MAIN_MSG_ID.MAIN_MSG_OTHER_SERVER_ID},e.prototype.clear=function(){this.removeEvent()},e.prototype.getInviteTitle=function(t){var e=C.Language.getInstance().getLanguage();return JSON.parse(u.ComUtils.u8ToUTF8Str(t))[e]||"Play Scopa whith me! "},e.prototype.getOtherHead=function(t,e){var n=t,o=void 0===e?n:e,i=new h.Msg_OtherServerHead;return i.dwGameID=n,i.dwGameTypeID=o,i.strUUID=this.userData.sessionId,i},e.prototype.reqBrankruptInfo=function(){this.sendRequest(null,this.getMainID(),p.OTHER_GAME_SUB_MSG.MSGID_CS_GET_BANKRUPT_INFO,this.getOtherHead(this.SERVER_ID)),c.Logger.info("\u8bf7\u6c42\u7834\u4ea7\u8865\u52a9\u914d\u7f6e\u4fe1\u606f =========>")},e.prototype.getBrankruptGold=function(){this.sendRequest(null,this.getMainID(),p.OTHER_GAME_SUB_MSG.MSGID_CS_GET_BANKRUPT_GOLD,this.getOtherHead(this.SERVER_ID)),c.Logger.info("\u8bf7\u6c42\u7834\u4ea7\u8865\u52a9 =========>")},e.prototype.reqTestGold=function(t){var e=new p.Msg_CS_UpdateUserGold;e.iUpdateGold=t,e.dwUserID=this.userData.userId,this.sendRequest(e,this.getMainID(),p.OTHER_GAME_SUB_MSG.MSGID_CS_UPDATEUSER_GOLD,this.getOtherHead(this.SERVER_ID)),c.Logger.info("\u53d1\u9001\u6d4b\u8bd5\u91d1\u5e01\u4fe1\u606f =========>")},e.prototype.onSendFiveStar=function(t){if(null!=t){var e=new p.Msg_CS_SetCommentContent;e.dwStar=t.star||0,e.byContent=u.ComUtils.utf8StrToU8(t.content||""),this.sendRequest(e,this.getMainID(),p.OTHER_GAME_SUB_MSG.MSGID_CS_5STAR_COMMENT_CONTENT,this.getOtherHead(this.SERVER_ID))}},e.prototype.reqTangKuangInfo=function(){this.sendRequest(null,this.getMainID(),p.OTHER_GAME_SUB_MSG.MSGID_CS_FUFEITANKUANG,this.getOtherHead(this.SERVER_ID))},e.prototype.reqMysteryGiftData=function(){this.sendRequest(null,this.getMainID(),p.OTHER_GAME_SUB_MSG.MSGID_CS_MYSTERY_DATA,this.getOtherHead(this.SERVER_ID))},e.prototype.reqGetMysteryGiftData=function(){this.sendRequest(null,this.getMainID(),p.OTHER_GAME_SUB_MSG.MSGID_CS_GET_MYSTERY_REWARD,this.getOtherHead(this.SERVER_ID))},e.prototype.reqGetInviteCfgData=function(){this.sendRequest(null,this.getMainID(),p.OTHER_GAME_SUB_MSG.MSGID_CS_GET_INVITE_CFG,this.getOtherHead(this.SERVER_ID))},e.prototype.reqGetInviteGiftData=function(){this.sendRequest(null,this.getMainID(),p.OTHER_GAME_SUB_MSG.MSGID_CS_GET_INVITE_DATA,this.getOtherHead(this.SERVER_ID))},e.prototype.reqGetInviteGiftRewardData=function(t){var e=new p.Msg_CS_GetInviteReward;e.dwInvitedID=t,S.DataProxy.getInstance().inviteData.rmGetRewardItem(t),this.sendRequest(e,this.getMainID(),p.OTHER_GAME_SUB_MSG.MSGID_CS_GET_INVITE_REWARD,this.getOtherHead(this.SERVER_ID))},e.prototype.reqGetPopUpCfg=function(){this.sendRequest(null,this.getMainID(),p.OTHER_GAME_SUB_MSG.MSGID_CS_GET_POP_UP_CFG,this.getOtherHead(this.SERVER_ID))},e.prototype.reqGetCfg=function(){this.sendRequest(null,this.getMainID(),p.OTHER_GAME_SUB_MSG.MSGID_CS_GET_CFG,this.getOtherHead(this.SERVER_ID))},e.prototype.reqLeveUpInfo=function(){this.sendRequest(null,this.getMainID(),p.OTHER_GAME_SUB_MSG.MSGID_CS_GET_EXP_LEVEL,this.getOtherHead(this.SERVER_ID))},e.prototype.reqRecvLevelUpReward=function(){this.sendRequest(null,this.getMainID(),p.OTHER_GAME_SUB_MSG.MSGID_CS_GET_EXP_LEVEL_REWARD,this.getOtherHead(this.SERVER_ID))},e.prototype.reqNewUnlockInfo=function(){this.sendRequest(null,this.getMainID(),p.OTHER_GAME_SUB_MSG.MSGID_CS_GET_FUNUNLOCK_CFG,this.getOtherHead(this.SERVER_ID))},e.prototype.reqReadNewUnlock=function(){this.sendRequest(null,this.getMainID(),p.OTHER_GAME_SUB_MSG.MSGID_CS_GET_NEW_TAG,this.getOtherHead(this.SERVER_ID))},e.prototype.reqReadUnlock=function(t){var e=new p.Msg_CS_UnlockNewTag;e.dwId=t,this.sendRequest(e,this.getMainID(),p.OTHER_GAME_SUB_MSG.MSGID_CS_UNLOCK_NEW_TAG,this.getOtherHead(this.SERVER_ID))},e.prototype.reqTablesNewStatus=function(){this.sendRequest(null,this.getMainID(),p.OTHER_GAME_SUB_MSG.MSGID_CS_GET_NEWTABLE_TAG,this.getOtherHead(this.SERVER_ID))},e.prototype.reqReadTablesNewStatus=function(){this.sendRequest(null,this.getMainID(),p.OTHER_GAME_SUB_MSG.MSGID_CS_REMOVE_NEWTABLE_TAG,this.getOtherHead(this.SERVER_ID))},e.prototype.reqCardSkinConfig=function(){this.sendRequest(null,this.getMainID(),p.OTHER_GAME_SUB_MSG.MSGID_CS_GET_PAI_CFG,this.getOtherHead(this.SERVER_ID))},e.prototype.reqChangeCardSkin=function(t){var e=new p.Msg_CS_SelectPaiTag;e.dwPaiTag=t,this.sendRequest(e,this.getMainID(),p.OTHER_GAME_SUB_MSG.MSGID_CS_SELECT_PAI_TAG,this.getOtherHead(this.SERVER_ID))},e.prototype.reqCardSkinRedPoint=function(){var t=new p.MSG_CS_RedPoint;t.dwId=p.RedPointType.PAI_TAG,this.sendRequest(t,this.getMainID(),p.OTHER_GAME_SUB_MSG.MSGID_CS_SHOWT_REDPOINT,this.getOtherHead(this.SERVER_ID))},e.prototype.reqRevenegeGift=function(){this.sendRequest(null,this.getMainID(),p.OTHER_GAME_SUB_MSG.MSGID_CS_SHOWT_COMFORT_GIFT_BAG,this.getOtherHead(this.SERVER_ID))},e.prototype.reqRecvRevenegeGift=function(){this.sendRequest(null,this.getMainID(),p.OTHER_GAME_SUB_MSG.MSGID_CS_GET_COMFORT_GIFT_BAG,this.getOtherHead(this.SERVER_ID))},e.prototype.reqBankRuptLayerConfig=function(){this.sendRequest(null,this.getMainID(),p.OTHER_GAME_SUB_MSG.MSGID_CS_GET_PC_POP_CFG,this.getOtherHead(this.SERVER_ID))},e.prototype.reqStatisticsConfig=function(){this.sendRequest(null,this.getMainID(),p.OTHER_GAME_SUB_MSG.MSGID_CS_GET_DAN_SAFEGUARD,this.getOtherHead(this.SERVER_ID))},e.prototype.onBankruptInfo=function(t){var e=t.data.pcInfo,n={};n.dwPCTotal=e.dwDayPCNum,n.dwPCCount=e.dwDayPCCount,n.dwGoldLimit=e.dwPCGoldValue,n.dwGetGold=e.dwPCGetGold,n.chInfo=u.ComUtils.u8ToUTF8Str(e.chInfo),n.bCanGet=e.bCanGet||!1,this.otherData.bankruptCfg=n,c.Logger.info("\u7834\u4ea7\u8865\u52a9\u914d\u7f6e =========>",n)},e.prototype.onBankruptResult=function(t){c.Logger.info("\u7834\u4ea7\u8865\u52a9\u7ed3\u679c =========>");var e=t.data;1==e.bIsResult?(this.userData.gold=e.iUserGold,d.ComUI.showToast(u.ComUtils.formatStr(u.ComUtils.getLang(f.LangKey.text_succ_get_coins),""+e.dwNewGoldNum)),this.dispatch(l.Notify.UserInfo.UPDATE_USER_GOLD,{userId:this.userData.userId,gold:this.userData.gold}),this.dispatch(l.Notify.Other.RTN_BRANKRUPT_GOLD,!0),this.dispatch(l.Notify.Other.REQ_BRANKRUPT_INFO),this.dispatch(l.Notify.Other.GET_GOLD_LAYER,{from:a.eGoldHelpType.HELP})):(d.ComUI.showToast(u.ComUtils.getLang(f.LangKey.text_fail_get_coins)),this.dispatch(l.Notify.Other.RTN_BRANKRUPT_GOLD,!1))},e.prototype.onGoldUpdateRusult=function(t){var e=t.data;e.bIsResult?(d.ComUI.showToast("Gold coin updated successfully"),this.dispatch(l.Notify.Base.SET_USERINFO,{userId:this.userData.userId,gold:e.iUpdateGold})):d.ComUI.showToast("Failed to update gold coin")},e.prototype.onTangKuangResult=function(t){var e=t.data,n={};n.bShowFuFei=e.bIsXSLiBao,n.bPopFuFei=e.bIsResult,n.hasPopFuFei=!1,n.bIsShow5Star=e.bIsShow5Star,n.dwStarNumPop=e.dwStarNumPop,n.hasPop5Star=!1,this.otherData.tangKuangInfo=n,this.dispatch(v.GuiEvent.UI.DISPLAY_MENU_SPECIAL_SALE,n.bShowFuFei);var o=this.otherData.tangKuangInfo,i=this.shopData.getShopInfo();o&&i&&!o.hasPopFuFei&&o.bPopFuFei&&(o.hasPopFuFei=!0,this.dispatch(v.GuiEvent.PopMsg.DISPLAY_SHOP_SPECIAL_SALE)),n.bIsShow5Star&&(n.hasPop5Star=!0,c.Logger.info("\u5f39\u6846: \u663e\u793a\u4e94\u661f"),D.PopUpLogic.getInstance().canAutoPopByName(v.GuiEvent.PopMsg.DISPLAY_FIVE_STAR_LAYER)&&m.EventDispatcher.getInstance().delayDispatch(1e3,v.GuiEvent.PopMsg.DISPLAY_FIVE_STAR_LAYER,{autoPop:!0,data:{dwStarNumPop:n.dwStarNumPop}}))},e.prototype.onFinveStarResult=function(t){var e=t.data;this.dispatch(l.Notify.Other.RTN_FIVE_STAR_CONTENT_RESULT,{dwError:e.dwError})},e.prototype.onMysteryGiftData=function(t){var e=t.data;if(e.bGet){var n=[];e.rewards.forEach(function(t){n.push({num:t.dwNum,type:t.dwType})}),D.PopUpLogic.getInstance().canAutoPopByName(v.GuiEvent.PopMsg.DISPLAY_MYSTERY_GIFT_DLG)&&this.dispatch(v.GuiEvent.PopMsg.DISPLAY_MYSTERY_GIFT_DLG,{autoPop:!0,data:n})}},e.prototype.onGetMysteryReaward=function(t){t.data,this.dispatch(v.GuiEvent.PopMsg.DISPLAY_MYSTERY_GIFT_DLG,{rmthis:!0})},e.prototype.onGetInviteCfg=function(t){var e=t.data;S.DataProxy.getInstance().inviteData.setInvitInfo(e),this.dispatch(v.GuiEvent.PopMsg.INVITE_USER,{tabRewardList:e.tabRewardList,chTitle:this.getInviteTitle(e.chTitle)})},e.prototype.onGetInviteData=function(t){var e=t.data;if(e&&0==e.iCode&&e.tabInviteRewardInfoList&&e.tabInviteRewardInfoList.length>0){var n=e.tabInviteRewardInfoList[0].dwInvitedID,o=JSON.stringify({shareScene:a.gShareScene.Lobby,userId:n});g.BuryPointUtils.send(L.BuryPoint.Debug.SDK.InviteSucc,o),R.AppsFlyerSDK.logCustom(P.StatisticsDefine.INVITE_SUCC,o),S.DataProxy.getInstance().inviteData.parseInvitedData(e),D.PopUpLogic.getInstance().canAutoPopByName(v.GuiEvent.PopMsg.INVITE_SUCCESS)&&this.dispatch(v.GuiEvent.PopMsg.INVITE_SUCCESS,{autoPop:!0})}},e.prototype.onGetInviteRewardResult=function(t){var e=t.data;if(0==e.iCode){for(var n=void 0,o=void 0,i=0,r=e.tabReward;i<r.length;i++){var s=r[i];s.dwType==a.gShopHBType.GOLD?n={awardNum:s.dwNum,scene:s.dwType}:o={awardNum:s.dwNum}}n&&this.dispatch(v.GuiEvent.Anim.COM_AWARD_ANIM,n),o&&this.dispatch(v.GuiEvent.Anim.COM_POWER_ANIM,o)}},e.prototype.onRtnPopUpCfg=function(t){var e=t.data;D.PopUpLogic.getInstance().parseRtnPopUpCfg(e)},e.prototype.onRtnSendCfg=function(t){var e=t.data;this.otherData.parseSporadicCfg(e)},e.prototype.onRespLeveUp=function(t){var e=t.data;if(cc.log("\u5347\u7ea7\u54cd\u5e94",JSON.stringify(e)),e.bChange){this.dispatch(l.Notify.Other.RESP_LEVEL_UP);var n={};n.rewardList=T.ComFunctions.parseTableReward(e.tabReward),cc.log("\u5347\u7ea7\u5956\u52b1\u6570\u636e",n.rewardList),D.PopUpLogic.getInstance().canAutoPopByName(v.GuiEvent.PopMsg.DISPLAY_LEVEL_UP_LAYER)&&this.dispatch(v.GuiEvent.PopMsg.DISPLAY_LEVEL_UP_LAYER,{autoPop:!0,data:{body:e,parseData:n}})}else this.dispatch(v.GuiEvent.PopMsg.HIT_LUCKY)},e.prototype.onRespRecvLevelReaward=function(t){var e=t.data;cc.log("\u9886\u53d6\u5347\u7ea7\u5956\u52b1\u54cd\u5e94",e);var n={};n.dwError=e.bError,n.rewardList=T.ComFunctions.parseTableReward(e.tabReward),n.chipList=T.ComFunctions.parseChipArray(e.tabChips),this.dispatch(v.GuiEvent.PopMsg.SHOW_TABLE_BOX_REWARD,n)},e.prototype.onRespUnlockCfg=function(t){var e=t.data;cc.log("\u65b0\u529f\u80fd\u89e3\u9501\u914d\u7f6e\u54cd\u5e94",e),e&&(S.DataProxy.getInstance().otherData.newUnlockData=e),this.dispatch(l.Notify.Other.RESP_NEW_UNLOCK_INFO)},e.prototype.onRespNewTagInfo=function(t){var e=t.data;cc.log("new\u6807\u7b7e\u4fe1\u606f\u54cd\u5e94",e),S.DataProxy.getInstance().otherData.newTagInfo=e.tabId,this.dispatch(l.Notify.Other.RESP_NEW_UNLOCK_READ_ST)},e.prototype.onRespReadNewTag=function(t){var e=t.data;cc.log("new\u6807\u7b7e\u5df2\u8bfb\u54cd\u5e94",e),this.dispatch(l.Notify.Other.REQ_NEW_UNLOCK_READ_ST)},e.prototype.onRespNewTables=function(t){var e=t.data;cc.log("\u65b0\u684c\u5b50\u89e3\u9501\u4fe1\u606f\u54cd\u5e94",e),S.DataProxy.getInstance().otherData.newTables=e.tabTableId,this.dispatch(l.Notify.Other.RESP_TABLES_NEW_ST)},e.prototype.onRespReadNewTables=function(t){var e=t.data;cc.log("\u65b0\u684c\u5b50new\u6807\u7b7e\u5df2\u8bfb\u54cd\u5e94",e),this.dispatch(l.Notify.Other.RESP_READ_TABLES_NEW_ST)},e.prototype.onRespCardSkinConfig=function(t){var e=t.data;cc.log("\u8fd4\u56de\u724c\u76ae\u80a4\u914d\u7f6e",e),S.DataProxy.getInstance().otherData.cardSkinCfg=e.tabPai,this.dispatch(l.Notify.Other.RESP_CARD_SKIN_CONFIG)},e.prototype.onRespChangeCardSkin=function(t){var e=t.data;cc.log("\u4fee\u6539\u724c\u76ae\u80a4",e),e.bError&&(S.DataProxy.getInstance().userData.cardSkinId=e.dwPaiTag),this.dispatch(l.Notify.Other.RESP_CHANGE_CARD_SKIN)},e.prototype.onRespCardSkinRedPoint=function(t){var e=t.data;cc.log("\u724c\u76ae\u80a4\u8bbe\u7f6e\u7ea2\u70b9",e),S.DataProxy.getInstance().otherData.cardSkinRedPoint=e,this.dispatch(l.Notify.Other.RESP_SET_CARD_REDPOINT)},e.prototype.onRespRevenegeGift=function(t){var e=t.data;cc.log("\u8fd4\u56de\u5b89\u6170\u793c\u5305\u6570\u636e",e);var n=D.PopUpLogic.getInstance().canAutoPopByName(v.GuiEvent.PopMsg.DISPLAY_REVENEGE_LAYER);e.bError&&n&&this.dispatch(v.GuiEvent.PopMsg.DISPLAY_REVENEGE_LAYER,{autoPop:!0,data:e})},e.prototype.onRespRecvRevenegeGift=function(t){var e=t.data;if(cc.log("\u8fd4\u56de\u9886\u53d6\u5b89\u6170\u793c\u5305",e),e.bError){var n={};n.dwError=e.bError,n.rewardList=T.ComFunctions.parseTableReward(e.tabReward),this.dispatch(v.GuiEvent.PopMsg.SHOW_TABLE_BOX_REWARD,n)}},e.prototype.onRespBankRuptLayerConfig=function(t){var e=t.data;cc.log("\u8fd4\u56de\u7834\u4ea7\u5f39\u7a97\u914d\u7f6e",e),S.DataProxy.getInstance().otherData.mGoldBankRuptCfg=[],e.tabItem.forEach(function(t){var e=JSON.parse(u.ComUtils.u8ToUTF8Str(t.chCfg)),n={matchCountRangeMin:e.ju[0],matchCountRangeMax:e.ju[1],layerOrder:e.popindex};S.DataProxy.getInstance().otherData.mGoldBankRuptCfg.push(n)})},e.prototype.onRespStatisticsConfig=function(t){var e=t.data;cc.log("\u8fd4\u56de\u6bb5\u4f4d\u7cfb\u7edf\u7ef4\u62a4\u72b6\u6001",e),S.DataProxy.getInstance().rankData.stctCfg=e,e&&e.bWeiHu&&this.dispatch(l.Notify.Ranking.IN_STATISTICS,{isStat:e.bWeiHu,dwTime:e.dwTime})},e.prototype.onGateLoginSucc=function(){c.Logger.info("==== OtherHandler onGateLoginSucc ==="),this.completeLocalEvent(),this.requestBaseCfg()},e.prototype.completeLocalEvent=function(){g.BuryPointUtils.sendCache();var t=r.LocalStorageProxy.getUserValue(r.LocalStorageProxy.UseTableId,"");t?(this.userData.useTableId=parseInt(t),this.localData.remove(r.LocalStorageProxy.UseTableId)):(this.userData.useTableId=Number(this.localData.get(r.LocalStorageProxy.UseTableId,"1")),r.LocalStorageProxy.setUserValue(r.LocalStorageProxy.UseTableId,this.userData.useTableId)),this.localData.remove(r.LocalStorageProxy.EnterGame),this.localData.remove(r.LocalStorageProxy.EnterGameType)},e.prototype.onPreLoadGameRes=function(t){var e=t||a.gHuskyGameType.SCOPA_GOLD;if(!y.ResConfigHandler.isResPreLoaded(e)){c.Logger.info("onPreLoadGameRes ",e);var n=_.Global.getGameDepBundle(e);b.default.getInstance().loadBundle(n,function(t){t&&this.dispatch(l.Notify.Base.LOAD_RES_START,{name:"preload",config:y.ResConfigHandler.getGoldGameResConfig(e)})}.bind(this))}},e.prototype.onClickBankrupt=function(){var t=this.otherData.bankruptCfg;!t||t.dwPCTotal<=0?cc.log("\u6ca1\u6709\u7834\u4ea7\u6b21\u6570\u4e86"):S.DataProxy.getInstance().activityData.getVideoAdOnOff()?this.dispatch(l.Notify.FFD.REQ_FFD_SCENEDATA,w.RVADSceneID.PC):this.dispatch(l.Notify.Other.GET_BRANKRUPT_GOLD)},e.prototype.onRevBrankruptVideoCfg=function(t){if(cc.log("\u8fd4\u56de\u7834\u4ea7\u6570\u636e",t,t.adSceneId),t.adSceneId===w.RVADSceneID.PC){cc.log("\u5206\u53d1\u7834\u4ea7\u6570\u636e");var e=this.otherData.bankruptCfg;if(!e||e.dwPCTotal<=0)return void cc.log("\u6ca1\u6709\u7834\u4ea7\u6b21\u6570\u4e86");var n={adSceneId:w.RVADSceneID.PC,defCanShow:e.bCanGet,defReward:{type:a.gShopHBType.GOLD,num:e.dwGetGold},usedCount:e.dwPCCount,totalCount:e.dwPCTotal},o=S.DataProxy.getInstance().adData.getRVSceneData(w.RVADSceneID.PC);o&&(n.adSceneId=o.adSceneId,n.bCanGG=o.bCanGG,n.awardList=o.awardList,n.placementID=o.placementID),n.bSingle=!0,n.defCanShow&&n.bCanGG&&(n.bSingle=!1),this.dispatch(l.Notify.Game.REMATCH_BTN_CLIKCABLE),S.DataProxy.getInstance().comData.isInGame()?D.PopUpLogic.getInstance().canAutoPopByName(v.GuiEvent.PopMsg.DISPLAY_BANKRUPT_BONUS)&&this.dispatch(v.GuiEvent.PopMsg.DISPLAY_BANKRUPT_BONUS,{autoPop:!0,data:n}):this.dispatch(v.GuiEvent.PopMsg.DISPLAY_BANKRUPT_BONUS,n)}},e.prototype.onLobbyInvite=function(){var t=S.DataProxy.getInstance().inviteData;if(t){var e=t.getInvitInfo(),n=C.Language.getInstance().getLanguage(),o="",i="",r=null,s=null,c=u.ComUtils.u8ToUTF8Str(e.chTitle);e.chTitle&&c&&(o=(r=JSON.parse(c))?r[n]:"");var l=u.ComUtils.u8ToUTF8Str(e.chDesc);e.chDesc&&l&&(i=(s=JSON.parse(l))?s[n]:""),I.ShareSDK.firebaseShare(this.userData.userId.toString(),o,i),g.BuryPointUtils.send(L.BuryPoint.Debug.SDK.Invite),R.AppsFlyerSDK.logInvite(a.gShareScene.Lobby.toString())}},e.prototype.onGoldNotEnough=function(t){var e=t.from,n=0,o=0;if(this.otherData.bankruptCfg&&(n=this.otherData.bankruptCfg.dwPCTotal-this.otherData.bankruptCfg.dwPCCount),this.otherData.bankruptGift&&(o=this.otherData.bankruptGift.dwBuyTotalCount-this.otherData.bankruptGift.dwBuyCount),cc.log("\u7834\u4ea7\u8865\u52a9\u5269\u4f59\u6b21\u6570",n),cc.log("\u7834\u4ea7\u793c\u5305\u5269\u4f59\u6b21\u6570",o),!T.ComFunctions.isBankRupt()){if(cc.log("\u6ca1\u6709\u7834\u4ea7"),this.dispatch(l.Notify.Game.REMATCH_BTN_CLIKCABLE),t.matchCount&&t.gameEnd)return;return null==e||null==e?S.DataProxy.getInstance().otherData.mGoldAddLayerPopNum=0:S.DataProxy.getInstance().otherData.mGoldAddLayerPopNum++,void(S.DataProxy.getInstance().otherData.mGoldAddLayerPopNum<1&&this.onOpenFFD(t.gameId))}if(n<=0&&o<=0&&null==e)T.ComFunctions.GoldHelpByGameId();else{cc.log("\u7834\u4ea7\u4e86\uff0c\u6309\u9700\u5f39\u7a97",t);var i=a.eGoldHelpType.NONE,r=t.matchCount||0;if(null==e){S.DataProxy.getInstance().otherData.mGoldAddLayerPopNum=0;for(var s=S.DataProxy.getInstance().otherData.mGoldBankRuptCfg,c=0;c<s.length;++c){var u=s[c];if(r>=u.matchCountRangeMin&&r<=u.matchCountRangeMax){var d=u.layerOrder[0]||0;i=d==a.eGoldHelpType.HELP?n>0?a.eGoldHelpType.HELP:a.eGoldHelpType.GIFT:d==a.eGoldHelpType.GIFT?o>0?a.eGoldHelpType.GIFT:a.eGoldHelpType.HELP:a.eGoldHelpType.FFD;break}}}else e==a.eGoldHelpType.HELP?i=o>0?a.eGoldHelpType.GIFT:a.eGoldHelpType.FFD:(a.eGoldHelpType.GIFT,n>0&&(i=a.eGoldHelpType.HELP));S.DataProxy.getInstance().otherData.mGoldAddLayerPopNum<2&&(S.DataProxy.getInstance().otherData.mGoldAddLayerPopNum++,i==a.eGoldHelpType.HELP?this.dispatch(v.GuiEvent.UI.CLICK_GET_BANKRUPT):i==a.eGoldHelpType.GIFT?this.dispatch(v.GuiEvent.UI.SHOW_BANKRUPT_GIFT,0):i==a.eGoldHelpType.FFD&&this.onOpenFFD(t.gameId))}},e.prototype.onOpenFFD=function(t){var e=0;this.otherData.bankruptGift&&(e=this.otherData.bankruptGift.dwBuyTotalCount-this.otherData.bankruptGift.dwBuyCount),e>0?this.dispatch(v.GuiEvent.UI.SHOW_BANKRUPT_GIFT,t):T.ComFunctions.GoldHelpByGameId()},e}(s.ProxyHandler);n.OtherHandler=E,cc._RF.pop()},{"../../../lib/base/Language":"Language","../../../lib/base/PopUpLogic":"PopUpLogic","../../../lib/event/EventDispatcher":"EventDispatcher","../../../lib/manager/ResConfigHandler":"ResConfigHandler","../../../lib/manager/ResManager":"ResManager","../../../lib/utils/ComUtils":"ComUtils","../../../lib/utils/Logger":"Logger","../../../plugin/pb/protofile/CMD_OtherMsg":"CMD_OtherMsg","../../../plugin/pb/protofile/GlobalMsgDef":"GlobalMsgDef","../../base/handler/ProxyHandler":"ProxyHandler","../../const/Global":"Global","../../event/GuiEvent":"GuiEvent","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../../model/AdDataProxy":"AdDataProxy","../../model/DataProxy":"DataProxy","../../platform/AppsFlyerSDK":"AppsFlyerSDK","../../platform/ShareSDK":"ShareSDK","../../platform/StatisticsDefine":"StatisticsDefine","../../view/ComFunctions":"ComFunctions","../../view/ComUI":"ComUI","../buryPoint/BuryPoint":"BuryPoint","../buryPoint/BuryPointUtils":"BuryPointUtils","./../../const/Global":"Global","./../../model/LocalDataProxy":"LocalDataProxy"}],OtherMsg:[function(t,e,n){"use strict";cc._RF.push(e,"dc72az4aBBKYqW/9XLaNo0O","OtherMsg");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.OtherMsg=void 0;var r=t("../../../lib/network/struct/StructProtocol"),a=t("../../../lib/external/ByteArray"),s=t("../../../plugin/pb/protofile/GlobalMsgDef"),c=t("../../../plugin/pb/protofile/CMD_OtherMsg");(function(t){t.mainId=s.MAIN_MSG_ID.MAIN_MSG_OTHER_SERVER_ID;var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.encode=function(){var t=e.prototype.encode.call(this);if(null!=this.head){var n=s.Msg_OtherServerHead.encode(this.head).finish();t.writeBytes(new a.ByteArray(n))}return t},n.ProtocolId=t.mainId+"-"+c.OTHER_GAME_SUB_MSG.MSGID_CS_GET_BANKRUPT_INFO,n}(r.StructProtocol);t.MSG_CS_GetBankruptInfo=e;var n=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=c.Msg_SC_GetBankruptGold.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+c.OTHER_GAME_SUB_MSG.MSGID_SC_BANKRUPT_RESULT,n}(r.StructProtocol);t.Msg_SC_GetBankruptGold=n;var o=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.encode=function(){var t=e.prototype.encode.call(this);if(null!=this.head){var n=s.Msg_OtherServerHead.encode(this.head).finish();t.writeBytes(new a.ByteArray(n))}return t},n.ProtocolId=t.mainId+"-"+c.OTHER_GAME_SUB_MSG.MSGID_CS_GET_BANKRUPT_GOLD,n}(r.StructProtocol);t.MSG_CS_GetBankruptGold=o;var l=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=c.Msg_SC_UpGold.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+c.OTHER_GAME_SUB_MSG.MSGIDSC_BANKRUPT_GOLD_NUM,n}(r.StructProtocol);t.MSGIDSC_BANKRUPT_GOLD_NUM=l;var u=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.encode=function(){var t=e.prototype.encode.call(this),n=c.Msg_CS_UpdateUserGold.encode(this.data).finish();return null!=this.head&&(this.head.byGameData=n,n=s.Msg_OtherServerHead.encode(this.head).finish()),t.writeBytes(new a.ByteArray(n)),t},n.ProtocolId=t.mainId+"-"+c.OTHER_GAME_SUB_MSG.MSGID_CS_UPDATEUSER_GOLD,n}(r.StructProtocol);t.Msg_CS_UpdateUserGold=u;var d=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=c.Msg_SC_SendUpdateResult.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+c.OTHER_GAME_SUB_MSG.MSGID_SC_SENDUPDATEUSER_GOLDRESULT,n}(r.StructProtocol);t.Msg_SC_SendUpdateResult=d;var p=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.encode=function(){var t=e.prototype.encode.call(this);if(null!=this.head){var n=s.Msg_OtherServerHead.encode(this.head).finish();t.writeBytes(new a.ByteArray(n))}return t},n.ProtocolId=t.mainId+"-"+c.OTHER_GAME_SUB_MSG.MSGID_CS_FUFEITANKUANG,n}(r.StructProtocol);t.MSG_CS_GetFUFEI_TANGKUANG=p;var h=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=c.Msg_SC_SendFFTKResult.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+c.OTHER_GAME_SUB_MSG.MSGID_SC_SENDFUFEITANKUANGRESULT,n}(r.StructProtocol);t.Msg_SC_SendFFTKResult=h;var f=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.encode=function(){var t=e.prototype.encode.call(this),n=c.Msg_CS_SetCommentContent.encode(this.data).finish();return null!=this.head&&(this.head.byGameData=n,n=s.Msg_OtherServerHead.encode(this.head).finish()),t.writeBytes(new a.ByteArray(n)),t},n.ProtocolId=t.mainId+"-"+c.OTHER_GAME_SUB_MSG.MSGID_CS_5STAR_COMMENT_CONTENT,n}(r.StructProtocol);t.Msg_CS_SetCommentContent=f;var g=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=c.Msg_SC_SetCommentContentResult.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+c.OTHER_GAME_SUB_MSG.MSGID_SC_5STAR_COMMENT_CONTENTRESULT,n}(r.StructProtocol);t.Msg_SC_SetCommentContentResult=g;var _=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.encode=function(){var t=e.prototype.encode.call(this);if(null!=this.head){var n=s.Msg_OtherServerHead.encode(this.head).finish();t.writeBytes(new a.ByteArray(n))}return t},n.ProtocolId=t.mainId+"-"+c.OTHER_GAME_SUB_MSG.MSGID_CS_GETWINBUTTON,n}(r.StructProtocol);t.MSG_CS_GetWinButton=_;var y=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=c.Msg_SC_WinButtonResult.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+c.OTHER_GAME_SUB_MSG.MSGID_SC_SENDWINBUTTON_RESULT,n}(r.StructProtocol);t.Msg_SC_WinButtonResult=y;var m=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.encode=function(){var t=e.prototype.encode.call(this),n=c.Msg_CS_UserOP.encode(this.data).finish();return null!=this.head&&(this.head.byGameData=n,n=s.Msg_OtherServerHead.encode(this.head).finish()),t.writeBytes(new a.ByteArray(n)),t},n.ProtocolId=t.mainId+"-"+c.OTHER_GAME_SUB_MSG.MSGID_CS_CLICK_WINBUTTON,n}(r.StructProtocol);t.Msg_CS_UserOP=m;var b=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=c.Msg_SC_SendOPResult.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+c.OTHER_GAME_SUB_MSG.MSGID_SC_SEND_OPRESULT,n}(r.StructProtocol);t.Msg_SC_SendOPResult=b;var v=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.encode=function(){var t=e.prototype.encode.call(this);if(null!=this.head){var n=s.Msg_OtherServerHead.encode(this.head).finish();t.writeBytes(new a.ByteArray(n))}return t},n.ProtocolId=t.mainId+"-"+c.OTHER_GAME_SUB_MSG.MSGID_CS_USEPSWINTIME,n}(r.StructProtocol);t.MSG_CS_Get_UsePSWinTime=v;var S=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=c.Msg_SC_UsePSReuslt.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+c.OTHER_GAME_SUB_MSG.MSGID_SC_SEND_USERESULT,n}(r.StructProtocol);t.Msg_SC_UsePSReuslt=S;var w=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.encode=function(){var t=e.prototype.encode.call(this);if(null!=this.head){var n=s.Msg_OtherServerHead.encode(this.head).finish();t.writeBytes(new a.ByteArray(n))}return t},n.ProtocolId=t.mainId+"-"+c.OTHER_GAME_SUB_MSG.MSGID_CS_GET_INVITE_CFG,n}(r.StructProtocol);t.MSGID_CS_GET_INVITE_CFG=w;var C=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=c.Msg_SC_GetInviteCfg.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+c.OTHER_GAME_SUB_MSG.MSGID_SC_SEND_GET_INVITE_CFG,n}(r.StructProtocol);t.Msg_SC_GetInviteCfg=C;var I=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.encode=function(){var t=e.prototype.encode.call(this);if(null!=this.head){var n=s.Msg_OtherServerHead.encode(this.head).finish();t.writeBytes(new a.ByteArray(n))}return t},n.ProtocolId=t.mainId+"-"+c.OTHER_GAME_SUB_MSG.MSGID_CS_GET_INVITE_DATA,n}(r.StructProtocol);t.tabInviteRewardInfo=I;var D=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=c.Msg_SC_GetInviteData.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+c.OTHER_GAME_SUB_MSG.MSGID_SC_SEND_GET_INVITE_DATA,n}(r.StructProtocol);t.Msg_SC_GetInviteData=D;var L=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.encode=function(){var t=e.prototype.encode.call(this);if(null!=this.head){var n=s.Msg_OtherServerHead.encode(this.head).finish();t.writeBytes(new a.ByteArray(n))}return t},n.ProtocolId=t.mainId+"-"+c.OTHER_GAME_SUB_MSG.MSGID_CS_GET_INVITE_REWARD,n}(r.StructProtocol);t.Msg_CS_GetInviteReward=L;var R=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=c.Msg_SC_GetInviteRewardResult.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+c.OTHER_GAME_SUB_MSG.MSGID_SC_SEND_GET_INVITE_REWARD,n}(r.StructProtocol);t.Msg_SC_GetInviteRewardResult=R})(n.OtherMsg||(n.OtherMsg={})),cc._RF.pop()},{"../../../lib/external/ByteArray":"ByteArray","../../../lib/network/struct/StructProtocol":"StructProtocol","../../../plugin/pb/protofile/CMD_OtherMsg":"CMD_OtherMsg","../../../plugin/pb/protofile/GlobalMsgDef":"GlobalMsgDef"}],Platform:[function(t,e){"use strict";cc._RF.push(e,"83220WRV4xGWoaJ3Aa26rwv","Platform"),cc._RF.pop()},{}],PolicyLayer:[function(t,e,n){"use strict";cc._RF.push(e,"c7225/6KxlAZbWBPGKxJaLv","PolicyLayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../lib/base/ComPopup"),s=t("../../lib/base/CxComponent"),c=t("../../lib/utils/Logger"),l=t("../config/GameConfig"),u=cc._decorator,d=u.ccclass,p=u.property,h=u.requireComponent,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pWebView=null,e.pLabel=null,e.mUrl=null,e}return i(e,t),e.prototype.init=function(t){t&&(this.mUrl=t.url),this.mUrl||(this.mUrl=l.GameConfig.g().getPrivacyUrl())},e.prototype.start=function(){this.pWebView&&(this.pWebView.url=this.mUrl,this.pWebView.node.on("loaded",this.onWebViewLoaded,this))},e.prototype.onWebViewLoaded=function(){c.Logger.info("onWebViewLoaded()"),this.pLabel&&(this.pLabel.node.active=!1)},e.prototype.onClose=function(){this.node.destroy()},r([p(cc.WebView)],e.prototype,"pWebView",void 0),r([p(cc.Label)],e.prototype,"pLabel",void 0),r([d,h(a.ComPopup)],e)}(s.CxComponent);n.default=f,cc._RF.pop()},{"../../lib/base/ComPopup":"ComPopup","../../lib/base/CxComponent":"CxComponent","../../lib/utils/Logger":"Logger","../config/GameConfig":"GameConfig"}],PopUpLogic:[function(t,e,n){"use strict";var o,i;cc._RF.push(e,"77835oyJn9BjaXicJswXIIx","PopUpLogic"),Object.defineProperty(n,"__esModule",{value:!0}),n.PopUpLogic=n.autoPopLayerList=void 0;var r=t("../../app/event/GuiEvent"),a=t("../../app/model/DataProxy"),s=t("../../app/model/LocalDataProxy"),c=t("../../plugin/pb/protofile/CMD_OtherMsg").PopUpId,l=((o={})[c.INVITE_POPUP]=r.GuiEvent.PopMsg.INVITE_SUCCESS,o[c.LIBAO_POPUP]=r.GuiEvent.PopMsg.DISPLAY_SHOP_SPECIAL_SALE,o[c.CD_POPUP]=r.GuiEvent.PopMsg.DISPLAY_BONUS,o[c.CHOUJIANG_POPUP]=r.GuiEvent.PopMsg.DISPLAY_VIDEO_LOTTERY,o[c.TASK_POPUP]=r.GuiEvent.PopMsg.DISPLAY_MISSION_LAYER,o[c.SMLB_POPUP]=r.GuiEvent.PopMsg.DISPLAY_MYSTERY_GIFT_DLG,o[c.DAN_POPUP]=r.GuiEvent.PopMsg.RANK_PROMOTION,o[c.GRADE_POPUP]=r.GuiEvent.PopMsg.DISPLAY_LEVEL_UP_LAYER,o[c.DESK_POPUP]=r.GuiEvent.PopMsg.DISPLAY_COMPLT_TABLE,o[c.GOODUP_POPUP]=r.GuiEvent.PopMsg.DISPLAY_FIVE_STAR_LAYER,o),u=((i={})[c.DAN_POPUP]=r.GuiEvent.PopMsg.RANK_PROMOTION,i[c.GRADE_POPUP]=r.GuiEvent.PopMsg.DISPLAY_LEVEL_UP_LAYER,i[c.DESK_POPUP]=r.GuiEvent.PopMsg.DISPLAY_COMPLT_TABLE,i[c.PC_POPUP]=r.GuiEvent.PopMsg.DISPLAY_BANKRUPT_BONUS,i[c.PCGIFT_POPUP]=r.GuiEvent.PopMsg.DISPLAY_BANKRUPT_GIFT,i[c.PC_FFD]=r.GuiEvent.PopMsg.DISPLAY_GOLD_HELP,i[c.COMGIFT_POPUP]=r.GuiEvent.PopMsg.DISPLAY_REVENEGE_LAYER,i[c.BOMB_POPUP]=r.GuiEvent.PopMsg.DISPLAY_HIT_BONUS,i);n.autoPopLayerList=["RankUp","LevelUpLayer","TableCompleteView","BankruptBonusDlg","GoldBankRuptLayer","GoldRevengeLayer","HitBonusDlg","InviteSuccess","ShopSpecialSale","BonusDlg","VideoLottery","TaskListLayer","MysteryGiftDlg","FiveStarLayer"];var d=function(){function t(){this.dwPopUpLimit=2,this.curPopLevel=0,this.startPopLevel=0,this.mSvrCfgLobby=null,this.mSvrCfgGame=null,this.pendingList=[],this.mapEventPopCfg=new Map,this.popEventCount={},this.readTodayPopCountFromFile()}return t.prototype.reset=function(){this.curPopLevel=0,this.startPopLevel=0},t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.desInstance=function(){t.instance&&(t.instance.clear(),t.instance.saveTodayPopCountToFile(),t.instance=null)},t.prototype.getLimitNum=function(){return this.dwPopUpLimit},t.prototype.addPopEvent=function(t){if(!t)return!1;var e=t.name,n=this.mapEventPopCfg.get(e);if(!n)return cc.log(e+"\u4e8b\u4ef6\u4e0d\u5b58\u5728"),!1;if(0==this.curPopLevel)this.curPopLevel=n.popLevel;else if(n.popLevel>this.curPopLevel&&this.pendingList.length>0)return!1;t.priority=n.priority||1,t.popLevel=n.popLevel||1;var o=this.findEventIndex(e);return o>=0&&this.pendingList.splice(o,1),cc.log("\u63d2\u5165\u5230\u5f39\u7a97\u7b49\u5f85\u961f\u5217: ",e),this.pendingList.push(t),this.sortPopEvent(),!0},t.prototype.findEventIndex=function(t){for(var e=0;e<this.pendingList.length;e++)if(t===this.pendingList[e].name)return e;return-1},t.prototype.sortPopEvent=function(){this.pendingList.sort(function(t,e){return t.priority-e.priority}),this.pendingList.sort(function(t,e){return t.popLevel-e.popLevel})},t.prototype.popNextEvent=function(){cc.log("\u5f39\u7a97\u961f\u5217",this.pendingList,this.startPopLevel);var t=null;if(0==this.startPopLevel)this.pendingList.length>0&&(t=this.pendingList.pop());else for(var e=this.pendingList.length-1;e>=0;--e){var n=this.pendingList[e];if(n.popLevel<=this.startPopLevel){t=n,this.pendingList.splice(e,1);break}}if(t){this.startPopLevel=t.popLevel,cc.log("\u5f53\u524d\u9875\u9762\u7b49\u7ea7: ",this.startPopLevel);var o=this.popEventCount[t.name];this.popEventCount[t.name]=o-1,this.saveTodayPopCountToFile()}else this.clear();return t},t.prototype.size=function(){return this.pendingList.length},t.prototype.clear=function(){this.pendingList=[]},t.prototype.canAutoPopByName=function(t){var e=this.mapEventPopCfg.get(t);if(!e)return!1;var n=this.popEventCount[t];if(null==n&&(n=1),n<=0)return cc.log(t+"\u5f39\u7a97\u6b21\u6570\u7528\u5b8c"),!1;var o=a.DataProxy.getInstance().userData.dwJushuTotal;return!(o<e.afterJS&&(cc.log(t+"\u5bf9\u5c40\u6b21\u6570["+o+"]\u4e0d\u8db3: "+e.afterJS),1))},t.prototype.parseRtnPopUpCfg=function(t){this.mSvrCfgLobby=t.tabItem,this.mSvrCfgGame=t.tabGameItem},t.prototype.resetConfigForLobby=function(){this.curPopLevel=0,this.mSvrCfgLobby&&(this.mapEventPopCfg.clear(),this.parseCfg(this.mSvrCfgLobby,l))},t.prototype.resetConfigForGame=function(){this.curPopLevel=0,this.mSvrCfgGame&&(this.mapEventPopCfg.clear(),this.parseCfg(this.mSvrCfgGame,u))},t.prototype.parseCfg=function(t,e){if(t){var n=[];t.forEach(function(t){var o=e[t.dwPopUpId];o&&n.push({event:o,popNum:t.dwPopNmu,priority:t.dwPoppx,popLevel:t.dwPoplevel,afterJS:t.dwJushu||0})}),this.writeAutoPopCfgToFile(n)}},t.prototype.readTodayPopCountFromFile=function(){var t=s.LocalStorageProxy.getUserValue(s.LocalStorageProxy.TodayPopCount,"");if(t){var e=JSON.parse(t);if(e)for(var n in e)this.popEventCount[n]=e[n]}},t.prototype.saveTodayPopCountToFile=function(){cc.log("\u5b58\u50a8",this.popEventCount),s.LocalStorageProxy.setUserValue(s.LocalStorageProxy.TodayPopCount,JSON.stringify(this.popEventCount));var t=s.LocalStorageProxy.getUserValue(s.LocalStorageProxy.TodayPopCount,"");cc.log("\u8bfb\u53d6",JSON.parse(t))},t.prototype.writeAutoPopCfgToFile=function(t){var e=this;this.popEventCount=this.popEventCount||{},t&&(t.forEach(function(t){e.mapEventPopCfg.set(t.event,t),null!=e.popEventCount[t.event]&&null!=e.popEventCount[t.event]||(e.popEventCount[t.event]=t.popNum)}),s.LocalStorageProxy.setUserValue(s.LocalStorageProxy.TodayPopCount,JSON.stringify(this.popEventCount)))},t.prototype.removeEventFromPending=function(t){var e=this.findEventIndex(t);e>=0&&this.pendingList.splice(e,1)},t.instance=null,t}();n.PopUpLogic=d,cc._RF.pop()},{"../../app/event/GuiEvent":"GuiEvent","../../app/model/DataProxy":"DataProxy","../../app/model/LocalDataProxy":"LocalDataProxy","../../plugin/pb/protofile/CMD_OtherMsg":"CMD_OtherMsg"}],PopUpQueue:[function(t,e,n){"use strict";cc._RF.push(e,"012e2M3nnhJMYqzUStualaJ","PopUpQueue");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.PopUpQueue=void 0;var a=t("../../lib/event/EventDispatcher"),s=t("../../lib/base/PopUpLogic"),c=t("../../lib/base/CxComponent"),l=t("../base/PopupLoader"),u=t("../../lib/utils/Logger"),d=t("../event/GuiEvent"),p=t("../event/Notify"),h=t("./ComFunctions"),f=cc._decorator,g=f.ccclass,_=(f.property,f.requireComponent),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mWaterLine=999999,e.mPopCount=0,e.mCD=!1,e.setPopEvent=new Set,e}return i(e,t),e.prototype.listEvent=function(){return new Map([[d.GuiEvent.PopMsg.RM_SUB_VIEW,this.onRemoveLastLayer],[d.GuiEvent.PopMsg.AUTO_POP_VIEW,this.tryPopUpAuto],[p.Notify.Base.ON_APP_RESUME,this.onAppResume],[d.GuiEvent.PopMsg.START_ACCEPT_POP,this.startAcceptPop]])},e.prototype.start=function(){this.pPopUpLoader=this.getComponent(l.PopupLoader),this.pPopUpLoader||u.Logger.error("[PopUpQueue onLoad] not found PopupLoader")},e.prototype.onDestroy=function(){this.clear(),t.prototype.onDestroy.call(this)},e.prototype.onAppResume=function(){var t=this;h.ComFunctions.performWithDelay(this.node,function(){t.tryPopUpAuto()},2)},e.prototype.startAcceptPop=function(){this.reset()},e.prototype.pauseAuto=function(){this.tryPopUpAuto()},e.prototype.reset=function(){s.PopUpLogic.getInstance().reset(),this.mPopCount=0},e.prototype.onRemoveLastLayer=function(){this.tryPopUpAuto()},e.prototype.tryPopUpAuto=function(){var t=this,e=this.pPopUpLoader.popSize();cc.log("\u5c1d\u8bd5\u81ea\u52a8\u5f39\u51fa"),e>0||this.mCD?cc.log("\u5f39\u51fa\u5931\u8d25: curPopSize, CD ",e,this.mCD):this.popNextEvent()&&(h.ComFunctions.performWithDelay(this.node,function(){t.mCD=!1,t.tryPopUpAuto()},1),this.mCD=!0)},e.prototype.addPopEvent=function(t){return!!t&&(s.PopUpLogic.getInstance().addPopEvent(t),!0)},e.prototype.rmPopEvent=function(t){s.PopUpLogic.getInstance().removeEventFromPending(t)},e.prototype.popNextEvent=function(){if(!this.pPopUpLoader)return cc.log("\u5f39\u51fa\u5931\u8d25 pPopUpLoader: ",this.pPopUpLoader),!1;var t=!1,e=this.pPopUpLoader.popSize(),n=s.PopUpLogic.getInstance().size();if(0==e&&n>0){for(var o=s.PopUpLogic.getInstance().popNextEvent();o;){var i=o.name;this.mWaterLine=e,this.mPopCount++,this.setPopEvent.add(i),a.EventDispatcher.getInstance().dispatch(i,o.data),t=!0;break}t?cc.log("\u5f39\u51fa\u6210\u529f"):cc.log("\u5f39\u51fa\u5931\u8d25, \u81ea\u52a8\u5f39\u7a97\u65e0\u6548",o)}return t},e.prototype.clear=function(){this.mWaterLine=99999,this.mPopCount=0,this.setPopEvent.clear()},r([g,_(l.PopupLoader)],e)}(c.CxComponent);n.PopUpQueue=y,cc._RF.pop()},{"../../lib/base/CxComponent":"CxComponent","../../lib/base/PopUpLogic":"PopUpLogic","../../lib/event/EventDispatcher":"EventDispatcher","../../lib/utils/Logger":"Logger","../base/PopupLoader":"PopupLoader","../event/GuiEvent":"GuiEvent","../event/Notify":"Notify","./ComFunctions":"ComFunctions"}],PopupLoader:[function(t,e,n){"use strict";cc._RF.push(e,"b2ffeqmeRFJWp+XukaFiTRx","PopupLoader");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.PopupLoader=void 0;var a=t("./../../lib/base/ComPopup"),s=t("../../lib/base/CxCompExt"),c=t("../../lib/utils/Logger"),l=t("../const/Global"),u=t("../view/ComUI"),d=t("../config/ResourceUIConfig"),p=t("./component/Mask"),h=t("../../lib/manager/ResManager"),f=t("../event/GuiEvent"),g=t("../../lib/base/PopupView"),_=t("../../lib/base/BottomBarView"),y=t("../event/Notify"),m=t("../../lib/base/PopUpLogic"),b=cc._decorator,v=b.ccclass,S=b.property,w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.RootNode=null,e.maskLayer=null,e.lowViews=[],e.popViews=[],e.sysViews=[],e.waitingArr=[],e.isOpening=!1,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.init.call(this),t.prototype.onLoad.call(this),this.closeEventList={},this.lowViews=[],this.popViews=[],this.sysViews=[],this.initLayer()},e.prototype.onDestroy=function(){this.closeEventList=null,this.maskLayer=null,this.lowViews=null,this.popViews=null,this.sysViews=null,t.prototype.onDestroy.call(this)},e.prototype.initLayer=function(){this.RootNode?(this.popupLayer=this.RootNode.getChildByName("Popup"),this.systemLayer=this.RootNode.getChildByName("System"),this.lowLayer=this.RootNode.getChildByName("LowLayer"),this.popupLayer||c.Logger.error("[PopupLoader initLayer] not found popupLayer"),this.systemLayer||c.Logger.error("[PopupLoader initLayer] not found systemLayer"),this.lowLayer||c.Logger.error("[PopupLoader initLayer] not found lowLayer")):c.Logger.error("[PopupLoader initLayer] not found RootNode")},e.prototype.initEvent=function(){t.prototype.initEvent.call(this),this.bindEvent(f.GuiEvent.PopMsg.RM_SUB_VIEW,this.onRmSubView),this.bindEvent(f.GuiEvent.PopMsg.CLOSE_ALL,this.closeAll),this.bindEvent(y.Notify.Base.POP_NEXT_WATING_LAYER,this.onShowNextPopLayer)},e.prototype.removeChildByName=function(t,e){if(t)for(var n=t.children.length-1;n>=0;n--){var o=t.children[n];o.name==e&&(o.parent=null,o.destroy(),cc.log("removeChildByName "+e))}},e.prototype.removePopup=function(t){if(t){this.closeEventList[t.script]=1;var e=this.getLayer(t.level);this.removeChildByName(e,t.script),this.popSize()+this.lowViews.length===0&&this.rmMask()}},e.prototype.getLayer=function(t){switch(t){case l.gLayerLevel.Popup:return this.popupLayer;case l.gLayerLevel.System:return this.systemLayer;case l.gLayerLevel.LowLayer:return this.lowLayer;default:return this.popupLayer}},e.prototype.onShowNextPopLayer=function(){this.showNextWaitingLayer()},e.prototype.showPopup=function(t,e,n){void 0===e&&(e="resources");var o=!0,i=!1;null!=n&&null!=n&&(null!=n.openForce&&null!=n.openForce&&(o=n.openForce),null!=n.front&&null!=n.front&&(i=n.front)),this.pushWaiting(t,e,n,o,i),this.showNextWaitingLayer()},e.prototype.showNextWaitingLayer=function(){var t=this.getFrontWaiting();if(t)if(t.openForce)this.popFrontWaiting(),this._showPopup(t.pfItem,t.bundleName,t.param);else{if(this.isOpening)return;if(this.hasPopView())return;this.popFrontWaiting(),this._showPopup(t.pfItem,t.bundleName,t.param)}},e.prototype._showPopup=function(t,e,n){if(void 0===e&&(e="resources"),t&&e){if(this.removePopup(t),!this.isClosePop(n)){n&&n.loading&&u.ComUI.addLoading({time:5});var o=t.script;this.closeEventList[o]=0,this.isOpening=!0;var i=this;h.default.getInstance().loadPrefab(t.path,e||"resources",function(e,r){if(u.ComUI.rmLoading(),cc.isValid(i))if(i.isOpening=!1,e)c.Logger.error("[showPopup] load fail PrefabItem("+JSON.stringify(t)+")");else if(r&&0==i.closeEventList[o]){var a=cc.instantiate(r),s=a.getComponent(t.script);s.init&&s.init(n);var l=cc.v2(0,0);n&&(n.pos&&n.pos instanceof cc.Vec2||n.pos instanceof cc.Vec3)&&(l=n.pos),a.x=l.x,a.y=l.y;var d=(new Date).getTime();i.addComSubView(a,n,function(){i.addBottomBarView(a,function(){i.pushView(a,t.level,o,n),c.Logger.info("load comsub view: time="+((new Date).getTime()-d))})})}})}}else c.Logger.error("[showPopup] params error pfItem=",t)},e.prototype.addComSubView=function(t,e,n){var o=t.getComponent(g.PopupView);o?h.default.getInstance().loadPrefab(d.ResourceUIConfig.prefab.ComSubView.path,l.gAssetBundleName.RESOURCES,function(i,r){if(r){var a=cc.instantiate(r);if(a){var s=a.getComponent("ComSubView");s&&cc.isValid(t)&&(t.addChild(a,-1,"ComSubView"),s.init(e),s.setSize(t.getContentSize()),o.init({node:a,script:s}))}}n()}):n()},e.prototype.addBottomBarView=function(t,e){var n=t.getComponent(_.BottomBarView);n?h.default.getInstance().loadPrefab(d.ResourceUIConfig.prefab.ComBottomBar.path,l.gAssetBundleName.RESOURCES,function(o,i){if(i){var r=cc.instantiate(i);if(r){var a=r.getComponent("ComBottomBar");if(a&&cc.isValid(t)){t.addChild(r);var s=150;n.isCustomSpace&&n.spaceValue&&(s=n.spaceValue),r.x=0,r.y=-t.height/2-s,n.init({node:r,script:a})}}}e()}):e()},e.prototype.closeAll=function(){c.Logger.info("[PopupMgr closeAll]"),this.maskLayer&&(this.maskLayer.clear(),this.maskLayer.node.parent=this.RootNode,this.maskLayer.node.active=!1),this.popupLayer.destroyAllChildren(),this.systemLayer.destroyAllChildren(),this.lowLayer.destroyAllChildren(),this.lowViews=[],this.popViews=[],this.sysViews=[]},e.prototype.isClosePop=function(t){return!(!t||!t.rmthis)},e.prototype.showDialog=function(t,e){var n=this;h.default.getInstance().loadPrefab(d.ResourceUIConfig.prefab.ComDialog.path,l.gAssetBundleName.RESOURCES,function(o,i){if(i){if(e.parent&&!cc.isValid(e.parent))return;var r=cc.instantiate(i),a=r.getComponent("ComDialog");a||(a=r.addComponent("ComDialog")),a.init(e);var s=e.parent;void 0===s&&(s=n.systemLayer);var c=cc.v2(0,0);e&&(e.pos&&e.pos instanceof cc.Vec2||e.pos instanceof cc.Vec3)&&(c=e.pos),r.x=c.x,r.y=c.y,n.pushView(r,t,"ComDialog",e)}})},e.prototype.setMask=function(t,e,n){if(cc.isValid(this.maskLayer)&&t&&n){this.maskLayer.node.parent=t,this.maskLayer.node.zIndex=e-1,this.maskLayer.node.active=!0,this.maskLayer.rootNode=null,this.maskLayer.boxNode=null;var o=n.getComponent(a.ComPopup);o||(o=n.addComponent(a.ComPopup)),o&&(this.maskLayer.rootNode=o.node,this.maskLayer.boxNode=o.getBoxNode(),this.maskLayer.outClose=o.outClose,this.maskLayer.spMask.node.active=o.needMask,this.maskLayer.setSwallowTouches(o.swallowTouch))}},e.prototype.rmMask=function(){cc.isValid(this.maskLayer)&&(this.maskLayer.clear(),this.maskLayer.node.parent=this.RootNode,this.maskLayer.node.active=!1)},e.prototype.pushView=function(t,e,n){if(e===l.gLayerLevel.System)(o=this.sysViews.length)<=0?o+=2:o=this.sysViews[o-1].zIndex+2,this.systemLayer.addChild(t,o,n),this.sysViews.push(t),this.setMask(this.systemLayer,o,t);else if(e===l.gLayerLevel.Popup){var o;(o=this.popViews.length)<=0?o+=2:o=this.popViews[o-1].zIndex+2,this.popupLayer.addChild(t,o,n),this.popViews.push(t),this.setMask(this.popupLayer,o,t)}else e===l.gLayerLevel.LowLayer&&(this.lowLayer.addChild(t,1,n),this.lowViews.push(t),this.setMask(this.lowLayer,0,t))},e.prototype.popNext=function(t,e){var n=t.length;if(n>0){var o=t[n-1];if(cc.isValid(o)){o.active=!0;var i=e?this.systemLayer:this.popupLayer;this.setMask(i,o.zIndex-1,o)}else t.splice(n-1,1),this.popNext(t,e)}0==this.popSize()&&this.lowViews.length>0?this.setMask(this.lowLayer,0,this.lowViews[0]):this.popSize()+this.lowViews.length===0&&this.rmMask()},e.prototype.popSize=function(t){return void 0===t&&(t=!1),this.sysViews.length+this.popViews.length},e.prototype.onRmSubView=function(t){var e=!1;if([this.popViews,this.lowViews].forEach(function(n){for(var o=n.length-1;o>=0;o--){var i=n[o];if(cc.isValid(i)&&t===i.uuid){n.splice(o,1),e=!0;break}}}),!e)for(var n=this.sysViews.length-1;n>=0;n--){var o=this.sysViews[n];if(cc.isValid(o)&&t===o.uuid){this.sysViews.splice(n,1),e=!0;break}}e?this.sysViews.length>0?this.popNext(this.sysViews,!0):this.popNext(this.popViews,!1):0==this.popSize()&&this.lowViews.length>0&&this.setMask(this.lowLayer,0,this.lowViews[0])},e.prototype.isExistAutoLayer=function(){for(var t=0;t<m.autoPopLayerList.length;++t)if(this.isViewOpen(m.autoPopLayerList[t]))return cc.log("\u5f53\u524d\u5b58\u5728\u81ea\u52a8\u5f39\u7a97:",m.autoPopLayerList[t]),!0;return!1},e.prototype.isViewOpen=function(t){var e=this.hasView(this.lowViews,t);return e||(e=this.hasView(this.popViews,t)),e||(e=this.hasView(this.sysViews,t)),e},e.prototype.hasView=function(t,e){for(var n=t.length-1;n>=0;n--){var o=t[n];if(cc.isValid(o)&&o.getComponent(e))return!0}return!1},e.prototype.pushWaiting=function(t,e,n,o,i){void 0===o&&(o=!0),void 0===i&&(i=!1);var r={pfItem:t,bundleName:e,openForce:o=null==o||null==o||o,param:n};(i=null!=i&&null!=i&&i)?this.waitingArr.unshift(r):this.waitingArr.push(r)},e.prototype.getFrontWaiting=function(){return this.waitingArr[0]},e.prototype.popFrontWaiting=function(){this.waitingArr.splice(0,1)},e.prototype.hasPopView=function(){return this.sysViews.length>0||this.popViews.length>0},e.prototype.removePreview=function(){[this.sysViews,this.popViews].forEach(function(t){t.forEach(function(t){cc.isValid(t)&&t.removeFromParent(!0)})})},r([S({type:cc.Node,tooltip:"\u5404\u4e2a\u5c42\u7684\u6839\u8282\u70b9"})],e.prototype,"RootNode",void 0),r([S({type:p.Mask,tooltip:"\u906e\u7f69\u5c42"})],e.prototype,"maskLayer",void 0),r([v],e)}(s.CxCompExt);n.PopupLoader=w,cc._RF.pop()},{"../../lib/base/BottomBarView":"BottomBarView","../../lib/base/CxCompExt":"CxCompExt","../../lib/base/PopUpLogic":"PopUpLogic","../../lib/base/PopupView":"PopupView","../../lib/manager/ResManager":"ResManager","../../lib/utils/Logger":"Logger","../config/ResourceUIConfig":"ResourceUIConfig","../const/Global":"Global","../event/GuiEvent":"GuiEvent","../event/Notify":"Notify","../view/ComUI":"ComUI","./../../lib/base/ComPopup":"ComPopup","./component/Mask":"Mask"}],PopupView:[function(t,e,n){"use strict";cc._RF.push(e,"0e804pmYA1IC7F+urLDQB2x","PopupView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.PopupView=void 0;var a=t("./CxComponent"),s=cc._decorator,c=s.ccclass,l=s.property,u=s.menu,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showTitle=!0,e.showContentBackground=!0,e.showCloseButton=!0,e.mSubNode=null,e.mSubView=null,e}var n;return i(e,t),n=e,e.prototype.init=function(t){t&&(this.mSubNode=t.node,this.mSubView=t.script)},e.prototype.start=function(){this.setTitleShow(this.showTitle),this.setContentBG(this.showContentBackground),this.setCloseButton(this.showCloseButton)},e.prototype.setTitle=function(t){this.mSubView&&this.mSubView.setTitle(t)},e.prototype.setTitleFontSize=function(t){this.mSubView&&this.mSubView.setTitle(t)},e.prototype.setTitleColor=function(t){this.mSubView&&this.mSubView.setTitleColor(t)},e.prototype.setTitleBGSprite=function(t){this.mSubView&&this.mSubView.setTitleBGSprite(t)},e.prototype.setTitleIconSprite=function(t){this.mSubView&&this.mSubView.setTitleIconSprite(t)},e.prototype.setTitleShow=function(t){this.mSubView&&this.mSubView.setTitleShow(t)},e.prototype.setSize=function(t){this.mSubView&&this.mSubView.setSize(t)},e.prototype.getSize=function(){return this.mSubView?new cc.Size(this.mSubView.getWidth(),this.mSubView.getHeight()):cc.Size.ZERO},e.prototype.setContentBG=function(t){this.mSubView&&this.mSubView.setContentBG(t)},e.prototype.setCloseButton=function(t){this.mSubView&&this.mSubView.setCloseButton(t)},e.setTitle=function(t,e){if(t&&e){var o=t.getComponent(n);o&&o.setTitle&&o.setTitle(e)}},r([l({tooltip:"\u662f\u5426\u663e\u793a\u6807\u9898"})],e.prototype,"showTitle",void 0),r([l({tooltip:"\u662f\u5426\u663e\u793a\u5185\u5bb9\u524d\u80cc\u666f"})],e.prototype,"showContentBackground",void 0),r([l({tooltip:"\u662f\u5426\u663e\u793a\u5173\u95ed\u6309\u94ae"})],e.prototype,"showCloseButton",void 0),n=r([c,u("\u81ea\u5b9a\u4e49/PopupView")],e)}(a.CxComponent);n.PopupView=d,cc._RF.pop()},{"./CxComponent":"CxComponent"}],Portrait:[function(t,e,n){"use strict";cc._RF.push(e,"98e4bASB3JB3ZswDIRBkTiy","Portrait");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.Portrait=n.PortraitType=void 0;var a,s=cc._decorator,c=s.ccclass,l=s.property;(function(t){t[t.Lobby=0]="Lobby",t[t.Room=1]="Room"})(a=n.PortraitType||(n.PortraitType={}));var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mask=null,e.rect=null,e.head=null,e.defaultBoy=null,e.defaultGirl=null,e.gender=null,e.genderBoy=null,e.genderGirl=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.init=function(t){var e=t.showType;null!=e&&e==a.Room&&this.showRoomType()},e.prototype.showRoomType=function(){this.rect.node.active=!1;var t=this.mask.getComponent(cc.Widget);t.top=0,t.right=0,t.bottom=0,t.left=0,this.gender.node.active=!1},r([l(cc.Mask)],e.prototype,"mask",void 0),r([l(cc.Sprite)],e.prototype,"rect",void 0),r([l(cc.Sprite)],e.prototype,"head",void 0),r([l(cc.SpriteFrame)],e.prototype,"defaultBoy",void 0),r([l(cc.SpriteFrame)],e.prototype,"defaultGirl",void 0),r([l(cc.Sprite)],e.prototype,"gender",void 0),r([l(cc.SpriteFrame)],e.prototype,"genderBoy",void 0),r([l(cc.SpriteFrame)],e.prototype,"genderGirl",void 0),r([c],e)}(cc.Component);n.Portrait=u,cc._RF.pop()},{}],PowerAnim:[function(t,e,n){"use strict";cc._RF.push(e,"4659dqthqFGYqKfxYJ7gtXG","PowerAnim");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.PowerAnim=void 0;var a,s=t("./../const/Global"),c=t("./../../lib/utils/ComUtils"),l=t("../../lib/base/CxCompExt"),u=t("../event/Notify"),d=t("../const/AudioFile"),p=t("../../lib/utils/Logger"),h=t("../../lib/base/ComPopup"),f=t("../event/GuiEvent");(function(t){t[t.COPY_NODE=1]="COPY_NODE",t[t.LIGHT_EFFECT=2]="LIGHT_EFFECT",t[t.GOLD=100]="GOLD",t[t.LABEL=1e3]="LABEL"})(a||(a={}));var g=cc._decorator,_=g.ccclass,y=g.property,m=g.requireComponent,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pfPower=null,e.pfGold=null,e.labAddNum=null,e.skeleton=null,e.targetFrom=0,e}var n;return i(e,t),n=e,e.prototype.initEvent=function(){t.prototype.initEvent.call(this),this.bindEvent(f.GuiEvent.Anim.POWER_PUT_ICON_POS,this.onPutPowerPos)},e.prototype.init=function(e){t.prototype.init.call(this),this.addNum=e.awardNum||10,this.scene=e.scene,this.fromPos=cc.Vec2.ZERO},e.prototype.isLobbyScene=function(){return this.scene===s.gSceneType.Lobby},e.prototype.start=function(){if(p.Logger.info("PowerAnim(): start"),this.dispatch(f.GuiEvent.Anim.POWER_GET_ICON_POS),null==this.targetPos)return p.Logger.info("PowerAnim(): return"),void this.close();this.isLobbyScene()?this.fromPos=cc.Vec2.ZERO:this.fromPos=cc.v2(0,250),this.playPower()},e.prototype.playPower=function(){p.Logger.info("PowerAnim(): playPower"),this.dispatch(u.Notify.Base.PLAY_EFFECT,{path:d.AudioFile.Com.ADD_GOLD}),this.delayCall(this.close.bind(this),2.6);for(var t=0;t<10;t++){var e=cc.instantiate(this.pfPower);if(e.parent=this.node,e.zIndex=10-t+a.GOLD,!e)return;this.runPowerAnim(e,n.powerInitPos[t],t)}this.delayCall(this.addNumAnim.bind(this),1.3),p.Logger.info("PowerAnim(): end")},e.prototype.runPowerAnim=function(t,e,n){cc.tween(t).set({scale:.3,x:this.fromPos.x,y:this.fromPos.y}).delay(.03*n).to(.53,{scale:.9,x:e.x+this.fromPos.x,y:e.y+this.fromPos.y}).set({zIndex:n+a.GOLD}).to(.97,{x:this.targetPos.x,y:this.targetPos.y}).set({active:!1}).start()},e.prototype.playGold=function(){this.dispatch(u.Notify.Base.PLAY_EFFECT,{path:d.AudioFile.Com.ADD_GOLD}),this.delayCall(this.close.bind(this),2.5);for(var t=0;t<13;t++){var e=cc.instantiate(this.pfGold);if(e.parent=this.node,e.zIndex=13-t+a.GOLD,!e)return;this.runGoldAnim(e,n.goldInitPos[t],t)}this.delayCall(this.addNumAnim.bind(this),1.3)},e.prototype.runGoldAnim=function(t,e,n){cc.tween(t).set({scale:.3,x:this.fromPos.x,y:this.fromPos.y}).delay(.03*n).call(function(){t.getComponent(cc.Animation).play()}).to(.53,{scale:.9,x:e.x+this.fromPos.x,y:e.y+this.fromPos.y}).set({zIndex:n+a.GOLD}).parallel(cc.tween().to(.97,{x:this.targetPos.x,y:this.targetPos.y}),cc.tween().delay(.9).call(function(){var e=t.getComponent(cc.Animation),n=e.getAnimationState("GoldAnim");e.setCurrentTime(n.duration/2),e.stop()})).set({active:!1}).start()},e.prototype.addNumAnim=function(){if(this.skeleton){var t=this.skeleton.node.parent.convertToNodeSpace(this.toWorldPos);this.skeleton.node.active=!0,this.skeleton.node.x=t.x,this.skeleton.node.y=t.y,this.skeleton.enabled=!0,this.skeleton.node.zIndex=a.LIGHT_EFFECT}this.labAddNum&&(t=this.labAddNum.node.parent.convertToNodeSpace(this.toWorldPos),this.labAddNum.string="+"+c.ComUtils.formatGoldStr(this.addNum||0),this.labAddNum.node.x=t.x+60,this.labAddNum.node.y=t.y,this.labAddNum.node.zIndex=a.LABEL,this.labAddNum.node.opacity=0,this.labAddNum.node.active=!0,cc.tween(this.labAddNum.node).parallel(cc.tween().to(.2,{opacity:255}).delay(.2).to(.6,{opacity:0}),cc.tween().by(1,{y:50})).start())},e.prototype.onPutPowerPos=function(t){if(p.Logger.info("PowerAnim(): onPutPowerPos data=",t),t.tPos){if(0!=this.targetFrom&&(p.Logger.info("PowerAnim(): onPutPowerPos check"),t.from&&t.from<this.targetFrom))return void p.Logger.info("PowerAnim(): onPutPowerPos return from=",t.from);this.toWorldPos=t.tPos,this.targetPos=this.node.convertToNodeSpaceAR(t.tPos),this.targetNode=t.node,this.targetFrom=t.from}this.unschedule(this.playPutAnim),this.scheduleOnce(this.playPutAnim,.1)},e.prototype.playPutAnim=function(){if(this.targetNode){this.isLobbyScene()?this.targetPos.y-=this.targetNode.height/2:this.targetPos.y+=this.targetNode.height/2;var t=this.targetNode.parent.convertToWorldSpaceAR(this.targetNode.position),e=this.node.convertToNodeSpace(t),n=cc.instantiate(this.targetNode);n.x=e.x,n.y=e.y,n.zIndex=a.COPY_NODE,n.opacity=0;var o=n.getComponent(cc.Widget);o&&(o.enabled=!1),n.parent=this.node,cc.tween(n).delay(.5).set({opacity:255}).to(.3,{scale:1.2}).delay(1.1).to(.1,{scale:1}).to(.1,{opacity:0}).call(function(){p.Logger.info("PowerAnim(): onPutPowerPos finish")}).start(),p.Logger.info("PowerAnim(): onPutPowerPos 222")}},e.goldInitPos=[cc.v3(-120,53),cc.v3(-93,-54),cc.v3(111,50),cc.v3(107,-119),cc.v3(-43,48),cc.v3(-38,-113),cc.v3(64,-86),cc.v3(79,60),cc.v3(-145,5),cc.v3(-70,-36),cc.v3(85,4),cc.v3(21,46),cc.v3(0,-78)],e.powerInitPos=[cc.v3(-120,53),cc.v3(-93,-54),cc.v3(111,50),cc.v3(107,-119),cc.v3(-43,48),cc.v3(-38,-113),cc.v3(64,-86),cc.v3(79,60),cc.v3(-145,5),cc.v3(-70,-36)],r([y(cc.Prefab)],e.prototype,"pfPower",void 0),r([y(cc.Prefab)],e.prototype,"pfGold",void 0),r([y(cc.Label)],e.prototype,"labAddNum",void 0),r([y(sp.Skeleton)],e.prototype,"skeleton",void 0),n=r([_,m(h.ComPopup)],e)}(l.CxCompExt);n.PowerAnim=b,cc._RF.pop()},{"../../lib/base/ComPopup":"ComPopup","../../lib/base/CxCompExt":"CxCompExt","../../lib/utils/Logger":"Logger","../const/AudioFile":"AudioFile","../event/GuiEvent":"GuiEvent","../event/Notify":"Notify","./../../lib/utils/ComUtils":"ComUtils","./../const/Global":"Global"}],PowerNotEnoughBonusDlg:[function(t,e,n){"use strict";cc._RF.push(e,"01e8cGjZfJFqYdL3KlEIwoa","PowerNotEnoughBonusDlg");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.PowerNotEnoughBonusDlg=void 0;var a=t("../../../lib/base/Callback"),s=t("../../../lib/base/CxComponent"),c=t("../../../lib/base/PopupView"),l=t("../../../lib/i18n/i18nHelper"),u=t("../../../lib/utils/ComUtils"),d=t("../../base/component/ComTimer"),p=t("../../const/Global"),h=t("../../event/Notify"),f=t("../../language/LanguageCfg"),g=t("../../model/AdDataProxy"),_=t("../../model/DataProxy"),y=t("../ComUI"),m=t("./BonusRewardItem"),b=cc._decorator,v=b.ccclass,S=b.property,w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pDefReward=null,e.pADReward=null,e.labCDTime=null,e.labCDAward=null,e.labTipsArr=[],e.mTimer=null,e.delayLock=!0,e}return i(e,t),e.prototype.init=function(t){this.viewData=t,this.dispatch(h.Notify.FFD.REQ_FFD_SCENEDATA,g.RVADSceneID.OUTOFTOKENS)},e.prototype.listEvent=function(){return new Map([[h.Notify.FFD.RTN_FFD_SCENEDATA,this.updateViewData],[h.Notify.AD.CANCELED,this.onAdCanceled],[h.Notify.AD.REWARD,this.onAdReward]])},e.prototype.start=function(){this.setVerticalOffset();var t=this.getComponent(c.PopupView);if(t&&t.setTitle(l.i18nHelper.getLanguage(f.LangKey.text_out_of_tokens)),this.pDefReward&&this.viewData.goodsInfo){this.pDefReward.init({type:p.gShopHBType.POWER,num:this.viewData.goodsInfo.dwDesNum,index:1});var e=u.ComUtils.getCurrencySymbol(this.viewData.goodsInfo.dwCurrencyType)+""+this.viewData.goodsInfo.dwSrcNum/100;this.pDefReward.setBtnString(e),this.pDefReward.setCallback(new a.Callback(this,this.onNormalClaimClicked))}this.initTipsText(),this.initTimer()},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),this.viewData=null,this.mTimer&&(this.mTimer.clear(),this.mTimer=null)},e.prototype.initTipsText=function(){var t=l.i18nHelper.getLanguage([f.LangKey.power_text_wait_tip,"##","##"]).split("##");this.labTipsArr&&(this.labTipsArr[0]&&t[0]&&(this.labTipsArr[0].string=t[0]),this.labTipsArr[1]&&t[1]&&(this.labTipsArr[1].string=t[1]),this.labTipsArr[2]&&t[2]&&(this.labTipsArr[2].string=t[2]))},e.prototype.updateView=function(){this.viewData&&this.viewData.ADAward&&this.pADReward&&(this.viewData.ADAward?(this.pADReward.init(this.viewData.ADAward),this.pADReward.node.active=!0,this.pADReward.setCallback(new a.Callback(this,this.onWatchVideoClicked,this.viewData.adSceneId)),this.pADReward.setSwitchBtn(this.viewData.bCanGG)):this.pADReward.node.active=!1),this.viewData&&this.dispatch(h.Notify.AD.LOAD_VIDEO,{userId:_.DataProxy.getInstance().userData.userId,placementID:this.viewData.placementID,adSceneId:g.RVADSceneID.OUTOFTOKENS})},e.prototype.updateViewData=function(t){t&&t.adSceneId===g.RVADSceneID.OUTOFTOKENS&&(this.viewData=this.viewData||{},this.viewData.placementID=t.placementID,this.viewData.ADAward=t.awardList[0],this.viewData.bCanGG=t.bCanGG,this.viewData.adSceneId=t.adSceneId,this.updateView())},e.prototype.onWatchVideoClicked=function(){if(this.delayLock){if(u.ComUtils.delayLimit(this,1e3),cc.sys.isBrowser)return void this.onAdReward(this.viewData.adSceneId);this.dispatch(h.Notify.AD.OPEN_VIDEO,this.viewData.adSceneId)}},e.prototype.onNormalClaimClicked=function(){this.delayLock&&(u.ComUtils.delayLimit(this,1e3),this.viewData.goodsInfo&&this.dispatch(h.Notify.Shop.REQ_BUY_GOODS_ACTION,this.viewData.goodsInfo)),this.close()},e.prototype.onAdReward=function(t){this.dispatch(h.Notify.FFD.REQ_REWARD,t),this.pADReward&&this.pADReward.setBtnUnenable(),this.close()},e.prototype.onAdCanceled=function(){y.ComUI.showToast(u.ComUtils.getLang(f.LangKey.close_video_ad_tips))},e.prototype.initTimer=function(){this.viewData.powerInfo&&(this.viewData.powerInfo.dwSYTime>0&&this.viewData.powerInfo.dwTimeCount<this.viewData.powerInfo.dwSYTime?this.setTimer(this.viewData.powerInfo.dwSYTime-this.viewData.powerInfo.dwTimeCount-1):this.setTimeShow(!1))},e.prototype.setTimer=function(t){var e=this;this.mTimer&&this.mTimer.clear(),t>0&&(this.mTimer=new d.default,this.mTimer.start({startTime:0,totalTime:t,obj:this,callback:function(t,n){n?(e.setTimeText(0),e.viewData.powerInfo.dwSYTime=0,e.setTimeShow(!1)):e.setTimeText(t)}}))},e.prototype.setTimeText=function(t){this.labCDTime&&null!=t&&(this.labCDTime.string=u.ComUtils.formatTimeString(t),this.setTimeShow(!0))},e.prototype.setTimeShow=function(t){this.labCDTime&&(this.labCDTime.node.parent.active=t)},r([S({type:m.BonusRewardItem,tooltip:"\u9ed8\u8ba4\u5956\u52b1"})],e.prototype,"pDefReward",void 0),r([S({type:m.BonusRewardItem,tooltip:"\u9644\u52a0\u5956\u52b1"})],e.prototype,"pADReward",void 0),r([S({type:cc.Label,tooltip:"\u5012\u8ba1\u65f6"})],e.prototype,"labCDTime",void 0),r([S({type:cc.Label,tooltip:"\u5012\u8ba1\u65f6\u540e\u5956\u52b1\u6570\u91cf"})],e.prototype,"labCDAward",void 0),r([S([cc.Label])],e.prototype,"labTipsArr",void 0),r([v],e)}(s.CxComponent);n.PowerNotEnoughBonusDlg=w,cc._RF.pop()},{"../../../lib/base/Callback":"Callback","../../../lib/base/CxComponent":"CxComponent","../../../lib/base/PopupView":"PopupView","../../../lib/i18n/i18nHelper":"i18nHelper","../../../lib/utils/ComUtils":"ComUtils","../../base/component/ComTimer":"ComTimer","../../const/Global":"Global","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../../model/AdDataProxy":"AdDataProxy","../../model/DataProxy":"DataProxy","../ComUI":"ComUI","./BonusRewardItem":"BonusRewardItem"}],PowerNotEnough:[function(t,e,n){"use strict";cc._RF.push(e,"493b5wtaE9OtLy9iZsLtJKv","PowerNotEnough");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../lib/base/BottomBarView"),s=t("../../lib/base/CxComponent"),c=t("../../lib/i18n/i18nHelper"),l=t("../../lib/utils/ComUtils"),u=t("../../lib/utils/Logger"),d=t("../const/Global"),p=t("../event/Notify"),h=t("../language/LanguageCfg"),f=t("../model/DataProxy"),g=cc._decorator,_=g.ccclass,y=g.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pValueLabel=null,e.pTipLabel=null,e.pWaitLabel=null,e.mGoodsInfo=null,e.mPowerInfo=null,e.mStartTime=0,e.mTimeCount=0,e.mCheckCnt=0,e.mShowTime=0,e.delayLock=!0,e}return i(e,t),e.prototype.listEvent=function(){return new Map([[p.Notify.Shop.RTN_BUY_GOODS_SUCCESS,this.onBuySuccess]])},e.prototype.init=function(t){t&&(this.mGoodsInfo=t.goodsInfo,this.mPowerInfo=t.powerInfo)},e.prototype.start=function(){this.pTipLabel&&(this.pTipLabel.string=l.ComUtils.getLang(h.LangKey.power_text_not_enough)),this.initTimer(),this.initWaitText(),this.initGoods()},e.prototype.initGoods=function(){var t=this;if(this.mGoodsInfo){this.pValueLabel&&(this.pValueLabel.string=l.ComUtils.formatGoldStr(this.mGoodsInfo.dwDesNum));var e=l.ComUtils.getCurrencySymbol(this.mGoodsInfo.dwCurrencyType)+""+this.mGoodsInfo.dwSrcNum/100;a.BottomBarView.setBottomBar(this.node,[{style:d.gColorStyle.GREEN,text:e,callback:function(){t.doBuy()}}])}},e.prototype.initWaitText=function(){if(this.pWaitLabel){this.pWaitLabel.node.active=!1;var t=this.mPowerInfo;if(t&&t.dwSYTime&&t.dwGetPSValue){var e=this.mShowTime;if(e>0){this.pWaitLabel.node.active=!0;var n=l.ComUtils.formatTimeString(e),o=t.dwGetPSValue;this.pWaitLabel.language=c.i18nHelper.makeLanguage([h.LangKey.power_text_wait_tip,n,o])}}}},e.prototype.doBuy=function(){this.delayLock&&(l.ComUtils.delayLimit(this,1e3),this.mGoodsInfo&&this.dispatch(p.Notify.Shop.REQ_BUY_GOODS_ACTION,this.mGoodsInfo))},e.prototype.initTimer=function(){this.mPowerInfo=f.DataProxy.getInstance().userData.powerInfo,this.mPowerInfo&&(this.mTimeCount=this.mPowerInfo.dwTimeCount,this.mCheckCnt=0,this.stopTimer(),this.mPowerInfo.dwSYTime>0&&this.mTimeCount<this.mPowerInfo.dwSYTime&&(this.startTimer(),this.mShowTime=this.mPowerInfo.dwSYTime-this.mTimeCount,this.mStartTime=Math.floor((new Date).getTime()/1e3)))},e.prototype.startTimer=function(){this.schedule(this.updateTimer,1)},e.prototype.stopTimer=function(){this.unschedule(this.updateTimer)},e.prototype.updateTimer=function(){this.mTimeCount++,this.mCheckCnt++,20==this.mCheckCnt&&(this.mCheckCnt=0,this.mTimeCount=Math.floor((new Date).getTime()/1e3)-this.mStartTime,u.Logger.info("updateTimer() correct mTimeCount="+this.mTimeCount)),this.mPowerInfo&&this.mPowerInfo.dwSYTime>0?this.mTimeCount>=this.mPowerInfo.dwSYTime?(this.mPowerInfo.dwSYTime=0,this.mTimeCount=0,this.mShowTime=0,this.mCheckCnt=0,u.Logger.info("updateTimer() time over"),this.stopTimer(),this.pWaitLabel&&(this.pWaitLabel.node.active=!1)):this.mShowTime=this.mPowerInfo.dwSYTime-this.mTimeCount:this.stopTimer(),this.initWaitText()},e.prototype.onBuySuccess=function(){this.close()},r([y(cc.Label)],e.prototype,"pValueLabel",void 0),r([y(cc.Label)],e.prototype,"pTipLabel",void 0),r([y(cc.Label)],e.prototype,"pWaitLabel",void 0),r([_],e)}(s.CxComponent);n.default=m,cc._RF.pop()},{"../../lib/base/BottomBarView":"BottomBarView","../../lib/base/CxComponent":"CxComponent","../../lib/i18n/i18nHelper":"i18nHelper","../../lib/utils/ComUtils":"ComUtils","../../lib/utils/Logger":"Logger","../const/Global":"Global","../event/Notify":"Notify","../language/LanguageCfg":"LanguageCfg","../model/DataProxy":"DataProxy"}],PrefabItemMgr:[function(t,e,n){"use strict";cc._RF.push(e,"47b8aj498NPcqmfiZqEqfa7","PrefabItemMgr"),Object.defineProperty(n,"__esModule",{value:!0}),n.PrefabItemMgr=void 0;var o=function(){function t(){this.prefabMap=new Map}return t.getInstance=function(){return this.instance||(this.instance=new t),this.instance},t.desInstance=function(){this.instance.prefabMap.clear(),this.instance.prefabMap=null,this.instance=null},t.prototype.getKey=function(t,e){return t+"_"+e},t.prototype.add=function(t,e){if(void 0===e&&(e="main"),t=t){if(t.popup)for(var n=0,o=Object.keys(t.popup);n<o.length;n++){var i=o[n],r=this.getKey(e,i);this.prefabMap.set(r,t.popup[i])}if(t.prefab)for(var a=0,s=Object.keys(t.prefab);a<s.length;a++)i=s[a],r=this.getKey(e,i),this.prefabMap.set(r,t.prefab[i])}},t.prototype.get=function(t,e){void 0===e&&(e="main");var n=this.getKey(e,t);return this.prefabMap.get(n)||cc.log("not find key of "+n),this.prefabMap.get(n)},t.prototype.del=function(t,e){void 0===e&&(e="main");var n=this.getKey(e,t);return this.prefabMap.delete(n),this.prefabMap.delete(n)},t.instance=null,t}();n.PrefabItemMgr=o,cc._RF.pop()},{}],ProductConfig:[function(t,e,n){"use strict";cc._RF.push(e,"c2956DGxstICLHHIMbBC+mx","ProductConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.ProductConfig=void 0;var o=t("./GameConfig"),i=function(){function t(){}return t.prototype.getGameWSUrl=function(){return"wss://slogin.puligame.com/login"},t.prototype.getHotUpdateUrl=function(){return"https://sres.puligame.com/hotupdate"},t.prototype.getDownloadUrl=function(){return"https://sres.puligame.com/downheadimage/"},t.prototype.getUploadUrl=function(){return"https://sres.puligame.com/"},t.prototype.getHttpServerUrl=function(){return"https://sres.puligame.com/"},t.prototype.getResURL=function(){return"https://test.wwmj009.com/clientres/res/"+o.GameConfig.getInstance().getProjectId()+"/"+o.GameConfig.getInstance().getResVersion()},t.prototype.getHeadFolder=function(){return"uploadhead"},t.prototype.getHistoryListUrl=function(){return"https://res.scopa.puligame.com/fkzjlog"},t.prototype.getHistoryDetail=function(){return""},t.prototype.getStatsUrl=function(){return"tongji"},t.prototype.getBuryPointUrl=function(){return"https://smaidian.puligame.com/tongji"},t.prototype.getPrivacyUrl=function(){return"http://res.scopa.puligame.com/privacy"},t.prototype.getProtocolUrl=function(){return"http://res.scopa.puligame.com/protocol"},t.prototype.getRobotHeadUrl=function(t){return"https://sres.puligame.com/robotimage/"+t+".jpg"},t.prototype.getBundleUrl=function(){return"https://sres.puligame.com/hotupdate/remote/"},t.prototype.getQueryOrderUrl=function(t){return"https://spay.puligame.com/pay/findorder/csgame/googlepay?orderno="+t},t}();n.ProductConfig=i,cc._RF.pop()},{"./GameConfig":"GameConfig"}],ProtocolUtils:[function(t,e,n){"use strict";cc._RF.push(e,"e2b346tDjpNhIALMaRvYpdc","ProtocolUtils");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.ReceiverProtocol=n.GameSenderProtocol=n.LoginSenderProtocol=n.SenderProtocol=n.BaseProtocol=n.ProtocolUtils=void 0;var r=t("../../../lib/external/ByteArray"),a=t("../../../lib/utils/Logger"),s=function(){function t(){}return t.clear=function(){this.receiverMap.clear()},t.addProtocol=function(t,e){this.receiverMap&&t&&e&&(this.receiverMap.delete(t),this.receiverMap.set(t,e))},t.removeProtocol=function(t){this.receiverMap&&t&&this.receiverMap.delete(t)},t.decodeProtocol=function(t,e){if(this.receiverMap&&t){var n=this.receiverMap.get(e);if(!n)return null;var o=new p(n.mainid,n.subid,n.protocol);return t.body.position=0,o.decode(t.body),o}return null},t.decodeRaw=function(t,e){if(this.receiverMap&&t){var n=this.receiverMap.get(t);if(!n)return null;var o=new p(n.mainid,n.subid,n.protocol);return o.decodeRaw(e),o}return null},t.getSendProtocol=function(t,e,n,o){return new l(t,e,n,o)},t.getSendLoginProtocol=function(t,e,n,o){return new u(t,e,n,o)},t.getSendGameProtocol=function(t,e,n,o,i,r){return new d(t,e,n,o,i,r)},t.receiverMap=new Map,t}();n.ProtocolUtils=s;var c=function(){function t(){this.data=null}return t.GetByteArray=function(t){var e=r.ByteArray.GetByteArray(t);return e.endian=r.Endian.LITTLE_ENDIAN,e},t.ReleaseByteArray=function(t){t&&r.ByteArray.ReleaseByteArray(t)},t.prototype.encode=function(){return t.GetByteArray()},t.prototype.decode=function(){},t.prototype.decodeRaw=function(){},t.prototype.getBytes=function(t){return t.remainBytes()},t.prototype.clear=function(){this.data&&(this.data=null)},t}();n.BaseProtocol=c;var l=function(t){function e(e,n,o,i){var r=t.call(this)||this;return r.mData=e,r.mHead=i,r.mMainID=n||0,r.mSubID=o||0,r}return i(e,t),e.prototype.getID=function(){return this.mMainID+"-"+this.mSubID},e.prototype.encode=function(){var e=t.prototype.encode.call(this);return this.mBody=this.encodeBody(),this.mBody?e.writeBytes(new r.ByteArray(this.mBody)):a.Logger.error("Senderprotocol: body null"),e},e.prototype.doEncode=function(t){var e=null;if(t){var n=t.constructor;n&&n.encode&&(e=n.encode(t).finish())}return e},e.prototype.encodeBody=function(){var t=null;return this.mData&&(t=this.doEncode(this.mData)),null!=this.mHead&&(t&&(this.mHead.byGameData=t),t=this.doEncode(this.mHead)),t},e.prototype.clear=function(){this.mHead&&(this.mHead=null),this.mBody&&(this.mBody=null),this.mData&&(this.mData=null),t.prototype.clear.call(this)},e}(c);n.SenderProtocol=l;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.encodeBody=function(){var t=null;return this.mData&&(t=this.doEncode(this.mData)),null!=this.mHead&&(t&&(this.mHead.byLoginData=t),t=this.doEncode(this.mHead)),t},e}(l);n.LoginSenderProtocol=u;var d=function(t){function e(e,n,o,i,r,a){var s=t.call(this,e,n,o,i)||this;return s.mGameHeader=r,s.mGameSubId=a,s}return i(e,t),e.prototype.encodeBody=function(){var t=null;return this.mData&&(t=this.doEncode(this.mData)),null!=this.mHead&&(t&&(this.mHead.byGameData=t),this.mHead.dwSubID=this.mGameSubId||0,t=this.doEncode(this.mHead),this.mGameHeader&&(this.mGameHeader.byGameData=t,t=this.doEncode(this.mGameHeader))),t},e.prototype.clear=function(){this.mGameHeader&&(this.mGameHeader=null),t.prototype.clear.call(this)},e}(l);n.GameSenderProtocol=d;var p=function(t){function e(e,n,o){var i=t.call(this)||this;return i.mProtocolClass=null,i.mMainID=e||0,i.mSubID=n||0,i.mProtocolClass=o,i}return i(e,t),e.prototype.getID=function(){return this.mMainID+"-"+this.mSubID},e.prototype.decode=function(e){t.prototype.decode.call(this,e),this.mProtocolClass&&(this.data=this.mProtocolClass.decode(this.getBytes(e)))},e.prototype.decodeRaw=function(e){t.prototype.decodeRaw.call(this,e),this.mProtocolClass&&(this.data=this.mProtocolClass.decode(e))},e.prototype.release=function(){this.mProtocolClass&&(this.mProtocolClass=null),this.data&&(this.data=null)},e}(c);n.ReceiverProtocol=p,cc._RF.pop()},{"../../../lib/external/ByteArray":"ByteArray","../../../lib/utils/Logger":"Logger"}],ProxyHandler:[function(t,e,n){"use strict";cc._RF.push(e,"93da02fXyZEG7e2xFXoC4aL","ProxyHandler");var o=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),i=0;for(e=0;e<n;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,i++)o[i]=r[a];return o};Object.defineProperty(n,"__esModule",{value:!0}),n.ProxyHandler=void 0;var i=t("./../../model/DataProxy"),r=t("../../../lib/event/EventDispatcher"),a=t("../../../lib/utils/Logger"),s=t("../protocol/ProtocolUtils"),c=function(){function t(){this.sr=null,this.msgIDList=new Set,this.initSource(),this.initEvent(),this.addHandler(),this.regReceiver()}return t.prototype.getName=function(){return"ProxyHandler"},Object.defineProperty(t.prototype,"localData",{get:function(){return i.DataProxy.getInstance().localData||{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userData",{get:function(){return i.DataProxy.getInstance().userData||{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"configData",{get:function(){return i.DataProxy.getInstance().configData||{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gameData",{get:function(){return i.DataProxy.getInstance().gameData||{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"adsData",{get:function(){return i.DataProxy.getInstance().adsData||{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"thirdData",{get:function(){return i.DataProxy.getInstance().thirdData||{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"otherData",{get:function(){return i.DataProxy.getInstance().otherData||{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shopData",{get:function(){return i.DataProxy.getInstance().shopData||{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"taskData",{get:function(){return i.DataProxy.getInstance().taskData||{}},enumerable:!1,configurable:!0}),t.prototype.protocolList=function(){return[]},t.prototype.setParent=function(t){this.parent=t},t.prototype.registerProto=function(t){for(var e=0,n=this.protocolList();e<n.length;e++){var o=n[e];t.register(o),this.msgIDList.add(o.ProtocolId)}},t.prototype.unregisterProto=function(t){for(var e=0,n=this.protocolList();e<n.length;e++){var o=n[e];t.unregister(o),this.msgIDList.delete(o.ProtocolId)}},t.prototype.initSource=function(){},t.prototype.initEvent=function(){},t.prototype.addHandler=function(){this.handler||(this.handler=new Map)},t.prototype.getMainID=function(){return 0},t.prototype.isHasRegMsgId=function(t){return this.msgIDList.has(t)},t.prototype.addEvent=function(t,e){r.EventDispatcher.getInstance().add(t,e,this)},t.prototype.removeEvent=function(t){r.EventDispatcher.getInstance().remove(this,t)},t.prototype.dispatch=function(t,e){r.EventDispatcher.getInstance().dispatch(t,e)},t.prototype.handle=function(t,e,n){void 0===n&&(n=!0);var o=this.handler.get(t);o&&o.call(this,e,n)},t.prototype.bindHandler=function(t,e){this.handler||(this.handler=new Map),this.handler.set(t,e)},t.prototype.bindHandlers=function(t){t&&t.size>0&&(this.handler=new Map(o(Array.from(this.handler.entries()),Array.from(t.entries()))))},t.prototype.sendNetMsg=function(t){this.parent?this.parent.sendNetMsg(t):this.inter?this.inter.send(t):a.Logger.warn("\u672a\u8bbe\u7f6eparent\u6216\u8005netInterface\uff0c\u53d1\u9001\u6d88\u606f\u5931\u8d25")},t.prototype.release=function(){r.EventDispatcher.getInstance().remove(this),null!=this.sr&&this.unregisterProto(this.sr),this.unRegReceiver()},t.prototype.protocolConfig=function(){return[]},t.prototype.regReceiver=function(){var t=this,e=this.protocolConfig();e&&e.length>0&&e.forEach(function(e){if(e&&e.subid){var n=t.getMainID()+"-"+e.subid;e.mainid=t.getMainID(),s.ProtocolUtils.addProtocol(n,e),t.msgIDList&&t.msgIDList.add(n),e.cb&&t.bindHandler(n,e.cb)}})},t.prototype.unRegReceiver=function(){var t=this,e=this.protocolConfig();e&&e.length>0&&e.forEach(function(e){if(e&&e.subid){var n=t.getMainID()+"-"+e.subid;s.ProtocolUtils.removeProtocol(n),t.msgIDList&&t.msgIDList.delete(n)}})},t.prototype.sendRequest=function(t,e,n,o){var i=s.ProtocolUtils.getSendProtocol(t,e,n,o);i&&(this.sendNetMsg(i),i.clear(),i=null)},t.prototype.sendGameRequest=function(t,e,n,o,i,r){var a=s.ProtocolUtils.getSendGameProtocol(t,e,n,o,i,r);a&&(this.sendNetMsg(a),a.clear(),a=null)},t.prototype.sendLoginRequest=function(t,e,n,o){var i=s.ProtocolUtils.getSendLoginProtocol(t,e,n,o);i&&(this.sendNetMsg(i),i.clear(),i=null)},t}();n.ProxyHandler=c,cc._RF.pop()},{"../../../lib/event/EventDispatcher":"EventDispatcher","../../../lib/utils/Logger":"Logger","../protocol/ProtocolUtils":"ProtocolUtils","./../../model/DataProxy":"DataProxy"}],PyManager:[function(t,e,n){"use strict";cc._RF.push(e,"661b6nsCPJAurI3FDUQ2s8y","PyManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../const/Global"),i=t("./GooglePySdk"),r=t("./NativeApi"),a=t("../model/LocalDataProxy"),s=t("./ApplePySdk"),c=t("../../lib/utils/ComUtils"),l=t("../model/DataProxy"),u=t("../../lib/event/EventDispatcher"),d=t("../event/Notify"),p=t("../../lib/network/HttpManager"),h=t("../config/GameConfig"),f=t("./AppsFlyerSDK"),g=t("../module/buryPoint/BuryPoint"),_=t("../module/buryPoint/BuryPointUtils"),y=t("./NativeNotify"),m=function(){function t(){}return t.doBuy=function(t){u.EventDispatcher.getInstance().dispatch(y.NativeNotify.CALL_SDK),t&&t.order&&t.strProductNo&&(this.mPayMode=t.iPayModeID,this.mPayMode==o.gPaySDKChannel.GOOGLE?i.default.doBuy(t,o.gGooglePayType.INAPP):this.mPayMode==o.gPaySDKChannel.APPLE&&s.default.doBuy(t))},t.doSubscription=function(t){t&&t.order&&t.strProductNo&&(this.mPayMode=t.iPayModeID,this.mPayMode==o.gPaySDKChannel.GOOGLE?i.default.doBuy(t,o.gGooglePayType.SUBS):this.mPayMode==o.gPaySDKChannel.APPLE&&s.default.doBuy(t))},t.doBuySuccess=function(e){e&&(console.log("[PyManager doBuySuccess] "+JSON.stringify(e)),e.strOrderID&&(t.queryOrderAndReport(e.strOrderID),this.mPayMode==o.gPaySDKChannel.GOOGLE&&i.default.removeGoogleOrder(e.strOrderID)))},t.queryPurchaseOrder=function(){var t=this;console.log("PyManager: queryPurchaseOrder()"),c.ComUtils.isAndroid()&&i.default.queryGooglePurchase(function(e){t.handlePurchaseOrder(e)})},t.handlePurchaseOrder=function(t){if(console.log("PyManager: handleDropOrder() orderData"+JSON.stringify(t)),null!=t){var e=l.DataProxy.getInstance().localData.get(a.LocalStorageProxy.SHOP_ORDER_URL,"");if(""!=e){var n={};n.orderid=t.orderId,n.packageName=r.NativeApi.getPackageName(),n.productId=t.productId,n.token=t.orderToken,console.log("PyManager: handleDropOrder() data="+JSON.stringify(n)),u.EventDispatcher.getInstance().dispatch(d.Notify.Shop.LOG_PURCHASE_EVENT,{signature:t.signature,purchaseData:t.originalJson,productId:n.productId}),p.HttpManager.Post({url:e,method:"post",body:n}).then(function(t){if(t.ok){var e=JSON.parse(t.data);e&&c.ComUtils.isAndroid()&&(e.errcode>0&&1==e.state&&e.order?i.default.removeGoogleOrder(e.order):0==e.errcode&&0==e.state&&e.order&&i.default.removeGoogleOrder(e.order))}}).catch(function(t){console.log("PyManager: handleDropOrder() catch_data="+JSON.stringify(t))})}}},t.checkLocalOrderIdIsFinished=function(){var e=a.LocalStorageProxy.getUserValue(a.LocalStorageProxy.PaySuccOrderList,"");if(e){var n=JSON.parse(e);n.length>0&&n.forEach(function(e){var n=e.orderId||"";e.productId,t.queryOrderAndReport(n)})}},t.queryOrderAndReport=function(e){p.HttpManager.Get(h.GameConfig.getInstance().getQueryOrderUrl(e)).then(function(n){try{var o=null,i=JSON.parse(n.data);if(i.attach){var r=decodeURIComponent(i.attach);r&&(o=JSON.parse(r).goodsinfo)}i&&"success"===i.message&&o?t.reportForStatistics(o,e):t.delOrderIdFromLocal(e)}catch(a){console.log("queryOrderAndReport error="+a)}})},t.reportForStatistics=function(e,n){if(e){var o=e&&e.dwCurrencyType||0;f.AppsFlyerSDK.logRevenue({revenue:e.dwSrcNum?e.dwSrcNum/100:1,currency:c.ComUtils.getCurrencyCode(o),goodsId:""+e.dwGoodsID,goodsName:e.strName||"Coins",quantity:e.dwDesNum?e.dwDesNum/100:1,orderId:n}),t.delOrderIdFromLocal(n),_.BuryPointUtils.send(g.BuryPoint.Operation.Lobby.BuyGoodsFinished,JSON.stringify({goodsId:e.dwGoodsID}))}else console.log("reportForStatistics shopItem is null orderId="+n)},t.saveOrderIdToLocal=function(t,e){var n=[],o=a.LocalStorageProxy.getUserValue(a.LocalStorageProxy.PaySuccOrderList,"");o&&(n=JSON.parse(o)),n&&n.find(function(e){return e.orderId==t})||(n.push({orderId:t,productId:e}),a.LocalStorageProxy.setUserValue(a.LocalStorageProxy.PaySuccOrderList,JSON.stringify(n)))},t.delOrderIdFromLocal=function(t){var e=[],n=a.LocalStorageProxy.getUserValue(a.LocalStorageProxy.PaySuccOrderList,"");n&&(e=JSON.parse(n));for(var o=0;o<e.length;o++)if(e[o]&&e[o].orderId===t){e.splice(o,1),a.LocalStorageProxy.setUserValue(a.LocalStorageProxy.PaySuccOrderList,JSON.stringify(e));break}},t.mPayMode=o.gPaySDKChannel.GOOGLE,t}();n.default=m,cc._RF.pop()},{"../../lib/event/EventDispatcher":"EventDispatcher","../../lib/network/HttpManager":"HttpManager","../../lib/utils/ComUtils":"ComUtils","../config/GameConfig":"GameConfig","../const/Global":"Global","../event/Notify":"Notify","../model/DataProxy":"DataProxy","../model/LocalDataProxy":"LocalDataProxy","../module/buryPoint/BuryPoint":"BuryPoint","../module/buryPoint/BuryPointUtils":"BuryPointUtils","./ApplePySdk":"ApplePySdk","./AppsFlyerSDK":"AppsFlyerSDK","./GooglePySdk":"GooglePySdk","./NativeApi":"NativeApi","./NativeNotify":"NativeNotify"}],QueryHandler:[function(t,e,n){"use strict";cc._RF.push(e,"208a3lqbUJBBbFac+CutHL/","QueryHandler");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.QueryHandler=void 0;var r=t("../../../plugin/pb/protofile/GlobalMsgDef"),a=t("../../../plugin/pb/protofile/CMD_QueryMsg"),s=t("../../../lib/utils/Logger"),c=t("../../event/Notify"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.SERVER_ID=160,e.queryUserInGameTime=0,e}return i(e,t),e.prototype.getName=function(){return"QueryHandler"},e.prototype.protocolConfig=function(){return[{protocol:a.MSC_SC_UserOnlieGame,subid:a.QUERY_SUB_MSG.MSG_SC_USER_ONLINE_GAME,cb:this.onFindUserRoomResult}]},e.prototype.getMainID=function(){return r.MAIN_MSG_ID.MAIN_MSG_QUERY_SERVER_ID},e.prototype.clear=function(){this.removeEvent()},e.prototype.initEvent=function(){var e=this;t.prototype.initEvent.call(this),this.addEvent(c.Notify.Query.FIND_USER_ROOM,function(){e.sendFindUserRoom()})},e.prototype.getOtherHead=function(t,e){var n=void 0===e?t:e,o=new r.Msg_OtherServerHead;return o.dwGameID=t,o.dwGameTypeID=n,o.strUUID=this.userData.sessionId,o},e.prototype.sendFindUserRoom=function(){s.Logger.info("\u67e5\u8be2\u73a9\u5bb6\u662f\u5426\u5728\u623f\u95f4 ===>"),this.sendRequest(null,this.getMainID(),a.QUERY_SUB_MSG.MSG_CS_FIND_USER_ONLINE_GAME,this.getOtherHead(this.SERVER_ID)),this.queryUserInGameTime=Date.now()},e.prototype.onFindUserRoomResult=function(t){var e=t.data;s.Logger.info("\u8fd4\u56de\u67e5\u8be2\u73a9\u5bb6\u623f\u95f4\u7ed3\u679c ===>",e),console.log("\u8fd4\u56de\u67e5\u8be2\u73a9\u5bb6\u623f\u95f4\u7ed3\u679c \u65f6\u95f4\u95f4\u9694=",Date.now()-this.queryUserInGameTime),e.bInGame?(s.Logger.info("\u73a9\u5bb6\u5728\u6e38\u620f\u4e2d:",e),this.gameData.exsitGameInfo={gameID:e.dwGameID,gameType:e.dwGameType,gradeType:e.dwGradeType,queryTime:Date.now()}):this.gameData.exsitGameInfo={gameID:0,gameType:0,queryTime:0}},e}(t("../../base/handler/ProxyHandler").ProxyHandler);n.QueryHandler=l,cc._RF.pop()},{"../../../lib/utils/Logger":"Logger","../../../plugin/pb/protofile/CMD_QueryMsg":"CMD_QueryMsg","../../../plugin/pb/protofile/GlobalMsgDef":"GlobalMsgDef","../../base/handler/ProxyHandler":"ProxyHandler","../../event/Notify":"Notify"}],RankCfgItem:[function(t,e,n){"use strict";cc._RF.push(e,"6fcd9I+CIhDCLMrNMZoT/Wt","RankCfgItem");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../lib/base/CxComponent"),s=t("../../../lib/utils/ComUtils"),c=t("../../language/LanguageCfg"),l=t("../../model/DataProxy"),u=t("./RankInfo"),d=cc._decorator,p=d.ccclass,h=d.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mSpriteAtl=null,e.mSprBg=null,e.mSprHBg=null,e.mSprLv=null,e.mSprNum=null,e.mLabRankName=null,e.mLabRankUp=null,e.mLabRankKeep=null,e.mLabRankQuickUp=null,e.danInfo=null,e}return i(e,t),e.prototype.updateItem=function(t,e){this.init(t,e)},e.prototype.init=function(t,e){e&&(this.mSprHBg&&e.dwDan1==l.DataProxy.getInstance().rankData.rankLever&&e.dwDan2==l.DataProxy.getInstance().rankData.rankStarLever?this.mSprHBg.active=!0:(this.mSprHBg&&(this.mSprHBg.active=!1),this.mSprBg&&(this.mSprBg.active=t%2!=0)),this.danInfo=e,this.initDan(),this.initCfg())},e.prototype.initDan=function(){if(this.mSpriteAtl){var t=u.default.rankName[this.danInfo.dwDan1-1];this.mSprLv&&this.mSpriteAtl.getSpriteFrame("rank_lv_"+t)&&(this.mSprLv.spriteFrame=this.mSpriteAtl.getSpriteFrame("rank_lv_"+t)),this.mSprNum&&(this.danInfo.dwDan2?(this.mSprNum.node.active=!0,this.mSpriteAtl.getSpriteFrame("rank_num_"+t+"_"+this.danInfo.dwDan2)&&(this.mSprNum.spriteFrame=this.mSpriteAtl.getSpriteFrame("rank_num_"+t+"_"+this.danInfo.dwDan2))):this.mSprNum.node.active=!1)}if(this.mLabRankName){var e=c.LangKey.rank_lv+"_"+u.default.rankTranslateName[this.danInfo.dwDan1-1];this.mLabRankName.string=s.ComUtils.getLang(e)+" "+(u.default.rankNum[this.danInfo.dwDan2-1]||"")}},e.prototype.initCfg=function(){this.mLabRankUp&&(this.mLabRankUp.string=0==this.danInfo.dwGradeNum?"-":"TOP"+this.danInfo.dwGradeNum),this.mLabRankKeep&&(this.mLabRankKeep.string=this.danInfo.dwRemainNum<100?"TOP"+this.danInfo.dwRemainNum:s.ComUtils.formatGoldStr(this.danInfo.dwRemainNum,1e3,0)),this.mLabRankQuickUp&&(this.mLabRankQuickUp.string=0==this.danInfo.dwQuickGold?"-":s.ComUtils.formatGoldStr(this.danInfo.dwQuickGold,1e3,0))},r([h(cc.SpriteAtlas)],e.prototype,"mSpriteAtl",void 0),r([h(cc.Node)],e.prototype,"mSprBg",void 0),r([h(cc.Node)],e.prototype,"mSprHBg",void 0),r([h(cc.Sprite)],e.prototype,"mSprLv",void 0),r([h(cc.Sprite)],e.prototype,"mSprNum",void 0),r([h(cc.Label)],e.prototype,"mLabRankName",void 0),r([h(cc.Label)],e.prototype,"mLabRankUp",void 0),r([h(cc.Label)],e.prototype,"mLabRankKeep",void 0),r([h(cc.Label)],e.prototype,"mLabRankQuickUp",void 0),r([p],e)}(a.CxComponent);n.default=f,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../../lib/utils/ComUtils":"ComUtils","../../language/LanguageCfg":"LanguageCfg","../../model/DataProxy":"DataProxy","./RankInfo":"RankInfo"}],RankCfg:[function(t,e,n){"use strict";cc._RF.push(e,"a533ay7C+pKbbSmSNFW2Qa4","RankCfg");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../lib/base/CxComponent"),s=t("../../../lib/utils/ComUtils"),c=t("../../../lib/utils/Display"),l=t("../../base/component/ComListView"),u=t("../../language/LanguageCfg"),d=t("./RankCfgItem"),p=cc._decorator,h=p.ccclass,f=p.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nScrollView=null,e.mPreItem=null,e.mBtnClose=null,e.mLabTraLeague=null,e.mLabTraPromote=null,e.mLabTraRemain=null,e.mLabTraInstant=null,e.mLabTraLeagueInfo=null,e.mLabTraTopLeague=null,e.rankCfg=null,e}return i(e,t),e.prototype.init=function(t){t&&(this.rankCfg=t)},e.prototype.start=function(){this.node.height=c.Display.height,this.nScrollView&&(this.nScrollView.node.height=c.Display.height-378-50),this.mBtnClose&&this.mBtnClose.node.on("click",this.close,this),this.mLabTraLeague&&(this.mLabTraLeague.string=s.ComUtils.getLang(u.LangKey.rank_union)),this.mLabTraPromote&&(this.mLabTraPromote.string=s.ComUtils.getLang(u.LangKey.rank_rise)),this.mLabTraRemain&&(this.mLabTraRemain.string=s.ComUtils.getLang(u.LangKey.rank_relegation)),this.mLabTraInstant&&(this.mLabTraInstant.string=s.ComUtils.getLang(u.LangKey.rank_quick_upgrade)),this.mLabTraLeagueInfo&&(this.mLabTraLeagueInfo.string=s.ComUtils.getLang(u.LangKey.rank_league_info)),this.mLabTraTopLeague&&(this.mLabTraTopLeague.string=s.ComUtils.getLang(u.LangKey.rank_wild_league)),this.initItem(this.rankCfg)},e.prototype.initItem=function(t){var e={scrollView:this.nScrollView,content:this.nScrollView.content,itemPrefab:this.mPreItem,itemClass:d.default,dataList:t.tabCfg,dataEx:null},n=this.node.getComponent(l.ComListView);null==n&&(n=this.node.addComponent(l.ComListView)),n.initParams(e),n.initScrollView()},e.prototype.close=function(){t.prototype.close.call(this)},r([f(cc.ScrollView)],e.prototype,"nScrollView",void 0),r([f(cc.Prefab)],e.prototype,"mPreItem",void 0),r([f(cc.Button)],e.prototype,"mBtnClose",void 0),r([f(cc.Label)],e.prototype,"mLabTraLeague",void 0),r([f(cc.Label)],e.prototype,"mLabTraPromote",void 0),r([f(cc.Label)],e.prototype,"mLabTraRemain",void 0),r([f(cc.Label)],e.prototype,"mLabTraInstant",void 0),r([f(cc.Label)],e.prototype,"mLabTraLeagueInfo",void 0),r([f(cc.Label)],e.prototype,"mLabTraTopLeague",void 0),r([h],e)}(a.CxComponent);n.default=g,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../../lib/utils/ComUtils":"ComUtils","../../../lib/utils/Display":"Display","../../base/component/ComListView":"ComListView","../../language/LanguageCfg":"LanguageCfg","./RankCfgItem":"RankCfgItem"}],RankDataProxy:[function(t,e,n){"use strict";cc._RF.push(e,"18328lg+SdIR6h5oZ+ppq9k","RankDataProxy"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return Object.defineProperty(t.prototype,"rankLever",{get:function(){return this._rankLever},set:function(t){this._rankLever=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rankStarLever",{get:function(){return this._rankStarLever},set:function(t){this._rankStarLever=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rankUpLever",{get:function(){return this._rankUpLever},set:function(t){this._rankUpLever=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rankUpStarLever",{get:function(){return this._rankUpStarLever},set:function(t){this._rankUpStarLever=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rankDownLever",{get:function(){return this._rankDownLever},set:function(t){this._rankDownLever=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rankDownStarLever",{get:function(){return this._rankDownStarLever},set:function(t){this._rankDownStarLever=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rankToUpNum",{get:function(){return this._rankToUpNum},set:function(t){this._rankToUpNum=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rankKeep",{get:function(){return this._rankKeep},set:function(t){this._rankKeep=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dwMyRank",{get:function(){return this._dwMyRank},set:function(t){this._dwMyRank=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dwMyWinGold",{get:function(){return this._dwMyWinGold},set:function(t){this._dwMyWinGold=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dwQuickGold",{get:function(){return this._dwQuickGold},set:function(t){this._dwQuickGold=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dwHope",{get:function(){return this._dwHope},set:function(t){this._dwHope=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"reward",{get:function(){return this._reward},set:function(t){this._reward=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stctCfg",{get:function(){return this._stctCfg},set:function(t){this._stctCfg=t},enumerable:!1,configurable:!0}),t.prototype.isStatisticsTime=function(){return!this.stctCfg||this.stctCfg.bWeiHu},t.prototype.statisticsEndTime=function(){return this.stctCfg?this.stctCfg.dwTime:0},t.prototype.init=function(t){this.rankLever=t.dwDan1||null,this.rankStarLever=t.dwDan2||null,this.rankUpLever=t.dwNextDan1||null,this.rankUpStarLever=t.dwNextDan2||null,this.rankDownLever=t.dwLastDan1||null,this.rankDownStarLever=t.dwLastDan2||null,this.dwMyRank=t.dwMyRank||null,this.dwMyWinGold=t.dwMyWinGold||null,this.dwQuickGold=t.dwQuickGold||null,this.dwHope=t.dwHope||null,this.reward=t.reward||null,this.rankToUpNum=t.dwBaoJiRank||0,this.rankKeep=t.dwJiangJiRank||0},t.prototype.clear=function(){this.rankLever=null,this.rankStarLever=null,this.rankUpLever=null,this.rankUpStarLever=null,this.rankDownLever=null,this.rankDownStarLever=null,this.rankToUpNum=null,this.rankKeep=null},t}();n.default=o,cc._RF.pop()},{}],RankFristView:[function(t,e,n){"use strict";cc._RF.push(e,"e5747n7xmJOZ4AcwO43Cm0k","RankFristView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../lib/base/CxComponent"),s=t("../../../lib/utils/ComUtils"),c=t("../../const/Global"),l=t("../../event/GuiEvent"),u=t("../../event/Notify"),d=t("../../language/LanguageCfg"),p=t("../../model/DataProxy"),h=t("../ComUI"),f=cc._decorator,g=f.ccclass,_=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ndHead=null,e.mLabName=null,e.mLabGold=null,e.mLabGoldReward=null,e.mBtnShow=null,e.ndMe=null,e.rankInfo=null,e.goldReward=null,e}return i(e,t),e.prototype.updateItem=function(t,e){this.init(e)},e.prototype.init=function(t){this.rankInfo=t,this.ndMe&&(this.ndMe.active=!1),this.initReward(),this.initUserInfo(),this.initCoins()},e.prototype.initReward=function(){var t=this;this.rankInfo.reward&&(this.goldReward=null,this.rankInfo.reward.forEach(function(e){e.dwType==c.gShopHBType.GOLD&&(t.goldReward=e)}))},e.prototype.start=function(){this.mBtnShow&&this.mBtnShow.node.on("click",this.onShowReward,this)},e.prototype.initUserInfo=function(){this.dispatch(u.Notify.Head.CREATE_HEAD,{parent:this.ndHead,userId:this.rankInfo.dwUserID}),this.mLabName&&this.rankInfo&&this.rankInfo.strName&&(this.mLabName.string=s.ComUtils.subStr(this.rankInfo.strName,16,!0),this.rankInfo.bGordenVip&&h.ComUI.LabelToGolden(this.mLabName)),this.mLabGoldReward&&(this.goldReward?this.mLabGoldReward.string="X"+s.ComUtils.formatGoldStr(this.goldReward.dwNum,1e3,0):this.mLabGoldReward.string="X0"),this.rankInfo.dwRank==p.DataProxy.getInstance().rankData.dwMyRank&&this.ndMe&&(this.ndMe.active=!0)},e.prototype.initCoins=function(){this.mLabGold&&this.rankInfo&&(-1==this.rankInfo.dwGold?this.mLabGold.string=s.ComUtils.getLang(d.LangKey.rank_new):this.mLabGold.string=s.ComUtils.formatGoldStr(this.rankInfo.dwGold,1e10))},e.prototype.onShowReward=function(){this.dispatch(l.GuiEvent.PopMsg.RANK_REWARD,this.rankInfo.reward)},r([_(cc.Node)],e.prototype,"ndHead",void 0),r([_(cc.Label)],e.prototype,"mLabName",void 0),r([_(cc.Label)],e.prototype,"mLabGold",void 0),r([_(cc.Label)],e.prototype,"mLabGoldReward",void 0),r([_(cc.Button)],e.prototype,"mBtnShow",void 0),r([_(cc.Node)],e.prototype,"ndMe",void 0),r([g],e)}(a.CxComponent);n.default=y,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../../lib/utils/ComUtils":"ComUtils","../../const/Global":"Global","../../event/GuiEvent":"GuiEvent","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../../model/DataProxy":"DataProxy","../ComUI":"ComUI"}],RankHandler:[function(t,e,n){"use strict";cc._RF.push(e,"521f0RSlZtGJbJarJobjESU","RankHandler");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.RankItemType=n.RankType=void 0;var a,s,c=t("../../../lib/base/PopUpLogic"),l=t("../../../lib/utils/Logger"),u=t("../../../plugin/pb/protofile/CMD_DanMsg"),d=t("../../../plugin/pb/protofile/GlobalMsgDef"),p=t("../../base/handler/ProxyHandler"),h=t("../../const/Global"),f=t("../../event/GuiEvent"),g=t("../../event/Notify"),_=t("../../model/DataProxy"),y=cc._decorator,m=y.ccclass;y.property,function(t){t[t.UP=1]="UP",t[t.KEEP=2]="KEEP",t[t.DOWN=3]="DOWN"}(a=n.RankType||(n.RankType={})),function(t){t[t.FRIST=0]="FRIST",t[t.COMMONLY=1]="COMMONLY",t[t.TIPS=2]="TIPS"}(s=n.RankItemType||(n.RankItemType={}));var b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.SERVER_ID=191,e.allRankList={bEnd:!0,tabList:[]},e}return i(e,t),e.prototype.getName=function(){return"RankHandler"},e.prototype.getHeader=function(t,e){var n=t,o=void 0===e?n:e,i=new d.Msg_OtherServerHead;return i.dwGameID=n,i.dwGameTypeID=o,i.strUUID=this.userData.sessionId,i},e.prototype.protocolConfig=function(){return[{protocol:u.MSG_SC_ResponseDanInfo,subid:u.DAN_SUB_MSG.MSG_SC_RESPONSE_SHOW_DAN_INFO,cb:this.resPersonalInfo},{protocol:u.MSG_SC_ResponseDanRank,subid:u.DAN_SUB_MSG.MSG_SC_RESPONSE_SHOW_DAN_RANK,cb:this.resRankingList},{protocol:u.MSG_SC_ResponseQuickUpdate,subid:u.DAN_SUB_MSG.MSG_SC_RESPONSE_QUICK_UPDATE,cb:this.resQuickUpgradeReward},{protocol:u.MSG_SC_ResponseUpdateReward,subid:u.DAN_SUB_MSG.MSG_SC_RESPONSE_UPDATE_REWARD,cb:this.resGetRankReward},{protocol:u.MSG_SC_ResponseCfg,subid:u.DAN_SUB_MSG.MSG_SC_GRADE_CFG,cb:this.resGetRankCfg}]},e.prototype.getMainID=function(){return d.MAIN_MSG_ID.MAIN_MSG_DAN_SERVER_ID},e.prototype.initEvent=function(){t.prototype.initEvent.call(this),this.addEvent(g.Notify.Ranking.REQ_SEGMENT_COMPETITION_LIST,this.getRankInfo),this.addEvent(g.Notify.Ranking.REQ_QUICK_UPGRADE_REWARD,this.getRewardInfo),this.addEvent(g.Notify.Ranking.REQ_RANK_REWARD,this.getReward),this.addEvent(g.Notify.Ranking.REQ_UPGRADE_CONFIGURATION,this.getRankCfg)},e.prototype.clear=function(){this.removeEvent()},e.prototype.getRankInfo=function(){var t=_.DataProxy.getInstance().rankData.isStatisticsTime(),e=_.DataProxy.getInstance().rankData.statisticsEndTime();t||0!=e?this.dispatch(g.Notify.Ranking.IN_STATISTICS,{isStat:!0,dwTime:_.DataProxy.getInstance().rankData.statisticsEndTime()}):(this.sendRequest(null,this.getMainID(),u.DAN_SUB_MSG.MSG_CS_SHOW_DAN_LIST,this.getHeader(this.SERVER_ID)),this.dispatch(g.Notify.Ranking.IN_STATISTICS,{isStat:!1}))},e.prototype.getRewardInfo=function(){var t=_.DataProxy.getInstance().rankData.isStatisticsTime(),e=_.DataProxy.getInstance().rankData.statisticsEndTime();t||0!=e||this.sendRequest(null,this.getMainID(),u.DAN_SUB_MSG.MSG_CS_QUICK_UPDATE,this.getHeader(this.SERVER_ID))},e.prototype.getReward=function(){var t=_.DataProxy.getInstance().rankData.isStatisticsTime(),e=_.DataProxy.getInstance().rankData.statisticsEndTime();t||0!=e||this.sendRequest(null,this.getMainID(),u.DAN_SUB_MSG.MSG_CS_GET_UPDATE_REWARD,this.getHeader(this.SERVER_ID))},e.prototype.getRankCfg=function(){var t=_.DataProxy.getInstance().rankData.isStatisticsTime(),e=_.DataProxy.getInstance().rankData.statisticsEndTime();t||0!=e||this.sendRequest(null,this.getMainID(),u.DAN_SUB_MSG.MSG_CS_GRADE_CFG,this.getHeader(this.SERVER_ID))},e.prototype.resPersonalInfo=function(t){var e=t.data;_.DataProxy.getInstance().rankData.init(e),_.DataProxy.getInstance().userData.rankLever=e.dwDan1,_.DataProxy.getInstance().userData.rankStartLever=e.dwDan2,this.dispatch(g.Notify.Ranking.UPDATE_RANK_LOGO,{lv:e.dwDan1,num:e.dwDan2}),_.DataProxy.getInstance().comData.isInGame()?this.dispatch(g.Notify.Ranking.GAME_RESP_PERSONAL_INFORMATION,e):this.dispatch(g.Notify.Ranking.RESP_PERSONAL_INFORMATION,e)},e.prototype.resRankingList=function(t){var e=this,n=t.data;n.tabList.forEach(function(t){e.allRankList.tabList.push(t)}),n.bEnd&&(_.DataProxy.getInstance().comData.isInGame()?this.resGameRankingList(this.allRankList):this.resLobbyRankingList(this.allRankList),this.allRankList.tabList=[])},e.prototype.resLobbyRankingList=function(t){var e=null,n=_.DataProxy.getInstance().rankData.dwMyRank||_.DataProxy.getInstance().userData.userId,o=_.DataProxy.getInstance().rankData.rankToUpNum,i=_.DataProxy.getInstance().rankData.rankKeep,r=[],s=t.tabList[0];t.tabList[0].dwRank!=n&&t.tabList[0].dwUserID!=n||(e=t.tabList[0]);for(var c=1;c<t.tabList.length;c++){if(c==o-1){var l={type:a.UP};r.push(l)}c==i-1&&(0==o?(l={type:a.UP},r.push(l)):(l={type:a.KEEP},r.push(l))),t.tabList[c].dwRank!=n&&t.tabList[c].dwUserID!=n||(e=t.tabList[c]),r.push(t.tabList[c])}0==o&&0==i?(l={type:a.UP},r.push(l)):0!=o&&0==i?(l={type:a.KEEP},r.push(l)):0!=i&&(l={type:a.DOWN},r.push(l));var u={fristitem:s,myItem:e,rankList:r};this.dispatch(g.Notify.Ranking.RESP_RANKING_LIST,u)},e.prototype.resLobbyRankingList1=function(t){for(var e=null,n=_.DataProxy.getInstance().rankData.dwMyRank||_.DataProxy.getInstance().userData.userId,o=_.DataProxy.getInstance().rankData.rankToUpNum,i=_.DataProxy.getInstance().rankData.rankKeep,r=[],c=0;c<t.tabList.length;c++){if(c==o-1){var l={type:a.UP};r.push({preId:s.TIPS,data:l})}c==i-1&&(l={type:a.DOWN},r.push({preId:s.TIPS,data:l})),t.tabList[c].dwRank!=n&&t.tabList[c].dwUserID!=n||(e=t.tabList[c]),0==c?r.push({preId:s.FRIST,data:t.tabList[c]}):r.push({preId:s.COMMONLY,data:t.tabList[c]})}var u={myItem:e,rankList:r};this.dispatch(g.Notify.Ranking.RESP_RANKING_LIST,u)},e.prototype.resGameRankingList=function(t){for(var e=_.DataProxy.getInstance().rankData.rankToUpNum,n=_.DataProxy.getInstance().rankData.rankKeep,o=[],i=0;i<t.tabList.length;i++){if(i==e-1&&0!=i){var r={type:a.UP};o.push(r)}i==n-1&&0!=i&&(0==e?(r={type:a.UP},o.push(r)):(r={type:a.KEEP},o.push(r))),o.push(t.tabList[i])}0==e&&0==n?(r={type:a.UP},o.push(r)):0!=e&&0==n?(r={type:a.KEEP},o.push(r)):0!=n&&(r={type:a.DOWN},o.push(r)),this.dispatch(g.Notify.Ranking.GAME_RESP_RANKING_LIST,o)},e.prototype.resQuickUpgradeReward=function(t){var e=t.data;l.Logger.info("RankHandler::resQuickUpgradeReward",JSON.stringify(e)),e&&0!=e.dwType&&(this.dispatch(g.Notify.Ranking.UPDATE_RANK_LOGO,{lv:e.dwNextDan1,num:e.dwNextDan2}),c.PopUpLogic.getInstance().canAutoPopByName(f.GuiEvent.PopMsg.RANK_PROMOTION)&&this.dispatch(f.GuiEvent.PopMsg.RANK_PROMOTION,{autoPop:!0,data:e}))},e.prototype.resGetRankReward=function(t){var e=this,n=t.data;l.Logger.info("RankHandler::resGetRankReward",JSON.stringify(n)),n.bError&&n.reward.forEach(function(t){var n=t.dwType,o=_.DataProxy.getInstance().gameData.enterSceneInfo.fromScene;n===h.gShopHBType.GOLD?e.dispatch(f.GuiEvent.Anim.COM_AWARD_ANIM,{awardNum:t.dwNum,scene:o}):n===h.gShopHBType.POWER&&e.dispatch(f.GuiEvent.Anim.COM_POWER_ANIM,{awardNum:t.dwNum,scene:o})})},e.prototype.resGetRankCfg=function(t){var e=t.data;l.Logger.info("RankHandler::resGetRankCfg",JSON.stringify(e)),this.dispatch(g.Notify.Ranking.OPEN_UPGRADE_CONFIGURATION,e)},r([m],e)}(p.ProxyHandler);n.default=b,cc._RF.pop()},{"../../../lib/base/PopUpLogic":"PopUpLogic","../../../lib/utils/Logger":"Logger","../../../plugin/pb/protofile/CMD_DanMsg":"CMD_DanMsg","../../../plugin/pb/protofile/GlobalMsgDef":"GlobalMsgDef","../../base/handler/ProxyHandler":"ProxyHandler","../../const/Global":"Global","../../event/GuiEvent":"GuiEvent","../../event/Notify":"Notify","../../model/DataProxy":"DataProxy"}],RankInfo:[function(t,e,n){"use strict";cc._RF.push(e,"f8515WcJ9JB+al1VR5mRqOZ","RankInfo"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.rankName=["bronze","silver","gold","platinum","diamonds","king"],t.rankTranslateName=["bronze","silver","gold","platnum","diamond","challenger"],t.rankNum=["I","II","III","IV","V","VI"],t.rankNumColor=["#fff8c7","#ecf3ff","#fff8c7","#eaefff","#fff8c7","fff8c7"],t.rankNumStrok=["#923f22","#374962","#bc5b0d","#455a90","#bc5b0d","9a3a2c"],t.rankListColor=["green","violet","red","yellow"],t.rankListStroke=["#145210","#470b83","#7d023e","#A94513"],t.rankListTipStroke=["#145210","#470b83","#7d023e"],t.gameRankListStroke=["#033204","#1c0332","#6a0321"],t.resultColor=["#28d748","#ff466c"],t.rankAnimBg=["3","2","1","2","1","1"],t}();n.default=o,cc._RF.pop()},{}],RankItemView:[function(t,e,n){"use strict";cc._RF.push(e,"b0a12cDUA1LLZaJochfqzGj","RankItemView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../lib/base/CxComponent"),s=t("../../../lib/utils/ComUtils"),c=t("../../const/Global"),l=t("../../event/GuiEvent"),u=t("../../event/Notify"),d=t("../../language/LanguageCfg"),p=t("../../model/DataProxy"),h=t("../../module/rank/RankHandler"),f=t("../ComUI"),g=t("./RankInfo"),_=cc._decorator,y=_.ccclass,m=_.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ndRankInfo=null,e.ndTipsInfo=null,e.mSpratl=null,e.mLabSort=null,e.ndHead=null,e.ndMe=null,e.mLabName=null,e.mLabGold=null,e.mLabTips=null,e.mBtnShow=null,e.mLabGoldReward=null,e.goldReward=null,e.rankInfo=null,e.BgColor=null,e}return i(e,t),e.prototype.updateItem=function(t,e){e.type?this.showTips(e.type):this.init(e)},e.prototype.init=function(t){this.rankInfo=t,this.isRankInfo(!0),this.mBtnShow&&this.mBtnShow.node.on("click",this.onShowReward,this),this.initReward(),this.initSort(),this.initUserInfo(),this.initCoins()},e.prototype.initReward=function(){var t=this;this.rankInfo.reward&&(this.goldReward=null,this.rankInfo.reward.forEach(function(e){e.dwType==c.gShopHBType.GOLD&&(t.goldReward=e)}))},e.prototype.initSort=function(){this.rankInfo&&this.mSpratl&&(this.initBack(this.rankInfo.dwHope,!1),this.mLabSort&&(2==this.rankInfo.dwRank?this.mLabSort.string="2nd":3==this.rankInfo.dwRank?this.mLabSort.string="3rd":this.mLabSort.string=this.rankInfo.dwRank+"th"))},e.prototype.initUserInfo=function(){this.dispatch(u.Notify.Head.CREATE_HEAD,{parent:this.ndHead,userId:this.rankInfo.dwUserID,save:!0}),this.mLabName&&this.rankInfo&&this.rankInfo.strName&&(this.mLabName.string=s.ComUtils.subStr(this.rankInfo.strName,16,!0),this.rankInfo.bGordenVip?f.ComUI.LabelToGolden(this.mLabName):this.mLabName.node.color=cc.Color.WHITE),this.mLabGoldReward&&(this.goldReward?this.mLabGoldReward.string="X"+s.ComUtils.formatGoldStr(this.goldReward.dwNum,1e3,0):this.mLabGoldReward.string="X0")},e.prototype.initCoins=function(){this.mLabGold&&this.rankInfo&&(-1==this.rankInfo.dwGold?this.mLabGold.string=s.ComUtils.getLang(d.LangKey.rank_new):this.mLabGold.string=s.ComUtils.formatGoldStr(this.rankInfo.dwGold,1e10))},e.prototype.initColor=function(){this.BgColor=g.default.rankListColor[this.rankInfo.dwHope-1];var t=g.default.rankListStroke[this.rankInfo.dwHope-1],e="rank_"+this.BgColor+"_bg";this.rankInfo.dwRank==p.DataProxy.getInstance().rankData.dwMyRank&&(e+="_2"),this.mSpratl.getSpriteFrame(e)&&(this.node.getComponent(cc.Sprite).spriteFrame=this.mSpratl.getSpriteFrame(e)),this.mLabName&&this.mLabName.node.getComponent(cc.LabelOutline)&&(this.mLabName.node.getComponent(cc.LabelOutline).color=(new cc.Color).fromHEX(t)),this.mLabGold&&this.mLabGold.node.getComponent(cc.LabelOutline)&&(this.mLabGold.node.getComponent(cc.LabelOutline).color=(new cc.Color).fromHEX(t))},e.prototype.showTips=function(t){this.rankInfo=null,t&&(this.isRankInfo(!1),this.initBack(t,!0))},e.prototype.initBack=function(t,e){this.BgColor=g.default.rankListColor[t-1];var n="rank_"+this.BgColor+"_bg";if(this.ndMe&&(this.ndMe.active=!1),this.rankInfo&&this.rankInfo.dwRank==p.DataProxy.getInstance().rankData.dwMyRank&&(n+="_2",this.ndMe&&(this.ndMe.active=!0)),this.mSpratl.getSpriteFrame(n)&&(this.node.getComponent(cc.Sprite).spriteFrame=this.mSpratl.getSpriteFrame(n)),e){var o=g.default.rankListTipStroke[t-1];if(this.mLabTips){var i=null,r=null;switch(t){case h.RankType.UP:r=d.LangKey.rank_lv+"_"+g.default.rankTranslateName[p.DataProxy.getInstance().rankData.rankUpLever-1],i=s.ComUtils.getLang(d.LangKey.rank_upgrade_to)+" "+s.ComUtils.getLang(r)+" "+g.default.rankNum[p.DataProxy.getInstance().rankData.rankUpStarLever-1];break;case h.RankType.KEEP:r=d.LangKey.rank_lv+"_"+g.default.rankTranslateName[p.DataProxy.getInstance().rankData.rankLever-1],i=s.ComUtils.getLang(d.LangKey.rank_relegated_to)+" "+s.ComUtils.getLang(r)+" "+g.default.rankNum[p.DataProxy.getInstance().rankData.rankStarLever-1];break;case h.RankType.DOWN:r=d.LangKey.rank_lv+"_"+g.default.rankTranslateName[p.DataProxy.getInstance().rankData.rankDownLever-1],i=s.ComUtils.getLang(d.LangKey.rank_demoted_to)+" "+s.ComUtils.getLang(r)+" "+g.default.rankNum[p.DataProxy.getInstance().rankData.rankDownStarLever-1]}this.mLabTips.string=i}o&&this.mLabTips&&this.mLabTips.node.getComponent(cc.LabelOutline)&&(this.mLabTips.node.getComponent(cc.LabelOutline).color=(new cc.Color).fromHEX(o))}else{var a=g.default.rankListStroke[t-1];a&&this.mLabName&&this.mLabName.node.getComponent(cc.LabelOutline)&&(this.mLabName.node.getComponent(cc.LabelOutline).color=(new cc.Color).fromHEX(a)),a&&this.mLabGold&&this.mLabGold.node.getComponent(cc.LabelOutline)&&(this.mLabGold.node.getComponent(cc.LabelOutline).color=(new cc.Color).fromHEX(a))}},e.prototype.isRankInfo=function(t){this.ndRankInfo&&(this.ndRankInfo.active=t),this.ndTipsInfo&&(this.ndTipsInfo.active=!t)},e.prototype.onShowReward=function(){this.dispatch(l.GuiEvent.PopMsg.RANK_REWARD,this.rankInfo.reward)},r([m(cc.Node)],e.prototype,"ndRankInfo",void 0),r([m(cc.Node)],e.prototype,"ndTipsInfo",void 0),r([m(cc.SpriteAtlas)],e.prototype,"mSpratl",void 0),r([m(cc.Label)],e.prototype,"mLabSort",void 0),r([m(cc.Node)],e.prototype,"ndHead",void 0),r([m(cc.Node)],e.prototype,"ndMe",void 0),r([m(cc.Label)],e.prototype,"mLabName",void 0),r([m(cc.Label)],e.prototype,"mLabGold",void 0),r([m(cc.Label)],e.prototype,"mLabTips",void 0),r([m(cc.Button)],e.prototype,"mBtnShow",void 0),r([m(cc.Label)],e.prototype,"mLabGoldReward",void 0),r([y],e)}(a.CxComponent);n.default=b,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../../lib/utils/ComUtils":"ComUtils","../../const/Global":"Global","../../event/GuiEvent":"GuiEvent","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../../model/DataProxy":"DataProxy","../../module/rank/RankHandler":"RankHandler","../ComUI":"ComUI","./RankInfo":"RankInfo"}],RankMyItem:[function(t,e,n){"use strict";cc._RF.push(e,"f85c3ttqTFN0Y15D0bo8cnx","RankMyItem");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../lib/base/CxComponent"),s=t("../../../lib/utils/ComUtils"),c=t("../../const/Global"),l=t("../../event/GuiEvent"),u=t("../../event/Notify"),d=t("../../language/LanguageCfg"),p=t("../ComUI"),h=t("./RankInfo"),f=cc._decorator,g=f.ccclass,_=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mSpratl=null,e.mLabSort=null,e.ndHead=null,e.mLabName=null,e.mLabGold=null,e.mBtnShow=null,e.mLabGoldReward=null,e.goldReward=null,e.rankInfo=null,e.BgColor=null,e}return i(e,t),e.prototype.init=function(t){t&&(this.rankInfo=t,this.initReward(),this.initSort(),this.initUserInfo(),this.initCoins())},e.prototype.start=function(){this.mBtnShow&&this.mBtnShow.node.on("click",this.onShowReward,this)},e.prototype.initReward=function(){var t=this;this.rankInfo.reward&&(this.goldReward=null,this.rankInfo.reward.forEach(function(e){e.dwType==c.gShopHBType.GOLD&&(t.goldReward=e)}))},e.prototype.initSort=function(){this.rankInfo&&this.mSpratl&&(this.initBack(this.rankInfo.dwHope),this.mLabSort&&(1==this.rankInfo.dwRank?this.mLabSort.string="1st":2==this.rankInfo.dwRank&&(this.mLabSort.string="2nd"),3==this.rankInfo.dwRank?this.mLabSort.string="3rd":this.mLabSort.string=this.rankInfo.dwRank+"th"))},e.prototype.initUserInfo=function(){this.rankInfo&&this.dispatch(u.Notify.Head.CREATE_HEAD,{parent:this.ndHead,userId:this.rankInfo.dwUserID,save:!0}),this.mLabName&&this.rankInfo&&this.rankInfo.strName&&(this.mLabName.string=s.ComUtils.subStr(this.rankInfo.strName,16,!0),this.rankInfo.bGordenVip&&p.ComUI.LabelToGolden(this.mLabName)),this.mLabGoldReward&&(this.goldReward?this.mLabGoldReward.string="X"+s.ComUtils.formatGoldStr(this.goldReward.dwNum,1e3,0):this.mLabGoldReward.string="X0")},e.prototype.initCoins=function(){this.mLabGold&&this.rankInfo&&(-1==this.rankInfo.dwGold?this.mLabGold.string=s.ComUtils.getLang(d.LangKey.rank_new):this.mLabGold.string=s.ComUtils.formatGoldStr(this.rankInfo.dwGold,1e10))},e.prototype.initBack=function(t){1==this.rankInfo.dwRank&&(t=4),this.BgColor=h.default.rankListColor[t-1];var e=h.default.rankListStroke[t-1],n="rank_"+this.BgColor+"_heigh_bg";this.mSpratl.getSpriteFrame(n)&&(this.node.getComponent(cc.Sprite).spriteFrame=this.mSpratl.getSpriteFrame(n)),this.mLabName&&this.mLabName.node.getComponent(cc.LabelOutline)&&(this.mLabName.node.getComponent(cc.LabelOutline).color=(new cc.Color).fromHEX(e)),this.mLabGold&&this.mLabGold.node.getComponent(cc.LabelOutline)&&(this.mLabGold.node.getComponent(cc.LabelOutline).color=(new cc.Color).fromHEX(e))},e.prototype.onShowReward=function(){this.dispatch(l.GuiEvent.PopMsg.RANK_REWARD,this.rankInfo.reward)},r([_(cc.SpriteAtlas)],e.prototype,"mSpratl",void 0),r([_(cc.Label)],e.prototype,"mLabSort",void 0),r([_(cc.Node)],e.prototype,"ndHead",void 0),r([_(cc.Label)],e.prototype,"mLabName",void 0),r([_(cc.Label)],e.prototype,"mLabGold",void 0),r([_(cc.Button)],e.prototype,"mBtnShow",void 0),r([_(cc.Label)],e.prototype,"mLabGoldReward",void 0),r([g],e)}(a.CxComponent);n.default=y,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../../lib/utils/ComUtils":"ComUtils","../../const/Global":"Global","../../event/GuiEvent":"GuiEvent","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../ComUI":"ComUI","./RankInfo":"RankInfo"}],RankReward:[function(t,e,n){"use strict";cc._RF.push(e,"9e3fent8vlO45ABzlytLGhr","RankReward");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.RankReward=void 0;var a=t("../../../lib/base/ComPopup"),s=t("../../../lib/base/CxComponent"),c=t("../../../lib/utils/ComUtils"),l=t("../../const/Global"),u=cc._decorator,d=u.ccclass,p=u.property,h=u.requireComponent,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pMainLabel=null,e.pInviteLabel=null,e.pGoldLabel=null,e.pBtnClose=null,e.pOtherLabel=null,e.inviteCfg=null,e.goldCfg=null,e.otherCfg=null,e}return i(e,t),e.prototype.init=function(t){this.inviteCfg=t},e.prototype.start=function(){this.pBtnClose.node.on("click",this.onClickBtn,this),this.initData(),this.initView()},e.prototype.initData=function(){if(this.inviteCfg)for(var t=0,e=this.inviteCfg;t<e.length;t++){var n=e[t];n.dwType==l.gShopHBType.GOLD?this.goldCfg=n:this.otherCfg=n}},e.prototype.initView=function(){this.initTitle(),this.initRewardInfo()},e.prototype.initTitle=function(){},e.prototype.initRewardInfo=function(){this.goldCfg&&this.pGoldLabel&&(this.pGoldLabel.string=c.ComUtils.formatGoldStr(this.goldCfg.dwNum)),this.otherCfg&&this.pOtherLabel&&(this.pOtherLabel.string=c.ComUtils.formatGoldStr(this.otherCfg.dwNum))},e.prototype.onClickBtn=function(){this.close()},r([p(cc.Label)],e.prototype,"pMainLabel",void 0),r([p(cc.Label)],e.prototype,"pInviteLabel",void 0),r([p(cc.Label)],e.prototype,"pGoldLabel",void 0),r([p(cc.Button)],e.prototype,"pBtnClose",void 0),r([p(cc.Label)],e.prototype,"pOtherLabel",void 0),r([d,h(a.ComPopup)],e)}(s.CxComponent);n.RankReward=f,cc._RF.pop()},{"../../../lib/base/ComPopup":"ComPopup","../../../lib/base/CxComponent":"CxComponent","../../../lib/utils/ComUtils":"ComUtils","../../const/Global":"Global"}],RankUp:[function(t,e,n){"use strict";cc._RF.push(e,"24695Qo+QVJl7aM1Sh+Z6/9","RankUp");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../lib/base/CxComponent"),s=t("../../../lib/base/Language"),c=t("../../../lib/utils/ComUtils"),l=t("../../../lib/utils/Display"),u=t("../../event/Notify"),d=t("../../language/LanguageCfg"),p=t("../bonus/BonusRewardItem"),h=t("../ComFunctions"),f=t("./RankInfo"),g=cc._decorator,_=g.ccclass,y=g.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mSprTitle=null,e.mLabRankName=null,e.mLabRewardGold=null,e.mLabRewardPow=null,e.nMask=null,e.mSkelUpDan1=null,e.mSkelUpDan2=null,e.mShowBg=null,e.mShowStripBg=null,e.mSprDan=null,e.mLabLv=null,e.nRawand=null,e.mBtnClicek=null,e.mSpriteAtl=null,e.quickData=null,e}return i(e,t),e.prototype.init=function(t){this.quickData=t,this.mBtnClicek&&this.mBtnClicek.node.on("click",this.onClick,this),this.nMask&&(this.nMask.width=l.Display.width,this.nMask.height=l.Display.height),this.initView()},e.prototype.listEvent=function(){return new Map([])},e.prototype.initView=function(){if(this.mShowBg){var t=f.default.rankAnimBg[this.quickData.dwDan1-1];this.mSpriteAtl&&this.mSpriteAtl.getSpriteFrame("rank_anim_bg_"+t)&&(this.mShowBg.spriteFrame=this.mSpriteAtl.getSpriteFrame("rank_anim_bg_"+t))}if(this.mShowStripBg&&(t=f.default.rankAnimBg[this.quickData.dwDan1-1],this.mSpriteAtl&&this.mSpriteAtl.getSpriteFrame("rank_anim_strip_bg_"+t)&&(this.mShowStripBg.spriteFrame=this.mSpriteAtl.getSpriteFrame("rank_anim_strip_bg_"+t))),this.mSprDan&&(t=f.default.rankName[this.quickData.dwDan1-1],this.mSpriteAtl&&this.mSpriteAtl.getSpriteFrame("rank_lv_"+t)&&(this.mSprDan.spriteFrame=this.mSpriteAtl.getSpriteFrame("rank_lv_"+t))),this.mLabLv&&(this.mLabLv.string=f.default.rankNum[this.quickData.dwDan2-1],this.mLabLv.node.color=(new cc.Color).fromHEX(f.default.rankNumColor[this.quickData.dwDan1-1]),this.mLabLv.node.getComponent(cc.LabelOutline)&&(this.mLabLv.node.getComponent(cc.LabelOutline).color=(new cc.Color).fromHEX(f.default.rankNumStrok[this.quickData.dwDan1-1]))),this.mSprTitle&&this.mSpriteAtl&&this.mSpriteAtl.getSpriteFrame("rank_anim_title_"+s.Language.getInstance().getLanguage())&&(this.mSprTitle.spriteFrame=this.mSpriteAtl.getSpriteFrame("rank_anim_title_"+s.Language.getInstance().getLanguage())),this.mLabRankName){var e=d.LangKey.rank_lv+"_"+f.default.rankTranslateName[this.quickData.dwNextDan1-1],n=c.ComUtils.getLang(e)+" "+f.default.rankNum[this.quickData.dwNextDan2-1];this.mLabRankName.string=n}this.mLabRewardGold&&this.quickData&&this.quickData.reward[0]?this.mLabRewardGold.init({num:this.quickData.reward[0].dwNum,type:this.quickData.reward[0].dwType}):this.mLabRewardGold.node.active=!1,this.mLabRewardPow&&this.quickData&&this.quickData.reward[1]?this.mLabRewardPow.init({num:this.quickData.reward[1].dwNum,type:this.quickData.reward[1].dwType}):this.mLabRewardPow.node.active=!1},e.prototype.start=function(){this.quickData.dwDan1==this.quickData.dwNextDan1?this.UpDan1():this.UpDan2()},e.prototype.UpDan1=function(){var t=this;if(this.mShowStripBg&&(this.mShowStripBg.node.opacity=0,cc.tween(this.mShowStripBg.node).parallel(cc.tween(this.mShowStripBg.node).repeatForever(cc.tween(this.mShowStripBg.node).by(8,{angle:-360})),cc.tween(this.mShowStripBg.node).to(.2,{opacity:0}).to(.2,{opacity:150})).start()),this.mShowBg&&(this.mShowBg.node.opacity=0,cc.tween(this.mShowBg.node).to(.1,{opacity:0}).to(.3,{opacity:126}).start()),this.mSprDan&&cc.tween(this.mSprDan.node).to(0,{opacity:0,scale:1.2}).to(.1,{opacity:109,scale:.9}).to(.13,{opacity:255,scale:1}).start(),this.mLabLv&&cc.tween(this.mLabLv.node).delay(.7).call(function(){t.mLabLv.string=f.default.rankNum[t.quickData.dwNextDan2-1]}).start(),this.mBtnClicek&&(this.mBtnClicek.node.opacity=0,cc.tween(this.mBtnClicek.node).delay(1.4).call(function(){cc.log("\u9886\u53d6\u6309\u94ae",Date.now())}).to(.2,{opacity:255}).start()),this.nRawand&&(this.nRawand.opacity=0,cc.tween(this.nRawand).delay(1.3).call(function(){cc.log("\u5956\u52b1",Date.now())}).to(.2,{opacity:255}).start()),this.mSprTitle&&(this.mSprTitle.node.opacity=0,cc.tween(this.mSprTitle.node).delay(1).call(function(){t.mSprTitle.node.opacity=255,t.mSprTitle.node.scale=2.5}).to(.12,{scale:.8}).to(.17,{scale:1}).start()),this.mLabRankName){var e=this.mLabRankName.node.parent;e.opacity=0,cc.tween(e).delay(1.1).call(function(){e.opacity=255,e.scale=.8}).to(.13,{scale:1.1}).to(.17,{scale:1}).start()}h.ComFunctions.performWithDelay(this.node,function(){t.isUpDan(!1)},.5)},e.prototype.UpDan2=function(){var t=this;if(this.mSprDan&&cc.tween(this.mSprDan.node).to(0,{opacity:0,scale:1.2}).to(.1,{opacity:109,scale:.9}).to(.13,{opacity:255,scale:1}).delay(.27).to(.1,{scale:1.2}).to(.1,{scale:.9}).to(.2,{opacity:255,scale:1.1}).call(function(){t.mSprDan.node.opacity=0}).delay(.1).call(function(){t.mSprDan.node.scale=1.2;var e=f.default.rankName[t.quickData.dwNextDan1-1];t.mSpriteAtl&&t.mSpriteAtl.getSpriteFrame("rank_lv_"+e)&&(t.mSprDan.spriteFrame=t.mSpriteAtl.getSpriteFrame("rank_lv_"+e)),t.mLabLv&&(t.mLabLv.string=f.default.rankNum[t.quickData.dwNextDan2-1],t.mLabLv.node.color=(new cc.Color).fromHEX(f.default.rankNumColor[t.quickData.dwNextDan1-1]),t.mLabLv.node.getComponent(cc.LabelOutline)&&(t.mLabLv.node.getComponent(cc.LabelOutline).color=(new cc.Color).fromHEX(f.default.rankNumStrok[t.quickData.dwNextDan1-1])))}).to(.1,{opacity:109,scale:.9}).to(.13,{opacity:255,scale:1}).start(),this.mShowStripBg&&(this.mShowStripBg.node.opacity=0,cc.tween(this.mShowStripBg.node).parallel(cc.tween(this.mShowStripBg.node).repeatForever(cc.tween(this.mShowStripBg.node).by(8,{angle:-360})),cc.tween(this.mShowStripBg.node).to(.2,{opacity:0}).to(.2,{opacity:150}).delay(.5).call(function(){t.mShowStripBg.node.opacity=0}).delay(.3).call(function(){var e=f.default.rankAnimBg[t.quickData.dwNextDan1-1];t.mSpriteAtl&&t.mSpriteAtl.getSpriteFrame("rank_anim_strip_bg_"+e)&&(t.mShowStripBg.spriteFrame=t.mSpriteAtl.getSpriteFrame("rank_anim_strip_bg_"+e))}).to(.2,{opacity:150})).start()),this.mShowBg&&(this.mShowBg.node.opacity=0,cc.tween(this.mShowBg.node).to(.1,{opacity:0}).to(.3,{opacity:126}).delay(.5).call(function(){t.mShowBg.node.opacity=0}).delay(.3).call(function(){var e=f.default.rankAnimBg[t.quickData.dwNextDan1-1];t.mSpriteAtl&&t.mSpriteAtl.getSpriteFrame("rank_anim_bg_"+e)&&(t.mShowBg.spriteFrame=t.mSpriteAtl.getSpriteFrame("rank_anim_bg_"+e))}).to(.2,{opacity:126}).start()),this.mBtnClicek&&(this.mBtnClicek.node.opacity=0,cc.tween(this.mBtnClicek.node).delay(1.6).call(function(){t.mBtnClicek.node.opacity=255,t.mBtnClicek.node.opacity=0}).to(.2,{opacity:255}).start()),this.nRawand&&(this.nRawand.opacity=0,cc.tween(this.nRawand).delay(1.5).call(function(){t.nRawand.opacity=255,t.nRawand.opacity=0}).to(.2,{opacity:255}).start()),this.mSprTitle&&(this.mSprTitle.node.opacity=0,cc.tween(this.mSprTitle.node).delay(1.2).call(function(){t.mSprTitle.node.opacity=255,t.mSprTitle.node.scale=2.5}).to(.13,{scale:.8}).to(.12,{scale:1}).start()),this.mLabRankName){var e=this.mLabRankName.node.parent;e.opacity=0,cc.tween(e).delay(1.3).call(function(){e.opacity=255,e.scale=.8}).to(.13,{scale:1.1}).to(.17,{scale:1}).start()}h.ComFunctions.performWithDelay(this.node,function(){t.isUpDan(!0)},.9)},e.prototype.isUpDan=function(t,e){this.mSkelUpDan1&&(this.mSkelUpDan1.active=t),this.mSkelUpDan2&&(this.mSkelUpDan2.active=e||!t)},e.prototype.onClick=function(){this.dispatch(u.Notify.Ranking.REQ_RANK_REWARD),this.close()},r([y(cc.Sprite)],e.prototype,"mSprTitle",void 0),r([y(cc.Label)],e.prototype,"mLabRankName",void 0),r([y(p.BonusRewardItem)],e.prototype,"mLabRewardGold",void 0),r([y(p.BonusRewardItem)],e.prototype,"mLabRewardPow",void 0),r([y(cc.Node)],e.prototype,"nMask",void 0),r([y(cc.Node)],e.prototype,"mSkelUpDan1",void 0),r([y(cc.Node)],e.prototype,"mSkelUpDan2",void 0),r([y(cc.Sprite)],e.prototype,"mShowBg",void 0),r([y(cc.Sprite)],e.prototype,"mShowStripBg",void 0),r([y(cc.Sprite)],e.prototype,"mSprDan",void 0),r([y(cc.Label)],e.prototype,"mLabLv",void 0),r([y(cc.Node)],e.prototype,"nRawand",void 0),r([y(cc.Button)],e.prototype,"mBtnClicek",void 0),r([y(cc.SpriteAtlas)],e.prototype,"mSpriteAtl",void 0),r([_],e)}(a.CxComponent);n.default=m,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../../lib/base/Language":"Language","../../../lib/utils/ComUtils":"ComUtils","../../../lib/utils/Display":"Display","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../ComFunctions":"ComFunctions","../bonus/BonusRewardItem":"BonusRewardItem","./RankInfo":"RankInfo"}],RemoteCache:[function(t,e,n){"use strict";cc._RF.push(e,"17ed6xEBqpEY5n9wOz7iT+T","RemoteCache"),Object.defineProperty(n,"__esModule",{value:!0}),n.RemoteCache=void 0;n.RemoteCache=function(){},cc._RF.pop()},{}],ResConfigHandler:[function(t,e,n){"use strict";cc._RF.push(e,"74132uNO9pBj5Dzr7Nod3Nu","ResConfigHandler"),Object.defineProperty(n,"__esModule",{value:!0}),n.ResConfigHandler=void 0;var o=t("./../utils/ComUtils"),i=t("./ResManager"),r=t("../../app/const/Global"),a=function(){function t(){}return t.printConfig=function(t){console.log("[ResConfigHandler printConfig] start"),t.forEach(function(t,e){var n=t.prefab;for(var o in n)console.log("[ResConfigHandler prefab "+e+"] key="+o);for(var i=0,r=t.altas;i<r.length;i++)o=r[i],console.log("[ResConfigHandler altas  "+e+" key="+o)}),console.log("[ResConfigHandler printConfig] end")},t.compareTwoCfg=function(t,e){var n=new Map;return t.forEach(function(t,o){var i=e.get(o),r={prefab:{},popup:{},altas:[]};if(n.set(o,r),t.prefab)if(i&&i.prefab)for(var a=0,s=Object.keys(t.prefab);a<s.length;a++){var c=s[a];i.prefab[c]||(r.prefab[c]=t.prefab[c])}else r.prefab=t.prefab;if(t.popup)if(i&&i.popup)for(var l=0,u=Object.keys(t.popup);l<u.length;l++)c=u[l],i.popup[c]||(r.popup[c]=t.popup[c]);else r.popup=t.popup;if(t.altas)if(i&&i.altas)for(var d=0,p=t.altas;d<p.length;d++)c=p[d],i.altas.indexOf(c)<0&&r.altas.push(c);else r.altas=t.altas}),n},t.releseOldDiffRes=function(){t.diffConfig&&t.diffConfig.forEach(function(t,e){if(t&&0!=Object.keys(t).length){for(var n=[],o=Object.keys(t.prefab),r=0,a=o;r<a.length;r++){var s=a[r];n.push(t.prefab[s].path)}for(var c=0,l=o=Object.keys(t.popup);c<l.length;c++)s=l[c],n.push(t.popup[s].path);i.default.getInstance().relaseRes(n,cc.Prefab,e),i.default.getInstance().relaseRes(t.altas,cc.SpriteAtlas,e)}})},t.releseGameRes=function(){t.curConfig&&t.curConfig.forEach(function(t,e){if(t&&0!=Object.keys(t).length){for(var n=[],o=Object.keys(t.prefab),r=0,a=o;r<a.length;r++){var s=a[r];n.push(t.prefab[s].path)}for(var c=0,l=o=Object.keys(t.popup);c<l.length;c++)s=l[c],n.push(t.popup[s].path);i.default.getInstance().relaseRes(n,cc.Prefab,e),i.default.getInstance().relaseRes(t.altas,cc.SpriteAtlas,e)}})},t.getGoldGameResConfig=function(e,n,o){void 0===o&&(o=!1),this.lastGameType=e;var i=r.Global.getGameBundleName(e),a=this.getBundleConfig(i,n);return t.diffConfig=t.compareTwoCfg(t.curConfig,a),t.curConfig=a,a},t.getBundleConfig=function(t,e){var n=new Map,a=null,s=r.Global.getBundleDep(t);do{if(t=s.shift(),!n.has(t)&&(a=i.default.getInstance().getBundleCfg(t))){var c=o.ComUtils.clone(a.getRes(e));n.set(t,c)}}while(s.length);return n},t.isResPreLoaded=function(t){return this.lastGameType===t},t.curConfig=new Map,t.diffConfig=new Map,t}();n.ResConfigHandler=a,cc._RF.pop()},{"../../app/const/Global":"Global","./../utils/ComUtils":"ComUtils","./ResManager":"ResManager"}],ResConfig:[function(t,e,n){"use strict";cc._RF.push(e,"16d68jD1xFIqKgaf4IvB8R8","ResConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.PokerResMgr=n.BundleDependConfig=n.PrefabItem=n.PopupZIndex=void 0;var o=t("./../const/Global");(function(t){t[t.chatLayer=1]="chatLayer",t[t.voiceRecord=2]="voiceRecord",t[t.authorizeTips=3]="authorizeTips",t[t.effect=4]="effect",t[t.userInfo=5]="userInfo",t[t.onceResult=10]="onceResult",t[t.totalResult=11]="totalResult",t[t.dialog=20]="dialog",t[t.awardAnim=21]="awardAnim",t[t.settings=100]="settings",t[t.RobotDlg=100]="RobotDlg",t[t.exitDlg=100]="exitDlg",t[t.loading=1e3]="loading",t[t.QSdlg=999]="QSdlg",t[t.JSdlg=1e3]="JSdlg",t[t.Max=1e4]="Max"})(n.PopupZIndex||(n.PopupZIndex={}));var i=function(){function t(t,e,n,o){this.script=t,this.path=e,this.level=n,this.zIndex=o}return t.prototype.getName=function(){return null==this.name&&(this.name=cc.path.basename(this.path)),this.name},t}();n.PrefabItem=i;var r=function(){function t(){}return t.DependList=[{id:o.gAssetBundleName.LOBBY_RES,depend:[o.gAssetBundleName.LOBBY_RES,o.gAssetBundleName.LOBBY_SRC]},{id:o.gAssetBundleName.GAME_BASE_RES,depend:[o.gAssetBundleName.GAME_BASE_RES,o.gAssetBundleName.GAME_BASE_SRC]},{id:o.gAssetBundleName.TABLES_RES,depend:[o.gAssetBundleName.TABLES_RES,o.gAssetBundleName.TABLES_SRC]}],t}();n.BundleDependConfig=r,function(t){t.CARD_SKIN_LIST=[0,0,3,4,1,6],t.CARD_SKIN_PREVIEW_LIST=[1,1,2,3,4,5,6],t.isHasNumber=function(t){return 2===t||6===t},t.isHasColor=function(t){return 6===t},t.trans2LocalResId=function(e){var n=e-1;return t.CARD_SKIN_LIST[n]?t.CARD_SKIN_LIST[n]:0},t.getColorNum=function(t){var e=0;return 0==t||1==t?e=4:6==t&&(e=2),e}}(n.PokerResMgr||(n.PokerResMgr={})),cc._RF.pop()},{"./../const/Global":"Global"}],ResManager:[function(t,e,n){"use strict";cc._RF.push(e,"9cbdaGmU5VIq6pzwHyQIB8Q","ResManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.BundleConfig=void 0;var o=t("../utils/Logger"),i=t("./../../app/const/Global"),r=t("./BundleAssetCache"),a=t("./BundleManager"),s=t("./PrefabItemMgr");n.BundleConfig=function(){this.event="bundle_load_finish"};var c=function(){function t(){this.mapBundleCache=new Map,this.mapBundleCfg=new Map,this.init()}return t.getInstance=function(){return null==t.$instanece&&(t.$instanece=new t),t.$instanece},t.desInstance=function(){if(t.$instanece){var e=t.$instanece.mapBundleCache;for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];o.decRef(),cc.assetManager.releaseAsset(o),o=null}e.clear();var i=t.$instanece.mapBundleCfg;i.forEach(function(){}),i.clear(),t.$instanece.mapBundleCache=null,t.$instanece.mapBundleCfg=null,t.$instanece=null}},t.prototype.init=function(){this.initBundleCache(i.gAssetBundleName.MAIN),this.initBundleCache(i.gAssetBundleName.RESOURCES)},t.prototype.getBundle=function(t){return cc.assetManager.getBundle(t)},t.prototype.loadBundle=function(t,e){t&&a.BundleMgr.getInstance().loadBundles(t,function(t){t.completed&&(e&&e(!0),e=null)})},t.prototype.initBundleCache=function(t){this.mapBundleCache.has(t)||(console.log("initBundleCache",t),this.mapBundleCache.set(t,new r.BundleAssetCache(t)))},t.prototype.removeBundle=function(t){a.BundleMgr.getInstance().removeBundle(t),this.mapBundleCfg.delete(t),this.mapBundleCache.get(t).destory()},t.prototype.addBundleCfg=function(t){t&&this.mapBundleCfg.set(t.name,t),s.PrefabItemMgr.getInstance().add(t.getRes(),t.name)},t.prototype.getBundleCfg=function(t){return this.mapBundleCfg.get(t)},t.prototype.relaseRes=function(t,e,n){var o=this.mapBundleCache.get(n);o&&o.relaseRes(t,e)},t.prototype.getAltas=function(t,e){var n=this.mapBundleCache.get(e);return n?n.getAtlas(t):null},t.prototype.getSpriteFrame=function(t,e){var n=this.mapBundleCache.get(e);return n?n.getSpriteFrame(t):null},t.prototype.loadPrefab=function(t,e,n){void 0===e&&(e=i.gAssetBundleName.RESOURCES);var o=this.mapBundleCache.get(e);o?o.loadPrefab(t,n):(n&&n(!0,null),n=null)},t.prototype.loadAtlasArray=function(t,e,n){void 0===e&&(e=i.gAssetBundleName.RESOURCES);var o=this.mapBundleCache.get(e);o?o.loadAtlasArray(t,n):n&&n(!0,null)},t.prototype.loadAtlas=function(t,e,n){void 0===e&&(e=i.gAssetBundleName.RESOURCES);var o=this.mapBundleCache.get(e);o?o.loadAtlas(t,n):(n&&n(!0,null),n=null)},t.prototype.loadImg=function(t,e,n){void 0===e&&(e=i.gAssetBundleName.RESOURCES);var o=this.mapBundleCache.get(e);o?o.loadImg(t,n):(n&&n(!0,null),n=null)},t.prototype.loadSpriteAsync=function(t,e){var n=this;return void 0===e&&(e=i.gAssetBundleName.RESOURCES),new Promise(function(o){var i=n.getBundle(e);i?i.load(t,cc.Texture2D,function(t,e){o(e||null)}):o(null)})},t.prototype.loadSprite=function(t,e,n,o){var r=this;return void 0===o&&(o=i.gAssetBundleName.RESOURCES),new Promise(function(i){var a=r.getBundle(o);a?1===n?a.load(t,cc.Texture2D,function(e,n){if(n){var o=new cc.SpriteFrame;o.setTexture(n),i(o)}else cc.error("ResManager loadSprite not found "+t,e),i(null)}):a.load(t,cc.SpriteAtlas,function(n,o){if(n)return cc.error("ResManager loadSprite not found "+t,n),void i(null);i(o.getSpriteFrame(e))}):(cc.error("ResManager loadSprite not found bundle name is "+o),i(null))})},t.prototype.getPrefab=function(t,e){void 0===e&&(e=i.gAssetBundleName.RESOURCES);var n=this.mapBundleCache.get(e);return n?n.getPrafab(t):(cc.warn("ResManager getPrefab not found bundle name is "+e),null)},t.prototype.loadScene=function(t,e){var n=this;return void 0===e&&(e=i.gAssetBundleName.RESOURCES),new Promise(function(o,i){var r=n.getBundle(e);r?r.loadScene(t,function(e,n){n?o(n):(cc.error("loadScene "+t+" error",e),i(e))}):(cc.error("loadScene not found bundle "+e),i({message:"loadScene not found bundle "+e}))})},t.prototype.loadSkeleton=function(t,e,n){void 0===e&&(e=i.gAssetBundleName.RESOURCES);var o=this.mapBundleCache.get(e);o?o.loadSkeleton(t,n):n&&n(!0,null)},t.prototype.loadParticle=function(t,e,n){void 0===e&&(e=i.gAssetBundleName.RESOURCES);var o=this.getBundle(e);o?o.load(t,cc.ParticleAsset,function(t,e){t?cc.error(t):n&&n(!1,e)}):n&&n(!0,null)},t.prototype.loadRemoteImg=function(t,e){return new Promise(function(n,o){var i=cc.path.extname(t),r=cc.path.basename(t,i),a="";if(platform.getLocalImgPath(e,r).then(function(t){a=t}),cc.sys.isNative)if(jsb.fileUtils.isFileExist(a))t=jsb.fileUtils.fullPathForFilename(a);else{var s=cc.path.dirname(a);jsb.fileUtils.createDirectory(s)}cc.assetManager.loadRemote(t,{ext:i||".jpg"},function(e,i){e?o("[loadRemoteImg] fail url="+t):n(i)})})},t.prototype.loadRemoteSpriteAltas=function(t,e,n){return new Promise(function(){cc.assetManager.loadRemote("http://192.168.3.121/v1.1.4.0/tables/Table_yly",{ext:".png"},function(t,e){if(t)return n&&n(!0),void(n=null);o.Logger.info("[loadRemoteSpriteAltas] \u4e0b\u8f7d\u6210\u529f",e),n&&n(!1,e),n=null})})},t.$instanece=null,t}();n.default=c,cc._RF.pop()},{"../utils/Logger":"Logger","./../../app/const/Global":"Global","./BundleAssetCache":"BundleAssetCache","./BundleManager":"BundleManager","./PrefabItemMgr":"PrefabItemMgr"}],ResourceUIConfig:[function(t,e,n){"use strict";cc._RF.push(e,"d90c7MnhDBD/bPGrAw8lzXT","ResourceUIConfig");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.ResourceBundleConfig=n.ResourceUIConfig=void 0;var r=t("../const/Global"),a=t("../../lib/manager/ResManager"),s=t("./ResConfig");n.ResourceUIConfig={bunldleName:r.gAssetBundleName.RESOURCES,prefab:{ComHead:new s.PrefabItem("ComHead","prefabs/com/ComHead",0,0),ComSubView:new s.PrefabItem("ComSubView","prefabs/com/ComSubView",0,0),ComBottomBar:new s.PrefabItem("ComBottomBar","prefabs/com/ComBottomBar",0,0),Mask:new s.PrefabItem("Mask","prefabs/com/Mask",0,0),Toast:new s.PrefabItem("Toast","prefabs/com/Toast",0,0),ComDialog:new s.PrefabItem("ComDialog","prefabs/com/ComDialog",0,0),Loading:new s.PrefabItem("Loading","prefabs/com/Loading",0,0),ComSpeaker:new s.PrefabItem("ComSpeaker","prefabs/com/ComSpeaker",0,0)},altas:["altas/ComRes","altas/PowerRes","altas/ShopRes"],cacheNode:{ComLoadingRes:new s.PrefabItem("ComLoadingRes","prefabs/com/ComLoadingRes",r.gLayerLevel.Popup,s.PopupZIndex.loading)},popup:{MatchView:new s.PrefabItem("UIMatchView","prefabs/match/MatchView",r.gLayerLevel.System,s.PopupZIndex.Max),SettingLayer:new s.PrefabItem("SettingLayer","prefabs/setting/SettingLayer",r.gLayerLevel.Popup,s.PopupZIndex.dialog),ComDrawList:new s.PrefabItem("ComDrawList","prefabs/setting/ComDrawList",r.gLayerLevel.Popup,s.PopupZIndex.dialog),PolicyLayer:new s.PrefabItem("PolicyLayer","prefabs/setting/PolicyLayer",r.gLayerLevel.Popup,s.PopupZIndex.settings),GoldHelpLayer:new s.PrefabItem("GoldHelpLayer","prefabs/goldhelp/GoldHelpLayer",r.gLayerLevel.Popup,s.PopupZIndex.dialog),GoldRichLayer:new s.PrefabItem("GoldRichLayer","prefabs/goldhelp/GoldRichLayer",r.gLayerLevel.Popup,s.PopupZIndex.dialog),GoldNotEnoughLayer:new s.PrefabItem("GoldNotEnoughLayer","prefabs/goldhelp/GoldNotEnoughLayer",r.gLayerLevel.Popup,s.PopupZIndex.dialog),GoldRevengeLayer:new s.PrefabItem("GoldRevengeLayer","prefabs/goldhelp/GoldRevengeLayer",r.gLayerLevel.Popup,s.PopupZIndex.dialog),PowerNotEnough:new s.PrefabItem("PowerNotEnough","prefabs/goldhelp/PowerNotEnough",r.gLayerLevel.Popup,s.PopupZIndex.dialog),ShopLayer:new s.PrefabItem("ShopLayer","prefabs/shop/ShopLayer",r.gLayerLevel.Popup,s.PopupZIndex.dialog),ShopSpecialSale:new s.PrefabItem("ShopSpecialSale","prefabs/shop/ShopSpecialSale",r.gLayerLevel.Popup,s.PopupZIndex.dialog),GoldBankRuptLayer:new s.PrefabItem("GoldBankRuptLayer","prefabs/goldhelp/GoldBankRuptLayer",r.gLayerLevel.Popup,s.PopupZIndex.dialog),ShopBoxLayer:new s.PrefabItem("ShopBoxLayer","prefabs/shop/ShopBoxLayer",r.gLayerLevel.Popup,s.PopupZIndex.dialog),ShopBoxDetail:new s.PrefabItem("ShopBoxDetail","prefabs/shop/ShopBoxDetail",r.gLayerLevel.Popup,s.PopupZIndex.dialog),TaskListLayer:new s.PrefabItem("TaskListLayer","prefabs/task/TaskListLayer",r.gLayerLevel.Popup,s.PopupZIndex.dialog),ComUserProfile:new s.PrefabItem("ComUserProfile","prefabs/com/ComUserProfile",r.gLayerLevel.Popup,s.PopupZIndex.userInfo),FiveStarLayer:new s.PrefabItem("FiveStarLayer","prefabs/fivestar/FiveStarLayer",r.gLayerLevel.Popup,s.PopupZIndex.settings),FiveStarEditor:new s.PrefabItem("FiveStarEditor","prefabs/fivestar/FiveStarEditor",r.gLayerLevel.Popup,s.PopupZIndex.settings),DeskBuildLayer:new s.PrefabItem("DeskBuildLayer","prefabs/deskbuild/DeskBuildLayer",r.gLayerLevel.Popup,s.PopupZIndex.settings),AwardAnim:new s.PrefabItem("AwardAnim","prefabs/goldAnim/AwardAnim",r.gLayerLevel.Popup,s.PopupZIndex.awardAnim),PowerAnim:new s.PrefabItem("PowerAnim","prefabs/goldAnim/PowerAnim",r.gLayerLevel.Popup,s.PopupZIndex.awardAnim),MysteryGiftDlg:new s.PrefabItem("MysteryGiftDlg","prefabs/activity/MysteryGiftDlg",r.gLayerLevel.Popup,s.PopupZIndex.dialog),VideoLottery:new s.PrefabItem("VideoLottery","prefabs/activity/VideoLottery",r.gLayerLevel.Popup,s.PopupZIndex.dialog),LotteryOddLayer:new s.PrefabItem("LotteryOddLayer","prefabs/activity/LotteryOddLayer",r.gLayerLevel.Popup,s.PopupZIndex.dialog),BonusDlg:new s.PrefabItem("BonusDlg","prefabs/bonus/BonusDlg",r.gLayerLevel.Popup,s.PopupZIndex.dialog),MissionBonusDlg:new s.PrefabItem("MissionBonusDlg","prefabs/bonus/MissionBonusDlg",r.gLayerLevel.Popup,s.PopupZIndex.dialog),InviteUser:new s.PrefabItem("InviteUser","prefabs/invite/InviteUser",r.gLayerLevel.Popup,s.PopupZIndex.dialog),InviteSuccess:new s.PrefabItem("InviteSuccess","prefabs/invite/InviteSuccess",r.gLayerLevel.Popup,s.PopupZIndex.dialog),BankruptBonusTwoDlg:new s.PrefabItem("BankruptBonusDlg","prefabs/bonus/BankruptBonusTwoDlg",r.gLayerLevel.Popup,s.PopupZIndex.dialog),BankruptBonusOneDlg:new s.PrefabItem("BankruptBonusDlg","prefabs/bonus/BankruptBonusOneDlg",r.gLayerLevel.Popup,s.PopupZIndex.dialog),GoldenPassShop:new s.PrefabItem("GoldenPassShop","prefabs/goldenPass/GoldenPassShop",r.gLayerLevel.Popup,s.PopupZIndex.dialog),PowerNotEnoughBonusDlg:new s.PrefabItem("PowerNotEnoughBonusDlg","prefabs/bonus/PowerNotEnoughBonusDlg",r.gLayerLevel.Popup,s.PopupZIndex.dialog),HitBonusDlg:new s.PrefabItem("HitBonusDlg","prefabs/bonus/HitBonusDlg",r.gLayerLevel.Popup,s.PopupZIndex.dialog),ScopaRuleTips:new s.PrefabItem("UIScopaRuleTips","prefabs/com/ScopaRuleTips",r.gLayerLevel.Popup,s.PopupZIndex.dialog),LevelUpLayer:new s.PrefabItem("LevelUpLayer","prefabs/levelUp/LevelUpLayer",r.gLayerLevel.Popup,s.PopupZIndex.dialog),LevelUnlockLayer:new s.PrefabItem("LevelUnlockLayer","prefabs/levelUp/LevelUnlockLayer",r.gLayerLevel.Popup,s.PopupZIndex.dialog),CardSkinGuideLayer:new s.PrefabItem("CardSkinSelectLayer","prefabs/cardSkin/CardSkinGuideLayer",r.gLayerLevel.Popup,s.PopupZIndex.dialog),CardSkinChangeLayer:new s.PrefabItem("CardSkinSelectLayer","prefabs/cardSkin/CardSkinChangeLayer",r.gLayerLevel.Popup,s.PopupZIndex.dialog),GameRankList:new s.PrefabItem("GameRankList","prefabs/rank/GameRankList",r.gLayerLevel.Popup,s.PopupZIndex.chatLayer),RankUp:new s.PrefabItem("RankUp","prefabs/rank/RankUp",r.gLayerLevel.Popup,s.PopupZIndex.dialog),RankReward:new s.PrefabItem("RankReward","prefabs/rank/RankReward",r.gLayerLevel.Popup,s.PopupZIndex.dialog),ComMoreList:new s.PrefabItem("ComMoreListTest","prefabs/test/ComMoreList",r.gLayerLevel.Popup,s.PopupZIndex.dialog),RankCfg:new s.PrefabItem("RankCfg","prefabs/rank/RankCfg",r.gLayerLevel.Popup,s.PopupZIndex.dialog),GameShopLayer:new s.PrefabItem("ShopLayer","prefabs/shop/GameShopLayer",r.gLayerLevel.Popup,s.PopupZIndex.dialog),BoostGiftLayer:new s.PrefabItem("BoostGiftLayer","prefabs/boostGift/BoostGiftLayer",r.gLayerLevel.Popup,s.PopupZIndex.dialog)}};var c=function(t){function e(){var e=t.call(this)||this;return e.name=r.gAssetBundleName.RESOURCES,e.tips="\u4e3b\u5305",e.dependency=[r.gAssetBundleName.COMMON_RES,r.gAssetBundleName.GAME_BASE_SRC],e}return i(e,t),e.prototype.getRes=function(){return n.ResourceUIConfig},e}(a.BundleConfig);n.ResourceBundleConfig=c,a.default.getInstance().addBundleCfg(new c),cc._RF.pop()},{"../../lib/manager/ResManager":"ResManager","../const/Global":"Global","./ResConfig":"ResConfig"}],RouteHandler:[function(t,e,n){"use strict";cc._RF.push(e,"ccfab1nI7VLkJ1E6U2zKTul","RouteHandler"),Object.defineProperty(n,"__esModule",{value:!0}),n.ReplayVideo=n.OpenHistory=n.JoinRoom=void 0;var o=t("../../lib/event/EventDispatcher"),i=t("../../lib/utils/StringBuffer"),r=t("../event/Notify"),a=t("./Router"),s=t("../const/Global"),c=t("../../lib/manager/SceneManager"),l=t("../../lib/base/Callback"),u=t("../model/DataProxy");function d(t){var e=new i.StringBuffer;for(var n in t)if(t.hasOwnProperty(n)){var o=t[n];e.append(encodeURIComponent(n)+"="+encodeURIComponent(o)+"&")}var r=e.toString().trim();return r.length>0&&(r=r.substring(0,r.length-1)),r}var p=function(){function t(){}return t.prototype.handle=function(t){t.gameID;var e=t.roomID,n=cc.director.getScene().name;return"Lobby"===n?o.EventDispatcher.getInstance().delayDispatch(1e3,r.Notify.Query.FIND_ROOMINFO_GET,Number(e)):"Login"===n?o.EventDispatcher.getInstance().dispatch(r.Notify.Query.FIND_ROOMINFO_GET,Number(e)):u.DataProxy.getInstance().gameData.isGameReplay&&(o.EventDispatcher.getInstance().dispatch(r.Notify.Game.EXIT_SCENE,0),c.default.getInstance().gotoLobby(new l.Callback(this,function(){o.EventDispatcher.getInstance().delayDispatch(1e3,r.Notify.Query.FIND_ROOMINFO_GET,Number(e))}))),!0},t.prototype.makeParams=function(t){return t.routeName=a.RouteName.JoinRoom,t.wwShareScene=s.gShareScene.RoomInvite,d(t)},t}();n.JoinRoom=p;var h=function(){function t(){}return t.prototype.handle=function(t){return t.userID,t.roomID,!0},t.prototype.makeParams=function(t){return t.routeName=a.RouteName.OpenHistory,d(t)},t}();n.OpenHistory=h;var f=function(){function t(){}return t.prototype.handle=function(t){var e=t.roomdate,n=t.deskuuid,i=t.userid;return"Lobby"===cc.director.getScene().name&&o.EventDispatcher.getInstance().dispatch(r.Notify.Http.HTTP_REQ_HISTORY_VIDEO,{roomdate:e,deskuuid:n,userid:i}),!0},t.prototype.makeParams=function(t){return t.routeName=a.RouteName.ReplayVideo,t.wwShareScene=s.gShareScene.Replay,d(t)},t}();n.ReplayVideo=f,cc._RF.pop()},{"../../lib/base/Callback":"Callback","../../lib/event/EventDispatcher":"EventDispatcher","../../lib/manager/SceneManager":"SceneManager","../../lib/utils/StringBuffer":"StringBuffer","../const/Global":"Global","../event/Notify":"Notify","../model/DataProxy":"DataProxy","./Router":"Router"}],Router:[function(t,e,n){"use strict";cc._RF.push(e,"db15elyVWdL6q4YOdBvb4ZG","Router"),Object.defineProperty(n,"__esModule",{value:!0}),n.Router=n.RouteName=void 0;var o,i=t("../../lib/utils/Logger"),r=t("./RouteHandler");(function(t){t.JoinRoom="joinRoom",t.OpenHistory="openHistory",t.ReplayVideo="replayVideo"})(o=n.RouteName||(n.RouteName={}));var a=function(){function t(){this.delayData=null,this.route=new Map}return t.init=function(){t.bind(o.JoinRoom,new r.JoinRoom),t.bind(o.OpenHistory,new r.OpenHistory),t.bind(o.ReplayVideo,new r.ReplayVideo)},t.clear=function(){t.$ins.route.forEach(function(){}),t.$ins.route.clear(),t.$ins.delayData=null},t.bind=function(e,n){t.$ins._bind(e,n)},t.prototype._bind=function(t,e){this.route.has(t)?i.Logger.info("\u8def\u7531"+t+"\u5df2\u7ecf\u6ce8\u518c\u8fc7"):this.route.set(t,e)},t.handle=function(e){var n=e.scene,o=e.query,i=e.referrer;if(o&&o.routeName){var r=o.routeName,a=t.$ins.route.get(r);if(a)return o.scene=n,o.referrer=i,a.handle(o)}return!1},t.has=function(t,e){var n=t.query;return!(!n||!n.routeName)&&n.routeName===e},t.delayHandle=function(e){i.Logger.info("delayHandle:",JSON.stringify(e)),t.$ins.delayData=e},t.checkRoute=function(){if(t.$ins.delayData){var e=t.handle(t.$ins.delayData);return e&&(t.$ins.delayData=null),e}return!1},t.hasRoute=function(e){return!!t.$ins.delayData&&t.has(t.$ins.delayData,e)},t.makeRoute=function(e,n){var o=t.$ins.route.get(e);return o?o.makeParams(n):(i.Logger.warn("\u672a\u6ce8\u518c\u8def\u7531"+e),null)},t.$ins=new t,t}();n.Router=a,cc._RF.pop()},{"../../lib/utils/Logger":"Logger","./RouteHandler":"RouteHandler"}],SceneManager:[function(t,e,n){"use strict";cc._RF.push(e,"a49e1ZnYFVJbqPn0L0+9y8K","SceneManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../app/view/ComUI"),i=t("../../app/event/Notify"),r=t("../event/EventDispatcher"),a=t("../utils/Logger"),s=t("./ResConfigHandler"),c=t("../../app/const/Global"),l=t("../utils/ComUtils"),u=t("../../app/language/LanguageCfg"),d=t("../../app/model/DataProxy"),p=t("./ResManager"),h=t("../../app/module/tables/TableSkinMgr"),f=function(){function t(){this.init()}return t.getInstance=function(){return null==t.$instance&&(t.$instance=new t),t.$instance},t.desInstance=function(){if(t.$instance){var e=t.$instance;r.EventDispatcher.getInstance().remove(e,i.Notify.Base.LOAD_RES_FAILUE),r.EventDispatcher.getInstance().remove(e,i.Notify.Base.LOAD_RES_FINISH),t.$instance=null}},t.prototype.init=function(){r.EventDispatcher.getInstance().add(i.Notify.Base.LOAD_RES_FAILUE,this.onLoadResFailue,this),r.EventDispatcher.getInstance().add(i.Notify.Base.LOAD_RES_FINISH,this.onLoadResFinish,this)},t.prototype.gotoLogin=function(t){r.EventDispatcher.getInstance().dispatch(i.Notify.Base.STOP_MUSIC),cc.director.loadScene("Login",function(){t&&t.call()})},t.prototype.gotoLobby=function(t){var e=this;cc.log("gotoLobby()"),p.default.getInstance().loadScene(c.gSceneName.Lobby,c.gAssetBundleName.LOBBY_RES).then(function(n){n&&(t&&t.call(),e.enterLobby())})},t.prototype.gotoLobby2=function(t){r.EventDispatcher.getInstance().dispatch(i.Notify.Base.STOP_MUSIC),p.default.getInstance().loadScene(c.gSceneName.Lobby,c.gAssetBundleName.LOBBY_RES).then(function(e){e&&cc.director.runScene(e,null,function(){t&&t.call()})})},t.prototype.gotoGameScene=function(t){return a.Logger.info("gotoGameScene(): gameId=",t),r.EventDispatcher.getInstance().dispatch(i.Notify.Base.STOP_MUSIC),p.default.getInstance().loadScene(c.gSceneName.Game,c.gAssetBundleName.GAME_BASE_RES).then(function(t){if(t){if(1==d.DataProxy.getInstance().gameData.bCancelMatch)return void(d.DataProxy.getInstance().gameData.bCancelMatch=!1);h.TableSkinMgr.changeTableId(d.DataProxy.getInstance().userData.useTableId,function(){cc.director.runScene(t,null,function(){s.ResConfigHandler.releseOldDiffRes()})})}}),!0},t.prototype.enterLobby=function(){r.EventDispatcher.getInstance().dispatch(i.Notify.Base.LOAD_RES_START,{name:"lobby",lobby:!0,config:s.ResConfigHandler.getBundleConfig(c.gAssetBundleName.LOBBY_RES)})},t.prototype.enterGame=function(t){a.Logger.info("enterGame():------------------- enterInfo=",t),console.log("[enterGame] enterInfo="+t.gameId),this.enterGoldGame(t)},t.prototype.enterGoldGame=function(t){var e=t.gameId;d.DataProxy.getInstance().gameData.enterSceneInfo=t;var n=t.gameType||c.Global.convertGameType(e);if(this.needDownload(n)){o.ComUI.addLoading({sw:!0,type:2});var i=c.Global.getGameDepBundle(n);p.default.getInstance().loadBundle(i,function(t){t&&(o.ComUI.rmLoading(),this.loadGoldGameRes(e,n))}.bind(this))}else this.loadGoldGameRes(e,n)},t.prototype.needDownload=function(){return!0},t.prototype.loadGoldGameRes=function(t,e){r.EventDispatcher.getInstance().dispatch(i.Notify.Base.LOAD_RES_START,{gameId:t,gameType:e,name:""+t,config:s.ResConfigHandler.getGoldGameResConfig(e)})},t.prototype.onLoadResFailue=function(t){a.Logger.warn("[SceneManager onLoadResFailue]  "+JSON.stringify(t)),o.ComUI.showDialog({title:l.ComUtils.getLang(u.LangKey.text_prompt),text:l.ComUtils.getLang(u.LangKey.text_resource_load_fail)})},t.prototype.onLoadResFinish=function(t){t&&t.gameId?this.gotoGameScene(t.gameId):t&&t.lobby&&this.gotoLobby2()},t.prototype.exitApp=function(){cc.game.end()},t.$instance=null,t}();n.default=f,cc._RF.pop()},{"../../app/const/Global":"Global","../../app/event/Notify":"Notify","../../app/language/LanguageCfg":"LanguageCfg","../../app/model/DataProxy":"DataProxy","../../app/module/tables/TableSkinMgr":"TableSkinMgr","../../app/view/ComUI":"ComUI","../event/EventDispatcher":"EventDispatcher","../utils/ComUtils":"ComUtils","../utils/Logger":"Logger","./ResConfigHandler":"ResConfigHandler","./ResManager":"ResManager"}],ScreenAdapter:[function(t,e,n){"use strict";cc._RF.push(e,"a6621H+eKNMOriMiaQ8HWMe","ScreenAdapter"),Object.defineProperty(n,"__esModule",{value:!0}),n.ScreenAdapter=void 0;var o=t("./Display"),i=function(){function t(){}return t.init=function(){o.Display.paddingLeft=o.Display.paddingRight=0,o.Display.paddingBottom=o.Display.paddingTop=0;var t=cc.sys.getSafeAreaRect();o.Display.paddingLeft=t.x,o.Display.paddingRight=o.Display.width-t.width-t.x,o.Display.paddingTop=o.Display.height-t.height-t.y,o.Display.paddingBottom=t.y},t.adaptationX=function(t){return t?o.Display.cx-(o.Display.dwidth/2-t):-1},t.adaptationY=function(t){return t?o.Display.cy-(o.Display.dheight/2-t):-1},t.paddingLeft=function(t){if(t){var e=t.getComponent(cc.Widget);e?e.isAbsoluteLeft?e.left+=o.Display.paddingLeft:e.left+=o.Display.paddingLeft/o.Display.width:t.x+=o.Display.paddingLeft}},t.paddingRight=function(t){if(t){var e=t.getComponent(cc.Widget);e?e.isAbsoluteRight?e.right+=o.Display.paddingRight:e.right+=o.Display.paddingRight/o.Display.width:t.x-=o.Display.paddingRight}},t.paddingTop=function(t){if(t){var e=t.getComponent(cc.Widget);e?e.isAbsoluteTop?e.top+=o.Display.paddingTop:e.top+=o.Display.paddingTop/o.Display.height:t.y-=o.Display.paddingTop}},t.paddingBottom=function(t){if(t){var e=t.getComponent(cc.Widget);e?e.isAbsoluteBottom?e.bottom+=o.Display.paddingBottom:e.bottom+=o.Display.paddingBottom/o.Display.height:t.y+=o.Display.paddingBottom}},t.setCanvas=function(t){if(t){var e=this.getRatioScale(),n=this.isLandscape();e>1.8?n?(t.fitHeight=!0,t.fitWidth=!1):(t.fitHeight=!1,t.fitWidth=!0):n?(t.fitHeight=!1,t.fitWidth=!0):(t.fitHeight=!0,t.fitWidth=!1)}},t.isLandscape=function(){return cc.winSize.width>cc.winSize.height},t.getRatioScale=function(){return this.isLandscape()?cc.winSize.width/cc.winSize.height:cc.winSize.height/cc.winSize.width},t.getVScale=function(){return this.isLandscape()?o.Display.scaleY:o.Display.scaleX},t}();n.ScreenAdapter=i,cc._RF.pop()},{"./Display":"Display"}],ScreenShot:[function(t,e,n){"use strict";cc._RF.push(e,"81f6az652pHXI2a7JwXl+CD","ScreenShot");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.ScreenShot=void 0;var a=t("../../app/event/Notify"),s=t("./CxComponent"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.camera=null,e._renderTexture=null,e._canvas=null,e._bShoting=!1,e._requestKey="",e}return i(e,t),e.prototype.init=function(){var t=cc.game._renderContext,e=new cc.RenderTexture;e.initWithSize(cc.visibleRect.width,cc.visibleRect.height,t.STENCIL_INDEX8),this.camera.targetTexture=e,this._renderTexture=e},e.prototype.listEvent=function(){return new Map([[a.Notify.Base.SCREEN_SHOT_START,this.onScreenShot]])},e.prototype.onScreenShot=function(t){var e=this;this._bShoting||(this._pShotNode=t.shotNode,this._requestKey=t.requestKey,this.init(),this.camera.enabled=!0,this.scheduleOnce(function(){if(cc.sys.isNative){var t=e.initNativeImage();e.createNativeCanvas(t)}else if(cc.sys.platform===cc.sys.WECHAT_GAME){e.createWebCanvas();var n=e.createWebImg();e.createSprite(n)}else e.createWebCanvas(),n=e.createWebImg(),e.createSprite(n);e.camera.enabled=!1},.01))},e.prototype.doScreenShotEnd=function(t){this._bShoting=!1,this._pShotNode=null,this.dispatch(a.Notify.Base.SCREEN_SHOT_RESULT,{requestKey:this._requestKey,node:t})},e.prototype.createSprite=function(t){var e=new cc.Texture2D;e.initWithElement(t);var n=new cc.SpriteFrame;n.setTexture(e);var o=new cc.Node;o.addComponent(cc.Sprite).spriteFrame=n,o.width=e.width,o.height=e.height,this.doScreenShotEnd(o)},e.prototype.clearCanvas=function(){this._canvas.getContext("2d").clearRect(0,0,this._canvas.width,this._canvas.height)},e.prototype.createWebImg=function(){var t=this._canvas.toDataURL("image/png"),e=document.createElement("img");return e.src=t,e},e.prototype.createWebCanvas=function(){var t=this._renderTexture.width,e=this._renderTexture.height;this._canvas?this.clearCanvas():(this._canvas=document.createElement("canvas"),this._canvas.width=t,this._canvas.height=e),this._pShotNode&&this.camera.render(this._pShotNode);for(var n=this._canvas.getContext("2d"),o=this._renderTexture.readPixels(),i=4*t,r=0;r<e;r++){for(var a=e-1-r,s=n.createImageData(t,1),c=a*t*4,l=0;l<i;l++)s.data[l]=o[c+l];n.putImageData(s,0,r)}return this._canvas},e.prototype.initNativeImage=function(){this._pShotNode&&this.camera.render(this._pShotNode);var t=this._renderTexture.readPixels();this._width=this._renderTexture.width,this._height=this._renderTexture.height;var e=this.flipYImage(t,this._width,this._height);return this.saveNativeImage(e),e},e.prototype.flipYImage=function(t,e,n){for(var o=new Uint8Array(e*n*4),i=4*e,r=0;r<n;r++)for(var a=(n-1-r)*e*4,s=r*e*4,c=0;c<i;c++)o[s+c]=t[a+c];return o},e.prototype.createNativeCanvas=function(t){console.log("ScreenShot createNativeCanvas");var e=new cc.Texture2D;e.initWithData(t,cc.Texture2D.PixelFormat.RGBA8888,this._width,this._height);var n=new cc.SpriteFrame;n.setTexture(e);var o=new cc.Node,i=o.addComponent(cc.Sprite);i.spriteFrame=n,i.sizeMode=cc.Sprite.SizeMode.RAW,o.width=e.width,o.height=e.height,this.doScreenShotEnd(o)},e.prototype.saveNativeImage=function(){},r([u({type:cc.Camera,tooltip:"\u622a\u5c4f\u7528\u7684\u76f8\u673a"})],e.prototype,"camera",void 0),r([l],e)}(s.CxComponent);n.ScreenShot=d,cc._RF.pop()},{"../../app/event/Notify":"Notify","./CxComponent":"CxComponent"}],SequenceAnim:[function(t,e,n){"use strict";cc._RF.push(e,"67664nryaxCQrgGQYIWkaee","SequenceAnim");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.SequenceAnim=void 0;var a=cc._decorator,s=a.ccclass,c=a.property,l=a.menu,u=a.requireComponent,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._saImg=null,e._spaceTime=.2,e.startIndex=0,e.endIndex=0,e._canPlay=!1,e.iInterval=0,e.curIndex=0,e}return i(e,t),Object.defineProperty(e.prototype,"spriteAtlas",{get:function(){return this._saImg},set:function(t){this._saImg=t;var e=t.getSpriteFrames();this.endIndex=Math.max(this.endIndex||0,e.length),this.playAnim()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spaceTime",{get:function(){return this._spaceTime},set:function(t){this._spaceTime!==t&&(this._spaceTime=t,this.playAnim())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"play",{get:function(){return this._canPlay},set:function(t){this._canPlay=t,t?this.playAnim():this.stop()},enumerable:!1,configurable:!0}),e.prototype.start=function(){if(this._saImg){var t=this._saImg.getSpriteFrames();this.startIndex=this.startIndex||0,this.endIndex=Math.min(this.endIndex||0,t.length)}this.playAnim()},e.prototype.stop=function(){this.node.stopAllActions(),clearInterval(this.iInterval)},e.prototype.onDestroy=function(){clearInterval(this.iInterval)},e.prototype.playAnim=function(){this._saImg&&this._canPlay&&(clearInterval(this.iInterval),cc.tween(this.node).repeatForever(cc.tween().delay(this.spaceTime).call(this.switchSprite.bind(this))).start())},e.prototype.switchSprite=function(){if(cc.isValid(this)){this.curIndex++,this.curIndex>=this.endIndex&&(this.curIndex=this.startIndex);var t=this._saImg.getSpriteFrames();this.getComponent(cc.Sprite).spriteFrame=t[this.curIndex]}},e.prototype.onEnable=function(){this.playAnim()},e.prototype.onDisable=function(){clearInterval(this.iInterval)},e.prototype.onRestore=function(){},r([c],e.prototype,"_saImg",void 0),r([c({type:cc.SpriteAtlas,tooltip:"\u5e8f\u5217\u5e27\u56fe\u96c6"})],e.prototype,"spriteAtlas",null),r([c(cc.Float)],e.prototype,"_spaceTime",void 0),r([c({type:cc.Float,tooltip:"\u95f4\u9694\u65f6\u95f4"})],e.prototype,"spaceTime",null),r([c({type:cc.Integer,tooltip:"\u5f00\u59cb\u7d22\u5f15"})],e.prototype,"startIndex",void 0),r([c({type:cc.Integer,tooltip:"\u7ed3\u675f\u7d22\u5f15"})],e.prototype,"endIndex",void 0),r([c(cc.Boolean)],e.prototype,"_canPlay",void 0),r([c(cc.Boolean)],e.prototype,"play",null),r([s,u(cc.Sprite),l("\u81ea\u5b9a\u4e49/\u5e8f\u5217\u5e27\u52a8\u753b")],e)}(cc.Component);n.SequenceAnim=d,cc._RF.pop()},{}],SettingLayer:[function(t,e,n){"use strict";cc._RF.push(e,"70c12WuZNxN5apTDgHG7WNW","SettingLayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.SettingLayer=n.SettingData=n.SettingType=void 0;var a,s=t("./../module/buryPoint/BuryPointUtils"),c=t("../model/LocalDataProxy"),l=t("../event/Notify"),u=t("../../lib/utils/ComUtils"),d=t("../../lib/utils/StringBuffer"),p=t("../config/GameConfig"),h=t("../../lib/utils/Logger"),f=t("../../lib/manager/SceneManager"),g=t("../../lib/base/Callback"),_=t("../const/Global"),y=t("../module/login/view/LoginManager"),m=t("../language/LanguageCfg"),b=t("../module/buryPoint/BuryPoint"),v=t("../../lib/base/Language"),S=t("../model/DataProxy"),w=t("../event/GuiEvent"),C=t("../../lib/base/CxComponent"),I=t("../../lib/base/PopupView"),D=t("../../lib/base/BottomBarView"),L=t("../../plugin/pb/protofile/CMD_OtherMsg");(function(t){t[t.NULL=0]="NULL",t[t.LOBBY=1]="LOBBY",t[t.CARD_ROOM=2]="CARD_ROOM",t[t.GOLD_ROOM=3]="GOLD_ROOM",t[t.ROBOT_ROOM=4]="ROBOT_ROOM"})(a=n.SettingType||(n.SettingType={}));n.SettingData=function(t,e,n){this.type=null,this.disEvent1=null,this.disEvent2=null,this.type=t,this.disEvent1=e,this.disEvent2=n};var R=cc._decorator,P=R.ccclass,T=R.property,E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ndMusic=null,e.pMusicIndex=null,e.ndSound=null,e.pSoundIndex=null,e.ndLanguage=null,e.pLangIndex=null,e.pVersionLabel=null,e.pLangLabel=null,e.pLangDrawList=null,e.pPolicyLabel=null,e.pProfileLabel=null,e.ndBottom=null,e.ndCardSkin=null,e.spCardSkin=null,e.labSkin=null,e.spAltlasSkin=null,e.spkFinger=null,e.longHeight=1200,e.shortHeight=920,e.settingData=null,e.mLocalSetting=[],e}return i(e,t),e.prototype.init=function(t){this.settingData=t,this.mLocalSetting=[{index:"music",target:this.ndMusic,key:c.LocalStorageProxy.Music,value:c.LocalStorageProxy.On,local:""},{index:"sound",target:this.ndSound,key:c.LocalStorageProxy.Effect,value:c.LocalStorageProxy.On,local:""}]},e.prototype.listEvent=function(){return new Map([[l.Notify.Base.CHANGE_LANGUAGE,this.onChangeLanguage],[l.Notify.Other.RESP_CHANGE_CARD_SKIN,this.onChangeCardSkin]])},e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},e.prototype.update=function(){},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this)},e.prototype.start=function(){this.initView(),this.initLanguage(),this.initLabel(),this.initSettingType(),this.initVersionInfo(),this.initCardSkinNode()},e.prototype.initView=function(){if(this.mLocalSetting)for(var t=0;t<this.mLocalSetting.length;t++){var e=this.mLocalSetting[t],n=e.target,o=S.DataProxy.getInstance().localData.get(e.key,e.value);e.local=o,this.setOptionStatus(n,o)}},e.prototype.initLanguage=function(){if(this.pLangLabel){for(var t=v.Language.getInstance().getLanguage(),e=-1,n=0;n<_.gLanguagesSet.length;n++)if(_.gLanguagesSet[n]==t){e=n;break}if(e>=0){var o=_.gLanguagesInfo[e];this.pLangLabel.string=o}}},e.prototype.initLabel=function(){I.PopupView.setTitle(this.node,u.ComUtils.makeLang(m.LangKey.setting_title)),u.ComUtils.setLangText(this.pMusicIndex,m.LangKey.setting_music),u.ComUtils.setLangText(this.pSoundIndex,m.LangKey.setting_sound),u.ComUtils.setLangText(this.pLangIndex,m.LangKey.setting_language),u.ComUtils.setLangText(this.pPolicyLabel,m.LangKey.setting_policy),u.ComUtils.setLangText(this.pProfileLabel,m.LangKey.setting_userprofile)},e.prototype.initSettingType=function(){var t=this;if(this.settingData)switch(this.settingData.type){case a.LOBBY:D.BottomBarView.setBottomBar(this.node,[{style:_.gColorStyle.RED,text:u.ComUtils.makeLang(m.LangKey.setting_log_out),callback:function(){h.Logger.info("setting log out!!!"),t.onLogOut()}}]);break;case a.CARD_ROOM:case a.GOLD_ROOM:}},e.prototype.initVersionInfo=function(){var t=new d.StringBuffer;t.append("Res:"+p.GameConfig.g().getResVersion());var e=p.GameConfig.getServerTypeString();u.ComUtils.isTextEmpty(e)||t.append("Server:"+e),t.append("Build:"+p.GameConfig.getBuildTime()),this.pVersionLabel&&(this.pVersionLabel.string=t.toString("  ")),t.clear(),t=null},e.prototype.initCardSkinNode=function(){var t=S.DataProxy.getInstance().activityData.getEntryIsOpen(L.ActivityId.PAILEISELECT_ACTIVITY),e=this.longHeight;t?(this.setCardSkin(),0==S.DataProxy.getInstance().userData.cardSkinId?this.showFingerAni(!0):this.showFingerAni(!1),this.ndCardSkin.active=!0):(this.ndCardSkin.active=!1,e=this.shortHeight),this.node.height=e;var n=this.getComponent(I.PopupView);if(n){var o=n.getSize();n.setSize(cc.size(o.width,e))}},e.prototype.onCloseMenu=function(){this.node.destroy()},e.prototype.getLocalOption=function(t){if(this.mLocalSetting)for(var e=0;e<this.mLocalSetting.length;e++){var n=this.mLocalSetting[e];if(n.index==t)return n}return null},e.prototype.setOptionStatus=function(t,e){if(t){var n=t.getChildByName("open"),o=t.getChildByName("close"),i=e===c.LocalStorageProxy.On;n.active=i,o.active=!i}},e.prototype.switchOption=function(t){h.Logger.info("switchOption() type="+t);var e=this.getLocalOption(t);if(e&&e.target){var n=e.local===c.LocalStorageProxy.On?c.LocalStorageProxy.Off:c.LocalStorageProxy.On;e.local=n,this.setOptionStatus(e.target,n),this.dispatch(l.Notify.Base.SET_LOCAL_STORAG,{key:e.key,value:n})}},e.prototype.setCardSkin=function(){var t="selected_skin_"+(S.DataProxy.getInstance().userData.cardSkinId||1),e=this.spAltlasSkin.getSpriteFrame(t);e?this.spCardSkin.spriteFrame=e:h.Logger.error("\u627e\u4e0d\u5230\u724c\u76ae\u80a4: "+t),this.labSkin&&(this.labSkin.string=u.ComUtils.getLang(m.LangKey.txt_set_card_skin))},e.prototype.showFingerAni=function(t){if(this.spkFinger){var e=t||!1;this.spkFinger.node.active=e,this.spkFinger.paused=!e}},e.prototype.onChangeLanguage=function(){this.initLanguage()},e.prototype.onChangeCardSkin=function(){this.setCardSkin()},e.prototype.onClickSound=function(){this.switchOption("sound")},e.prototype.onClickMusic=function(){this.switchOption("music")},e.prototype.onClickCardSkin=function(){this.spkFinger&&(this.spkFinger.node.active=!1),this.dispatch(w.GuiEvent.PopMsg.DISPLAY_CARD_SKIN_CHANGE_LAYER)},e.prototype.onClickLanguage=function(){if(h.Logger.info("onClickLanguage"),this.pLangDrawList){var t=cc.instantiate(this.pLangDrawList),e=this.node.convertToNodeSpaceAR(this.ndLanguage.convertToWorldSpaceAR(cc.v2(0,0))),n=this.ndLanguage.getContentSize();t&&(this.node.addChild(t),t.x=e.x-.5*n.width+.5*t.width,t.y=e.y-.5*n.height-.5*t.height)}},e.prototype.onClickPolicy=function(){h.Logger.info("onClickPolicy");var t=p.GameConfig.g().getPrivacyUrl();t&&t.length>0&&this.dispatch(w.GuiEvent.PopMsg.DISPLAY_POLICY_LAYER,{url:t,type:"policy"})},e.prototype.onClickTermConditions=function(){var t=p.GameConfig.g().getProtocolUrl();t&&t.length>0&&this.dispatch(w.GuiEvent.PopMsg.DISPLAY_POLICY_LAYER,{url:t,type:"protocol"})},e.prototype.onLogOut=function(){var t=this;s.BuryPointUtils.send(b.BuryPoint.Debug.Lobby.ClickSetLogOut),this.dispatch(l.Notify.Gate.CLOSE_SOCKET),this.dispatch(l.Notify.Base.ON_APP_LOG_OUT),this.scheduleOnce(function(){y.LoginManager.getInstance().setAutoLogin(!1),f.default.getInstance().gotoLogin(new g.Callback(t,function(){t.dispatch(l.Notify.Base.ON_APP_LOG_RE_IN)}))},.5)},r([T(cc.Node)],e.prototype,"ndMusic",void 0),r([T(cc.Label)],e.prototype,"pMusicIndex",void 0),r([T(cc.Node)],e.prototype,"ndSound",void 0),r([T(cc.Label)],e.prototype,"pSoundIndex",void 0),r([T(cc.Node)],e.prototype,"ndLanguage",void 0),r([T(cc.Label)],e.prototype,"pLangIndex",void 0),r([T(cc.Label)],e.prototype,"pVersionLabel",void 0),r([T(cc.Label)],e.prototype,"pLangLabel",void 0),r([T(cc.Prefab)],e.prototype,"pLangDrawList",void 0),r([T(cc.Label)],e.prototype,"pPolicyLabel",void 0),r([T(cc.Label)],e.prototype,"pProfileLabel",void 0),r([T(cc.Node)],e.prototype,"ndBottom",void 0),r([T(cc.Node)],e.prototype,"ndCardSkin",void 0),r([T(cc.Sprite)],e.prototype,"spCardSkin",void 0),r([T(cc.Label)],e.prototype,"labSkin",void 0),r([T(cc.SpriteAtlas)],e.prototype,"spAltlasSkin",void 0),r([T({type:sp.Skeleton,tooltip:"\u6307\u5f15\u52a8\u4f5c"})],e.prototype,"spkFinger",void 0),r([T({type:cc.Integer,tooltip:"\u5927\u9875\u9762\u9ad8\u5ea6"})],e.prototype,"longHeight",void 0),r([T({type:cc.Integer,tooltip:"\u5c0f\u9875\u9762\u9ad8\u5ea6"})],e.prototype,"shortHeight",void 0),r([P],e)}(C.CxComponent);n.SettingLayer=E,cc._RF.pop()},{"../../lib/base/BottomBarView":"BottomBarView","../../lib/base/Callback":"Callback","../../lib/base/CxComponent":"CxComponent","../../lib/base/Language":"Language","../../lib/base/PopupView":"PopupView","../../lib/manager/SceneManager":"SceneManager","../../lib/utils/ComUtils":"ComUtils","../../lib/utils/Logger":"Logger","../../lib/utils/StringBuffer":"StringBuffer","../../plugin/pb/protofile/CMD_OtherMsg":"CMD_OtherMsg","../config/GameConfig":"GameConfig","../const/Global":"Global","../event/GuiEvent":"GuiEvent","../event/Notify":"Notify","../language/LanguageCfg":"LanguageCfg","../model/DataProxy":"DataProxy","../model/LocalDataProxy":"LocalDataProxy","../module/buryPoint/BuryPoint":"BuryPoint","../module/login/view/LoginManager":"LoginManager","./../module/buryPoint/BuryPointUtils":"BuryPointUtils"}],ShadowLabel:[function(t,e,n){"use strict";cc._RF.push(e,"26f916i05RI2pdqM5kKahjY","ShadowLabel");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.ShadowLabel=void 0;var a=cc._decorator,s=a.ccclass,c=a.property,l=a.executeInEditMode,u=a.disallowMultiple,d=a.requireComponent,p=a.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._color=cc.Color.BLACK,e._offset=cc.v2(0,-2),e.lastTime=0,e}return i(e,t),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){this._color=t,this.onChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this._offset},set:function(t){this._offset=t,this.onChange()},enumerable:!1,configurable:!0}),e.prototype.onEnable=function(){this.checkValid()&&(this.shadow.node.active=!0),this.onChange()},e.prototype.onDisable=function(){this.checkValid()&&(this.shadow.node.active=!1)},e.prototype.onDestroy=function(){this.label=null,this.shadow=null,this._color=null,this._offset=null},e.prototype.checkValid=function(){var t=!0;return cc.isValid(this.label)||(this.label=null,t=!1),cc.isValid(this.shadow)||(this.shadow=null,t=!1),t},e.prototype.start=function(){this.label=this.getComponent(cc.Label),this.label?this.initShadow():cc.error("[ShadowLabel start] the component must bind cc.Label")},e.prototype.initShadow=function(){if(this.label&&!this.shadow){var t=this.node.parent.getChildByName("ShadowLabel");t||((t=new cc.Node("ShadowLabel")).parent=this.node.parent),t.zIndex!=this.node.zIndex-1&&(t.zIndex=this.node.zIndex-1),this.shadow=t.getComponent(cc.Label),this.shadow||(this.shadow=t.addComponent(cc.Label));for(var e=0,n=Object.keys(this.node.properties);e<n.length;e++){var o=n[e];Editor.log(o)}}},e.prototype.onChange=function(){this.label&&this.shadow&&this.checkValid()&&(this.shadow.node.parent=this.node.parent,this.shadow.node.x=this.node.x+this.offset.x,this.shadow.node.y=this.node.y+this.offset.y,this.shadow.node.anchorX=this.node.anchorX,this.shadow.node.anchorY=this.node.anchorY,this.shadow.node.width=this.node.width,this.shadow.node.height=this.node.height,this.shadow.node.color=this.color,this.updateValue("string",this.shadow,this.label),this.updateValue("font",this.shadow,this.label),this.updateValue("fontFamily",this.shadow,this.label),this.updateValue("fontSize",this.shadow,this.label),this.updateValue("horizontalAlign",this.shadow,this.label),this.updateValue("verticalAlign",this.shadow,this.label),this.updateValue("enableBold",this.shadow,this.label),this.updateValue("enableWrapText",this.shadow,this.label),this.updateValue("lineHeight",this.shadow,this.label),this.updateValue("underlineHeight",this.shadow,this.label),this.updateValue("spacingX",this.shadow,this.label),this.updateValue("cacheMode",this.shadow,this.label),this.updateValue("enableItalic",this.shadow,this.label),this.updateValue("enableUnderline",this.shadow,this.label))},e.prototype.updateValue=function(t,e,n){e[t]!==n[t]&&(e[t]=n[t])},e.prototype.update=function(t){this.lastTime+=t,this.lastTime>.1&&(this.lastTime=0,this.onChange())},r([c({type:cc.Color})],e.prototype,"color",null),r([c({type:cc.Vec2})],e.prototype,"offset",null),r([s,l,d(cc.Label),u,p("\u81ea\u5b9a\u4e49/ShadowLabel")],e)}(cc.Component);n.ShadowLabel=h,cc._RF.pop()},{}],ShareSDK:[function(t,e,n){"use strict";cc._RF.push(e,"eff39BdPlJGobQ4TfgYctxt","ShareSDK");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{c(o.next(t))}catch(e){r(e)}}function s(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.ShareSDK=n.FirebaseDynamicLinkCfg=n.SharedConst=void 0;var r,a=t("crypto"),s=t("../../lib/utils/ComUtils"),c=t("./NativeApi");(function(t){t.cKeyUserId="userId",t.privateKey="qkiels1"})(r=n.SharedConst||(n.SharedConst={}));var l=function(t,e,n){this.uriPrefix="https://scopaol.page.link",this.deepLink="http://res.scopa.puligame.com/invite/",this.shareTitle="Play Scopa whith me! ",this.socialTitle="Play Scopa whith me! ",this.socialDesc="",this.iosBundleID="com.www.hsq.scopaol",this.appStoreID="1557620446",this.apn="com.puli.scopaol",this.ibi="com.www.hsq.scopaol",this.isi="1557620446",this.amv="21",this.fallbackLink="",this.deepLink=this.deepLink+"?userId="+t;var o=this.uriPrefix+"?link="+this.deepLink+"&apn="+this.apn+"&ibi="+this.ibi+"&isi="+this.isi+"&amv="+this.amv,i=encodeURIComponent(o),s=a.createHash("md5").update(i+r.privateKey).digest("hex");this.fallbackLink=this.deepLink+"&jump_link="+i+"&xxxmd5="+s,e&&(this.shareTitle=e,this.socialTitle=e),n&&(this.socialDesc=n)};n.FirebaseDynamicLinkCfg=l;var u=function(){function t(){}return t.firebaseShare=function(e,n,r){return o(this,void 0,void 0,function(){var o,a;return i(this,function(){return s.ComUtils.isIOS()?[2]:((o=new c.NativeParams).className="ShareManager",o.methodName="nativeFirebaseShared",o.javaMethodSig="(Ljava/lang/String;)V",o.javaClassPath=t.javaClassPath,a=new l(e,n,r),c.CallNativeMethod.callStaticMethod(o,JSON.stringify(a)),[2])})})},t.getInviteUserId=function(){if(cc.log(" \u8c03\u7528 getInviteUserId "),!s.ComUtils.isIOS()){var e=new c.NativeParams;e.className="ShareManager",e.methodName="nativeGetFirebaseInviteLink",e.javaMethodSig="()Ljava/lang/String;",e.javaClassPath=t.javaClassPath;var n=c.CallNativeMethod.callStaticMethod(e);return t.parseDeepLink(n)}},t.parseDeepLink=function(e){cc.log("firebase \u52a8\u6001\u94fe\u63a5\u5206\u4eab\u7ed3\u679c\u53d6\u5f97\u7684\u6df1\u5ea6\u8fde\u63a5:",e);var n="0";if(!e||""==e)return n;if(cc.log("\u89e3\u6790\u51fadeepLink",e),e){var o=e.split("?");o&&o.length>1&&(n=t.getQueryVariable(o[1],r.cKeyUserId),cc.log("\u89e3\u6790\u51fauserid",n))}return n},t.getQueryVariable=function(t,e){for(var n=t.split("&"),o=0;o<n.length;o++){var i=n[o].split("=");if(i[0]==e)return i[1]||"0"}return"0"},t.javaClassPath="com/husky/libhuskycom/",t}();n.ShareSDK=u,cc._RF.pop()},{"../../lib/utils/ComUtils":"ComUtils","./NativeApi":"NativeApi",crypto:76}],ShopBoxDetail:[function(t,e,n){"use strict";cc._RF.push(e,"574d4QLk0hAdqmRv7iaKy7v","ShopBoxDetail");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../lib/base/CxComponent"),s=t("../../../lib/base/Language"),c=t("../../../lib/event/EventDispatcher"),l=t("../../../lib/i18n/i18nHelper"),u=t("../../../lib/utils/ComUtils"),d=t("../../base/component/ComTimer"),p=t("../../const/Global"),h=t("../../event/GuiEvent"),f=t("../../event/Notify"),g=t("../../language/LanguageCfg"),_=t("../../model/DataProxy"),y=t("../ComUI"),m=cc._decorator,b=m.ccclass,v=m.property,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pSpriteAtlas=null,e.pMainIcon=null,e.pPowerLabel=null,e.pChipsLabel=null,e.pRewardTitle=null,e.pPieceIcon1=null,e.pPieceIcon2=null,e.pPieceLabel1=null,e.pPieceLabel2=null,e.pLeftBtn=null,e.pRightBtn=null,e.pCenterBtn=null,e.pTimeLabel=null,e.mBoxData=null,e.mTimer=null,e.mID=0,e.mPosX=0,e.mNeedGold=0,e}return i(e,t),e.prototype.listEvent=function(){return new Map([[f.Notify.Shop.RTN_BOX_SHOP_INFO_RESULT,this.onUpdateData]])},e.prototype.init=function(t){t&&(this.mBoxData=t)},e.prototype.start=function(){this.pPieceLabel1&&(this.mPosX=this.pPieceLabel1.node.parent.x),this.initLayer(),this.setVerticalOffset(),this.multiLang()},e.prototype.onDestroy=function(){_.DataProxy.getInstance().comData.bClickTableLettery=!1,t.prototype.onDestroy.call(this),this.mTimer&&this.mTimer.clear()},e.prototype.initLayer=function(){var t=this.mBoxData;t&&(this.mID=t.dwID,this.initMainIcon(t),this.initRewardInfo(t),this.initPieceInfo(t),this.initButtonAndTimer(t))},e.prototype.multiLang=function(){this.pRewardTitle&&(this.pRewardTitle.string=u.ComUtils.getLang(g.LangKey.shopBox_at_least_txt))},e.prototype.initMainIcon=function(t){if(t){var e=t.dwID;e>4&&(e%=4),0==e&&(e=1);var n="shop_box_icon_"+e;y.ComUI.setSpriteImage(this.pMainIcon,this.pSpriteAtlas,n)}},e.prototype.initRewardInfo=function(t){var e=this;t&&t.rewardList&&t.rewardList.forEach(function(t){if(t.dwType==p.gShopHBType.POWER){var n="";n=t.dwMaxNum>0?t.dwMinNum+"-"+t.dwMaxNum+" TOKENS":t.dwNum+" TOKENS",e.pPowerLabel&&(e.pPowerLabel.string=n)}else t.dwType==p.gShopHBType.CHIPS&&(n="",n=t.dwMaxNum>0?t.dwMinNum+"-"+t.dwMaxNum+" CHIPS":t.dwNum+" CHIPS",e.pChipsLabel&&(e.pChipsLabel.string=n))})},e.prototype.initPieceInfo=function(t){if(t&&t.rewardList){for(var e=null,n=0;n<t.rewardList.length;n++){var o=t.rewardList[n];if(o.dwType==p.gShopHBType.CHIPS){e=o;break}}if(e&&e.extraPieceInfo){var i=e.extraPieceInfo,r=[this.pPieceIcon1,this.pPieceIcon2],a=[this.pPieceLabel1,this.pPieceLabel2],s=i.length;for(0==s&&this.pPieceLabel1&&(this.pPieceLabel1.node.parent.active=!1),n=0;n<2;n++){var c=r[n];c&&(c.active=!1);var l=a[n];l&&(l.node.active=!1);var u=i[n];u&&(c&&(c.active=!0,this.setOnePeiceIcon(c,u)),l&&(l.node.active=!0,this.setPieceLabel(l,u)))}1==s&&this.pPieceLabel1&&(this.pPieceLabel1.node.parent.x=this.mPosX-220)}}},e.prototype.setOnePeiceIcon=function(t,e){if(t&&e){var n=t.getChildByName("lab_num");n&&(n.getComponent(cc.Label).string="x"+e.num);var o=t.getChildByName("star_bg");if(o){var i=o.getChildByName("layout");this.setStar(i,e.start)}}},e.prototype.setStar=function(t,e){if(e>0){if(t)for(var n=1;n<=5;n++){var o=t.getChildByName("star"+n);o&&(o.active=!1,n<=e&&(o.active=!0))}}else t&&(t.active=!1)},e.prototype.setPieceLabel=function(t,e){if(t&&e){var n=e.num,o=e.start;if(n>0&&o>0){var i=s.Language.getInstance().getLanguage(),r=u.ComUtils.numberToLan(n,i);r&&(t.language=l.i18nHelper.makeLanguage([g.LangKey.shopBox_min_piece_txt,n,r]))}}},e.prototype.initButtonAndTimer=function(t){t&&(this.pLeftBtn&&(this.pLeftBtn.node.parent.active=!1),this.pCenterBtn&&(this.pCenterBtn.node.active=!1),this.setTimeShow(!1),t.dwType==p.gShopCostType.FREE?2==t.dwStatus?(this.pCenterBtn&&(this.pCenterBtn.node.active=!0),this.setBtnStatus(this.pCenterBtn,!1,u.ComUtils.getLang(g.LangKey.shopBox_btn_free2open_txt))):this.setTimer(t):t.dwType==p.gShopCostType.PAY&&this.setButtonList(t))},e.prototype.setTimer=function(t){var e=this;this.mTimer&&this.mTimer.clear();var n=Math.floor((new Date).getTime()/1e3)-t.dwStartTime;if(t.dwSYTime>0&&n<t.dwSYTime){this.mTimer=new d.default;var o=t.dwSYTime-n;this.mTimer.start({startTime:t.dwStartTime,totalTime:o,obj:this,callback:function(t,n){n?(e.setTimeText(0),c.EventDispatcher.getInstance().delayDispatch(1e3,f.Notify.Shop.REQ_BOX_SHOP_DATA_INFO)):e.setTimeText(t)}})}},e.prototype.setTimeText=function(t){this.pTimeLabel&&null!=t&&(this.pTimeLabel.string=u.ComUtils.formatTimeString(t),this.setTimeShow(!0))},e.prototype.setTimeShow=function(t){this.pTimeLabel&&(this.pTimeLabel.node.parent.active=t)},e.prototype.setButtonList=function(t){var e=t.fufeiList;if(e){for(var n=e.length,o=0;o<e.length;o++){var i=e[o];if(i.dwType==p.gShopHBType.GOLD){this.mNeedGold=i.dwCoumNum;var r=""+u.ComUtils.formatGoldStr(i.dwCoumNum,1e4,0);2==n?this.setBtnStatus(this.pLeftBtn,!0,r):1==n&&this.setBtnStatus(this.pCenterBtn,!0,r)}else if(i.dwType==p.gShopHBType.RMB){var a=t.goodsInfo?t.goodsInfo.dwSrcNum:0;a>0&&(r=""+u.ComUtils.getCurrencySymbol(t.goodsInfo.dwCurrencyType)+a/100,2==n?this.setBtnStatus(this.pRightBtn,!1,r):1==n&&this.setBtnStatus(this.pCenterBtn,!1,r))}}2==n?this.pLeftBtn&&(this.pLeftBtn.node.parent.active=!0):1==n&&this.pCenterBtn&&(this.pCenterBtn.node.active=!0)}},e.prototype.setBtnStatus=function(t,e,n){if(t){var o=t.node.getChildByName("Background");if(o){var i=o.getChildByName("layout");if(i){var r=i.getChildByName("icon"),a=i.getChildByName("Label");r&&(r.active=e),a&&(a.getComponent(cc.Label).string=n)}}}},e.prototype.onUpdateData=function(t){if(t&&t.boxShopList){for(var e=null,n=t.boxShopList,o=0;o<n.length;o++){var i=n[o];if(i.dwID==this.mID){e=i;break}}e&&(this.mBoxData=e,this.initLayer())}},e.prototype.onClickLeft=function(){this.onDoBuy(!0)},e.prototype.onClickRight=function(){this.onDoBuy(!1)},e.prototype.onClickCenter=function(){this.onDoBuy()},e.prototype.onDoBuy=function(t){if(this.mBoxData)if(this.mBoxData.dwType==p.gShopCostType.FREE)2==this.mBoxData.dwStatus&&(_.DataProxy.getInstance().comData.bClickTableLettery=!0,this.dispatch(f.Notify.Shop.REQ_OPEN_BOX_SHOP_ACTION,{boxData:this.mBoxData,buyWay:0}));else if(this.mBoxData.dwType==p.gShopCostType.PAY){var e=0;if(null!=t)e=t?p.gShopHBType.GOLD:p.gShopHBType.RMB;else{var n=this.mBoxData.fufeiList;n&&n.length>0&&(e=n[0].dwType)}e==p.gShopHBType.RMB?(y.ComUI.addLoading({time:1}),_.DataProxy.getInstance().comData.bClickTableLettery=!0,this.dispatch(f.Notify.Shop.REQ_BUY_GOODS_ACTION,this.mBoxData.goodsInfo)):_.DataProxy.getInstance().userData.gold<this.mNeedGold?this.dispatch(h.GuiEvent.PopMsg.DISPLAY_NOT_ENOUGH_LAYER):(_.DataProxy.getInstance().comData.bClickTableLettery=!0,this.dispatch(f.Notify.Shop.REQ_OPEN_BOX_SHOP_ACTION,{boxData:this.mBoxData,buyWay:e}))}},r([v(cc.SpriteAtlas)],e.prototype,"pSpriteAtlas",void 0),r([v(cc.Sprite)],e.prototype,"pMainIcon",void 0),r([v(cc.Label)],e.prototype,"pPowerLabel",void 0),r([v(cc.Label)],e.prototype,"pChipsLabel",void 0),r([v(cc.Label)],e.prototype,"pRewardTitle",void 0),r([v(cc.Node)],e.prototype,"pPieceIcon1",void 0),r([v(cc.Node)],e.prototype,"pPieceIcon2",void 0),r([v(cc.Label)],e.prototype,"pPieceLabel1",void 0),r([v(cc.Label)],e.prototype,"pPieceLabel2",void 0),r([v(cc.Button)],e.prototype,"pLeftBtn",void 0),r([v(cc.Button)],e.prototype,"pRightBtn",void 0),r([v(cc.Button)],e.prototype,"pCenterBtn",void 0),r([v(cc.Label)],e.prototype,"pTimeLabel",void 0),r([b],e)}(a.CxComponent);n.default=S,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../../lib/base/Language":"Language","../../../lib/event/EventDispatcher":"EventDispatcher","../../../lib/i18n/i18nHelper":"i18nHelper","../../../lib/utils/ComUtils":"ComUtils","../../base/component/ComTimer":"ComTimer","../../const/Global":"Global","../../event/GuiEvent":"GuiEvent","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../../model/DataProxy":"DataProxy","../ComUI":"ComUI"}],ShopBoxItem:[function(t,e,n){"use strict";cc._RF.push(e,"b1752spC05KbaKACsimeaKh","ShopBoxItem");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../lib/base/CxComponent"),s=t("../../../lib/event/EventDispatcher"),c=t("../../../lib/utils/ComUtils"),l=t("../../base/component/ComTimer"),u=t("../../const/Global"),d=t("../../event/GuiEvent"),p=t("../../event/Notify"),h=t("../../language/LanguageCfg"),f=t("../ComUI"),g=cc._decorator,_=g.ccclass,y=g.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pSpriteAtlas=null,e.pBG=null,e.pMainLabel=null,e.pMainIcon=null,e.pMainBtn=null,e.pBtnText=null,e.pTimeLabel=null,e.pReddot=null,e.pGray=null,e.mIndex=0,e.mBoxItemData=null,e.mTimer=null,e}return i(e,t),e.prototype.init=function(t){t&&(this.mIndex=t.index||0,this.mBoxItemData=t.data)},e.prototype.start=function(){this.initLayer()},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),this.mTimer&&this.mTimer.clear()},e.prototype.initLayer=function(){var t=this.mBoxItemData;t&&(this.setBG(),this.setMainText(t),this.setMainIcon(t),this.setTimeAndButton(t),this.setReddot(t),this.setGray(t))},e.prototype.setBG=function(){var t=this.mIndex+1;t>4&&(t%=4),0===t&&(t=1);var e="shop_box_item_bg_"+t;f.ComUI.setSpriteImage(this.pBG,this.pSpriteAtlas,e)},e.prototype.setMainText=function(t){this.pMainLabel&&(this.pMainLabel.string=t.strBoxName)},e.prototype.setMainIcon=function(){var t=this.mIndex+1;t>4&&(t%=4);var e="shop_box_icon_"+t;f.ComUI.setSpriteImage(this.pMainIcon,this.pSpriteAtlas,e)},e.prototype.setTimeAndButton=function(t){var e=this;if(this.pTimeLabel&&(this.pTimeLabel.node.active=!1),this.pMainBtn&&(this.pMainBtn.node.active=!1),t.dwType==u.gShopCostType.FREE){if(2==t.dwStatus)this.pMainBtn&&(this.pMainBtn.node.active=!0),this.setButtonText(!0);else if(1==t.dwStatus){this.pTimeLabel&&(this.pTimeLabel.node.active=!0);var n=t.dwSYTime;n>0&&(this.setTimeText(n),this.mTimer&&this.mTimer.clear(),this.mTimer=new l.default,this.mTimer.start({startTime:t.dwStartTime,totalTime:n,obj:this,callback:function(t,n){n?(e.setTimeText(0),s.EventDispatcher.getInstance().delayDispatch(1e3,p.Notify.Shop.REQ_BOX_SHOP_DATA_INFO)):e.setTimeText(t)}}))}}else t.dwType==u.gShopCostType.PAY&&(this.pMainBtn&&(this.pMainBtn.node.active=!0),this.setButtonText(!1))},e.prototype.setTimeText=function(t){this.pTimeLabel&&null!=t&&(this.pTimeLabel.node.active=!0,this.pTimeLabel.string=c.ComUtils.formatTimeString(t))},e.prototype.setButtonText=function(t){if(this.pBtnText){var e;e=t?c.ComUtils.getLang(h.LangKey.shopBox_btn_free_txt):c.ComUtils.getLang(h.LangKey.shopBox_btn_open_txt),this.pBtnText.string=e}},e.prototype.setReddot=function(t){this.pReddot&&(this.pReddot.node.active=!1,t.dwType==u.gShopCostType.FREE?2==t.dwStatus&&this.pReddot&&(this.pReddot.node.active=!0):t.dwType==u.gShopCostType.PAY&&2==t.dwStatus&&this.pReddot&&(this.pReddot.node.active=!0))},e.prototype.setGray=function(t){this.pGray&&(this.pGray.node.active=!1,t.dwType==u.gShopCostType.FREE&&1==t.dwStatus&&t.dwSYTime>0&&this.pGray&&(this.pGray.node.active=!0))},e.prototype.onClickButton=function(){this.mBoxItemData&&this.dispatch(d.GuiEvent.PopMsg.DISPLAY_SHOP_BOX_DETAIL,this.mBoxItemData)},e.prototype.updateItem=function(t){t&&(this.mBoxItemData=t,this.initLayer())},r([y(cc.SpriteAtlas)],e.prototype,"pSpriteAtlas",void 0),r([y(cc.Sprite)],e.prototype,"pBG",void 0),r([y(cc.Label)],e.prototype,"pMainLabel",void 0),r([y(cc.Sprite)],e.prototype,"pMainIcon",void 0),r([y(cc.Button)],e.prototype,"pMainBtn",void 0),r([y(cc.Label)],e.prototype,"pBtnText",void 0),r([y(cc.Label)],e.prototype,"pTimeLabel",void 0),r([y(cc.Sprite)],e.prototype,"pReddot",void 0),r([y(cc.Sprite)],e.prototype,"pGray",void 0),r([_],e)}(a.CxComponent);n.default=m,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../../lib/event/EventDispatcher":"EventDispatcher","../../../lib/utils/ComUtils":"ComUtils","../../base/component/ComTimer":"ComTimer","../../const/Global":"Global","../../event/GuiEvent":"GuiEvent","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../ComUI":"ComUI"}],ShopBoxLayer:[function(t,e,n){"use strict";cc._RF.push(e,"e52deYNC1xHZZTf+vd3ux1T","ShopBoxLayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../lib/base/CxComponent"),s=t("../../../lib/base/PopupView"),c=t("../../../lib/utils/ComUtils"),l=t("../../event/Notify"),u=t("../../language/LanguageCfg"),d=t("../../model/DataProxy"),p=t("./ShopBoxItem"),h=cc._decorator,f=h.ccclass,g=h.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pListContent=null,e.pListItem=null,e.mListData=null,e}return i(e,t),e.prototype.listEvent=function(){return new Map([[l.Notify.Shop.RTN_BOX_SHOP_INFO_RESULT,this.onUpdateShopBox]])},e.prototype.init=function(t){t&&(this.mListData=t.goodsList)},e.prototype.start=function(){this.initData(),this.initTitle(),this.initLayer()},e.prototype.initData=function(){var t=d.DataProxy.getInstance().shopData.getBoxShopData();t&&(this.mListData=t.boxShopList),this.dispatch(l.Notify.Shop.REQ_BOX_SHOP_DATA_INFO)},e.prototype.initTitle=function(){s.PopupView.setTitle(this.node,c.ComUtils.getLang(u.LangKey.table_box_title))},e.prototype.initLayer=function(){this.initListView()},e.prototype.initListView=function(){if(this.pListContent&&this.mListData){this.pListContent.removeAllChildren();for(var t=0;t<this.mListData.length;t++)if(this.pListItem){var e=cc.instantiate(this.pListItem);if(e){this.pListContent.addChild(e);var n=e.getComponent("ShopBoxItem");n&&n.init({index:t,data:this.mListData[t]})}}}},e.prototype.updateAllItem=function(){var t=this;if(this.mListData){var e=this.getComponentsInChildren(p.default);if(e&&e.length==this.mListData.length){var n=0;e.forEach(function(e){if(e&&e.updateItem){var o=t.mListData[n];e.updateItem(o)}n++})}else this.initListView()}},e.prototype.onUpdateShopBox=function(t){t&&t.boxShopList&&(this.mListData=t.boxShopList,this.updateAllItem())},r([g(cc.Node)],e.prototype,"pListContent",void 0),r([g(cc.Prefab)],e.prototype,"pListItem",void 0),r([f],e)}(a.CxComponent);n.default=_,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../../lib/base/PopupView":"PopupView","../../../lib/utils/ComUtils":"ComUtils","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../../model/DataProxy":"DataProxy","./ShopBoxItem":"ShopBoxItem"}],ShopCoinsItem:[function(t,e,n){"use strict";cc._RF.push(e,"9e7e1MWETFN5JhcFIqi8rz6","ShopCoinsItem");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../lib/base/CxComponent"),s=t("../../../lib/utils/ComUtils"),c=t("../../../lib/utils/Logger"),l=t("../../const/Global"),u=t("../../event/Notify"),d=t("../ComUI"),p=cc._decorator,h=p.ccclass,f=p.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pSpriteAtlas=null,e.pMainLabel=null,e.pMainIcon=null,e.pBtnText=null,e.mIndex=0,e.mCurGoodsInfo=null,e}return i(e,t),e.prototype.init=function(t){this.mIndex=t.index||0,this.mCurGoodsInfo=t.goodsInfo},e.prototype.start=function(){var t=this.mCurGoodsInfo;t&&(this.initMainText(t),this.initMainIcon(t),this.initButton(t))},e.prototype.getMainIcon=function(t,e){return e.iBuyGroupID==l.gShopBuyGroup.GOLD_GROUP?(0==(t%=6)&&(t=6),"shop_item_gold_icon_"+t):"shop_item_gold_icon_1"},e.prototype.initMainText=function(t){if(this.pMainLabel)switch(t.iBuyGroupID){case l.gShopBuyGroup.GOLD_GROUP:this.pMainLabel.string=s.ComUtils.formatGoldStr(t.dwDesNum);break;default:this.pMainLabel.string=""}},e.prototype.initMainIcon=function(t){if(this.pMainIcon&&this.pMainIcon&&this.pSpriteAtlas){var e=this.getMainIcon(this.mIndex+1,t),n=this.pSpriteAtlas.getSpriteFrame(e);n||(e=this.getMainIcon(1,t)),n&&(this.pMainIcon.spriteFrame=n)}},e.prototype.initButton=function(t){var e=this.getSymbol(t)+""+t.dwSrcNum/100;this.pBtnText&&e&&(this.pBtnText.string=e)},e.prototype.getSymbol=function(t){return s.ComUtils.getCurrencySymbol(t.dwCurrencyType)},e.prototype.onClickButton=function(){this.mCurGoodsInfo&&(c.Logger.info("ShopCoinsItem: onClickButton good=",this.mCurGoodsInfo),d.ComUI.addLoading({time:1}),this.dispatch(u.Notify.Shop.REQ_BUY_GOODS_ACTION,this.mCurGoodsInfo))},r([f(cc.SpriteAtlas)],e.prototype,"pSpriteAtlas",void 0),r([f(cc.Label)],e.prototype,"pMainLabel",void 0),r([f(cc.Sprite)],e.prototype,"pMainIcon",void 0),r([f(cc.Label)],e.prototype,"pBtnText",void 0),r([h],e)}(a.CxComponent);n.default=g,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../../lib/utils/ComUtils":"ComUtils","../../../lib/utils/Logger":"Logger","../../const/Global":"Global","../../event/Notify":"Notify","../ComUI":"ComUI"}],"ShopCoinsLayer ":[function(t,e,n){"use strict";cc._RF.push(e,"0dc793PbZlAIoxLlNnwQ8Ch","ShopCoinsLayer ");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../lib/base/CxComponent"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pListContent=null,e.pListItem=null,e.mListData=null,e.isGameShop=!1,e}return i(e,t),e.prototype.init=function(t){t&&(this.mListData=t.goodsList,this.isGameShop=t.isGameShop)},e.prototype.updateContent=function(t){t&&(this.mListData=t,this.initListView())},e.prototype.start=function(){this.initLayer()},e.prototype.initLayer=function(){this.initListView()},e.prototype.initListView=function(){if(this.pListContent&&this.mListData){this.pListContent.removeAllChildren();for(var t=0;t<this.mListData.length;t++)if(this.pListItem){var e=cc.instantiate(this.pListItem);if(e){this.pListContent.addChild(e);var n=e.getComponent("ShopCoinsItem");n&&(n.init({index:t,goodsInfo:this.mListData[t]}),this.isGameShop&&(n.node.scale=.85))}}}},r([l(cc.Node)],e.prototype,"pListContent",void 0),r([l(cc.Prefab)],e.prototype,"pListItem",void 0),r([c],e)}(a.CxComponent);n.default=u,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent"}],ShopDataProxy:[function(t,e,n){"use strict";cc._RF.push(e,"af749VFqJtIioWiXFncAnM6","ShopDataProxy"),Object.defineProperty(n,"__esModule",{value:!0}),n.ShopDataProxy=void 0;var o=function(){function t(){this.mShopInfo=null,this.mBoxShopData=null,this.mSubsciptShop=null,this.mMixGiftData=null,this.mRevengeGift=null,this.mBoostGift=null,this.mShopInfo={},this.mBoxShopData={}}return Object.defineProperty(t.prototype,"revengeGift",{get:function(){return this.mRevengeGift},set:function(t){this.mRevengeGift=t},enumerable:!1,configurable:!0}),t.prototype.clear=function(){this.mShopInfo=null,this.mBoxShopData=null,this.mSubsciptShop=null,this.mMixGiftData=null,this.mRevengeGift=null},t.prototype.setShopInfo=function(t){this.mShopInfo=t},t.prototype.getShopInfo=function(){return this.mShopInfo},t.prototype.getGoodsByIdNum=function(t){var e=null,n=!1;if(this.mShopInfo&&this.mShopInfo.goodsList)for(var o=0;o<this.mShopInfo.goodsList.length;o++)if(this.mShopInfo.goodsList[o].dwGoodsID==t){e=this.mShopInfo.goodsList[o],n=!0;break}if(!n&&this.mRevengeGift&&this.mRevengeGift.goodsList)for(o=0;o<this.mRevengeGift.goodsList.length;o++)if(this.mRevengeGift.goodsList[o].dwGoodsID==t){e=this.mRevengeGift.goodsList[o],n=!0;break}if(n||this.mMixGiftData&&this.mMixGiftData.goodsInfo&&this.mMixGiftData.goodsInfo.dwGoodsID==t&&(e=this.mMixGiftData.goodsInfo,n=!0),!n&&this.mBoxShopData&&this.mBoxShopData.boxShopList)for(o=0;o<this.mBoxShopData.boxShopList.length;o++){var i=this.mBoxShopData.boxShopList[o];if(i&&i.goodsInfo&&i.goodsInfo.dwGoodsID==t){e=i.goodsInfo,n=!0;break}}if(!n&&this.mSubsciptShop&&this.mSubsciptShop.goodsInfo)for(o=0;o<this.mSubsciptShop.goodsInfo.length;o++)if(this.mSubsciptShop.goodsInfo[o].dwGoodsID==t){e=this.mSubsciptShop.goodsInfo[o],n=!0;break}return e},t.prototype.getGoodsByIdStr=function(t){var e=null,n=!1;if(this.mShopInfo&&this.mShopInfo.goodsList)for(var o=0;o<this.mShopInfo.goodsList.length;o++)if(this.mShopInfo.goodsList[o].strProductNo==t){e=this.mShopInfo.goodsList[o],n=!0;break}if(!n&&this.mRevengeGift&&this.mRevengeGift.goodsList)for(o=0;o<this.mRevengeGift.goodsList.length;o++)if(this.mRevengeGift.goodsList[o].strProductNo==t){e=this.mRevengeGift.goodsList[o],n=!0;break}if(n||this.mMixGiftData&&this.mMixGiftData.goodsInfo&&this.mMixGiftData.goodsInfo.strProductNo==t&&(e=this.mMixGiftData.goodsInfo,n=!0),!n&&this.mBoxShopData&&this.mBoxShopData.boxShopList)for(o=0;o<this.mBoxShopData.boxShopList.length;o++){var i=this.mBoxShopData.boxShopList[o];if(i&&i.goodsInfo&&i.goodsInfo.strProductNo==t){e=i.goodsInfo,n=!0;break}}if(!n&&this.mSubsciptShop&&this.mSubsciptShop.goodsInfo)for(o=0;o<this.mSubsciptShop.goodsInfo.length;o++)if(this.mSubsciptShop.goodsInfo[o].strProductNo==t){e=this.mSubsciptShop.goodsInfo[o],n=!0;break}return e},t.prototype.setBoxShopData=function(t){this.mBoxShopData=t},t.prototype.getBoxShopData=function(){return this.mBoxShopData},t.prototype.parseGoodsMap=function(t,e){if(t&&e){var n=[];e.forEach(function(t){t&&t.iBuyGroupID&&(n.includes(t.iBuyGroupID)||n.push(t.iBuyGroupID))}),n.forEach(function(n){if(n){for(var o=new Array,i=0;i<e.length;i++){var r=e[i];r&&r.iBuyGroupID&&r.iBuyGroupID==n&&o.push(r)}t.set(""+n,o)}})}},t.prototype.getGoodsByGroup=function(t){var e=[],n=this.mShopInfo;if(t&&n&&n.goodsMap){var o=n.goodsMap.get(""+t);o&&(e=o)}return e},t.prototype.getGoodsGroupFromList=function(t){var e=[],n=this.mShopInfo;if(n)for(var o=0;o<n.goodsList.length;o++){var i=n.goodsList[o];i.iBuyGroupID==t&&e.push(i)}return e},t.prototype.getDailyStoreNotUsed=function(){var t=!1;if(this.mShopInfo&&this.mShopInfo.goodsExData){var e=this.mShopInfo.goodsExData.isday;t=null==e||1!=e}return t},t.prototype.setSubsciptData=function(t){this.mSubsciptShop=t},t.prototype.getSubsciptData=function(){return this.mSubsciptShop},t.prototype.getSubsciptGoodsInfo=function(){if(this.mSubsciptShop)return this.mSubsciptShop.goodsInfo},t.prototype.setBoostGiftData=function(t){this.mBoostGift=t},t.prototype.getBoostGiftData=function(){return this.mBoostGift},t}();n.ShopDataProxy=o,cc._RF.pop()},{}],ShopHandler:[function(t,e,n){"use strict";cc._RF.push(e,"11412LEV+NBwKG+O1n/0Diq","ShopHandler");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.ShopHandler=void 0;var r=t("../../base/handler/ProxyHandler"),a=t("../../event/Notify"),s=t("../../../plugin/pb/protofile/GlobalMsgDef"),c=t("./CMD_ShopMsg"),l=t("../../../lib/utils/ComUtils"),u=t("../../const/Global"),d=t("../../view/ComUI"),p=t("../../../lib/utils/Logger"),h=t("../../platform/PyManager"),f=t("../../language/LanguageCfg"),g=t("../../config/GameConfig"),_=t("../../event/GuiEvent"),y=t("../../view/ComFunctions"),m=t("../buryPoint/BuryPoint"),b=t("./../buryPoint/BuryPointUtils"),v=t("../../model/DataProxy"),S=t("../../../lib/base/PopUpLogic"),w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.SERVER_ID=70,e}return i(e,t),e.prototype.getName=function(){return"ShopHandler"},e.prototype.protocolConfig=function(){return[{protocol:c.MSG_SC_RtnGoodsInfo,subid:c.SHOP_SUB_MSG.MSGID_SC_RTN_SHOPGOODSLIST,cb:this.onRtnShopGoodsInfo},{protocol:c.MSG_SC_RtnPayData,subid:c.SHOP_SUB_MSG.MSGID_SC_RTN_PAY_DATA,cb:this.onRtnPayData},{protocol:c.MSG_SC_BuyGoodsSuccess,subid:c.SHOP_SUB_MSG.MSGID_SC_RTN_BUYGOODSUCCESS,cb:this.onBuyGoodsSuccess},{protocol:c.MSG_SC_BuyGoodsFailed,subid:c.SHOP_SUB_MSG.MSGID_SC_RTN_BUYGOODSFAILED,cb:this.onBuyGoodsFailed},{protocol:c.MSG_SC_RtnBoxInfo,subid:c.SHOP_SUB_MSG.MSGID_SC_RTN_BOXSHOPDATA,cb:this.onGetBoxShopInfo},{protocol:c.MSG_SC_OpenBox_Result,subid:c.SHOP_SUB_MSG.MSGID_SC_BUY_OPENSHOPBOXRESULT,cb:this.onOpenBoxShopResult},{protocol:c.MSG_SC_RtnSubsciptionInfo,subid:c.SHOP_SUB_MSG.MSGID_SC_RTN_SUBSCIPTIONSHOPDATA,cb:this.onRtnSubsciptionInfo},{protocol:c.MSG_SC_RtnInformGodenPassReward,subid:c.SHOP_SUB_MSG.MSGID_SC_RTN_INFORMGODENPASS,cb:this.onRtnSubscipttionResult},{protocol:c.MSG_SC_RtnMixSubGiftInfo,subid:c.SHOP_SUB_MSG.MSGID_SC_RTN_SUBMIXGIFTINFO,cb:this.onRtnMixGift},{protocol:c.MSG_SC_RtnSubPCGiftInfo,subid:c.SHOP_SUB_MSG.MSGID_SC_RTN_SUBPCGIFTINFO,cb:this.onRtnBankRuptGift},{protocol:c.MSG_SC_RtnSubReviveGiftInfo,subid:c.SHOP_SUB_MSG.MSGID_SC_RTN_SUBREVIVEGIFTINFO,cb:this.onRtnRevengeGiftInfo},{protocol:c.MSG_SC_RtnHelpGiftInfo,subid:c.SHOP_SUB_MSG.MSGID_SC_RTN_SUBHELPGIFTINFO,cb:this.onRtnBoostGiftInfo}]},e.prototype.initEvent=function(){t.prototype.initEvent.call(this),this.addEvent(a.Notify.Gate.GATE_LOGIN_SUCCESS,this.onGateLoginSucc),this.addEvent(a.Notify.Shop.REQ_SHOP_BASE_INFO,this.sendOpenShop),this.addEvent(a.Notify.Shop.REQ_BUY_GOODS_ACTION,this.sendBuyGoodsAction),this.addEvent(a.Notify.Shop.REQ_BOX_SHOP_DATA_INFO,this.sendGetBoxShopInfo),this.addEvent(a.Notify.Shop.REQ_OPEN_BOX_SHOP_ACTION,this.sendOpenBoxShopAction),this.addEvent(a.Notify.Shop.REQ_GOLDEN_PASS_INFO,this.reqSubsciptionInfo),this.addEvent(a.Notify.Shop.REQ_BUY_GOLDEN_PASS,this.sendSubscriptionGoldenPass),this.addEvent(a.Notify.Shop.REQ_MIX_GIFT,this.reqMixGift),this.addEvent(a.Notify.Shop.REQ_BANKRUPT_GIFT,this.reqBankRuptGift),this.addEvent(_.GuiEvent.UI.SHOW_BANKRUPT_GIFT,this.onDispalyBankGift),this.addEvent(a.Notify.Shop.REQ_REVENGE_GIFT,this.reqRevengeGiftInfo),this.addEvent(a.Notify.Shop.REQ_BOOST_GIFT,this.reqBoostGift)},e.prototype.getMainID=function(){return s.MAIN_MSG_ID.MAIN_MSG_SHOP_ID},e.prototype.clear=function(){this.removeEvent()},e.prototype.getOpenShopUIBody=function(t){var e,n=u.gShopBuySrcType.LOBBY;t&&(n=t.iBuySrcID||u.gShopBuySrcType.LOBBY);var o={};o.projectid=g.GameConfig.g().getProjectId(),e=JSON.stringify(o);var i=new c.MSG_CS_OpenShopUI;return i.iBuySrcID=n,i.strExData=l.ComUtils.utf8StrToU8(e),i},e.prototype.getOtherHead=function(t,e){var n=t,o=void 0===e?n:e,i=new s.Msg_OtherServerHead;return i.dwGameID=n,i.dwGameTypeID=o,i.strUUID=this.userData.sessionId,i},e.prototype.onGateLoginSucc=function(){p.Logger.info("==== ShopHandler onGateLoginSucc ==="),this.requestBaseCfg()},e.prototype.requestBaseCfg=function(){this.dispatch(a.Notify.Shop.REQ_GOLDEN_PASS_INFO)},e.prototype.sendOpenShop=function(){this.sendRequest(this.getOpenShopUIBody(),this.getMainID(),c.SHOP_SUB_MSG.MSGID_CS_OPEN_SHOPUI,this.getOtherHead(this.SERVER_ID))},e.prototype.onRtnShopGoodsInfo=function(t){var e=t.data,n={};n.iBuySrcID=e.iBuySrcID,e.strPayExData&&(n.goodsExData=this.parseExtraInfo(e.strPayExData)),n.goodsList=new Array,e.tabGoodsList&&this.addGoodsList(n.goodsList,e.tabGoodsList),e.tabOtherGoodsList&&this.addGoodsList(n.goodsList,e.tabOtherGoodsList),n.goodsMap=new Map,this.shopData.parseGoodsMap(n.goodsMap,n.goodsList),p.Logger.info("onRtnShopGoodsInfo() shopInfo=",n),this.shopData.setShopInfo(n),this.dispatch(a.Notify.Shop.UPDATE_SHOP_INFO,n);var o=this.otherData.tangKuangInfo;o&&n&&!o.hasPopFuFei&&o.bPopFuFei&&(o.hasPopFuFei=!0,S.PopUpLogic.getInstance().canAutoPopByName(_.GuiEvent.PopMsg.DISPLAY_SHOP_SPECIAL_SALE)&&this.dispatch(_.GuiEvent.PopMsg.DISPLAY_SHOP_SPECIAL_SALE,{autoPop:!0}))},e.prototype.reqServerSendGoods=function(t){var e=this.shopData.getShopInfo(),n=new c.MSG_CS_BuyGoodsAction,o={};o.projectid=g.GameConfig.g().getProjectId();var i=JSON.stringify(o);n.dwBGID=t.iBuyGroupID,n.dwGoodsID=t.dwGoodsID,n.iPayModeID=t.payMode.payID,n.iBuySrcID=e.iBuySrcID||u.gShopBuySrcType.LOBBY,n.strExData=l.ComUtils.utf8StrToU8(i),this.sendRequest(n,this.getMainID(),c.SHOP_SUB_MSG.MSGID_CS_BUY_GOODS_ACTION,this.getOtherHead(this.SERVER_ID)),cc.log("reqServerSendGoods() requestBody =========>",n)},e.prototype.sendBuyGoodsAction=function(t){t&&this.reqServerSendGoods(t,!0)},e.prototype.parseGoodsInfo=function(t){var e={};if(e.iBuyGroupID=t.dwBGID,e.dwGoodsID=t.dwGoodsID,e.strProductNo=t.strProductNo||"",e.strName=l.ComUtils.u8ToUTF8Str(t.strName),e.dwSrcGoodsType=t.dwSrcGoodsType,e.dwForeSrcNum=t.dwForeSrcNum||0,e.dwSrcNum=t.dwSrcNum,e.dwDesGoodsType=t.dwDesGoodsType,e.dwDesNum=t.dwDesNum,e.dwExDesNum=t.dwExDesNum,e.dwDZ=t.dwDZ||0,e.strProductDes=l.ComUtils.u8ToUTF8Str(t.strProductDes),e.dwCurrencyType=t.dwCurrencyType,e.bHot=!1,e.dwPayStatus=0,e.dwGetStatus=0,e.pExtraData=null,t.strExData){var n=this.parseExtraInfo(t.strExData);e.pExtraData=n,n&&(e.bHot=n.bHot||!1,e.dwPayStatus=n.dwPayStatus||0,e.dwGetStatus=n.dwGetStatus||0)}return t.tabPayData&&(e.payMode={},e.payMode.chName=l.ComUtils.u8ToUTF8Str(t.tabPayData.chName),e.payMode.dwZS=t.tabPayData.dwZS,e.payMode.payID=t.tabPayData.dwID),e},e.prototype.addGoodsList=function(t,e){if(t&&e)for(var n=0;n<e.length;n++){var o=this.parseGoodsInfo(e[n]);o.index=n,o.sort=0,o.pExtraData&&o.pExtraData.sort&&(o.sort=o.pExtraData.sort),t.push(o)}},e.prototype.parseExtraInfo=function(t){var e={};if(t){var n=l.ComUtils.u8ToUTF8Str(t);n&&n.length>0&&(e=JSON.parse(n))}return e},e.prototype.onRtnPayData=function(t){var e=t.data,n=l.ComUtils.u8ToUTF8Str(e.strPayData),o=JSON.parse(n);o&&h.default.doBuy(o)},e.prototype.onBuyGoodsSuccess=function(t){var e=this,n=t.data,o={strName:l.ComUtils.u8ToUTF8Str(n.strName),dwGoodsID:n.dwGoodsID,dwSrcGoodsType:n.dwSrcGoodsType,dwSrcNum:n.dwSrcNum,dwForeSrcNum:n.dwForeSrcNum,dwDesGoodsType:n.dwDesGoodsType,dwDesNum:n.dwDesNum,strOrderID:n.strOrderID,extraInfo:this.parseExtraInfo(n.strExData)};this.dispatch(a.Notify.Shop.RTN_BUY_GOODS_SUCCESS,o),h.default.doBuySuccess(o),d.ComUI.rmLoading();var i=n.dwBGID;if(i==u.gShopBuyGroup.GOLD_GROUP)this.playGoldAni(n.dwDesNum);else if(i==u.gShopBuyGroup.POWER_GROUP)this.playPowerAni(n.dwDesNum);else if(i==u.gShopBuyGroup.MIX_GROUP){var r=o.extraInfo;r&&r.mix&&r.mix.forEach(function(t){t&&t.type&&(t.type==u.gShopHBType.GOLD?e.playGoldAni(t.num):t.type==u.gShopHBType.POWER&&e.playPowerAni(t.num))})}else i==u.gShopBuyGroup.BOX_GROUP||(n.dwDesGoodsType==u.gShopHBType.GOLD?this.playGoldAni(n.dwDesNum):d.ComUI.showDialog({text:l.ComUtils.getLang(f.LangKey.text_succ_purchase)}));this.dispatch(a.Notify.Shop.REQ_SHOP_BASE_INFO),this.dispatch(a.Notify.Other.REQ_TANG_KUANG_INFO),this.reqBankRuptGift(null),this.dispatch(a.Notify.FFD.REQ_OTHER_GG_INFO)},e.prototype.playGoldAni=function(t){var e=u.gSceneType.Lobby;this.gameData.enterGameId>0&&this.gameData.enterSceneInfo&&(e=this.gameData.enterSceneInfo.fromScene),this.dispatch(_.GuiEvent.Anim.COM_AWARD_ANIM,{awardNum:t,scene:e})},e.prototype.playPowerAni=function(t){var e=u.gSceneType.Lobby;this.gameData.enterGameId>0&&this.gameData.enterSceneInfo&&(e=this.gameData.enterSceneInfo.fromScene),this.dispatch(_.GuiEvent.Anim.COM_POWER_ANIM,{awardNum:t,scene:e})},e.prototype.onBuyGoodsFailed=function(t){var e=t.data,n={dwGoodsID:e.dwGoodsID,errcode:e.errcode,errlineID:e.errlineID};this.dispatch(a.Notify.Shop.RTN_BUY_GOODS_FAILED,n),d.ComUI.rmLoading(),d.ComUI.showDialog({text:l.ComUtils.getLang(f.LangKey.text_purchase_fail)}),b.BuryPointUtils.send(m.BuryPoint.Operation.Lobby.BuyGoodsFailed,JSON.stringify({goodsId:e.dwGoodsID,errlineID:e.errlineID}))},e.prototype.sendGetBoxShopInfo=function(){this.sendRequest(this.getOpenShopUIBody(),this.getMainID(),c.SHOP_SUB_MSG.MSGID_CS_OPEN_BOXSHOP,this.getOtherHead(this.SERVER_ID))},e.prototype.onGetBoxShopInfo=function(t){var e=this,n=t.data,o={};o.bIsHongDian=n.bIsHongDian,o.boxShopList=new Array,n.boxData&&(n.boxData.forEach(function(t){var n=e.parseBoxShopData(t);n&&o.boxShopList.push(n)}),o.boxShopList.sort(function(t,e){return t.dwID-e.dwID})),this.shopData.mBoxShopData=o,this.dispatch(a.Notify.Shop.RTN_BOX_SHOP_INFO_RESULT,o)},e.prototype.parsePieceInfo=function(t){var e=[];if(t){var n=l.ComUtils.u8ToUTF8Str(t);n&&n.length>0&&(e=JSON.parse(n))}return e},e.prototype.parseBoxShopData=function(t){var e=this,n=null;return t&&((n={}).dwID=t.dwID,n.bIsEnabled=t.bIsEnabled,n.dwType=t.dwType,n.strBoxName=l.ComUtils.u8ToUTF8Str(t.dwBoxName),n.dwStatus=t.dwStatus,n.dwSYTime=t.dwSYTime,n.dwStartTime=Math.floor((new Date).getTime()/1e3),n.rewardList=new Array,t.RewardList&&t.RewardList.forEach(function(t){if(t){var o={};o.dwType=t.dwType,o.dwNum=t.dwNum,o.dwMinNum=t.dwMinNum,o.dwMaxNum=t.dwMaxNum,o.extraPieceInfo=e.parsePieceInfo(t.chPieceInfo),n.rewardList.push(o)}}),n.fufeiList=new Array,t.BuyWay&&t.BuyWay.forEach(function(t){if(t){var e={};e.dwType=t.dwType,e.dwCoumNum=t.dwCoumNum,n.fufeiList.push(e)}}),t.chGoodInfo&&(n.goodsInfo=this.parseGoodsInfo(t.chGoodInfo))),n},e.prototype.sendOpenBoxShopAction=function(t){if(t&&t.boxData){var e=t.boxData,n=t.buyWay||0,o=t.iBuySrcID||u.gShopBuySrcType.LOBBY,i=new c.MSG_CS_OpenBox;i.dwID=e.dwID,i.dwBuyWay=n,i.iBuySrcID=o,i.strExData=l.ComUtils.utf8StrToU8(""),e.goodsInfo&&(i.dwGoodsID=e.goodsInfo.dwGoodsID,i.dwBGID=e.goodsInfo.iBuyGroupID,i.iPayModeID=e.goodsInfo.payMode.payID),cc.log("shop: sendOpenBoxShopAction: =========> body=",i),this.sendRequest(i,this.getMainID(),c.SHOP_SUB_MSG.MSGID_CS_BUY_OPENSHOPBOX,this.getOtherHead(this.SERVER_ID))}},e.prototype.onOpenBoxShopResult=function(t){var e=t.data,n={};n.bIsResult=e.bIsResult,n.dwError=e.dwError,n.dwID=e.dwID,n.rewardList=y.ComFunctions.parseTableReward(e.reward),n.chipList=y.ComFunctions.parseChipArray(e.tabChips),this.dispatch(a.Notify.Shop.RTN_OPEN_BOX_SHOP_ACTION_RESULT,n),n.bIsResult&&(this.dispatch(a.Notify.Shop.REQ_BOX_SHOP_DATA_INFO),this.dispatch(a.Notify.Tables.REQ_TABLES_LIST),this.dispatch(a.Notify.Tables.REQ_TABLE_RED_DOT),this.dispatch(_.GuiEvent.PopMsg.SHOW_TABLE_BOX_REWARD,n))},e.prototype.addSubscriptionInfoList=function(t,e){if(t&&e)for(var n=0;n<e.length;n++){var o=this.parseGoodsInfo(e[n].chGoodInfo);o.index=n,o.sort=0,o.pExtraData&&o.pExtraData.sort&&(o.sort=o.pExtraData.sort),t.push(o)}},e.prototype.sendSubscriptionGoldenPass=function(t){var e=this.shopData.getSubsciptGoodsInfo()[t];cc.log("goldenPass \u53d1\u8d77\u8d2d\u4e70",e),this.dispatch(a.Notify.Shop.REQ_BUY_GOODS_ACTION,e)},e.prototype.reqSubsciptionInfo=function(){this.sendRequest(this.getOpenShopUIBody(),this.getMainID(),c.SHOP_SUB_MSG.MSGID_CS_GET_SUBSCIPTIONSHOP,this.getOtherHead(this.SERVER_ID))},e.prototype.onRtnSubsciptionInfo=function(t){var e=this,n=t.data,o=[],i=n.GodenPassData;if(i.forEach(function(t){var n=e.parseGoodsInfo(t.chGoodInfo);o.push(n)}),i&&i.length>0){var r={leftTime:n.dwTime,goldReward:n.tabReward[0].dwNum,rightsInfo:l.ComUtils.u8ToUTF8Str(i[0].chInfo),goodsInfo:o};this.shopData.setSubsciptData(r),this.dispatch(a.Notify.Shop.RTN_GOLDEN_PASS_INFO,r)}},e.prototype.onRtnSubscipttionResult=function(t){var e=t.data;this.userData.bIsGoldenPass=!0,this.dispatch(a.Notify.GoldenPass.SUBSCRIBE_SUCC,{succ:!0}),this.dispatch(_.GuiEvent.PopMsg.DISPLAY_GOLDEN_PASS_BUY_SUCC,e),this.dispatch(a.Notify.GoldenPass.REQ_INFO),this.dispatch(a.Notify.GoldenPass.REQ_GOLDEN_BONUS),this.dispatch(a.Notify.GoldenPass.REQ_GOLDEN_BONUS_REDPOINT)},e.prototype.reqMixGift=function(){this.sendRequest(this.getOpenShopUIBody(),this.getMainID(),c.SHOP_SUB_MSG.MSGID_CS_GET_SUBMIXGIFT,this.getOtherHead(this.SERVER_ID)),cc.log("\u8bf7\u6c42\u6df7\u5408\u793c\u5305\u6570\u636e ====>")},e.prototype.onRtnMixGift=function(t){var e=t.data;cc.log("\u8fd4\u56de\u6df7\u5408\u793c\u5305\u6570\u636e",e);var n={};n.goodsList=new Array,e.tabGoodsInfo&&this.addGoodsList(n.goodsList,[e.tabGoodsInfo]);var o={dwTime:e.dwTime,goodsInfo:n.goodsList[0],bIsTag:e.bIsTag};v.DataProxy.getInstance().shopData.mMixGiftData=o,this.dispatch(a.Notify.Shop.RTN_MIX_GIFT)},e.prototype.reqBankRuptGift=function(t){var e=this.getOpenShopUIBody(),n={};n.projectid=g.GameConfig.g().getProjectId(),n.gameid=t||0;var o=JSON.stringify(n);e.strExData=l.ComUtils.utf8StrToU8(o),this.sendRequest(e,this.getMainID(),c.SHOP_SUB_MSG.MSGID_CS_GET_SUBPCGIFT,this.getOtherHead(this.SERVER_ID)),p.Logger.info("\u8bf7\u6c42\u7834\u4ea7\u793c\u5305\u6570\u636e ====> gameid="+t)},e.prototype.onRtnBankRuptGift=function(t){var e=t.data;p.Logger.info("\u8fd4\u56de\u7834\u4ea7\u793c\u5305\u6570\u636e <====",e),v.DataProxy.getInstance().otherData.bankruptGift=e,this.dispatch(a.Notify.Game.REMATCH_BTN_CLIKCABLE);var n=new Array;this.addGoodsList(n,[this.otherData.bankruptGift.tabGoodsInfo]),this.dispatch(a.Notify.Shop.RTN_BANKRUPT_GIFT,n)},e.prototype.onDispalyBankGift=function(t){null!=t&&t>=0&&this.reqBankRuptGift(t);var e=new Array;this.otherData.bankruptGift&&this.otherData.bankruptGift.tabGoodsInfo&&(this.addGoodsList(e,[this.otherData.bankruptGift.tabGoodsInfo]),v.DataProxy.getInstance().comData.isInGame()?S.PopUpLogic.getInstance().canAutoPopByName(_.GuiEvent.PopMsg.DISPLAY_BANKRUPT_GIFT)&&this.dispatch(_.GuiEvent.PopMsg.DISPLAY_BANKRUPT_GIFT,{autoPop:!0,data:e}):this.dispatch(_.GuiEvent.PopMsg.DISPLAY_BANKRUPT_GIFT,e))},e.prototype.reqRevengeGiftInfo=function(){this.sendRequest(this.getOpenShopUIBody(),this.getMainID(),c.SHOP_SUB_MSG.MSGID_CS_GET_SUBREVIVEGIFT,this.getOtherHead(this.SERVER_ID))},e.prototype.onRtnRevengeGiftInfo=function(t){var e=t.data,n={};n.goodsList=new Array,n.bIsTag=e.bIsTag,e.tabGoodsInfo&&this.addGoodsList(n.goodsList,e.tabGoodsInfo),v.DataProxy.getInstance().shopData.revengeGift=n,this.dispatch(a.Notify.Shop.RSP_REVENGE_GIFT,n)},e.prototype.reqBoostGift=function(){cc.log(" ===========> \u8bf7\u6c42\u52a9\u529b\u793c\u5305\u6570\u636e"),this.sendRequest(this.getOpenShopUIBody(),this.getMainID(),c.SHOP_SUB_MSG.MSGID_CS_GET_SUBHELPGIFT,this.getOtherHead(this.SERVER_ID))},e.prototype.onRtnBoostGiftInfo=function(t){var e=this,n=t.data;cc.log(" <=========== \u8fd4\u56de\u52a9\u529b\u793c\u5305\u6570\u636e",n);var o=[];n.tabGoodsInfo.forEach(function(t){var n=e.parseGoodsInfo(t);o.push(n)});var i={bIsTag:n.bIsTag,goodsInfo:o};this.shopData.setBoostGiftData(i),this.dispatch(a.Notify.Shop.RSP_BOOST_GIFT,i)},e}(r.ProxyHandler);n.ShopHandler=w,cc._RF.pop()},{"../../../lib/base/PopUpLogic":"PopUpLogic","../../../lib/utils/ComUtils":"ComUtils","../../../lib/utils/Logger":"Logger","../../../plugin/pb/protofile/GlobalMsgDef":"GlobalMsgDef","../../base/handler/ProxyHandler":"ProxyHandler","../../config/GameConfig":"GameConfig","../../const/Global":"Global","../../event/GuiEvent":"GuiEvent","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../../model/DataProxy":"DataProxy","../../platform/PyManager":"PyManager","../../view/ComFunctions":"ComFunctions","../../view/ComUI":"ComUI","../buryPoint/BuryPoint":"BuryPoint","./../buryPoint/BuryPointUtils":"BuryPointUtils","./CMD_ShopMsg":"CMD_ShopMsg"}],ShopItem:[function(t,e,n){"use strict";cc._RF.push(e,"3c621ii2nBAUKeH5e08wclP","ShopItem");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../lib/base/CxComponent"),s=t("../../../lib/utils/ComUtils"),c=t("../../../lib/utils/Logger"),l=t("../../const/Global"),u=t("../../event/Notify"),d=t("../ComUI"),p=cc._decorator,h=p.ccclass,f=p.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pSpriteAtlas=null,e.pMainLabel=null,e.pSubLabel=null,e.pMainIcon=null,e.pBtnText=null,e.pHotIcon=null,e.mIndex=0,e.mCurGoodsInfo=null,e}return i(e,t),e.prototype.init=function(t){this.mIndex=t.index||0,this.mCurGoodsInfo=t.goodsInfo},e.prototype.start=function(){var t=this.mCurGoodsInfo;t&&(this.initMainText(t),this.initMainIcon(t),this.initButton(t),this.initHotIcon(t))},e.prototype.getMainIcon=function(t){if(t.iBuyGroupID==l.gShopBuyGroup.GOLD_GROUP){var e=t.index+1;return e<=4?"shop_item_gold_icon_"+e:"shop_item_gold_icon_1"}return"shop_item_gold_icon_1"},e.prototype.initMainText=function(t){if(this.pMainLabel)switch(t.iBuyGroupID){case l.gShopBuyGroup.GOLD_GROUP:case l.gShopBuyGroup.DAILY_GROUP:this.pMainLabel.string=s.ComUtils.formatGoldStr(t.dwDesNum);break;default:this.pMainLabel.string=""}},e.prototype.initMainIcon=function(t){if(this.pMainIcon&&this.pSpriteAtlas){var e=this.getMainIcon(t),n=this.pSpriteAtlas.getSpriteFrame(e);n&&(this.pMainIcon.spriteFrame=n)}},e.prototype.initButton=function(t){var e=this.getSymbol(t)+""+t.dwSrcNum/100;this.pBtnText&&e&&(this.pBtnText.string=e)},e.prototype.getSymbol=function(t){return s.ComUtils.getCurrencySymbol(t.dwCurrencyType)},e.prototype.initHotIcon=function(t){this.pHotIcon&&(t.bHot?this.pHotIcon.node.active=!0:this.pHotIcon.node.active=!1)},e.prototype.onClickButton=function(){c.Logger.info("ShopGoodsItem: onClickButton"),this.mCurGoodsInfo&&(d.ComUI.addLoading({time:1}),this.dispatch(u.Notify.Shop.REQ_BUY_GOODS_ACTION,this.mCurGoodsInfo))},r([f(cc.SpriteAtlas)],e.prototype,"pSpriteAtlas",void 0),r([f(cc.Label)],e.prototype,"pMainLabel",void 0),r([f(cc.Label)],e.prototype,"pSubLabel",void 0),r([f(cc.Sprite)],e.prototype,"pMainIcon",void 0),r([f(cc.Label)],e.prototype,"pBtnText",void 0),r([f(cc.Sprite)],e.prototype,"pHotIcon",void 0),r([h],e)}(a.CxComponent);n.default=g,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../../lib/utils/ComUtils":"ComUtils","../../../lib/utils/Logger":"Logger","../../const/Global":"Global","../../event/Notify":"Notify","../ComUI":"ComUI"}],ShopLayer:[function(t,e,n){"use strict";cc._RF.push(e,"82909EisVFAt4ZVvYmrOcQ4","ShopLayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./../../../lib/utils/ScreenAdapter"),s=t("../../../lib/base/CxComponent"),c=t("../../const/Global"),l=t("../../event/Notify"),u=t("../../model/DataProxy"),d=t("./ShopCoinsLayer "),p=t("./ShopPowerLayer"),h=cc._decorator,f=h.ccclass,g=h.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pMainContent=null,e.pMainBg=null,e.pCoinsView=null,e.pPowerView=null,e.pCoinsBtn=null,e.pPowerBtn=null,e.pCloseBtn=null,e.pGoldNode=null,e.pGoldInfo=null,e.pPowerNode=null,e.pPowerInfo=null,e.isGameShop=!1,e.mShopInfo=null,e.mViewData=null,e.mTag=c.gShopBuyGroup.GOLD_GROUP,e}return i(e,t),e.prototype.listEvent=function(){return new Map([[l.Notify.Shop.UPDATE_SHOP_INFO,this.onUpdateShop]])},e.prototype.init=function(t){t&&(this.mTag=t.tag||c.gShopBuyGroup.GOLD_GROUP,this.mShopInfo=t.shopInfo)},e.prototype.start=function(){this.dispatch(l.Notify.AD.HIDE_BANNER),this.initData(),this.initView(),this.initTop(),this.pCloseBtn&&(a.ScreenAdapter.paddingTop(this.pCloseBtn.node),a.ScreenAdapter.paddingLeft(this.pCloseBtn.node)),this.pGoldNode&&a.ScreenAdapter.paddingTop(this.pGoldNode),this.pPowerNode&&a.ScreenAdapter.paddingTop(this.pPowerNode),this.pMainBg&&a.ScreenAdapter.paddingTop(this.pMainBg),this.pMainContent&&a.ScreenAdapter.paddingTop(this.pMainContent)},e.prototype.initData=function(){this.mViewData=[{tag:c.gShopBuyGroup.POWER_GROUP,prefab:this.pPowerView,className:p.default,name:"power_layer",view:null,script:null},{tag:c.gShopBuyGroup.GOLD_GROUP,prefab:this.pCoinsView,className:d.default,name:"coins_layer",view:null,script:null}],this.mShopInfo||this.dispatch(l.Notify.Shop.REQ_SHOP_BASE_INFO),this.dispatch(l.Notify.Shop.REQ_BOX_SHOP_DATA_INFO)},e.prototype.getViewData=function(t){return t?u.DataProxy.getInstance().shopData.getGoodsByGroup(t):null},e.prototype.initView=function(){this.initButton(),this.initContent()},e.prototype.initTop=function(){this.addNodeToPrefab(this.pGoldNode,this.pGoldInfo,"ComGoldInfo"),this.addNodeToPrefab(this.pPowerNode,this.pPowerInfo,"ComPowerInfo")},e.prototype.addNodeToPrefab=function(t,e,n){if(t&&e){var o=cc.instantiate(e);t.addChild(o);var i=o.getComponent(n);i&&i.init&&i.init({fromScene:c.gSceneType.Lobby,subView:c.gSubViewType.Shop})}},e.prototype.initButton=function(){var t=this;[{tag:c.gShopBuyGroup.GOLD_GROUP,btn:this.pCoinsBtn},{tag:c.gShopBuyGroup.POWER_GROUP,btn:this.pPowerBtn}].forEach(function(e){t.mTag==e.tag?t.setBtnStatus(e.btn,!0):t.setBtnStatus(e.btn,!1)})},e.prototype.setBtnStatus=function(t,e){if(t){var n=t.node.getChildByName("Background");if(n){var o=n.getChildByName("normal"),i=n.getChildByName("select");e?(o.active=!1,i.active=!0):(o.active=!0,i.active=!1)}}},e.prototype.initContent=function(){var t=this;this.mViewData&&this.mViewData.forEach(function(e){if(e&&e.prefab){var n=e.view;if(null==n&&(n=cc.instantiate(e.prefab))){n.name=e.name;var o=n.getComponent(e.className);if(o&&o.init){var i=t.getViewData(e.tag);o.init({goodsList:i,isGameShop:t.isGameShop})}e.view=n,e.script=o,t.pMainContent&&t.pMainContent.addChild(n)}e.tag==t.mTag?n.active=!0:n.active=!1}})},e.prototype.updateContent=function(){var t=this;this.mViewData&&this.mViewData.forEach(function(e){if(e&&e.script&&e.tag&&e.script.updateContent){var n=t.getViewData(e.tag);n&&e.script.updateContent(n)}})},e.prototype.switchTag=function(t){this.mTag=t,this.initView()},e.prototype.onClickTag=function(t,e){"power"==e?this.switchTag(c.gShopBuyGroup.POWER_GROUP):"coins"==e&&this.switchTag(c.gShopBuyGroup.GOLD_GROUP)},e.prototype.onUpdateShop=function(t){t&&(this.mShopInfo=t,this.initView(),this.updateContent())},e.prototype.onClose=function(){this.node.destroy()},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),this.dispatch(l.Notify.AD.RESHOW_BANNER)},r([g(cc.Node)],e.prototype,"pMainContent",void 0),r([g(cc.Node)],e.prototype,"pMainBg",void 0),r([g(cc.Prefab)],e.prototype,"pCoinsView",void 0),r([g(cc.Prefab)],e.prototype,"pPowerView",void 0),r([g(cc.Button)],e.prototype,"pCoinsBtn",void 0),r([g(cc.Button)],e.prototype,"pPowerBtn",void 0),r([g(cc.Button)],e.prototype,"pCloseBtn",void 0),r([g(cc.Node)],e.prototype,"pGoldNode",void 0),r([g(cc.Prefab)],e.prototype,"pGoldInfo",void 0),r([g(cc.Node)],e.prototype,"pPowerNode",void 0),r([g(cc.Prefab)],e.prototype,"pPowerInfo",void 0),r([g({tooltip:"\u662f\u4e0d\u662f\u6e38\u620f\u5546\u57ce"})],e.prototype,"isGameShop",void 0),r([f],e)}(s.CxComponent);n.default=_,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../const/Global":"Global","../../event/Notify":"Notify","../../model/DataProxy":"DataProxy","./../../../lib/utils/ScreenAdapter":"ScreenAdapter","./ShopCoinsLayer ":"ShopCoinsLayer ","./ShopPowerLayer":"ShopPowerLayer"}],ShopMsg:[function(t,e,n){"use strict";cc._RF.push(e,"a3a6b9YWvxJhrCK5yYOtpUR","ShopMsg");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.ShopMsg=void 0;var r=t("../../../lib/external/ByteArray"),a=t("../../../lib/network/struct/StructProtocol"),s=t("../../../plugin/pb/protofile/GlobalMsgDef"),c=t("./CMD_ShopMsg");(function(t){t.mainId=s.MAIN_MSG_ID.MAIN_MSG_SHOP_ID,t.serverId=70;var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.encode=function(){var t=e.prototype.encode.call(this),n=c.MSG_CS_OpenShopUI.encode(this.data).finish();return null!=this.head&&(this.head.byGameData=n,n=s.Msg_OtherServerHead.encode(this.head).finish()),t.writeBytes(new r.ByteArray(n)),t},n.ProtocolId=t.mainId+"-"+c.SHOP_SUB_MSG.MSGID_CS_OPEN_SHOPUI,n}(a.StructProtocol);t.MSG_CS_OpenShopUI=e;var n=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=c.MSG_SC_RtnGoodsInfo.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+c.SHOP_SUB_MSG.MSGID_SC_RTN_SHOPGOODSLIST,n}(a.StructProtocol);t.MSG_SC_RtnGoodsInfo=n;var o=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.encode=function(){var t=e.prototype.encode.call(this),n=c.MSG_CS_BuyGoodsAction.encode(this.data).finish();return null!=this.head&&(this.head.byGameData=n,n=s.Msg_OtherServerHead.encode(this.head).finish()),t.writeBytes(new r.ByteArray(n)),t},n.ProtocolId=t.mainId+"-"+c.SHOP_SUB_MSG.MSGID_CS_BUY_GOODS_ACTION,n}(a.StructProtocol);t.MSG_CS_BuyGoodsAction=o;var l=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=c.MSG_SC_RtnPayData.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+c.SHOP_SUB_MSG.MSGID_SC_RTN_PAY_DATA,n}(a.StructProtocol);t.MSG_SC_RtnPayData=l;var u=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=c.MSG_SC_BuyGoodsSuccess.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+c.SHOP_SUB_MSG.MSGID_SC_RTN_BUYGOODSUCCESS,n}(a.StructProtocol);t.MSG_SC_BuyGoodsSuccess=u;var d=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=c.MSG_SC_BuyGoodsFailed.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+c.SHOP_SUB_MSG.MSGID_SC_RTN_BUYGOODSFAILED,n}(a.StructProtocol);t.MSG_SC_BuyGoodsFailed=d;var p=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.encode=function(){var t=e.prototype.encode.call(this),n=c.MSG_CS_BuyGoodsAction.encode(this.data).finish();return null!=this.head&&(this.head.byGameData=n,n=s.Msg_OtherServerHead.encode(this.head).finish()),t.writeBytes(new r.ByteArray(n)),t},n.ProtocolId=t.mainId+"-"+c.SHOP_SUB_MSG.MSGID_CS_BUY_GOODS_ACTION,n}(a.StructProtocol);t.MSG_CS_GetGoodsAction=p;var h=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=c.MSG_SC_GoodsItem.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+c.SHOP_SUB_MSG.MSGID_SC_RTN_NEXTDAYGOODSINFO,n}(a.StructProtocol);t.MSG_SC_RTN_NextDayGoodsInfo=h;var f=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t)},n.ProtocolId=t.mainId+"-"+c.SHOP_SUB_MSG.MSGID_SC_RTN_NODAYGOODSINFO,n}(a.StructProtocol);t.MSG_SC_Rtn_NoDayGoodsInfo=f})(n.ShopMsg||(n.ShopMsg={})),cc._RF.pop()},{"../../../lib/external/ByteArray":"ByteArray","../../../lib/network/struct/StructProtocol":"StructProtocol","../../../plugin/pb/protofile/GlobalMsgDef":"GlobalMsgDef","./CMD_ShopMsg":"CMD_ShopMsg"}],ShopPowerItem:[function(t,e,n){"use strict";cc._RF.push(e,"d13f9zk+HdLqYi2EznP3Iib","ShopPowerItem");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../lib/base/CxComponent"),s=t("../../../lib/utils/ComUtils"),c=t("../../../lib/utils/Logger"),l=t("../../const/Global"),u=t("../../event/Notify"),d=t("../ComUI"),p=cc._decorator,h=p.ccclass,f=p.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pSpriteAtlas=null,e.pMainLabel=null,e.pMainIcon=null,e.pBtnText=null,e.mIndex=0,e.mCurGoodsInfo=null,e}return i(e,t),e.prototype.init=function(t){this.mIndex=t.index||0,this.mCurGoodsInfo=t.goodsInfo},e.prototype.start=function(){var t=this.mCurGoodsInfo;t&&(this.initMainText(t),this.initMainIcon(t),this.initButton(t))},e.prototype.getMainIcon=function(t){return 0==(t=t%6+1)&&(t=6),"shop_power_icon_"+t},e.prototype.initMainText=function(t){if(this.pMainLabel)switch(t.iBuyGroupID){case l.gShopBuyGroup.POWER_GROUP:this.pMainLabel.string=s.ComUtils.formatGoldStr(t.dwDesNum);break;default:this.pMainLabel.string=""}},e.prototype.initMainIcon=function(){if(this.pMainIcon&&this.pSpriteAtlas){var t=this.getMainIcon(this.mIndex+1),e=this.pSpriteAtlas.getSpriteFrame(t);e||(t=this.getMainIcon(1)),e&&(this.pMainIcon.spriteFrame=e)}},e.prototype.initButton=function(t){var e=this.getSymbol(t)+""+t.dwSrcNum/100;this.pBtnText&&e&&(this.pBtnText.string=e)},e.prototype.getSymbol=function(t){return s.ComUtils.getCurrencySymbol(t.dwCurrencyType)},e.prototype.onClickButton=function(){this.mCurGoodsInfo&&(c.Logger.info("ShopPowerItem: onClickButton good=",this.mCurGoodsInfo),d.ComUI.addLoading({time:1}),this.dispatch(u.Notify.Shop.REQ_BUY_GOODS_ACTION,this.mCurGoodsInfo))},r([f(cc.SpriteAtlas)],e.prototype,"pSpriteAtlas",void 0),r([f(cc.Label)],e.prototype,"pMainLabel",void 0),r([f(cc.Sprite)],e.prototype,"pMainIcon",void 0),r([f(cc.Label)],e.prototype,"pBtnText",void 0),r([h],e)}(a.CxComponent);n.default=g,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../../lib/utils/ComUtils":"ComUtils","../../../lib/utils/Logger":"Logger","../../const/Global":"Global","../../event/Notify":"Notify","../ComUI":"ComUI"}],ShopPowerLayer:[function(t,e,n){"use strict";cc._RF.push(e,"0167faXv6NI0ratE+YJrAeS","ShopPowerLayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../lib/base/CxComponent"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pListContent=null,e.pListItem=null,e.mListData=null,e.isGameShop=!1,e}return i(e,t),e.prototype.init=function(t){t&&(this.mListData=t.goodsList,this.isGameShop=t.isGameShop)},e.prototype.updateContent=function(t){t&&(this.mListData=t,this.initListView())},e.prototype.start=function(){this.initLayer()},e.prototype.initLayer=function(){this.initListView()},e.prototype.initListView=function(){if(this.pListContent&&this.mListData){this.pListContent.removeAllChildren();for(var t=0;t<this.mListData.length;t++)if(this.pListItem){var e=cc.instantiate(this.pListItem);if(e){this.pListContent.addChild(e);var n=e.getComponent("ShopPowerItem");n&&(n.init({index:t,goodsInfo:this.mListData[t]}),this.isGameShop&&(n.node.scale=.85))}}}},r([l(cc.Node)],e.prototype,"pListContent",void 0),r([l(cc.Prefab)],e.prototype,"pListItem",void 0),r([c],e)}(a.CxComponent);n.default=u,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent"}],ShopSpecialSale:[function(t,e,n){"use strict";cc._RF.push(e,"1294dAa4Q5BvLtpbRCQ5f0S","ShopSpecialSale");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../lib/base/CxComponent"),s=t("../../../lib/utils/ComUtils"),c=t("../../const/Global"),l=t("../../event/Notify"),u=t("../../model/DataProxy"),d=t("../ComUI"),p=t("../../event/GuiEvent"),h=cc._decorator,f=h.ccclass,g=h.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pGoldLabel=null,e.pPowerLabel=null,e.pNowPrice=null,e.pPrePrice=null,e.pPercentNode=null,e.pPercentLabel=null,e.pLabTimeCD=null,e.btnOpenShop=null,e.mMixGiftData=null,e.delayLock=!0,e}return i(e,t),e.prototype.listEvent=function(){return new Map([[l.Notify.Shop.RTN_BUY_GOODS_SUCCESS,this.onBuySuccess],[l.Notify.Shop.RTN_MIX_GIFT,this.onGetMixGift]])},e.prototype.init=function(){this.refreshView()},e.prototype.start=function(){this.setVerticalOffset(),this.btnOpenShop&&(this.btnOpenShop.node.active=!s.ComUtils.isLobbyScene(),this.btnOpenShop.node.on("click",this.onClickShop,this))},e.prototype.initView=function(){var t=this;if(this.mMixGiftData&&this.mMixGiftData.goodsInfo){var e=this.mMixGiftData.goodsInfo;e&&(this.pNowPrice&&(this.pNowPrice.string=this.getSymbol(e)+""+e.dwSrcNum/100),this.pPrePrice&&(this.pPrePrice.string=this.getSymbol(e)+""+e.dwForeSrcNum/100),e.pExtraData&&e.pExtraData.mix&&e.pExtraData.mix.forEach(function(e){e&&e.type&&(e.type==c.gShopHBType.GOLD?t.pGoldLabel&&(t.pGoldLabel.string=s.ComUtils.formatGoldStr(e.num,1e3,0)):e.type==c.gShopHBType.POWER&&t.pPowerLabel&&(t.pPowerLabel.string=""+e.num))}),0==e.dwDZ?this.pPercentNode&&(this.pPercentNode.active=!1):this.pPercentLabel&&(this.pPercentLabel.string=""+e.dwDZ))}},e.prototype.getSymbol=function(t){return s.ComUtils.getCurrencySymbol(t.dwCurrencyType)},e.prototype.onClose=function(){d.ComUI.StopTimeCountDown(this.pLabTimeCD),this.node.destroy()},e.prototype.onClickBuy=function(){if(this.delayLock&&(s.ComUtils.delayLimit(this,2e3),d.ComUI.addLoading({time:1}),this.mMixGiftData&&this.mMixGiftData.goodsInfo)){var t=this.mMixGiftData.goodsInfo;t&&this.dispatch(l.Notify.Shop.REQ_BUY_GOODS_ACTION,t)}},e.prototype.onBuySuccess=function(){this.onClose()},e.prototype.refreshView=function(){var t=u.DataProxy.getInstance().shopData.mMixGiftData;t&&(this.mMixGiftData=t,this.initView(),this.labTimeCountDown())},e.prototype.labTimeCountDown=function(){this.pLabTimeCD&&d.ComUI.StartTimeCountDown(this.pLabTimeCD,this.mMixGiftData.dwTime)},e.prototype.onGetMixGift=function(){this.refreshView()},e.prototype.onClickShop=function(){this.dispatch(p.GuiEvent.PopMsg.DISPLAY_SHOP_LAYER)},r([g(cc.Label)],e.prototype,"pGoldLabel",void 0),r([g(cc.Label)],e.prototype,"pPowerLabel",void 0),r([g(cc.Label)],e.prototype,"pNowPrice",void 0),r([g(cc.Label)],e.prototype,"pPrePrice",void 0),r([g(cc.Node)],e.prototype,"pPercentNode",void 0),r([g(cc.Label)],e.prototype,"pPercentLabel",void 0),r([g(cc.Label)],e.prototype,"pLabTimeCD",void 0),r([g({type:cc.Button,tooltip:"\u6253\u5f00\u5546\u57ce"})],e.prototype,"btnOpenShop",void 0),r([f],e)}(a.CxComponent);n.default=_,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../../lib/utils/ComUtils":"ComUtils","../../const/Global":"Global","../../event/GuiEvent":"GuiEvent","../../event/Notify":"Notify","../../model/DataProxy":"DataProxy","../ComUI":"ComUI"}],SimplePlayerInfo:[function(t,e,n){"use strict";cc._RF.push(e,"a636ajxfARNDZUmyoSqEGQC","SimplePlayerInfo");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.SimplePlayerInfo=void 0;var a=t("../../lib/base/CxComponent"),s=t("../event/Notify"),c=t("./ComUI"),l=t("../../lib/utils/Logger"),u=t("../../lib/utils/ComUtils"),d=cc._decorator,p=d.ccclass,h=d.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spBg=null,e.ndHead=null,e.labName=null,e.labID=null,e.ndAuthorize=null,e.ndUpdate=null,e.headUrl="",e.gender=0,e.nickName="",e.isAuthorizeMenu=!1,e.myUserId=0,e}return i(e,t),e.prototype.listEvent=function(){return new Map([[s.Notify.Base.UPDATE_USERINFO,this.updateUserInfo]])},e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},e.prototype.init=function(t){this.gender=t.sex,this.nickName=t.userName,this.headUrl=t.wxHeadUrl,this.myUserId=t.myUserId,this.initHead(t.userId,this.gender),this.labID.string="ID: "+t.userId,this.labName.string=u.ComUtils.subStr(this.nickName,7,!0),t.userId==this.myUserId&&(this.switchAuthorizeMenu(),this.dispatch(s.Notify.Base.GET_USERINFO))},e.prototype.initHead=function(t,e){this.dispatch(s.Notify.Head.CREATE_HEAD,{parent:this.ndHead,userId:t,sex:e,size:cc.size(145,145),save:!0,kuang:1})},e.prototype.updateUserInfo=function(t){this.switchAuthorizeMenu(),this.labID.string="ID: "+t.userId,this.labName.string=u.ComUtils.subStr(t.userName,7,!0),u.ComUtils.isTextEmpty(t.wxHeadUrl)||this.dispatch(s.Notify.Head.CREATE_HEAD,{parent:this.ndHead,userId:0,sex:this.gender,url:t.wxHeadUrl,kuang:1,size:cc.size(145,145),save:!0}),t.userId==this.myUserId&&(this.gender=t.gender,this.nickName=t.userName,this.headUrl=t.wxHeadUrl)},e.prototype.switchAuthorizeMenu=function(){platform.SETTING_STATUS[platform.SCOPE_USERINFO]===platform.RTN_AGREE?(this.ndAuthorize.active=!1,this.ndUpdate.active=!0):(this.ndAuthorize.active=!0,this.ndUpdate.active=!1,this.isAuthorizeMenu||(this.isAuthorizeMenu=!0,c.ComUI.createUserInfoMenu({parent:this.ndAuthorize})))},e.prototype.onButtonCB=function(){this.node.destroy()},e.prototype.onUpdateMenu=function(){var t=this;platform.getUserInfo().then(function(e){l.Logger.info("updateInfo",e);var n=e.nickName,o=e.avatarUrl,i=e.gender;t.gender!==i||t.nickName!==n||t.headUrl!==o?t.dispatch(s.Notify.Base.SET_USERINFO,{gender:e.gender,wxHeadUrl:e.avatarUrl,wxName:e.nickName,userName:e.nickName,reset:!0}):c.ComUI.showDialog({text:"\u5df2\u7ecf\u662f\u6700\u65b0\u5fae\u4fe1\u4fe1\u606f"})}).catch(function(){})},r([h(cc.Sprite)],e.prototype,"spBg",void 0),r([h(cc.Node)],e.prototype,"ndHead",void 0),r([h(cc.Label)],e.prototype,"labName",void 0),r([h(cc.Label)],e.prototype,"labID",void 0),r([h(cc.Node)],e.prototype,"ndAuthorize",void 0),r([h(cc.Node)],e.prototype,"ndUpdate",void 0),r([p],e)}(a.CxComponent);n.SimplePlayerInfo=f,cc._RF.pop()},{"../../lib/base/CxComponent":"CxComponent","../../lib/utils/ComUtils":"ComUtils","../../lib/utils/Logger":"Logger","../event/Notify":"Notify","./ComUI":"ComUI"}],Sprite1Test:[function(t,e,n){"use strict";cc._RF.push(e,"0e1fcfz4hJKB68cwWPgn1Fp","Sprite1Test");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../lib/base/CxComponent"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.updateItem=function(){},e.prototype.start=function(){},r([c],e)}(a.CxComponent));n.default=l,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent"}],Sprite2Test:[function(t,e,n){"use strict";cc._RF.push(e,"42516igjc9Oup6mkVtELBDC","Sprite2Test");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../lib/base/CxComponent"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.updateItem=function(){},e.prototype.start=function(){},r([c],e)}(a.CxComponent));n.default=l,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent"}],Sprite3Test:[function(t,e,n){"use strict";cc._RF.push(e,"07b84n5RblEgrNo5Fq57UnO","Sprite3Test");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../lib/base/CxComponent"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.updateItem=function(){},e.prototype.start=function(){},r([c],e)}(a.CxComponent));n.default=l,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent"}],StatisticsDefine:[function(t,e,n){"use strict";cc._RF.push(e,"1df90BM2yNJUYxVfidRiYZA","StatisticsDefine"),Object.defineProperty(n,"__esModule",{value:!0}),n.StatisticsDefine=void 0;var o=function(){function t(){}return t.REG="Reg",t.AF_LOGIN="af_login",t.DAY2OPEN="day2open",t.DAY3OPEN="day3_open",t.DAY7OPEN="day7_open",t.AD_RV_SHOW="ad_rv_show",t.AD_RV_SHOW_BUTTONNONE="ad_rv_show_buttonnone",t.AD_INTER_SHOW="ad_inter_show",t.AD_SPLASH_SHOW="ad_splash_show",t.ADRVSHOW_OVER10="adRVshow_over10",t.ADRVSHOW_OVER15="adRVshow_over15",t.ADRVSHOW_OVER20="adRVshow_over20",t.ADRVSHOW_OVER25="adRVshow_over25",t.ADRVSHOW_OVER30="adRVshow_over30",t.SESSION_3="sessions_3",t.SESSION_5="sessions_5",t.RED_CASH_FIRST_DIALOG_SHOW="red_cash_first_dialog_show",t.RED_CASH_FIRST_DIALOG_GET="red_cash_first_dialog_get",t.RED_CASH_DIALOG_SHOW="red_cash_dialog_show",t.RED_CASH_DIALOG_CLICK_OPEN="red_cash_dialog_click_open",t.RED_CASH_DIALOG_CLICK_GET="red_cash_dialog_click_get",t.RED_CASH_DIALOG_CLICK_GIVEUP="red_cash_dialog_click_giveup",t.AD_RV_LOADED="ad_rv_loaded",t.INVITE_SUCC="invite_succ",t.AD_BANNER_SHOW="ad_bannershow",t}();n.StatisticsDefine=o,cc._RF.pop()},{}],StatsHandler:[function(t,e,n){"use strict";cc._RF.push(e,"cd557LbtK5NeqdBslSjUnQu","StatsHandler");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.ScenePeople=n.ReplayShare=n.GameEndShare=n.InviteShare=n.MenuShare=n.LobbyShare=n.ShareEvent=n.StatEvent=void 0;var r=t("../../lib/event/EventDispatcher"),a=t("../const/Global"),s=t("../event/Notify"),c=t("../model/DataProxy"),l=t("./StatsUtil");function u(t){t.uid=c.DataProxy.getInstance().userData.userId,t.timestamp=Math.floor((new Date).getTime()/1e3)}function d(t){r.EventDispatcher.getInstance().dispatch(s.Notify.Http.HTTP_REQ_STATS_INFO,t||{})}var p=function(){function t(){}return t.prototype.send=function(t){(t=t||{}).dwtype=this.eventType(),u(t),d({body:t})},t}();n.StatEvent=p;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.eventType=function(){return l.StatEventType.Share},e}(p);n.ShareEvent=h;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.send=function(e){e.channel=a.gShareScene.Lobby,t.prototype.send.call(this,e)},e}(h);n.LobbyShare=f;var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.send=function(e){e.channel=a.gShareScene.Menu,t.prototype.send.call(this,e)},e}(h);n.MenuShare=g;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.send=function(e){e.channel=a.gShareScene.RoomInvite,t.prototype.send.call(this,e)},e}(h);n.InviteShare=_;var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.send=function(e){e.channel=a.gShareScene.GameEnd,t.prototype.send.call(this,e)},e}(h);n.GameEndShare=y;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.send=function(e){e.channel=a.gShareScene.Replay,t.prototype.send.call(this,e)},e}(h);n.ReplayShare=m;var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.eventType=function(){return l.StatEventType.ScenePeople},e.prototype.send=function(e){e.scenceid=this.sceneId,e.sequenceid=this.index,e.info=this.des,t.prototype.send.call(this,e)},e}(p);n.ScenePeople=b,cc._RF.pop()},{"../../lib/event/EventDispatcher":"EventDispatcher","../const/Global":"Global","../event/Notify":"Notify","../model/DataProxy":"DataProxy","./StatsUtil":"StatsUtil"}],StatsUtil:[function(t,e,n){"use strict";cc._RF.push(e,"fa41er4QZ9KR6rdO3ljg6jN","StatsUtil"),Object.defineProperty(n,"__esModule",{value:!0}),n.StatsUtil=n.StatEventType=n.StatsType=void 0;var o,i=t("../../lib/utils/Logger"),r=t("./StatsHandler");(function(t){t.LobbyShare="lobbyShare",t.MenuShare="menuShare",t.InviteShare="inviteShare",t.GameEndShare="gameEndShare",t.ReplayShare="replayShare",t.ScenePeople="scenePeople"})(o=n.StatsType||(n.StatsType={})),function(t){t[t.Share=0]="Share",t[t.ScenePeople=1]="ScenePeople"}(n.StatEventType||(n.StatEventType={}));var a=function(){function t(){this.sHandler=new Map}return t.init=function(){t.bind(o.LobbyShare,new r.LobbyShare),t.bind(o.MenuShare,new r.MenuShare),t.bind(o.InviteShare,new r.InviteShare),t.bind(o.GameEndShare,new r.GameEndShare),t.bind(o.ReplayShare,new r.ReplayShare),t.bind(o.ScenePeople,new r.ScenePeople)},t.clear=function(){t.$ins.sHandler.forEach(function(){}),t.$ins.sHandler.clear()},t.bind=function(e,n){t.$ins._bind(e,n)},t.prototype._bind=function(t,e){this.sHandler.has(t)?i.Logger.info("\u57cb\u70b9"+t+"\u5df2\u7ecf\u6ce8\u518c\u8fc7"):this.sHandler.set(t,e)},t.send=function(e,n){var o=t.$ins.sHandler.get(e);o?o.send(n||{}):i.Logger.warn("\u672a\u6ce8\u518c\u57cb\u70b9"+e)},t.$ins=new t,t}();n.StatsUtil=a,cc._RF.pop()},{"../../lib/utils/Logger":"Logger","./StatsHandler":"StatsHandler"}],StringBuffer:[function(t,e,n){"use strict";cc._RF.push(e,"a6975XKS9tF+LnCQOWkHIS5","StringBuffer"),Object.defineProperty(n,"__esModule",{value:!0}),n.StringBuffer=void 0;var o=t("./ComUtils"),i=function(){function t(){this._strings=new Array}return t.prototype.append=function(t){return this._strings.push(t),this},t.prototype.toString=function(t){return this._strings.join(t||"")},t.prototype.toBytes=function(){var t=this.toString();return o.ComUtils.utf8StrToU8(t)},t.prototype.clear=function(){this._strings.length=0},t}();n.StringBuffer=i,cc._RF.pop()},{"./ComUtils":"ComUtils"}],StructEvent:[function(t,e,n){"use strict";cc._RF.push(e,"c7c06HIcddMdYy6T7gd/Y+O","StructEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.StructEvent=void 0;var o=function(){function t(t,e,n,o){this._head=e,this._command=n,this._message=o}return Object.defineProperty(t.prototype,"head",{get:function(){return this._head},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"command",{get:function(){return this._command},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this._message},enumerable:!1,configurable:!0}),t.STRUCT_RECEIVED="struct_received",t}();n.StructEvent=o,cc._RF.pop()},{}],StructParser:[function(t,e,n){"use strict";cc._RF.push(e,"f7fectkZFxKOJB0QgrErkzC","StructParser"),Object.defineProperty(n,"__esModule",{value:!0}),n.StructParser=n.StructDecodeResult=void 0;var o=t("./StructProtocol"),i=t("../../external/Crc32"),r=function(){function t(t,e,n){this.head=t,this.command=e,this.body=n}return t.prototype.release=function(){this.body&&o.StructProtocol.ReleaseByteArray(this.body)},t}();n.StructDecodeResult=r;var a=function(){function t(){}return t.encode=function(e){var n=e.encode(),r=e.getID().split("-");if(2==r.length){var a=parseInt(r[0]),s=parseInt(r[1]),c=new o.StructCommand;c.dwMainID=a,c.dwSubID=s,c.dwDataSize=n.length,cc.log("mainId:",a),cc.log("subid:",s);var l=c.encode(),u=o.StructProtocol.GetByteArray();u.writeBytes(l),u.writeBytes(n),o.StructProtocol.ReleaseByteArray(l);var d=i.Crc32.crc32(u,0),p=new o.StructHead;p.szTitleTag=o.StructHead.PROTOCAL_HEAD,p.dwDataSize=u.length,p.dwTotalSize=u.length+p.getLength(),p.etSysEncryptType=t.ENCRYPT_TYPE_CRC,p.dwReserve1=0,p.dwReserve0=0,p.dwCRCCode=d;var h=p.encode(),f=o.StructProtocol.GetByteArray();f.writeBytes(h),f.writeBytes(u),o.StructProtocol.ReleaseByteArray(h);var g=f.buffer;return o.StructProtocol.ReleaseByteArray(f),g}cc.log("\u534f\u8bae\u9519\u8bef\uff01\u534f\u8bae\u53f7\u683c\u5f0f\u9519\u8bef")},t.decode=function(e){var n=o.StructProtocol.GetByteArray(e);cc.log("\u6536\u5230\u6570\u636e\uff01 \u957f\u5ea6:"+n.length);var a=new o.StructHead;if(n.length<a.getLength())cc.log("\u534f\u8bae\u9519\u8bef\uff01\u534f\u8bae\u5934\u8fc7\u77ed");else{n.position=0,a.decode(n);var s=o.StructProtocol.GetByteArray();if(n.readBytes(s,0),o.StructProtocol.ReleaseByteArray(n),s.length<a.dwDataSize)cc.log("\u534f\u8bae\u9519\u8bef\uff01\u6570\u636e\u8fc7\u77ed");else{if((a.etSysEncryptType&t.ENCRYPT_TYPE_CRC)>0){var c=i.Crc32.crc32(s,0);if(c!=a.dwCRCCode)return void cc.log("\u534f\u8bae\u9519\u8bef\uff01CRC\u5f02\u5e38\uff01 \u671f\u671b:"+a.dwCRCCode+" \u5b9e\u9645:"+c)}if((a.etSysEncryptType&t.ENCRYPT_TYPE_AES)>0)cc.log("\u534f\u8bae\u9519\u8bef\uff01\u4e0d\u652f\u6301\u52a0\u5bc6");else if((a.etSysEncryptType&t.ENCRYPT_TYPE_CPS)>0)cc.log("\u534f\u8bae\u9519\u8bef\uff01\u4e0d\u652f\u6301\u538b\u7f29");else{a.etSysEncryptType,t.ENCRYPT_TYPE_DYN;var l=new o.StructCommand;s.position=0,l.decode(s);var u=o.StructProtocol.GetByteArray();if(s.readBytes(u,0),o.StructProtocol.ReleaseByteArray(s),!(u.length<l.dwDataSize))return u.position=0,new r(a,l,u);cc.log("\u534f\u8bae\u9519\u8bef\uff01\u6d88\u606f\u957f\u5ea6\u8fc7\u77ed")}}}},t.ENCRYPT_TYPE_AES=1,t.ENCRYPT_TYPE_CRC=2,t.ENCRYPT_TYPE_CPS=4,t.ENCRYPT_TYPE_DYN=8,t}();n.StructParser=a,cc._RF.pop()},{"../../external/Crc32":"Crc32","./StructProtocol":"StructProtocol"}],StructProtocol:[function(t,e,n){"use strict";cc._RF.push(e,"88559TRB6VAlI7n2dDet/Es","StructProtocol");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.StructCommand=n.StructHead=n.StructProtocol=void 0;var r=t("../../external/ByteArray"),a=function(){function t(t,e,n){this.data=null,this.head=null,this.head1=null,this.data=t,this.head=e,this.head1=n}return t.GetByteArray=function(t){var e=r.ByteArray.GetByteArray(t);return e.endian=r.Endian.LITTLE_ENDIAN,e},t.ReleaseByteArray=function(t){t&&r.ByteArray.ReleaseByteArray(t)},t.prototype.getID=function(){return"0-0"},t.prototype.getLength=function(){return 0},t.prototype.decode=function(){},t.prototype.decodeRaw=function(){},t.prototype.encode=function(){return t.GetByteArray()},t.prototype.toString=function(){return"STRUCT:"+JSON.stringify(this)},t.prototype.getBytes=function(t){return t.remainBytes()},t.prototype.wutfblen=function(e,n,o){var i=t.GetByteArray();if(i.writeUTFBytes(n),i.length>=o)i.position=0,e.writeBytes(i,0,o);else{for(;i.length<o;)i.writeByte(0);e.writeBytes(i)}t.ReleaseByteArray(i)},t.prototype.rutfblen=function(t,e){var n=t.readUTFBytes(e);return n.trim()},t.prototype.rintarr=function(t,e){for(var n=new Array;e-- >0;)n.push(t.readInt());return n},t.prototype.wintarr=function(t,e,n){for(var o=0;o<n;o++)t.writeInt(o<e.length?e[o]:0)},t.prototype.rbytearr=function(t,e){for(var n=new Array;e-- >0;)n.push(t.readByte());return n},t.prototype.wbytearr=function(t,e,n){for(var o=0;o<n;o++)t.writeByte(o<e.length?e[o]:0)},t.prototype.writeByteArr=function(t,e){for(var n=0;n<e.length;n++)t.writeByte(e[n])},t}();n.StructProtocol=a;var s=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.getLength=function(){return 32},e.prototype.decode=function(t){this.szTitleTag=this.rutfblen(t,8),this.dwDataSize=t.readInt(),this.dwTotalSize=t.readInt(),this.etSysEncryptType=t.readInt(),this.dwCRCCode=t.readInt(),this.dwReserve0=t.readInt(),this.dwReserve1=t.readInt()},e.prototype.encode=function(){var e=t.prototype.encode.call(this);return this.wutfblen(e,this.szTitleTag,8),e.writeInt(this.dwDataSize),e.writeInt(this.dwTotalSize),e.writeInt(this.etSysEncryptType),e.writeInt(this.dwCRCCode),e.writeInt(this.dwReserve0),e.writeInt(this.dwReserve1),e},e.PROTOCAL_HEAD="]8*O6sC$",e}(a);n.StructHead=s;var c=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.getLength=function(){return 12},e.prototype.decode=function(t){this.dwMainID=t.readInt(),this.dwSubID=t.readInt(),this.dwDataSize=t.readInt()},e.prototype.encode=function(){var e=t.prototype.encode.call(this);return e.writeInt(this.dwMainID),e.writeInt(this.dwSubID),e.writeInt(this.dwDataSize),e},e}(a);n.StructCommand=c,cc._RF.pop()},{"../../external/ByteArray":"ByteArray"}],StructSocket:[function(t,e,n){"use strict";cc._RF.push(e,"800a4vgUL1D25HpvsBOQHgX","StructSocket");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.StructSocket=void 0;var r=t("../CxSocket"),a=t("../../utils/Logger"),s=t("./StructParser"),c=t("../../../app/base/protocol/ProtocolUtils"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.classmap=new Object,e.handlermap=new Object,e}return i(e,t),e.prototype.register=function(t){var e=new t;this.classmap[e.getID()]=t},e.prototype.unregister=function(t){var e=new t;this.classmap[e.getID()]=null},e.prototype.send=function(e){var n=s.StructParser.encode(e);t.prototype.send.call(this,n)},e.prototype.onReceive=function(e){var n=s.StructParser.decode(e);if(n){var o=n.command.dwMainID+"-"+n.command.dwSubID;cc.log("\u6536\u5230\u6e38\u620f\u6d88\u606f:"+o);var i=c.ProtocolUtils.decodeProtocol(n,o);if(i)return t.prototype.onReceive.call(this,i),n.release(),i.release(),void(i=null);var r=this.classmap[o];if(null==r||null==r)return void a.Logger.info("\u534f\u8bae\u9519\u8bef\uff01\u4e0d\u5b58\u5728\u6b64\u534f\u8bae");if(r){var l=new r;n.body.position=0,l.decode(n.body),t.prototype.onReceive.call(this,l),n.release(),l=null}}},e.AES_IV_TYPE="Pkcs7",e.DEF_AES_KEY="N*T#EN2^CO@E_9zJ\0",e}(r.CxSocket);n.StructSocket=l,cc._RF.pop()},{"../../../app/base/protocol/ProtocolUtils":"ProtocolUtils","../../utils/Logger":"Logger","../CxSocket":"CxSocket","./StructParser":"StructParser"}],SystemUtil:[function(t,e,n){"use strict";cc._RF.push(e,"85fcfuCkV5NkbdEeyUK9NcB","SystemUtil"),Object.defineProperty(n,"__esModule",{value:!0}),n.SystemUtil=void 0;var o=t("./../../lib/utils/Logger"),i=t("../../lib/utils/ComUtils"),r=t("./NativeApi"),a=function(){function t(){}return t.JSReadyed=function(){if(!i.ComUtils.isIOS()){var t=new r.NativeParams;return t.javaClassPath=this.javaClassPath,t.className="NativeCallback",t.methodName="JavaScriptReadyed",t.javaMethodSig="()V",t.ocMethodSig="JavaScriptReadyed:",r.CallNativeMethod.callStaticMethod(t)}},t.ObserveNetworkEanble=function(t){if(!i.ComUtils.isIOS()){var e=new r.NativeParams;return e.javaClassPath=this.javaClassPath,e.className="SystemUtils",e.methodName="ObserveNetworkEanble",e.javaMethodSig="(I)V",e.ocMethodSig="ObserveNetworkEanble:",r.CallNativeMethod.callStaticMethod(e,t?1:0)}},t.shellExec=function(t){if(cc.sys.os===cc.sys.OS_ANDROID){var e=new r.NativeParams;e.javaClassPath=this.javaClassPath,e.className="SystemUtils",e.methodName="shellExec",e.javaMethodSig="(Ljava/lang/String;)Ljava/lang/String;",e.ocMethodSig="shellExec:";var n=r.CallNativeMethod.callStaticMethod(e,t);return o.Logger.info("shellExec ret="+n),n}},t.ping=function(e){return-1!=t.shellExec("ping  -c 4 -i 1 -s 64 -w 100 "+e).indexOf("100% loss")?(o.Logger.info("ping ok"),!1):(o.Logger.info("ping fail"),!0)},t.dip2px=function(t){if(cc.sys.os===cc.sys.OS_ANDROID){var e=new r.NativeParams;return e.javaClassPath=this.javaClassPath,e.className="SystemUtils",e.methodName="dip2px",e.javaMethodSig="(I)I",r.CallNativeMethod.callStaticMethod(e,t)}},t.px2dip=function(t){if(cc.sys.os===cc.sys.OS_ANDROID){var e=new r.NativeParams;return e.javaClassPath=this.javaClassPath,e.className="SystemUtils",e.methodName="px2dip",e.javaMethodSig="(F)I",r.CallNativeMethod.callStaticMethod(e,t)}},t.javaClassPath="com/husky/libhuskycom/",t.className="SystemUtils",t}();n.SystemUtil=a,cc._RF.pop()},{"../../lib/utils/ComUtils":"ComUtils","./../../lib/utils/Logger":"Logger","./NativeApi":"NativeApi"}],TableSkinMgr:[function(t,e,n){"use strict";cc._RF.push(e,"0e237H2JERDjJwlTToGnNQf","TableSkinMgr"),Object.defineProperty(n,"__esModule",{value:!0}),n.TableSkinMgr=void 0;var o=t("../../../lib/manager/ResManager"),i=t("../../const/Global"),r=t("./TablesConfig"),a=t("../../../lib/utils/Logger"),s=function(){function t(){}return Object.defineProperty(t,"tableLevelMax",{set:function(e){t.sTabLevelMax=e},enumerable:!1,configurable:!0}),t.getTableId=function(){return t.sTableId},t.changeTableId=function(e,n){t.sCB=n,e!=t.sTableId&&this.checkInit(),this.loadSkinRes(e)},t.loadResCallback=function(){t.sLoadFlag[0]&&t.sLoadFlag[1]&&(t.sLoadFlag=[!1,!1],t.sCB&&(t.sCB(),t.sCB=null))},t.loadSkinRes=function(e){if(a.Logger.info("loadSkinRes: tableId="+e),e>=t.sTabLevelMax?e=t.sTabLevelMax:e<=1&&(e=1),t.sTableId=e,t.sMapTableBg.get(e)&&t.sMapTableSkin.get(e))return t.sLoadFlag=[!0,!0],t.resetAllSprites(e),t.resetTableBg(e),void t.loadResCallback();t.sLoadFlag=[!1,!1];var n=t.getCfg(),r=n.skin,s=e;o.default.getInstance().loadAtlas(r,i.gAssetBundleName.TABLES_RES,function(n,o){o&&t.sTableId===e?(a.Logger.info("[TableSkinMgr loadSkinRes] skinUrl="+r),t.sLoadFlag[0]=!0,t.sMapTableSkin.set(s,o),t.resetAllSprites(s),t.loadResCallback()):a.Logger.error("[TableSkinMgr loadSkinRes] skinUrl="+r)});var c=n.bg;o.default.getInstance().loadImg(c,i.gAssetBundleName.TABLES_RES,function(n,o){o&&t.sTableId===e?(a.Logger.info("[TableSkinMgr loadSkinRes] bgUrl="+c),t.sLoadFlag[1]=!0,t.sMapTableBg.set(s,o),t.resetTableBg(s),t.loadResCallback()):a.Logger.error("[TableSkinMgr loadSkinRes] bgUrl="+c+" error")})},t.relaseOldRes=function(){},t.checkInit=function(){t.sMapTableSkin||(t.sMapTableSkin=new Map,t.sMapTableBg=new Map,t.sSetSkinSprite=new Set,t.sSetBgSprite=new Set)},t.clearCache=function(){t.sMapTableSkin&&(t.sMapTableSkin.clear(),t.sMapTableSkin=null),t.sMapTableBg&&(t.sMapTableBg.clear(),t.sMapTableBg=null),t.sSetSkinSprite&&(t.sSetSkinSprite.clear(),t.sSetSkinSprite=null),t.sSetBgSprite&&(t.sSetBgSprite.clear(),t.sSetBgSprite=null)},t.addSprite=function(t){t.isBg?this.sSetBgSprite.add(t):this.sSetSkinSprite.add(t)},t.delSprite=function(t){this.sSetSkinSprite.delete(t),this.sSetBgSprite.delete(t)},t.resetAllSprites=function(e){void 0!==e&&e!=t.sTableId||this.sSetSkinSprite.forEach(function(t){t.resetSprite()})},t.resetTableBg=function(e){void 0!==e&&e!=t.sTableId||this.sSetBgSprite.forEach(function(t){t.resetSprite()})},t.getSpriteFrame=function(e,n){if(void 0===n&&(n=!1),n)return t.sMapTableBg.get(t.sTableId)||t.sMapTableBg.get(0);var o=t.sMapTableSkin.get(t.sTableId);if(o){var i=o.getSpriteFrame(e);if(i)return i}return this.getDefSpriteFrame(e)},t.getDefSpriteFrame=function(e){var n=t.sMapTableSkin.get(1);return n?n.getSpriteFrame(e):null},t.setSpriteSkin=function(e,n){if(e){var o=this.getSpriteFrame(n);o?e.spriteFrame=o:console.warn("[setSpriteSkin] not found strName="+n+" curTableId="+t.sTableId)}},t.getCfg=function(){return this.getTableCfgById(t.sTableId)},t.getTableCfgById=function(e){e>=r.TableLevelMap.length&&(e=t.sTabLevelMax);var n=e,o=r.TableLevelMap[n];return o?r.TableSkin[o]:r.TableSkin.def},t.getSkeleton=function(t,e){var n=this.getTableCfgById(e).id;return n&&(t=t+"_"+n),new Promise(function(e){var n=o.default.getInstance().getBundle(i.gAssetBundleName.TABLES_RES);n&&n.load(t,sp.SkeletonData,function(t,n){e(n)})})},t.sMapTableSkin=new Map,t.sMapTableBg=new Map,t.sSetSkinSprite=new Set,t.sSetBgSprite=new Set,t.sTableId=-1,t.sTabLevelMax=r.TableLevelMap.length-1,t.sLoadFlag=[!1,!1],t.sCB=null,t}();n.TableSkinMgr=s,cc._RF.pop()},{"../../../lib/manager/ResManager":"ResManager","../../../lib/utils/Logger":"Logger","../../const/Global":"Global","./TablesConfig":"TablesConfig"}],TableSkinSprite:[function(t,e,n){"use strict";cc._RF.push(e,"4aed0fummNGrbWFDaOFui4N","TableSkinSprite");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.TableSkinSprite=void 0;var a=t("./TableSkinMgr"),s=cc._decorator,c=s.ccclass,l=s.property,u=s.executeInEditMode,d=s.disallowMultiple,p=s.requireComponent,h=s.menu,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isBg=!1,e.imgName="",e}return i(e,t),e.prototype.start=function(){var t=this.getComponent(cc.Sprite);this.imgName||(this.imgName=t.spriteFrame.name),a.TableSkinMgr.addSprite(this),this.resetSprite()},Object.defineProperty(e.prototype,"spriteFrame",{get:function(){var t=this.getComponent(cc.Sprite);return t.spriteFrame?t.spriteFrame:null},enumerable:!1,configurable:!0}),e.prototype.resetSprite=function(){var t=this.getComponent(cc.Sprite);if(cc.isValid(t)&&this.imgName){if(!t.spriteFrame)return void console.warn("resetSprite "+t.name);var e=a.TableSkinMgr.getSpriteFrame(this.imgName,this.isBg);e?(t.spriteFrame=e,t.enabled=!0):t.enabled=!1}},e.prototype.onDestroy=function(){a.TableSkinMgr.delSprite(this)},r([l({tooltip:"\u662f\u80cc\u666f\u56fe\u7247\u5c31\u52fe\u9009"})],e.prototype,"isBg",void 0),r([l({tooltip:"\u7cbe\u7075\u7684\u540d\u5b57"})],e.prototype,"imgName",void 0),r([c,u,d,p(cc.Sprite),h("\u81ea\u5b9a\u4e49/TableSkinSprite")],e)}(cc.Component);n.TableSkinSprite=f,cc._RF.pop()},{"./TableSkinMgr":"TableSkinMgr"}],TablesConfig:[function(t,e,n){"use strict";var o,i;cc._RF.push(e,"f9209Iu3h9LSK4vDRmH7JY8","TablesConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.TableSkin=n.TableLevelMap=n.TableID=n.eCardColor=void 0,function(t){t[t.warm=1]="warm",t[t.cold=2]="cold"}(o=n.eCardColor||(n.eCardColor={})),function(t){t.def="def",t.zqsd="zqsd",t.lydxc="lydxc",t.hyhk="hyhk",t.fhj="fhj",t.hdcz="hdcz",t.aj="aj",t.syst="syst",t.wsj="wsj",t.sjy="sjy",t.mfxy="mfxy",t.hdsj="hdsj",t.tnsg="tnsg",t.yly="yly",t.zq="zq",t.js="js",t.pay="pay",t.sm="sm",t.ct="ct",t.htys="htys",t.mrjj="mrjj",t.tgcq="tgcq",t.fjgl="fjgl",t.dx="dx",t.lb="lb",t.mhxq="mhxq",t.sdhk="sdhk",t.ygzy="ygzy",t.summer="summer",t.dwsj="dwsj",t.mf="mf"}(i=n.TableID||(n.TableID={})),n.TableLevelMap=["",i.def,i.fhj,i.zqsd,i.hyhk,i.lydxc,i.syst,i.mfxy,i.wsj,i.hdcz,i.hdsj,i.tnsg,i.aj,i.sjy,i.ct,i.dx,i.dwsj,i.fjgl,i.htys,i.js,i.lb,i.mhxq,i.mf,i.mrjj,i.sdhk,i.sm,i.pay,i.tgcq,i.summer,i.ygzy,i.yly,i.zq],n.TableSkin={def:{id:i.def,bg:"img/table_bg_def",skin:"altas/Table_def",smlbg:"table_icon_def",font_def:{fontSize:40,color:"#ffffff",outline:"#000000",opacity:255},nick_name:{fontSize:36,color:"#ffffff",outline:"#000000"},font_table_level:{fontSize:24,color:"#1993E0",opacity:255},font_remain_cardnum:{fontSize:35,color:"#ffffff",opacity:255},font_game_info:{fontSize:40,color:"#194d8a",opacity:255},font_scopa_count:{fontSize:40,outline:"#B84100",opacity:255},gold_icon:{scale:1},power_icon:{scale:1},head:{scale:1}},zqsd:{id:i.zqsd,bg:"img/table_bg_zqsd",skin:"altas/Table_zqsd",smlbg:"table_icon_zqsd",font_def:{fontSize:36,color:"#ffffff",outline:"#000000",opacity:255},nick_name:{fontSize:36,color:"#ffffff",outline:"#000000"},font_table_level:{fontSize:22,color:"#ffffff",outline:"#000000",opacity:255},font_remain_cardnum:{fontSize:35,color:"#8f5a2e",opacity:255},font_game_info:{fontSize:40,color:"#fbe39a",opacity:255},font_scopa_count:{fontSize:40,outline:"#B84100",opacity:255},gold_icon:{scale:1},power_icon:{scale:1},head:{scale:1}},lydxc:{id:i.lydxc,bg:"img/table_bg_lydxc",skin:"altas/Table_lydxc",smlbg:"table_icon_lydxc",font_def:{fontSize:40,color:"#ffffff",outline:"#000000",opacity:255},nick_name:{fontSize:40,color:"#ffffff",outline:"#000000"},font_table_level:{fontSize:26,color:"#ffffff",outline:"#000000",opacity:255},font_remain_cardnum:{fontSize:35,color:"#603113",opacity:255},font_game_info:{fontSize:40,color:"#ffb763",opacity:255},font_scopa_count:{fontSize:40,outline:"#B84100",opacity:255},gold_icon:{scale:1},power_icon:{scale:1},head:{scale:1}},hyhk:{id:i.hyhk,bg:"img/table_bg_hyhk",skin:"altas/Table_hyhk",smlbg:"table_icon_hyhk",font_def:{fontSize:36,color:"#ffffff",opacity:255},nick_name:{fontSize:36,color:"#ffffff",outline:"#000000"},font_table_level:{fontSize:24,color:"#ffffff",opacity:255},font_remain_cardnum:{fontSize:35,color:"#123750",opacity:255},font_game_info:{fontSize:40,color:"#00fefd",opacity:255},font_scopa_count:{fontSize:40,outline:"#B84100",opacity:255},gold_icon:{scale:1},power_icon:{scale:1},head:{scale:1},pk_color:o.cold},fhj:{id:i.fhj,bg:"img/table_bg_fhj",skin:"altas/Table_fhj",smlbg:"table_icon_fhj",font_def:{fontSize:36,color:"#ffffff",outline:"#000000"},nick_name:{fontSize:36,color:"#ffffff",outline:"#000000"},font_table_level:{fontSize:24,color:"#a1451f"},font_remain_cardnum:{fontSize:35,color:"#ffffff",opacity:255},font_game_info:{fontSize:40,color:"#ffffff",opacity:255},font_scopa_count:{fontSize:40,outline:"#B84100",opacity:255},gold_icon:{scale:1},power_icon:{scale:1},head:{scale:1}},syst:{id:i.syst,bg:"img/table_bg_syst",skin:"altas/Table_syst",smlbg:"table_icon_syst",font_def:{fontSize:36,color:"#ffffff",outline:"#000000"},nick_name:{fontSize:36,color:"#ffffff",outline:"#000000"},font_table_level:{fontSize:24,color:"#a1451f"},font_remain_cardnum:{fontSize:35,color:"#a08e60",opacity:255},font_game_info:{fontSize:40,color:"#ffffff",opacity:255},font_scopa_count:{fontSize:40,outline:"#B84100",opacity:255},gold_icon:{scale:1},power_icon:{scale:1},head:{scale:1}},mfxy:{id:i.mfxy,bg:"img/table_bg_mfxy",skin:"altas/Table_mfxy",smlbg:"table_icon_mfxy",font_def:{fontSize:40,color:"#ffffff",outline:"#000000"},nick_name:{fontSize:40,color:"#ffffff",outline:"#000000"},font_table_level:{fontSize:26,color:"#ffffff",outline:"#000000"},font_remain_cardnum:{fontSize:35,color:"#b68f45",opacity:255},font_game_info:{fontSize:40,color:"#ffffff",opacity:255},font_scopa_count:{fontSize:43,color:"#ffffff",outline:"#B84001",opacity:255},gold_icon:{scale:1},power_icon:{scale:1},head:{scale:1}},wsj:{id:i.wsj,bg:"img/table_bg_wsj",skin:"altas/Table_wsj",smlbg:"table_icon_wsj",font_def:{fontSize:36,color:"#ffffff",outline:"#000000"},nick_name:{fontSize:36,color:"#ffffff",outline:"#000000"},font_table_level:{fontSize:24,color:"#a1451f"},font_remain_cardnum:{fontSize:35,color:"#ffffff",opacity:255},font_game_info:{fontSize:40,color:"#06195f",opacity:255},font_scopa_count:{fontSize:40,outline:"#B84100",opacity:255},gold_icon:{scale:1},power_icon:{scale:1},head:{scale:1}},hdcz:{id:i.hdcz,bg:"img/table_bg_hdcz",skin:"altas/Table_hdcz",smlbg:"table_icon_hdcz",font_def:{fontSize:36,color:"#ffffff",outline:"#000000"},nick_name:{fontSize:36,color:"#ffffff",outline:"#000000"},font_table_level:{fontSize:24,color:"#a1451f"},font_remain_cardnum:{fontSize:35,color:"#905a2e",opacity:255},font_game_info:{fontSize:40,color:"#fbe399",opacity:255},font_scopa_count:{fontSize:40,outline:"#B84100",opacity:255},gold_icon:{scale:1},power_icon:{scale:1},head:{scale:1}},hdsj:{id:i.hdsj,bg:"img/table_bg_hdsj",skin:"altas/Table_hdsj",smlbg:"table_icon_hdsj",font_def:{fontSize:36,color:"#ffffff",outline:"#000000"},nick_name:{fontSize:36,color:"#ffffff",outline:"#000000"},font_table_level:{fontSize:24,color:"#a1451f"},font_remain_cardnum:{fontSize:35,color:"#ffffff",opacity:255},font_game_info:{fontSize:40,color:"#0e6c8e",opacity:255},font_scopa_count:{fontSize:40,outline:"#B84100",opacity:255},gold_icon:{scale:1},power_icon:{scale:1},head:{scale:1}},sjy:{id:i.sjy,bg:"img/table_bg_sjy",skin:"altas/Table_sjy",smlbg:"table_icon_sjy",font_def:{fontSize:36,color:"#ffffff",outline:"#000000"},nick_name:{fontSize:36,color:"#ffffff",outline:"#000000"},font_table_level:{fontSize:24,color:"#a1451f"},font_remain_cardnum:{fontSize:35,color:"#2f3d39",opacity:255},font_game_info:{fontSize:40,color:"#94c2d7",opacity:255},font_scopa_count:{fontSize:40,outline:"#083f7b",opacity:255},gold_icon:{scale:1},power_icon:{scale:1},head:{scale:1}},tnsg:{id:i.tnsg,bg:"img/table_bg_tnsg",skin:"altas/Table_tnsg",smlbg:"table_icon_tnsg",name:"",font_def:{fontSize:36,color:"#ffffff",outline:"#000000"},nick_name:{fontSize:36,color:"#ffffff",outline:"#000000"},font_table_level:{fontSize:24,color:"#a1451f"},font_remain_cardnum:{fontSize:35,color:"#f7eaca",opacity:255},font_game_info:{fontSize:40,color:"#8f4327",opacity:255},font_scopa_count:{fontSize:40,outline:"#B84100",opacity:255},gold_icon:{scale:1},power_icon:{scale:1},head:{scale:1}},aj:{id:i.aj,bg:"img/table_bg_aj",skin:"altas/Table_aj",smlbg:"table_icon_aj",font_def:{fontSize:36,color:"#fefefe",outline:"#49240f"},nick_name:{fontSize:36,color:"#fefefe",outline:"#49240f"},font_table_level:{fontSize:24,color:"#fefefe"},font_remain_cardnum:{fontSize:35,color:"#8f4327",opacity:255},font_game_info:{fontSize:40,color:"#f7eaca",opacity:255},font_scopa_count:{fontSize:40,outline:"#B84100",opacity:255},gold_icon:{scale:1},power_icon:{scale:1},head:{scale:1}},yly:{id:i.yly,bg:"img/table_bg_yly",skin:"altas/Table_yly",smlbg:"table_icon_yly",name:"",font_def:{fontSize:36,color:"#fefefe",outline:"#49240f"},nick_name:{fontSize:36,color:"#fefefe",outline:"#49240f"},font_table_level:{fontSize:24,color:"#fefefe"},font_remain_cardnum:{fontSize:35,color:"#ffffff",opacity:255},font_game_info:{fontSize:40,color:"#260f9b",opacity:255},font_scopa_count:{fontSize:40,outline:"#B84100",opacity:255},gold_icon:{scale:1},power_icon:{scale:1},head:{scale:1}},zq:{id:i.zq,bg:"img/table_bg_zq",skin:"altas/Table_zq",smlbg:"table_icon_zq",name:"",font_def:{fontSize:36,color:"#ffffff",outline:"#261301"},nick_name:{fontSize:36,color:"#ffffff",outline:"#261301"},font_table_level:{fontSize:24,color:"#ffffff"},font_remain_cardnum:{fontSize:35,color:"#42770c",opacity:255},font_game_info:{fontSize:40,color:"#8fd75e",opacity:255},font_scopa_count:{fontSize:40,outline:"#000000",opacity:255},gold_icon:{scale:1},power_icon:{scale:1},head:{scale:1}},js:{id:i.js,bg:"img/table_bg_js",skin:"altas/Table_js",smlbg:"table_icon_js",name:"",font_def:{fontSize:36,color:"#FFF4CC",outline:"#261301"},nick_name:{fontSize:36,color:"#FFF4CC",outline:"#261301"},font_table_level:{fontSize:24,color:"#FFF4CC"},font_remain_cardnum:{fontSize:35,color:"#ffffff",opacity:255},font_game_info:{fontSize:40,color:"#741115",opacity:255},font_scopa_count:{fontSize:40,outline:"#000000",opacity:255},gold_icon:{scale:1},power_icon:{scale:1},head:{scale:1},pk_color:o.warm},pay:{id:i.pay,bg:"img/table_bg_pay",skin:"altas/Table_pay",smlbg:"table_icon_pay",name:"",font_def:{fontSize:36,color:"#ffffff",outline:"#261301"},nick_name:{fontSize:36,color:"#ffffff",outline:"#261301"},font_table_level:{fontSize:24,color:"#ffffff"},font_remain_cardnum:{fontSize:35,color:"#ffffff",opacity:255},font_game_info:{fontSize:40,color:"#073d2b",opacity:255},font_scopa_count:{fontSize:40,outline:"#B84100",opacity:255},gold_icon:{scale:1},power_icon:{scale:1},head:{scale:1},pk_color:o.warm},sm:{id:i.sm,bg:"img/table_bg_sm",skin:"altas/Table_sm",smlbg:"table_icon_sm",name:"",font_def:{fontSize:36,color:"#ffffff",outline:"#261301"},nick_name:{fontSize:36,color:"#ffffff",outline:"#261301"},font_table_level:{fontSize:24,color:"#ffffff"},font_remain_cardnum:{fontSize:35,color:"#ffffff",opacity:255},font_game_info:{fontSize:40,color:"#9b300f",opacity:255},font_scopa_count:{fontSize:40,outline:"#B84100",opacity:255},gold_icon:{scale:1},power_icon:{scale:1},head:{scale:1},pk_color:o.warm},ct:{id:i.ct,bg:"img/table_bg_ct",skin:"altas/Table_ct",smlbg:"table_icon_ct",name:"",font_def:{fontSize:36,color:"#fffbbe",outline:"#be1b56"},nick_name:{fontSize:36,color:"#fffbbe",outline:"#be1b56"},font_table_level:{fontSize:24,color:"#ffffff"},font_remain_cardnum:{fontSize:35,color:"#ffffff",opacity:255},font_game_info:{fontSize:40,color:"#ffffff",opacity:255},font_scopa_count:{fontSize:40,color:"#942b0b",opacity:255},gold_icon:{scale:1},power_icon:{scale:1},head:{scale:1},pk_color:o.warm},htys:{id:i.htys,bg:"img/table_bg_htys",skin:"altas/Table_htys",smlbg:"table_icon_htys",name:"",font_def:{fontSize:40,color:"#ffffff",outline:"#096d6d"},nick_name:{fontSize:40,color:"#ffffff",outline:"#4f1f09"},font_table_level:{fontSize:26,color:"#ffffff",outline:"#000000"},font_remain_cardnum:{fontSize:35,color:"#eafcea",opacity:255},font_game_info:{fontSize:40,color:"#eafcea",opacity:255},font_scopa_count:{fontSize:43,color:"#ffffff",outline:"#d04c39",opacity:255},gold_icon:{scale:1},power_icon:{scale:1},head:{scale:1},pk_color:o.cold},mrjj:{id:i.mrjj,bg:"img/table_bg_mrjj",skin:"altas/Table_mrjj",smlbg:"table_icon_mrjj",name:"",font_def:{fontSize:40,color:"#ffffff",outline:"#000000"},nick_name:{fontSize:40,color:"#ffffff",outline:"#000000"},font_table_level:{fontSize:26,color:"#ffffff",outline:"#000000"},font_remain_cardnum:{fontSize:36,color:"#ffffff",opacity:255},font_game_info:{fontSize:40,color:"#ffffff",opacity:255},font_scopa_count:{fontSize:43,color:"#ffffff",outline:"#b84001",opacity:255},gold_icon:{scale:1},power_icon:{scale:1},head:{scale:1},pk_color:o.warm},tgcq:{id:i.tgcq,bg:"img/table_bg_tgcq",skin:"altas/Table_tgcq",smlbg:"table_icon_tgcq",name:"",font_def:{fontSize:36,color:"#ffffff",outline:"#000000"},nick_name:{fontSize:36,color:"#ffffff",outline:"#000000"},font_table_level:{fontSize:24,color:"#ffffff"},font_remain_cardnum:{fontSize:36,color:"#ffffff",opacity:255},font_game_info:{fontSize:40,color:"#8f3d14",opacity:255},font_scopa_count:{fontSize:40,color:"#ffffff",outline:"#d6503b",opacity:255},gold_icon:{scale:1},power_icon:{scale:1},head:{scale:1},pk_color:o.warm},fjgl:{id:i.fjgl,bg:"img/table_bg_fjgl",skin:"altas/Table_fjgl",smlbg:"table_icon_fjgl",name:"",font_def:{fontSize:36,color:"#d74d67"},nick_name:{fontSize:36,color:"#d74d67"},font_table_level:{fontSize:24,color:"#ffffff",outline:"#144377"},font_remain_cardnum:{fontSize:36,color:"#fdf7e7",opacity:255},font_game_info:{fontSize:40,color:"#3d316f",opacity:255},font_scopa_count:{fontSize:40,color:"#ffffff",outline:"#a3331b",opacity:255},gold_icon:{scale:1},power_icon:{scale:1},head:{scale:1},pk_color:o.warm},dx:{id:i.dx,bg:"img/table_bg_dx",skin:"altas/Table_dx",smlbg:"table_icon_dx",name:"",font_def:{fontSize:36,color:"#ffffff",outline:"#000000"},nick_name:{fontSize:36,color:"#ffffff",outline:"#000000"},font_table_level:{fontSize:24,color:"#ffffff",outline:"#000000"},font_remain_cardnum:{fontSize:36,color:"#ffffff",opacity:255},font_game_info:{fontSize:40,color:"#114c07",opacity:255},font_scopa_count:{fontSize:40,color:"#ffffff",outline:"#a3331b",opacity:255},gold_icon:{scale:1},power_icon:{scale:1},head:{scale:1},pk_color:o.warm},lb:{id:i.lb,bg:"img/table_bg_lb",skin:"altas/Table_lb",smlbg:"table_icon_lb",name:"",font_def:{fontSize:36,color:"#ffffff",outline:"#000000"},nick_name:{fontSize:36,color:"#ffffff",outline:"#000000"},font_table_level:{fontSize:24,color:"#ffffff"},font_remain_cardnum:{fontSize:36,color:"#fffbed",opacity:255},font_game_info:{fontSize:40,color:"#329179",opacity:255},font_scopa_count:{fontSize:40,color:"#ffffff",opacity:255},gold_icon:{scale:1},power_icon:{scale:1},head:{scale:1},pk_color:o.warm},mhxq:{id:i.mhxq,bg:"img/table_bg_mhxq",skin:"altas/Table_mhxq",smlbg:"table_icon_mhxq",name:"",font_def:{fontSize:36,color:"#fefefe",outline:"#000000"},nick_name:{fontSize:36,color:"#fefefe",outline:"#000000"},font_table_level:{fontSize:24,color:"#ffffff",outline:"#000000"},font_remain_cardnum:{fontSize:36,color:"#3859a3",opacity:255},font_game_info:{fontSize:40,color:"#fffffd",opacity:255},font_scopa_count:{fontSize:40,color:"#ffffff",opacity:255},gold_icon:{scale:1},power_icon:{scale:1},head:{scale:1},pk_color:o.warm},sdhk:{id:i.sdhk,bg:"img/table_bg_sdhk",skin:"altas/Table_sdhk",smlbg:"table_icon_sdhk",name:"",font_def:{fontSize:36,color:"#fdfffe",outline:"#000000"},nick_name:{fontSize:36,color:"#fdfffe",outline:"#000000"},font_table_level:{fontSize:24,color:"#ffffff",outline:"#000000"},font_remain_cardnum:{fontSize:36,color:"#3859a3",opacity:255},font_game_info:{fontSize:40,color:"#ffffff",opacity:255},font_scopa_count:{fontSize:40,color:"#fefefe",outline:"#040908",opacity:255},gold_icon:{scale:1},power_icon:{scale:1},head:{scale:1},pk_color:o.warm},ygzy:{id:i.ygzy,bg:"img/table_bg_ygzy",skin:"altas/Table_ygzy",smlbg:"table_icon_ygzy",name:"",font_def:{fontSize:36,color:"#ffffff",outline:"#000000"},nick_name:{fontSize:36,color:"#ffffff",outline:"#000000"},font_table_level:{fontSize:24,color:"#ffffff"},font_remain_cardnum:{fontSize:36,color:"#ffffff",opacity:255},font_game_info:{fontSize:40,color:"#ffffff",opacity:255},font_scopa_count:{fontSize:40,color:"#d76000",opacity:255},gold_icon:{scale:1},power_icon:{scale:1},head:{scale:1},pk_color:o.warm},summer:{id:i.summer,bg:"img/table_bg_summer",skin:"altas/Table_summer",smlbg:"table_icon_summer",name:"",font_def:{fontSize:36,color:"#ffffff",outline:"#000000"},nick_name:{fontSize:36,color:"#ffffff",outline:"#000000"},font_table_level:{fontSize:24,color:"#ffffff"},font_remain_cardnum:{fontSize:36,color:"#ffffff",opacity:255},font_game_info:{fontSize:40,color:"#005c38",opacity:255},font_scopa_count:{fontSize:40,color:"#d76000",opacity:255},gold_icon:{scale:1},power_icon:{scale:1},head:{scale:1},pk_color:o.warm},dwsj:{id:i.dwsj,bg:"img/table_bg_dwsj",skin:"altas/Table_dwsj",smlbg:"table_icon_dwsj",name:"",font_def:{fontSize:36,color:"#43ffad",outline:"#3d0ea6"},nick_name:{fontSize:36,color:"#43ffad",outline:"#3d0ea6"},font_table_level:{fontSize:24,color:"#43ffad",outline:"#3d0ea6"},font_remain_cardnum:{fontSize:36,color:"#2b1f64",opacity:255},font_game_info:{fontSize:40,color:"#ff4de0",opacity:255},font_scopa_count:{fontSize:40,color:"#ff0000",outline:"#fff390",opacity:255},gold_icon:{scale:1},power_icon:{scale:1},head:{scale:1},pk_color:o.warm},mf:{id:i.mf,bg:"img/table_bg_mf",skin:"altas/Table_mf",smlbg:"table_icon_mf",name:"",font_def:{fontSize:36,color:"#ffd18d"},nick_name:{fontSize:36,color:"#ffd18d"},font_table_level:{fontSize:24,color:"#ffffff"},font_remain_cardnum:{fontSize:36,color:"#174569",opacity:255},font_game_info:{fontSize:40,color:"#1bfff5",opacity:255},font_scopa_count:{fontSize:40,color:"#0aedf6",opacity:255},gold_icon:{scale:1},power_icon:{scale:1},head:{scale:1},pk_color:o.warm}},cc._RF.pop()},{}],TablesDataProxy:[function(t,e,n){"use strict";cc._RF.push(e,"395b7BixqlM65I85lFqtjDf","TablesDataProxy"),Object.defineProperty(n,"__esModule",{value:!0}),n.TablesDataProxy=void 0;var o=t("../../lib/base/Language"),i=function(){function t(){this.redPoint=0,this.clear()}return t.prototype.clear=function(){this.tableList=[]},t.prototype.getTableName=function(t){var e="";if(this.tableMultiCfg){var n=this.tableMultiCfg.get(t);if(n&&n.nameCfg){var i=o.Language.getInstance().getLanguage();i&&n.nameCfg[i]&&(e=n.nameCfg[i])}}return e},t}();n.TablesDataProxy=i,cc._RF.pop()},{"../../lib/base/Language":"Language"}],TaskDataProxy:[function(t,e,n){"use strict";cc._RF.push(e,"2a2351tkARLy4TRckpBgpLv","TaskDataProxy"),Object.defineProperty(n,"__esModule",{value:!0}),n.TaskDataProxy=void 0;var o=function(){function t(){this.mTimeTaskInfo=null,this.mDayTaskList=null,this.redPointData=null}return t.prototype.clear=function(){this.mDayTaskList=null,this.mTimeTaskInfo=null},t.prototype.setDayTaskList=function(t){this.mDayTaskList=t},t.prototype.getDayTaskList=function(){return this.mDayTaskList},t.prototype.setTimeTaskInfo=function(t){this.mTimeTaskInfo=t},t.prototype.getTimeTaskInfo=function(){return this.mTimeTaskInfo},t.prototype.setTaskRedPoint=function(t,e){this.redPointData||(this.redPointData=[]),this.redPointData[t]=e},t.prototype.getTaskRedPoint=function(t){return this.redPointData&&this.redPointData[t]||0},t}();n.TaskDataProxy=o,cc._RF.pop()},{}],TaskFlow:[function(t,e,n){"use strict";cc._RF.push(e,"7689dY15hBMl7lX5Y0CADYa","TaskFlow"),Object.defineProperty(n,"__esModule",{value:!0}),n.Task=n.TaskFlow=void 0;var o=function(){function t(){this.taskQueue=[],this.bTaskFinish=!0,this.handlerId=0,this.taskQueue=new Array,this.handlerId=0,this.bTaskFinish=!0}return t.prototype.clear=function(){this.taskQueue.splice(0,this.taskQueue.length-1),this.bTaskFinish=!0,this.handlerId>0&&clearTimeout(this.handlerId),this.handlerId=0},t.prototype.addTask=function(t,e,n,o){var r=new i(t,e,n,o);this.taskQueue.push(r),this.tryRun()},t.prototype.addTask2=function(t){null!=t&&this.taskQueue.push(t),this.tryRun()},t.prototype.addTaskMore=function(t){if(null!=t)for(var e=0;e<t.length;e++)this.taskQueue.push(t[e]);this.tryRun()},t.prototype.addDelayTask=function(t){var e=new i(function(){return 1e3*t},null,null,"delay-task");this.taskQueue.push(e)},t.prototype.tryRun=function(){if(1==this.bTaskFinish){var t=this.taskQueue.shift();if(t){this.bTaskFinish=!1;var e=t.exec()||0;this.handlerId=setTimeout(this.onTaskCompalete.bind(this),e)}}},t.prototype.onTaskCompalete=function(){clearTimeout(this.handlerId),this.handlerId=0,this.bTaskFinish=!0,this.tryRun()},t.prototype.start=function(){this.tryRun()},t.prototype.isTaskExist=function(t){for(var e=0;e<this.taskQueue.length;e++)if(t===this.taskQueue[e].name)return!0;return!1},t.prototype.getTaskLen=function(){return this.taskQueue.length},t}();n.TaskFlow=o;var i=function(){function t(t,e,n,o){this.name="",this.handler=null,this.data=null,this.obj=null,this.handler=t,this.obj=e,this.data=n,this.name=o}return t.prototype.exec=function(){return this.handler&&this.handler.call(this.obj,this.data)||0},t}();n.Task=i,cc._RF.pop()},{}],TaskHandler:[function(t,e,n){"use strict";cc._RF.push(e,"064939yGKdAMoTveCWS/Eke","TaskHandler");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.TaskHandler=void 0;var r=t("../../base/handler/ProxyHandler"),a=t("../../event/Notify"),s=t("../../../plugin/pb/protofile/GlobalMsgDef"),c=t("./CMD_TaskMsg"),l=t("../../../lib/utils/ComUtils"),u=(t("../../../lib/utils/Logger"),t("../../const/Global")),d=t("../../event/GuiEvent"),p=t("../../language/LanguageCfg"),h=t("../../view/ComUI"),f=t("../../model/DataProxy"),g=t("../../model/AdDataProxy"),_=t("../../model/ActivityDataProxy"),y=t("../../../lib/base/PopUpLogic"),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.SERVER_ID=110,e}return i(e,t),e.prototype.getName=function(){return"TaskHandler"},e.prototype.protocolConfig=function(){return[{protocol:c.Msg_TimingReward,subid:c.TASK_GAME_SUB_MSG.MSG_SC_SENDTIMINGREWARD,cb:this.onGetTimeRewardInfo},{protocol:c.Msg_SendRewardResult,subid:c.TASK_GAME_SUB_MSG.MSG_SC_SENDREWARDRESULT,cb:this.onGetTimeRewardResult},{protocol:c.Msg_SC_DayTaskList,subid:c.TASK_GAME_SUB_MSG.MSG_SC_SENDDAYTASK,cb:this.onGetDayTaskList},{protocol:c.Msg_SC_TaskRewardResult,subid:c.TASK_GAME_SUB_MSG.MSG_SC_SENDTASKSUCCSSE,cb:this.onGetDayTaskResult},{protocol:c.MSG_SC_ResponseRedpoint,subid:c.TASK_GAME_SUB_MSG.MSG_SC_RESPONSE_REDPOINT,cb:this.onGetTaskRedPoint}]},e.prototype.initEvent=function(){t.prototype.initEvent.call(this),this.addEvent(a.Notify.Task.REQ_TASK_TIME_REWARD_INFO,this.reqTaskTimeRewardInfo),this.addEvent(a.Notify.Task.REQ_TASK_TIME_REWARD_RESULT,this.reqTaskTimeRewardResult),this.addEvent(a.Notify.Task.REQ_DAY_TASK_LIST,this.reqDayTaskList),this.addEvent(a.Notify.Task.REQ_DAY_TASK_RESULT,this.reqDayTaskResult),this.addEvent(a.Notify.Task.REQ_DAY_TASK_REDDOT,this.reqDayTaskRedDot)},e.prototype.getMainID=function(){return s.MAIN_MSG_ID.MAIN_MSG_TASK_SERVER_ID},e.prototype.clear=function(){this.removeEvent()},e.prototype.getOtherHead=function(t,e){var n=t,o=void 0===e?n:e,i=new s.Msg_OtherServerHead;return i.dwGameID=n,i.dwGameTypeID=o,i.strUUID=this.userData.sessionId,i},e.prototype.reqTaskTimeRewardInfo=function(){this.sendRequest(null,this.getMainID(),c.TASK_GAME_SUB_MSG.MSG_CS_GET_TIMINGREWARD,this.getOtherHead(this.SERVER_ID))},e.prototype.onGetTimeRewardInfo=function(t){var e=t.data.rewardInfo;if(e){var n={};n.bIsGet=e.bIsGet,n.dwType=e.dwType,n.iSurplusTime=e.iSurplusTime,n.dwRewardGold=e.dwRewardGold,this.taskData.setTimeTaskInfo(n),this.dispatch(a.Notify.Task.RTN_TASK_TIME_REWARD_INFO,n);var o=f.DataProxy.getInstance().adData.getRVSceneData(g.RVADSceneID.CD_TASK);cc.log("cd \u793c\u5305\u53ef\u9886\u53d6\u72b6\u6001",n.bIsGet,n.iSurplusTime);var i={bIsGet:n.bIsGet,cdTime:n.iSurplusTime,defReward:{type:0===n.dwType?u.gShopHBType.GOLD:n.dwType,num:n.dwRewardGold}};o&&(i.adSceneId=o.adSceneId,i.bCanGG=o.bCanGG,i.multiple=o.multiple,i.extReward=o.awardList,i.placementID=o.placementID),this.dispatch(a.Notify.Task.UPDATE_TASK_TIME_REWARD_INFO,i),n.bIsGet&&y.PopUpLogic.getInstance().canAutoPopByName(d.GuiEvent.PopMsg.DISPLAY_BONUS)&&this.dispatch(d.GuiEvent.PopMsg.DISPLAY_BONUS,{autoPop:!0,data:i})}},e.prototype.reqTaskTimeRewardResult=function(){this.sendRequest(null,this.getMainID(),c.TASK_GAME_SUB_MSG.MSG_CS_GET_REWARD_TIME,this.getOtherHead(this.SERVER_ID))},e.prototype.onGetTimeRewardResult=function(t){var e=t.data,n={};n.bIsResult=e.bIsResult,n.dwGold=e.dwGold,n.rewardInfo=e.rewardInfo,this.dispatch(a.Notify.Task.RTN_TASK_TIME_REWARD_RESULT,n),this.dispatch(a.Notify.Task.REQ_TASK_TIME_REWARD_INFO),n.bIsResult&&(f.DataProxy.getInstance().taskData.setTaskRedPoint(_.gRedDot.CD_TASK,0),this.dispatch(a.Notify.GoldenPass.SWICH_BONUS_PAGE),n.dwGold?this.dispatch(d.GuiEvent.Anim.COM_AWARD_ANIM,{awardNum:n.dwGold,scene:u.gSceneType.Lobby,mask:!0}):h.ComUI.showToast(l.ComUtils.getLang(p.LangKey.text_fail_get_coins))),this.dispatch(a.Notify.Task.REQ_DAY_TASK_REDDOT,c.RedPointType.CD_TASK)},e.prototype.reqDayTaskList=function(){this.sendRequest(null,this.getMainID(),c.TASK_GAME_SUB_MSG.MSG_CS_GET_DAYTASK,this.getOtherHead(this.SERVER_ID))},e.prototype.onGetDayTaskList=function(t){var e=t.data;if(e.taskinfo){var n=new Array;e.taskinfo.forEach(function(t){var e={};e.dwID=t.dwID,e.dwTaskType=t.dwTaskType,e.szText=l.ComUtils.u8ToUTF8Str(t.szText),e.dwStatus=t.dwStatus,e.dwTotalCount=t.dwTotalCount,e.dwCurCount=t.dwCurCount,e.dwRewardType=t.dwRewardType,e.iSort=t.dwTaskPX||0,e.dwRewardValue=t.dwRewardValue,n.push(e)}),n.sort(function(t,e){return t.dwStatus==u.gTaskStatus.CAN_REWARD&&e.dwStatus!=u.gTaskStatus.CAN_REWARD?-1:t.dwStatus!=u.gTaskStatus.CAN_REWARD&&e.dwStatus==u.gTaskStatus.CAN_REWARD?1:t.dwStatus==u.gTaskStatus.NORMAL&&e.dwStatus!=u.gTaskStatus.NORMAL?-1:t.dwStatus!=u.gTaskStatus.NORMAL&&e.dwStatus==u.gTaskStatus.NORMAL?1:t.iSort!=e.iSort?t.iSort-e.iSort:t.dwID-e.dwID}),this.taskData.setDayTaskList(n),this.dispatch(a.Notify.Task.RTN_DAY_TASK_LIST,n)}},e.prototype.reqDayTaskResult=function(t){if(t){var e={id:t},n=JSON.stringify(e),o=new c.Msg_CS_GetDayTaskReward;o.chID=l.ComUtils.utf8StrToU8(n),this.sendRequest(o,this.getMainID(),c.TASK_GAME_SUB_MSG.MSG_CS_GET_DAYTASKREWARD,this.getOtherHead(this.SERVER_ID))}},e.prototype.onGetDayTaskResult=function(t){var e=t.data,n={};if(n.bIsResult=e.bIsResult,n.dwGold=e.dwGold,n.taskinfo=e.taskinfo,this.dispatch(a.Notify.Task.RTN_DAY_TASK_RESULT,n),this.dispatch(a.Notify.Task.REQ_DAY_TASK_LIST),e.dwGold){var o=u.gSceneType.Lobby;this.gameData.enterGameId>0&&this.gameData.enterSceneInfo&&(o=this.gameData.enterSceneInfo.fromScene),this.dispatch(d.GuiEvent.Anim.COM_AWARD_ANIM,{awardNum:e.dwGold,scene:o})}this.dispatch(a.Notify.Task.REQ_DAY_TASK_REDDOT,c.RedPointType.DAILY_TASK)},e.prototype.reqDayTaskRedDot=function(t){if(t>0){var e=new c.MSG_CS_RedPoint;e.dwId=t,this.sendRequest(e,this.getMainID(),c.TASK_GAME_SUB_MSG.MSG_CS_SHOWT_REDPOINT,this.getOtherHead(this.SERVER_ID))}},e.prototype.onGetTaskRedPoint=function(t){var e=t.data,n=0;if(1===e.dwId){n=_.gRedDot.CD_TASK;var o=this.taskData.getTimeTaskInfo();if((r=y.PopUpLogic.getInstance().canAutoPopByName(d.GuiEvent.PopMsg.DISPLAY_BONUS))&&e.dwRedPointNum>0&&o){var i={bIsGet:o.bIsGet,cdTime:o.iSurplusTime,defReward:{type:0===o.dwType?u.gShopHBType.GOLD:o.dwType,num:o.dwRewardGold}};this.dispatch(d.GuiEvent.PopMsg.DISPLAY_BONUS,{autoPop:!0,data:i})}}else if(2===e.dwId){n=_.gRedDot.DAILY_TASK;var r=y.PopUpLogic.getInstance().canAutoPopByName(d.GuiEvent.PopMsg.DISPLAY_MISSION_LAYER);e.dwRedPointNum>0&&r&&this.dispatch(d.GuiEvent.PopMsg.DISPLAY_MISSION_LAYER,{autoPop:!0})}f.DataProxy.getInstance().taskData.setTaskRedPoint(n,e.dwRedPointNum),n>0&&this.dispatch(a.Notify.Activity.CHANGE_REDDOT_NUM,{activityId:n,redcount:e.dwRedPointNum})},e}(r.ProxyHandler);n.TaskHandler=m,cc._RF.pop()},{"../../../lib/base/PopUpLogic":"PopUpLogic","../../../lib/utils/ComUtils":"ComUtils","../../../lib/utils/Logger":"Logger","../../../plugin/pb/protofile/GlobalMsgDef":"GlobalMsgDef","../../base/handler/ProxyHandler":"ProxyHandler","../../const/Global":"Global","../../event/GuiEvent":"GuiEvent","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../../model/ActivityDataProxy":"ActivityDataProxy","../../model/AdDataProxy":"AdDataProxy","../../model/DataProxy":"DataProxy","../../view/ComUI":"ComUI","./CMD_TaskMsg":"CMD_TaskMsg"}],TaskListItem:[function(t,e,n){"use strict";cc._RF.push(e,"3530dhIZBFCdYiT53LDnLgH","TaskListItem");var o,i,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../lib/base/CxComponent"),c=t("../../../lib/base/Language"),l=t("../../../lib/utils/ComUtils"),u=t("../../const/Global"),d=t("../../event/GuiEvent"),p=t("../../event/Notify"),h=t("../../language/LanguageCfg"),f=t("../../model/DataProxy"),g=t("../../module/task/CMD_TaskMsg"),_=((i={})[g.TaskType.CLASSIC_TASK]=p.Notify.Task.OPEN_SCOPA_CLASSIC,i[g.TaskType.DuiJu_TASK]=p.Notify.Task.OPEN_SCOPA_CLASSIC,i[g.TaskType.GOWILD_TASK]=p.Notify.Task.OPEN_SCOPA_WILD,i[g.TaskType.LOGIN_TASK]=null,i[g.TaskType.LOTTERY_TASK]=d.GuiEvent.PopMsg.DISPLAY_VIDEO_LOTTERY,i[g.TaskType.PAY_TASK]=d.GuiEvent.PopMsg.DISPLAY_SHOP_SPECIAL_SALE,i[g.TaskType.SCOPA_TASK]=p.Notify.Task.OPEN_SCOPA_CLASSIC,i[g.TaskType.SETTEBELLO_TASK]=p.Notify.Task.OPEN_SCOPA_CLASSIC,i[g.TaskType.WIN_TASK]=p.Notify.Task.OPEN_SCOPA_CLASSIC,i),y=cc._decorator,m=y.ccclass,b=y.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pMainIcon=null,e.pNameLabel=null,e.pGoldLabel=null,e.pProgressBar=null,e.pProgressLabel=null,e.pBtnSelect=null,e.pBtnNormal=null,e.pLabelNormal=null,e.pLabelSelect=null,e.pFinishIcon=null,e.mIndex=0,e.mTaskInfo=null,e.mActPlayed=!1,e}return r(e,t),e.prototype.start=function(){this.playItemAction()},e.prototype.initItem=function(){this.mTaskInfo&&(this.initName(),this.initReward(),this.initButton(),this.initProgressBar())},e.prototype.playItemAction=function(){this.mActPlayed||(this.node.scale=0,cc.tween(this.node).to(.3,{scale:1},{easing:cc.easing.sineOut}).start(),this.mActPlayed=!0)},e.prototype.initName=function(){if(this.pNameLabel){var t=null,e=JSON.parse(this.mTaskInfo.szText);if(e){var n=c.Language.getInstance().getLanguage();n==cc.sys.LANGUAGE_ENGLISH?t=e.entxt:n==cc.sys.LANGUAGE_ITALIAN?t=e.ittxt:n==cc.sys.LANGUAGE_CHINESE&&(t=e.zhtxt)}if(t){var o=cc.js.formatStr(t,this.mTaskInfo.dwTotalCount);this.pNameLabel.string=o}}},e.prototype.initReward=function(){this.pGoldLabel&&(this.pGoldLabel.string=l.ComUtils.formatGoldStr(this.mTaskInfo.dwRewardValue))},e.prototype.initProgressBar=function(){this.pProgressBar&&(0==this.mTaskInfo.dwTotalCount?this.pProgressBar.progress=0:this.pProgressBar.progress=this.mTaskInfo.dwCurCount/this.mTaskInfo.dwTotalCount,this.pProgressLabel&&(this.pProgressLabel.string=this.mTaskInfo.dwCurCount+"/"+this.mTaskInfo.dwTotalCount))},e.prototype.initButton=function(){this.pBtnNormal&&this.pBtnSelect&&this.pFinishIcon&&(this.pBtnNormal.node.active=!1,this.pBtnSelect.node.active=!1,this.pFinishIcon.node.active=!1,this.mTaskInfo.dwStatus==u.gTaskStatus.FINISH?this.pFinishIcon.node.active=!0:this.mTaskInfo.dwStatus==u.gTaskStatus.CAN_REWARD?this.pBtnSelect.node.active=!0:this.pBtnNormal.node.active=!0,this.pLabelNormal&&this.pLabelSelect&&(this.pLabelNormal.string=l.ComUtils.getLang(h.LangKey.text_collect),this.pLabelSelect.string=l.ComUtils.getLang(h.LangKey.text_collect)))},e.prototype.onClick=function(){if(this.mTaskInfo)if(this.mTaskInfo.dwStatus==u.gTaskStatus.CAN_REWARD)if(f.DataProxy.getInstance().activityData.getVideoAdOnOff()){var t=u.gShopHBType.GOLD;t=1===this.mTaskInfo.dwRewardType?u.gShopHBType.GOLD:u.gShopHBType.POWER,this.dispatch(d.GuiEvent.PopMsg.DISPLAY_MISSION_BONUS,{taskId:this.mTaskInfo.dwID,defReward:{type:t,num:this.mTaskInfo.dwRewardValue}})}else this.dispatch(p.Notify.Task.REQ_DAY_TASK_RESULT,[this.mTaskInfo.dwID]);else if(this.mTaskInfo.dwStatus==u.gTaskStatus.NORMAL){var e=_[this.mTaskInfo.dwTaskType];e&&(cc.log("\u4efb\u52a1\u7c7b\u578b:"+this.mTaskInfo.dwTaskType+" =====> "+e),this.dispatch(e))}},e.prototype.updateItem=function(t,e){this.mIndex=t,this.mTaskInfo=e,this.initItem()},a([b(cc.Sprite)],e.prototype,"pMainIcon",void 0),a([b(cc.Label)],e.prototype,"pNameLabel",void 0),a([b(cc.Label)],e.prototype,"pGoldLabel",void 0),a([b(cc.ProgressBar)],e.prototype,"pProgressBar",void 0),a([b(cc.Label)],e.prototype,"pProgressLabel",void 0),a([b(cc.Button)],e.prototype,"pBtnSelect",void 0),a([b(cc.Button)],e.prototype,"pBtnNormal",void 0),a([b(cc.Label)],e.prototype,"pLabelNormal",void 0),a([b(cc.Label)],e.prototype,"pLabelSelect",void 0),a([b(cc.Sprite)],e.prototype,"pFinishIcon",void 0),a([m],e)}(s.CxComponent);n.default=v,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../../lib/base/Language":"Language","../../../lib/utils/ComUtils":"ComUtils","../../const/Global":"Global","../../event/GuiEvent":"GuiEvent","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../../model/DataProxy":"DataProxy","../../module/task/CMD_TaskMsg":"CMD_TaskMsg"}],TaskListLayer:[function(t,e,n){"use strict";cc._RF.push(e,"0ef1dfbJD9HJp2GIMR1XMqf","TaskListLayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../lib/base/BottomBarView"),s=t("../../../lib/base/ComPopup"),c=t("../../../lib/base/CxComponent"),l=t("../../../lib/base/PopupView"),u=t("../../../lib/utils/ComUtils"),d=t("../../base/component/ComListView"),p=t("../../const/Global"),h=t("../../event/Notify"),f=t("../../language/LanguageCfg"),g=t("../../model/DataProxy"),_=t("../ComUI"),y=t("./TaskListItem"),m=cc._decorator,b=m.ccclass,v=m.property,S=m.requireComponent,w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pMainNode=null,e.pListItem=null,e.pScrollList=null,e.mListData=null,e}return i(e,t),e.prototype.listEvent=function(){return new Map([[h.Notify.Task.RTN_DAY_TASK_LIST,this.onUpdateTask],[h.Notify.Task.RTN_DAY_TASK_RESULT,this.onGetDayTaskResult],[h.Notify.Shop.RTN_BUY_GOODS_SUCCESS,this.onBuySucc]])},e.prototype.init=function(t){t&&(this.mListData=t.taskList)},e.prototype.start=function(){var t=this;if(l.PopupView.setTitle(this.node,u.ComUtils.makeLang(f.LangKey.menu_missions)),this.displayListView(),g.DataProxy.getInstance().activityData.getVideoAdOnOff()){var e=this.getComponent(a.BottomBarView);e&&e.hideBottomBar()}else a.BottomBarView.setBottomBar(this.node,[{style:p.gColorStyle.GREEN,text:u.ComUtils.makeLang(f.LangKey.text_collect_all),callback:function(){t.onClickAll()}}])},e.prototype.displayListView=function(){var t={scrollView:this.pScrollList,content:this.pScrollList.content,itemPrefab:this.pListItem,itemClass:y.default,dataList:this.mListData,space:5,top:0,bottom:0,createInterval:.05,scrollToIndex:0},e=this.node.getComponent(d.ComListView);null==e&&(e=this.node.addComponent(d.ComListView)),e.initParams(t),e.initScrollView()},e.prototype.onUpdateTask=function(t){t&&(this.mListData=t,this.displayListView())},e.prototype.onClickAll=function(){if(this.mListData){for(var t=[],e=0;e<this.mListData.length;e++){var n=this.mListData[e];n.dwStatus==p.gTaskStatus.CAN_REWARD&&t.push(n.dwID)}t.length>0?this.dispatch(h.Notify.Task.REQ_DAY_TASK_RESULT,t):_.ComUI.showToast(u.ComUtils.getLang(f.LangKey.text_no_task_reward))}},e.prototype.onGetDayTaskResult=function(t){t&&(t.bIsResult||_.ComUI.showToast(u.ComUtils.getLang(f.LangKey.text_fail_get_task)))},e.prototype.onBuySucc=function(){this.dispatch(h.Notify.Task.REQ_DAY_TASK_LIST)},r([v(cc.Node)],e.prototype,"pMainNode",void 0),r([v(cc.Prefab)],e.prototype,"pListItem",void 0),r([v(cc.ScrollView)],e.prototype,"pScrollList",void 0),r([b,S(s.ComPopup)],e)}(c.CxComponent);n.default=w,cc._RF.pop()},{"../../../lib/base/BottomBarView":"BottomBarView","../../../lib/base/ComPopup":"ComPopup","../../../lib/base/CxComponent":"CxComponent","../../../lib/base/PopupView":"PopupView","../../../lib/utils/ComUtils":"ComUtils","../../base/component/ComListView":"ComListView","../../const/Global":"Global","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../../model/DataProxy":"DataProxy","../ComUI":"ComUI","./TaskListItem":"TaskListItem"}],TaskMsg:[function(t,e,n){"use strict";cc._RF.push(e,"585144q+3lKeaPzbuHw1RkX","TaskMsg");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.TaskMsg=void 0;var r=t("../../../lib/external/ByteArray"),a=t("../../../lib/network/struct/StructProtocol"),s=t("../../../plugin/pb/protofile/GlobalMsgDef"),c=t("./CMD_TaskMsg");(function(t){t.mainId=s.MAIN_MSG_ID.MAIN_MSG_TASK_SERVER_ID,t.serverId=110;var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.encode=function(){var t=e.prototype.encode.call(this);if(null!=this.head){var n=s.Msg_OtherServerHead.encode(this.head).finish();t.writeBytes(new r.ByteArray(n))}return t},n.ProtocolId=t.mainId+"-"+c.TASK_GAME_SUB_MSG.MSG_CS_GET_TIMINGREWARD,n}(a.StructProtocol);t.MSG_CS_Get_TimingReward=e;var n=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=c.Msg_TimingReward.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+c.TASK_GAME_SUB_MSG.MSG_SC_SENDTIMINGREWARD,n}(a.StructProtocol);t.Msg_TimingReward=n;var o=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.encode=function(){var t=e.prototype.encode.call(this);if(null!=this.head){var n=s.Msg_OtherServerHead.encode(this.head).finish();t.writeBytes(new r.ByteArray(n))}return t},n.ProtocolId=t.mainId+"-"+c.TASK_GAME_SUB_MSG.MSG_CS_GET_REWARD_TIME,n}(a.StructProtocol);t.MSG_CS_Get_Reward_Time=o;var l=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=c.Msg_SendRewardResult.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+c.TASK_GAME_SUB_MSG.MSG_SC_SENDREWARDRESULT,n}(a.StructProtocol);t.Msg_SendRewardResult=l;var u=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.encode=function(){var t=e.prototype.encode.call(this);if(null!=this.head){var n=s.Msg_OtherServerHead.encode(this.head).finish();t.writeBytes(new r.ByteArray(n))}return t},n.ProtocolId=t.mainId+"-"+c.TASK_GAME_SUB_MSG.MSG_CS_GET_DAYTASK,n}(a.StructProtocol);t.MSG_CS_Get_DayTask=u;var d=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=c.Msg_SC_DayTaskList.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+c.TASK_GAME_SUB_MSG.MSG_SC_SENDDAYTASK,n}(a.StructProtocol);t.Msg_SC_DayTaskList=d;var p=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.encode=function(){var t=e.prototype.encode.call(this),n=c.Msg_CS_GetDayTaskReward.encode(this.data).finish();return null!=this.head&&(this.head.byGameData=n,n=s.Msg_OtherServerHead.encode(this.head).finish()),t.writeBytes(new r.ByteArray(n)),t},n.ProtocolId=t.mainId+"-"+c.TASK_GAME_SUB_MSG.MSG_CS_GET_DAYTASKREWARD,n}(a.StructProtocol);t.Msg_CS_GetDayTaskReward=p;var h=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=c.Msg_SC_TaskRewardResult.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+c.TASK_GAME_SUB_MSG.MSG_SC_SENDTASKSUCCSSE,n}(a.StructProtocol);t.Msg_SC_TaskRewardResult=h})(n.TaskMsg||(n.TaskMsg={})),cc._RF.pop()},{"../../../lib/external/ByteArray":"ByteArray","../../../lib/network/struct/StructProtocol":"StructProtocol","../../../plugin/pb/protofile/GlobalMsgDef":"GlobalMsgDef","./CMD_TaskMsg":"CMD_TaskMsg"}],ThirdPlatDataProxy:[function(t,e,n){"use strict";cc._RF.push(e,"56df6CrwBVCqKTNVGv/gP/X","ThirdPlatDataProxy"),Object.defineProperty(n,"__esModule",{value:!0}),n.ThirdPlatDataProxy=void 0;var o=function(){function t(){this.scene=1e3,this.inviteCode=0}return t.prototype.handle=function(t){t&&t.scene&&(this.scene=t.scene||0,this.inviteCode=t.query.huskyInviteCode||0)},t}();n.ThirdPlatDataProxy=o,cc._RF.pop()},{}],Toast:[function(t,e,n){"use strict";cc._RF.push(e,"97fbadSCElDTrBKpLL89fX0","Toast");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.Toast=void 0;var a=t("../../../lib/base/CxComponent"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgToast=null,e.txtToast=null,e.mCountDown=0,e.mTipsMsg="",e}return i(e,t),e.prototype.onDestroy=function(){this.stopCountDown()},e.prototype.show=function(t,e,n){var o=this;this.mTipsMsg=t,this.mCountDown=e,this.txtToast&&(this.txtToast.string=t);var i=3;e&&(i=e),this.bgToast.node.opacity=150,cc.tween(this.bgToast.node).to(.3,{opacity:255}).delay(i).to(1,{opacity:0}).call(function(){o.dismiss()}).start(),n&&e>0&&(this.stopCountDown(),this.schedule(this.startCountDown,1,e))},e.prototype.stopCountDown=function(){this.unschedule(this.startCountDown)},e.prototype.startCountDown=function(){if(this.mCountDown--,this.mCountDown<=0)return this.stopCountDown(),void this.dismiss();this.txtToast&&(this.txtToast.string=this.mTipsMsg+" ("+this.mCountDown+"s)")},e.prototype.dismiss=function(){this.node.destroy()},r([l(cc.Sprite)],e.prototype,"bgToast",void 0),r([l(cc.Label)],e.prototype,"txtToast",void 0),r([c],e)}(a.CxComponent);n.Toast=u,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent"}],UIMatchView:[function(t,e,n){"use strict";cc._RF.push(e,"c6b82UJ275G57NFtA3lgzKa","UIMatchView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.UIMatchView=void 0;var a=t("./../../../language/LanguageCfg"),s=t("../../../../lib/base/CxCompExt"),c=t("../../../../lib/i18n/i18nHelper"),l=t("../../../const/AudioFile"),u=t("../../../event/Notify"),d=t("../../../../lib/base/ComPopup"),p=cc._decorator,h=p.ccclass,f=p.property,g=p.requireComponent,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ndaAnim=null,e.labWaitTips=null,e.btnCancel=null,e}return i(e,t),e.prototype.init=function(e){t.prototype.init.call(this,e),this.btnCancel&&(this.btnCancel.node.on("click",this.doCancelMatch,this),this.btnCancel.getComponentInChildren(cc.Label).language=c.i18nHelper.makeLanguage(a.LangKey.text_cancel)),this.labWaitTips&&(this.labWaitTips.language=c.i18nHelper.makeLanguage(a.LangKey.text_match_wait_partner)),e.bMatch&&this.doMatch()},e.prototype.initEvent=function(){t.prototype.initEvent.call(this),this.bindEvent(u.Notify.MatchGame.MATCH_RSP,this.onMatchRsp)},e.prototype.doMatch=function(){this.dispatch(u.Notify.MatchGame.SEND_MATCH_REQ),this.dispatch(u.Notify.Base.PLAY_EFFECT,{path:l.AudioFile.Com.GO})},e.prototype.doCancelMatch=function(){this.dispatch(u.Notify.Base.PLAY_EFFECT,{path:l.AudioFile.Com.BACK}),this.dispatch(u.Notify.MatchGame.SEND_CANEL_MATCH),this.close()},e.prototype.onMatchRsp=function(t){this.btnCancel&&!1===t.cancel&&(this.btnCancel.node.active=!1)},e.prototype.close=function(){this.node.destroy()},r([f(cc.Node)],e.prototype,"ndaAnim",void 0),r([f(cc.Label)],e.prototype,"labWaitTips",void 0),r([f(cc.Button)],e.prototype,"btnCancel",void 0),r([h,g(d.ComPopup)],e)}(s.CxCompExt);n.UIMatchView=_,cc._RF.pop()},{"../../../../lib/base/ComPopup":"ComPopup","../../../../lib/base/CxCompExt":"CxCompExt","../../../../lib/i18n/i18nHelper":"i18nHelper","../../../const/AudioFile":"AudioFile","../../../event/Notify":"Notify","./../../../language/LanguageCfg":"LanguageCfg"}],UISP:[function(t,e,n){"use strict";cc._RF.push(e,"56656VqRfZPGIrxxz5Ro4ky","UISP");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.UISP=void 0;var a=t("../../../lib/base/CxComponent"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sp=null,e}return i(e,t),e.prototype.listEvent=function(){return new Map([["change_blend",this.changeBlend]])},e.prototype.changeBlend=function(t){this.sp&&(this.sp.srcBlendFactor=t.src,this.sp.dstBlendFactor=t.dst)},r([l(cc.Sprite)],e.prototype,"sp",void 0),r([c],e)}(a.CxComponent);n.UISP=u,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent"}],UIScopaRuleTips:[function(t,e,n){"use strict";cc._RF.push(e,"85725Y7POxKNYi566bm5NCs","UIScopaRuleTips");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.UIScopaRuleTips=void 0;var a=t("./../../lib/base/CxComponent"),s=t("../../lib/base/BottomBarView"),c=t("../../lib/base/PopupView"),l=t("../../lib/utils/ComUtils"),u=t("../base/component/ComBottomBar"),d=t("../const/game/GameConstant"),p=t("../const/Global"),h=t("../language/LanguageCfg"),f=t("../language/LanguageImpl"),g=cc._decorator,_=g.ccclass,y=g.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.strRuleFormat="<color=#B01614>%s</c><color=#1A3375 ><size=38>%s</size></color>",e.spRuleA=null,e.spDoubleUp=null,e.spBinWin=null,e.spCrazy=null,e.height=[190,1200,1580,1580],e.svList=null,e.mLabCountDown=null,e.mRuleTypes=[],e.mCDtime=5,e.mCDtxt="",e.mCB=null,e}return i(e,t),e.prototype.init=function(t){t&&(Array.isArray(t.ruleTypes)&&(this.mRuleTypes=t.ruleTypes),this.mCB=t.callback,this.mCDtime=t.cd||0,this.node.height=this.height[Math.min(this.mRuleTypes.length-1,2)])},e.prototype.onLoad=function(){var e=this;if(t.prototype.onLoad.call(this),this.mCDtxt=l.ComUtils.getLang(h.LangKey.txt_i_see),this.spRuleA&&(this.spRuleA.node.active=!1),this.spBinWin&&(this.spBinWin.node.active=!1),this.spDoubleUp&&(this.spDoubleUp.node.active=!1),this.spCrazy&&(this.spCrazy.node.active=!1),this.mRuleTypes.sort(function(t,e){return t-e}),this.mRuleTypes.forEach(function(t){if(t===d.GameConstant.RuleType.A_SCOPA){if(e.spRuleA&&(e.spRuleA.node.active=!0,i=e.spRuleA.getComponentInChildren(cc.RichText))){var n=f.LanguageImpl.i18n.scopa_rule_a_name,o=f.LanguageImpl.i18n.scopa_rule_a;i.string=cc.js.formatStr(e.strRuleFormat,n,o)}}else if(t===d.GameConstant.RuleType.DoubleUp)e.spDoubleUp&&(e.spDoubleUp.node.active=!0,(i=e.spDoubleUp.getComponentInChildren(cc.RichText))&&(n=f.LanguageImpl.i18n.scopa_rule_double_up_name,o=f.LanguageImpl.i18n.scopa_rule_double_up,i.string=cc.js.formatStr(e.strRuleFormat,n,o)));else if(t===d.GameConstant.RuleType.BigWin)e.spBinWin&&(e.spBinWin.node.active=!0,(i=e.spBinWin.getComponentInChildren(cc.RichText))&&(n=f.LanguageImpl.i18n.scopa_rule_big_win_name,o=f.LanguageImpl.i18n.scopa_rule_big_win,i.string=cc.js.formatStr(e.strRuleFormat,n,o)));else if(t===d.GameConstant.RuleType.Crazy){var i;e.spCrazy&&(e.spCrazy.node.active=!0,(i=e.spCrazy.getComponentInChildren(cc.RichText))&&(n=f.LanguageImpl.i18n.scopa_rule_crazy_name,o=f.LanguageImpl.i18n.scopa_rule_crazy,i.string=cc.js.formatStr(e.strRuleFormat,n,o)))}}),this.mCDtime>0){s.BottomBarView.setBottomBar(this.node,[{style:p.gColorStyle.GREEN,text:this.mCDtxt+"("+this.mCDtime+")",callback:function(){e.close()}}]);var n=Math.abs(this.mCDtime);cc.tween(this.node).repeat(n,cc.tween().delay(1).call(this.updateTime.bind(this))).start()}else s.BottomBarView.setBottomBar(this.node,[{style:p.gColorStyle.GREEN,text:this.mCDtxt,callback:function(){e.onClose()}}]);c.PopupView.setTitle(this.node,f.LanguageImpl.i18n.title_scopa_rule)},e.prototype.start=function(){var t=this;this.mRuleTypes.length>=3&&cc.tween(this.svList).delay(.5).call(function(){cc.isValid(t.svList)&&t.svList.scrollToBottom(2)}).start()},e.prototype.onClose=function(){this.mCB&&this.mCB.call(),this.close()},e.prototype.updateTime=function(){if(this.mCDtime--,null==this.mLabCountDown){var t=this.getComponentInChildren(u.ComBottomBar);t&&(this.mLabCountDown=t.pCenterBtn.getComponentInChildren(cc.Label))}this.mLabCountDown&&(this.mLabCountDown.string=this.mCDtxt+"("+this.mCDtime+")"),this.mCDtime<=0&&(this.mCDtime=0,this.stopTimer(),this.onClose())},e.prototype.stopTimer=function(){this.node.stopAllActions()},e.prototype.onDestroy=function(){this.stopTimer(),t.prototype.onDestroy.call(this)},r([y],e.prototype,"strRuleFormat",void 0),r([y({type:cc.Sprite,tooltip:"A \u53ef\u4ee5scopa"})],e.prototype,"spRuleA",void 0),r([y({type:cc.Sprite,tooltip:"Double Up"})],e.prototype,"spDoubleUp",void 0),r([y({type:cc.Sprite,tooltip:"Big Win"})],e.prototype,"spBinWin",void 0),r([y({type:cc.Sprite,tooltip:"Crazy"})],e.prototype,"spCrazy",void 0),r([y({type:[cc.Integer],tooltip:"\u663e\u793a\u6846\u9ad8\u5ea6"})],e.prototype,"height",void 0),r([y({type:cc.ScrollView,tooltip:"\u89c4\u5219\u6eda\u52a8\u5217\u8868"})],e.prototype,"svList",void 0),r([_],e)}(a.CxComponent);n.UIScopaRuleTips=m,cc._RF.pop()},{"../../lib/base/BottomBarView":"BottomBarView","../../lib/base/PopupView":"PopupView","../../lib/utils/ComUtils":"ComUtils","../base/component/ComBottomBar":"ComBottomBar","../const/Global":"Global","../const/game/GameConstant":"GameConstant","../language/LanguageCfg":"LanguageCfg","../language/LanguageImpl":"LanguageImpl","./../../lib/base/CxComponent":"CxComponent"}],UpdateManager:[function(t,e,n){"use strict";cc._RF.push(e,"06f557JH0VImZ+PxqKcq8MS","UpdateManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.UpdateManager=n.gUpdateState=void 0;var o,i=t("../../../lib/utils/Logger"),r=t("../../config/GameConfig"),a=t("../buryPoint/BuryPoint"),s=t("../buryPoint/BuryPointUtils"),c=t("./MD5Utils");(function(t){t[t.None=0]="None",t[t.CheckStart=1]="CheckStart",t[t.Checking=2]="Checking",t[t.NeedUpdate=3]="NeedUpdate",t[t.Updateing=4]="Updateing",t[t.UpdateFinish=5]="UpdateFinish"})(o=n.gUpdateState||(n.gUpdateState={}));var l=function(){function t(){this.mUpdateState=o.None,this.mFailCount=0,this.mCheckListener=null,this.mFinishListener=null,this.mUpdateListener=null,this.mProgressListener=null,this.mServerUpdateInfo={remoteUrl:null,version:"1.0.0"},this.init()}return t.prototype.init=function(){this.initData(),this.initNative()},t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.initData=function(){},t.prototype.getServerUpdateUrl=function(){var t=null;return this.mServerUpdateInfo.remoteUrl&&(t=this.mServerUpdateInfo.remoteUrl),t},t.prototype.initNative=function(){cc.sys.isNative&&(this.mStoragePath=(jsb.fileUtils?jsb.fileUtils.getWritablePath():"/")+"my-remote-asset",this.mAssetsManager=new jsb.AssetsManager("",this.mStoragePath,this.onCompareVersion.bind(this)),i.Logger.info("initNative(): Storage path = "+this.mStoragePath),this.mAssetsManager.setVerifyCallback(function(t,e){i.Logger.info("VerifyCallback: path=",t);var n=e.compressed,o=e.md5;if(e.path,e.size,n)return i.Logger.info("VerifyCallback: is compressed"),!0;var r=c.MD5Utils.getFileMd5(t),a=r==o;return i.Logger.info("VerifyCallback: ret="+a+", preMD5="+o+", Md5="+r),a}),cc.sys.os,cc.sys.OS_ANDROID)},t.prototype.onCompareVersion=function(t,e){i.Logger.info("JS Custom Version Compare: version A is "+t+", version B is "+e);for(var n=t.split("."),o=e.split("."),r=0;r<n.length;++r){var a=parseInt(n[r]),s=parseInt(o[r]||0);if(a!==s)return a-s}return o.length>n.length?-1:0},t.prototype.onCheckCb=function(t){var e=this,n=null,i=t.getEventCode(),r=!1;switch(i){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:n="There is no local profile",r=!0;break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:n="Download profile error",r=!0;break;case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:n="Error parsing file",r=!0;break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:n="\u5df2\u7ecf\u662f\u6700\u65b0\u7684: "+t.getMessage();break;case jsb.EventAssetsManager.NEW_VERSION_FOUND:n="\u53d1\u73b0\u65b0\u7684\u66f4\u65b0",this.mUpdateState=o.NeedUpdate,setTimeout(function(){e.startHotUpdate()},20);break;default:return}n&&console.log("onCheckCb(): tip=",n),console.log("onCheckCb(): code="+i),this.mCheckListener&&this.mCheckListener({code:i,tip:n,showTip:r})},t.prototype.onUpdateCb=function(t){var e=!1,n=null;i.Logger.info("onUpdateCb: Code: "+t.getEventCode()+" msg:"+t.getMessage());var o=t.getEventCode();switch(o){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:n="There is no local profile",e=!0;break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:n="Download profile error",e=!0;break;case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:n="Error parsing file",e=!0;break;case jsb.EventAssetsManager.UPDATE_FAILED:case jsb.EventAssetsManager.ERROR_UPDATING:n="Update failed",e=!0;break;case jsb.EventAssetsManager.ERROR_DECOMPRESS:n="Decompression failed",e=!0;break;case jsb.EventAssetsManager.UPDATE_PROGRESSION:var r=t.getPercent(),c=t.getPercentByFile();this.handleUpdateProgress({code:o,fileProgress:c,fileTotal:t.getTotalFiles(),byteProgress:r,byteTotal:t.getTotalBytes()});break;case jsb.EventAssetsManager.ASSET_UPDATED:this.handleUpdateState(o,!1,n);break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:n="It's up to date",this.handleUpdateState(o,!1,n);break;case jsb.EventAssetsManager.UPDATE_FINISHED:n="Update complete",this.finishHotUpdate(o,!0)}n&&console.log("onUpdateCb(): tip="+n),console.log("onUpdateCb(): code="+o),e&&(this.handleUpdateState(o,!0,n),s.BuryPointUtils.send(a.BuryPoint.Debug.VersionUpdate.UpdateFailed,"code="+o+", msg="+t.getMessage()))},t.prototype.checkHotUpdate=function(t){if(i.Logger.info("checkHotUpdate(): start"),!cc.sys.isNative)return console.log("checkHotUpdate(): not native"),!1;if(!this.mAssetsManager)return console.log("checkHotUpdate(): not init AssetsManager"),!1;t&&(this.mServerUpdateInfo.remoteUrl=t.remoteUrl,this.mServerUpdateInfo.version=t.version,this.mFinishListener=t.finishListener||null,this.mProgressListener=t.progressListener||null,this.mUpdateListener=t.updateListener||null,this.mCheckListener=t.checkListener||null);var e=this.getServerUpdateUrl();return e?(this.mUpdateState=o.CheckStart,i.Logger.info("checkHotUpdate() newUpdateUrl=",e),!!this.isNeedUpdate(e,this.mServerUpdateInfo.version)&&(this.mAssetsManager.getState()===jsb.AssetsManager.State.UNINITED&&this.loadLocalManifest(),this.mAssetsManager.getLocalManifest()&&this.mAssetsManager.getLocalManifest().isLoaded()?(console.log("checkUpdate(): loaded manifest"),this.mAssetsManager.setEventCallback(this.onCheckCb.bind(this)),this.mAssetsManager.checkUpdate(),this.mUpdateState=o.Checking,!0):(console.log("checkUpdate(): Failed to load local manifest"),!1))):(console.log("checkHotUpdate(): has not server update url"),!1)},t.prototype.getResVersion=function(){var t=cc.sys.localStorage.getItem("res_version");return null!==t&&""!==t||(t=r.GameConfig.getInstance().getResVersion()),t},t.prototype.isNeedUpdate=function(t,e){if(t){var n=this.getResVersion();if(i.Logger.info("isNeedUpdate(): localVersion=",n),i.Logger.info("isNeedUpdate(): remoteVersion=",e),this.onCompareVersion(e,n)>0&&this.modifyLocalManifest(t))return!0}return!1},t.prototype.startHotUpdate=function(){console.log("startHotUpdate()"),this.mAssetsManager&&this.mUpdateState==o.NeedUpdate&&(this.mAssetsManager.setEventCallback(this.onUpdateCb.bind(this)),this.mAssetsManager.getState()===jsb.AssetsManager.State.UNINITED&&this.loadLocalManifest(),console.log("startHotUpdate() Updateing"),this.mFailCount=0,this.mUpdateState=o.Updateing,this.mAssetsManager.update())},t.prototype.tryAgainUpdate=function(){console.log("tryAgainUpdate()"),this.mUpdateState=o.NeedUpdate,this.mAssetsManager.prepareUpdate(),this.startHotUpdate()},t.prototype.finishHotUpdate=function(t,e){console.log("-------------------- hot update finish ---------------------------"),this.mUpdateState=o.UpdateFinish,this.saveNewUpdateInfo(),this.handleUpdateFinish(t,e)},t.prototype.handleUpdateFinish=function(t,e){this.mFinishListener&&this.mFinishListener({code:t,needRestart:e})},t.prototype.handleUpdateState=function(t,e,n){this.mUpdateListener&&this.mUpdateListener({code:t,isFail:e,tip:n})},t.prototype.handleUpdateProgress=function(t){this.mProgressListener&&this.mProgressListener(t)},t.prototype.saveNewUpdateInfo=function(){this.mServerUpdateInfo&&(this.mServerUpdateInfo.remoteUrl&&cc.sys.localStorage.setItem("SaveUpdateUrl",this.mServerUpdateInfo.remoteUrl),this.mServerUpdateInfo.version&&cc.sys.localStorage.setItem("res_version",this.mServerUpdateInfo.version))},t.prototype.getLocalVersionManifestPath=function(){return"version.manifest"},t.prototype.getLocalProjectManifestPath=function(){return"project.manifest"},t.prototype.loadLocalManifest=function(){if(console.log("loadLocalManifest() "),this.mAssetsManager&&this.mProjectContent&&this.mProjectContent.length>0){var t=new jsb.Manifest(this.mProjectContent,this.mStoragePath);this.mAssetsManager.loadLocalManifest(t,this.mStoragePath),this.mProjectContent=null}},t.prototype.modifyLocalManifest=function(t){var e=this.readFromCache(t);return e||(e=this.readFromLocalManifest(t)),e},t.prototype.readFromCache=function(t){if(console.log("readFromCache(): newUpateUrl="+t),this.mStoragePath){var e=this.mStoragePath+"/project.manifest";if(console.log("readFromCache(): filePath="+e),jsb.fileUtils.isFileExist(e)){console.log("readFromCache(): isFileExist");var n=jsb.fileUtils.getStringFromFile(e);if(n){var o=JSON.parse(n);if(o){o.packageUrl=t,o.remoteManifestUrl=o.packageUrl+"project.manifest",o.remoteVersionUrl=o.packageUrl+"version.manifest";var i=JSON.stringify(o);if(this.mProjectContent=i,cc.log("readFromCache(): packageUrl ="+o.packageUrl),cc.log("readFromCache(): remoteManifestUrl ="+o.remoteManifestUrl),cc.log("readFromCache(): remoteVersionUrl ="+o.remoteVersionUrl),jsb.fileUtils.writeStringToFile(i,e))return!0}}}}return!1},t.prototype.readFromLocalManifest=function(t){var e=this.mStoragePath,n=this.mStoragePath+"/project.manifest";cc.log("readFromLocalManifest(): newUpateUrl="+t),cc.log("readFromLocalManifest(): filePath="+n),jsb.fileUtils.isDirectoryExist(e)||jsb.fileUtils.createDirectory(e);var o=this.getLocalProjectManifestPath(),i=jsb.fileUtils.getStringFromFile(o);if(i){console.log("readFromLocalManifest(): read");var r=JSON.parse(i);if(r){r.packageUrl=t,r.remoteManifestUrl=r.packageUrl+"project.manifest",r.remoteVersionUrl=r.packageUrl+"version.manifest";var a=JSON.stringify(r);if(this.mProjectContent=a,console.log("readFromLocalManifest(): packageUrl ="+r.packageUrl),console.log("readFromLocalManifest(): remoteManifestUrl ="+r.remoteManifestUrl),console.log("readFromLocalManifest(): remoteVersionUrl ="+r.remoteVersionUrl),jsb.fileUtils.writeStringToFile(a,n))return!0}}return!1},t.prototype.restart=function(){console.log("----------- restart -----------"),this.clear(),cc.audioEngine.stopAll(),cc.game.restart()},t.prototype.clear=function(){this.mAssetsManager&&this.mAssetsManager.setEventCallback(null),this.mFinishListener=null,this.mUpdateListener=null,this.mProgressListener=null,this.mCheckListener=null},t.instance=null,t}();n.UpdateManager=l,cc._RF.pop()},{"../../../lib/utils/Logger":"Logger","../../config/GameConfig":"GameConfig","../buryPoint/BuryPoint":"BuryPoint","../buryPoint/BuryPointUtils":"BuryPointUtils","./MD5Utils":"MD5Utils"}],UpdateScene:[function(t,e,n){"use strict";cc._RF.push(e,"2b225Fg9FFOXb54TgTJCPmo","UpdateScene");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.UpdateScene=void 0;var a=t("../../../lib/base/CxComponent"),s=t("../../../lib/utils/ScreenAdapter"),c=t("../../view/ComUI"),l=t("../../config/GameConfig"),u=t("../../../lib/network/HttpManager"),d=t("./UpdateManager"),p=t("../../../lib/utils/ComUtils"),h=t("../../language/LanguageCfg"),f=t("../../../lib/manager/SceneManager"),g=t("../../../lib/manager/ResManager"),_=t("../../const/Global"),y=t("./UpdateVersionLayer"),m=t("../../event/Notify"),b=t("../../platform/NativeApi"),v=t("../buryPoint/BuryPointUtils"),S=t("../buryPoint/BuryPoint"),w=t("../../../lib/base/Callback"),C=cc._decorator,I=C.ccclass,D=C.property,L=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pBarNode=null,e.progressBar=null,e.tipLabel=null,e.pVersionLabel=null,e.mRetryCheckUpdateCount=0,e.mUpdateFailedCnt=0,e.mUpdateInfo=0,e.mUpdateType=0,e.mUpdateUrl="",e}return i(e,t),e.prototype.listEvent=function(){return new Map([[m.Notify.Update.UPDATE_TO_NEXT,this.onUpdateNext]])},e.prototype.onLoad=function(){var e=this;t.prototype.onLoad.call(this),console.log("UpdateScene: onLoad()"),l.GameConfig.getInstance().initNative(function(){e.checkAppVersion(),e.initLayer(),cc.sys.isNative&&p.ComUtils.isAndroid()&&l.GameConfig.isRelease()?e.requestUpdate():e.gotoLogin()})},e.prototype.start=function(){cc.log("UpdateScene: start()"),s.ScreenAdapter.setCanvas(cc.director.getScene().getComponentInChildren(cc.Canvas)),c.ComUI.addLoading({time:10,type:2,tipsTxt:p.ComUtils.getLang(h.LangKey.text_connecting)})},e.prototype.initLayer=function(){if(this.pVersionLabel){var t=l.GameConfig.g().getAppVersion()||"1.0.0",e=l.GameConfig.getInstance().getResVersion();cc.log("initLayer() appVersion=",t),cc.log("initLayer() resVersion=",e),this.pVersionLabel.string="App V"+t+"  Res V"+e+" Build "+l.GameConfig.getBuildTime(),this.pVersionLabel.node.active=!0,s.ScreenAdapter.paddingTop(this.pVersionLabel.node)}},e.prototype.requestUpdate=function(){var t=this;v.BuryPointUtils.send(S.BuryPoint.Debug.VersionUpdate.UpdateReq);var e=l.GameConfig.getInstance().getHotUpdateUrl()+"?jid="+l.GameConfig.getInstance().getProjectId()+"&ver="+l.GameConfig.getInstance().getResVersion()+"&appver="+l.GameConfig.g().getAppVersion()+"&pid="+l.GameConfig.getInstance().getPlatformId();cc.log("UpdateScene: requestUpdate() url=",e),u.HttpManager.Get(e).then(function(e){if(cc.log("requestUpdate() results=",e),c.ComUI.rmLoading(),e.ok&&200==e.status){t.mRetryCheckUpdateCount=0;var n=e.data,o=JSON.parse(n);o&&(t.mUpdateInfo=o,o.update_flag&&o.update_flag>0&&o.download_url?(t.mUpdateType=o.update_flag,t.mUpdateUrl=o.download_url,t.openUpdateVersion()):o.remote_url&&o.res_version&&t.checkUpdate(o))}else if(t.mRetryCheckUpdateCount+=1,cc.log("requestUpdate() mRetryCount=",t.mRetryCheckUpdateCount),t.mRetryCheckUpdateCount>=3)t.mRetryCheckUpdateCount=0,t.showUpdateDialog();else var i=t,r=setTimeout(function(){clearTimeout(r),cc.isValid(i)&&i.requestUpdate(),i=null},2e3)}).catch(function(t){c.ComUI.rmLoading(),cc.log("requestUpdate() Fail results=",t),v.BuryPointUtils.send(S.BuryPoint.Debug.VersionUpdate.UpdateReqFailed,"\u54cd\u5e94\u5f02\u5e38")})},e.prototype.showUpdateDialog=function(){c.ComUI.showDialog({text:p.ComUtils.getLang(h.LangKey.text_not_connect_tip)}),v.BuryPointUtils.send(S.BuryPoint.Debug.VersionUpdate.UpdateReqFailed,"\u5c1d\u8bd5\u591a\u6b21\u8fd8\u662f\u5931\u8d25")},e.prototype.checkUpdate=function(t){var e=this;console.log("checkUpdate()"),t&&(c.ComUI.rmLoading(),c.ComUI.addLoading({time:5,type:2,tipsTxt:p.ComUtils.getLang(h.LangKey.text_connecting)}),d.UpdateManager.getInstance().checkHotUpdate({remoteUrl:t.remote_url,version:t.res_version,checkListener:function(t){e.onCheckUpdate(t)},finishListener:function(t){c.ComUI.rmLoading(),e.onUpdateFinish(t)},progressListener:function(t){e.onUpdateProgress(t)},updateListener:function(t){e.onUpdateState(t)}})?this.pBarNode&&(this.pBarNode.active=!0):this.gotoLogin())},e.prototype.gotoLogin=function(){f.default.getInstance().gotoLogin(new w.Callback(this,function(){c.ComUI.rmLoading()}))},e.prototype.onCheckUpdate=function(t){t&&t.showTip&&t.tip&&c.ComUI.showToast(p.ComUtils.getLang(h.LangKey.text_login_fail)+" ("+t.code+")")},e.prototype.onUpdateState=function(t){cc.log("onUpdateState(): data=",JSON.stringify(t)),t&&t.isFail&&(console.log("-------------------- hot update failed count "+this.mUpdateFailedCnt+"---------------------------"),this.setUpdateTip(p.ComUtils.getLang(h.LangKey.text_login_fail)+" ("+t.code+")"),t.tip,this.mUpdateFailedCnt++,this.mUpdateFailedCnt>=3?(console.log("-------------------- onUpdateState failed --------- goto loginscene"),d.UpdateManager.getInstance().clear(),this.gotoLogin()):d.UpdateManager.getInstance().tryAgainUpdate())},e.prototype.onUpdateFinish=function(t){console.log("onUpdateFinish(): data=",t),this.setUpdateTip(p.ComUtils.getLang(h.LangKey.text_udpate_completed)),t&&t.needRestart&&setTimeout(function(){d.UpdateManager.getInstance().restart()},1e3)},e.prototype.onUpdateProgress=function(t){if(c.ComUI.rmLoading(),t&&t.byteProgress){console.log("onUpdateProgress(): byteProgress=",t.byteProgress);var e=Math.round(100*t.byteProgress);this.progressBar&&(this.progressBar.progress=t.byteProgress),this.setUpdateTip(e+"%")}},e.prototype.setUpdateTip=function(t){this.tipLabel&&(this.tipLabel.string=t)},e.prototype.openUpdateVersion=function(){var t=this,e=this;g.default.getInstance().loadPrefab("prefabs/update/UpdateVersionLayer",_.gAssetBundleName.RESOURCES||"resources",function(n,o){if(!n&&o){var i=cc.instantiate(o);i.active=!0;var r=i.getComponent(y.default);r&&r.init({updateType:t.mUpdateType,url:t.mUpdateUrl}),e.node.addChild(i)}})},e.prototype.onUpdateNext=function(){this.mUpdateInfo?this.checkUpdate(this.mUpdateInfo):this.gotoLogin()},e.prototype.checkAppVersion=function(){var t=cc.sys.localStorage.getItem("save_app_version"),e=b.NativeApi.getAppVersionName();console.log("checkUpdateApp: saveApp="+t),console.log("checkUpdateApp: newApp="+e),t&&t.length>0?e&&e.length>0&&t!=e&&(console.log("checkUpdateApp: set res_version empty1"),cc.sys.localStorage.setItem("res_version",""),cc.sys.localStorage.setItem("save_app_version",e)):e&&e.length>0&&(console.log("checkUpdateApp: set res_version empty2"),cc.sys.localStorage.setItem("res_version",""),cc.sys.localStorage.setItem("save_app_version",e))},r([D(cc.Node)],e.prototype,"pBarNode",void 0),r([D(cc.ProgressBar)],e.prototype,"progressBar",void 0),r([D(cc.Label)],e.prototype,"tipLabel",void 0),r([D(cc.Label)],e.prototype,"pVersionLabel",void 0),r([I],e)}(a.CxComponent);n.UpdateScene=L,cc._RF.pop()},{"../../../lib/base/Callback":"Callback","../../../lib/base/CxComponent":"CxComponent","../../../lib/manager/ResManager":"ResManager","../../../lib/manager/SceneManager":"SceneManager","../../../lib/network/HttpManager":"HttpManager","../../../lib/utils/ComUtils":"ComUtils","../../../lib/utils/ScreenAdapter":"ScreenAdapter","../../config/GameConfig":"GameConfig","../../const/Global":"Global","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../../platform/NativeApi":"NativeApi","../../view/ComUI":"ComUI","../buryPoint/BuryPoint":"BuryPoint","../buryPoint/BuryPointUtils":"BuryPointUtils","./UpdateManager":"UpdateManager","./UpdateVersionLayer":"UpdateVersionLayer"}],UpdateVersionLayer:[function(t,e,n){"use strict";cc._RF.push(e,"2f1e8crEXtM74SafXrwL10h","UpdateVersionLayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../lib/base/CxComponent"),s=t("../../../lib/utils/ComUtils"),c=t("../../event/Notify"),l=t("../../language/LanguageCfg"),u=t("../../view/ComUI"),d=cc._decorator,p=d.ccclass,h=d.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pTipLabel=null,e.pLeftLabel=null,e.pRightLabel=null,e.mUpdateType=0,e.mUpdateUrl="",e}return i(e,t),e.prototype.init=function(t){t&&(this.mUpdateType=t.updateType,this.mUpdateUrl=t.url)},e.prototype.start=function(){u.ComUI.addMask(this.node),u.ComUI.rmLoading(),this.initTipLabel(),this.initBtn()},e.prototype.initTipLabel=function(){if(this.mUpdateType>0){var t="",e=s.ComUtils.isAndroid();if(1==this.mUpdateType){var n=e?l.LangKey.txt_update_game_force:l.LangKey.txt_update_game_force_ios;t=s.ComUtils.getLang(n)}else 2==this.mUpdateType&&(n=e?l.LangKey.txt_update_game_suggest:l.LangKey.txt_update_game_suggest_ios,t=s.ComUtils.getLang(n));this.pTipLabel&&(this.pTipLabel.string=t)}},e.prototype.initBtn=function(){null!=this.mUpdateType&&(1==this.mUpdateType?(this.pLeftLabel&&(this.pLeftLabel.string=s.ComUtils.getLang(l.LangKey.text_cancel)),this.pRightLabel&&(this.pRightLabel.string=s.ComUtils.getLang(l.LangKey.text_ok))):2==this.mUpdateType&&(this.pLeftLabel&&(this.pLeftLabel.string=s.ComUtils.getLang(l.LangKey.txt_late)),this.pRightLabel&&(this.pRightLabel.string=s.ComUtils.getLang(l.LangKey.text_ok))))},e.prototype.onClose=function(){null!=this.mUpdateType?1==this.mUpdateType?this.exitApp():2==this.mUpdateType?this.enterNext():this.closeLayer():this.closeLayer()},e.prototype.onClickNo=function(){null!=this.mUpdateType&&(1==this.mUpdateType?this.exitApp():this.enterNext())},e.prototype.onClickYes=function(){this.mUpdateType&&this.mUpdateUrl&&cc.sys.openURL(this.mUpdateUrl)},e.prototype.enterNext=function(){this.dispatch(c.Notify.Update.UPDATE_TO_NEXT),this.closeLayer()},e.prototype.closeLayer=function(){this.node.destroy()},e.prototype.exitApp=function(){cc.game.end()},r([h(cc.Label)],e.prototype,"pTipLabel",void 0),r([h(cc.Label)],e.prototype,"pLeftLabel",void 0),r([h(cc.Label)],e.prototype,"pRightLabel",void 0),r([p],e)}(a.CxComponent);n.default=f,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../../lib/utils/ComUtils":"ComUtils","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../../view/ComUI":"ComUI"}],UserDataProxy:[function(t,e,n){"use strict";cc._RF.push(e,"64ba0fl8RhK5JL8KQ3AXitz","UserDataProxy"),Object.defineProperty(n,"__esModule",{value:!0}),n.UserDataProxy=void 0;var o=t("./LocalDataProxy"),i=function(){function t(){this.loginType=0,this.loginToken="",this.loginId="",this.loginName="",this.code="",this.sessionId="",this.userId=0,this.userName="",this.gold=0,this.gem=0,this.gemPercent=0,this.gender=0,this.faceId=0,this.userIP="",this.userHead=null,this.wxOpenId="",this.wxUnionId="",this.wxHeadUrl="",this.wxName="",this._headUrl="",this.headTexture=null,this.isNewPlayer=!1,this.dwJushuTotal=0,this.dwWinCount=0,this.bIsGoldenPass=!1,this.level=0,this.curExp=0,this.nextLvlExp=0,this.cardSkinId=0,this.rankLever=0,this.rankStartLever=0,this._ownTableIdList=[1],this.bindAccountInfo=null,this.powerInfo=null,this.userId=Number(cc.sys.localStorage.getItem(o.LocalStorageProxy.lastLoginUserId)||0)}return Object.defineProperty(t.prototype,"headUrl",{get:function(){return this._headUrl},set:function(t){console.log("headUrl="+t),this._headUrl=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tableLevel",{get:function(){return this._tableLevel},set:function(t){this._tableLevel=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useTableId",{get:function(){return this._useTableId},set:function(t){this._useTableId=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ownTableList",{get:function(){return this._ownTableIdList.slice(0,this._ownTableIdList.length)},set:function(t){this._ownTableIdList=t.splice(0,t.length)},enumerable:!1,configurable:!0}),t.prototype.clear=function(){},t.NAME="user_data_proxy",t}();n.UserDataProxy=i,cc._RF.pop()},{"./LocalDataProxy":"LocalDataProxy"}],UserHeadManager:[function(t,e,n){"use strict";cc._RF.push(e,"823c4e8nX9Co7NwaDXe4COw","UserHeadManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.UserHeadManager=n.gHeadType=void 0;var o,i=t("./../../config/ResourceUIConfig"),r=t("../../../lib/event/EventDispatcher"),a=t("../../../lib/manager/ResManager"),s=t("../../../lib/utils/Logger"),c=t("../../base/component/ComHead"),l=t("../../config/GameConfig"),u=t("../../const/Global"),d=t("../../event/Notify"),p=t("../../model/DataProxy"),h=t("../../model/LocalDataProxy"),f=t("../../view/ComUI");(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.SYSTEM_FACEID=1]="SYSTEM_FACEID",t[t.THIRD_HEAD=2]="THIRD_HEAD",t[t.PHOTO_IMAGE=3]="PHOTO_IMAGE"})(o=n.gHeadType||(n.gHeadType={}));var g=function(){function t(){this.mMyHeadCache=null,this.mPlayerHeadCache=new Map,this.mUserList=[],this.MAX_CACHE=10,this.initMessage()}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.initMessage=function(){r.EventDispatcher.getInstance().add(d.Notify.Head.CREATE_HEAD,this.createHead,this,0),r.EventDispatcher.getInstance().add(d.Notify.Head.PRELOAD_HEAD,this.preloadHead,this,0),r.EventDispatcher.getInstance().add(d.Notify.Head.CLEAR_MY_CACHE,this.clearMyCache,this,0),r.EventDispatcher.getInstance().add(d.Notify.Head.CLEAR_HEAD_CACHE,this.clearHeadCache,this,0),r.EventDispatcher.getInstance().add(d.Notify.Head.SWITCH_HEAD_MODE,this.switchHeadMode,this,0),r.EventDispatcher.getInstance().add(d.Notify.Head.SAVE_PHOTO_HEAD,this.savePhotoHead,this,0)},t.desInstance=function(){t.instance&&(t.instance.clear(),t.instance.clearMyCache(),t.instance.clearHeadCache(),t.instance=null)},t.prototype.clear=function(){r.EventDispatcher.getInstance().remove(this)},t.prototype.dispatch=function(t,e){r.EventDispatcher.getInstance().dispatch(t,e)},t.prototype.createHead=function(t){var e=this;if(t){var n=t.parent;n&&(n.getChildByName("ComHead")?this.updateHead(t):this.loadHead(t,function(n){e.showHead(n,t)}))}},t.prototype.loadHead=function(t,e){a.default.getInstance().loadPrefab(i.ResourceUIConfig.prefab.ComHead.path,u.gAssetBundleName.RESOURCES,function(t,n){n&&e&&e(n)})},t.prototype.showHead=function(t,e){if(t&&e){if(!cc.isValid(e.parent)||!cc.isValid(t))return void s.Logger.error("[UserHeadManager] params is invalid");var n=cc.instantiate(t);if(!n)return void s.Logger.error("[UserHeadManager] node is null");var o=n.getComponent(c.ComHead);if(!o)return;n.parent=e.parent,n.name="ComHead",this.initDefaultHead(o,e),this.setHeadParam(o,e);var i=this.getHeadCache(e);if(i)return void o.updateHead(i);var r=this.getHeadUrl(e);r&&this.loadUrlHead(r,o,e)}},t.prototype.updateHead=function(t){if(t&&t.parent){if(!cc.isValid(t.parent))return void s.Logger.warn("[UserHeadManager] updateHead is invalid");var e=t.parent.getComponentInChildren(c.ComHead);if(e){t.userId&&this.initDefaultHead(e,t),this.setHeadParam(e,t);var n=this.getHeadCache(t);if(n)return void e.updateHead(n);var o=this.getHeadUrl(t);o&&this.loadUrlHead(o,e,t)}}},t.prototype.preloadHead=function(){var t,e=this,n=p.DataProxy.getInstance().userData,i=n.headUrl;t=i&&i.length>0&&i.match("http")?i:l.GameConfig.getInstance().getUserImagePicDownURL(n.userId),this.getHeadMode()==o.SYSTEM_FACEID||this.isSystemFace(t)||cc.assetManager.loadRemote(t,{ext:".jpg"},function(t,n){t||n&&(e.mMyHeadCache=n)})},t.prototype.initDefaultHead=function(t,e){t&&(e.pos&&(t.node.x=e.pos.x,t.node.y=e.pos.y),e.size&&t.setHeadSize(e.size),null!=e.scale&&t.setHeadScale(e.scale),e.kuang&&t.setHeadKuang(e.kuang),e.isSelect&&t.setSelect(e.isSelect),t.setDefaultHead({faceId:e.faceId||0,sex:e.sex}),void 0!==e.showBg&&t.setHeadBgVisible(e.showBg))},t.prototype.setHeadParam=function(t,e){t&&e&&(t.setLevel(e.level),t.setRankLevel(e.rankLever,e.rankStartLever))},t.prototype.getHeadCache=function(t){var e=null;if(t&&t.userId){var n=t.userId;n===p.DataProxy.getInstance().userData.userId?this.getHeadMode()!=o.SYSTEM_FACEID&&(this.isSystemFace(t.url)||(e=this.mMyHeadCache)):this.isSystemFace(t.url)||(e=this.getPlayerUserHead(n))}return e},t.prototype.setHeadCache=function(t,e,n){t&&e&&n&&(e===p.DataProxy.getInstance().userData.userId?this.mMyHeadCache=t:this.setPlayerUserHead(e,t))},t.prototype.isSystemFace=function(t){return!(!t||"system_face"!=t.url&&"null"!=t)},t.prototype.getHeadUrl=function(t){var e=null;if(t.robot)t.custFaceId&&(e=l.GameConfig.getInstance().getRobotHeadUrl(t.custFaceId));else{if(t.url&&t.url.length>0){if(this.isSystemFace(t.url))return null;t.url.match("http")&&(e=t.url)}t.userId&&(e=t.userId==p.DataProxy.getInstance().userData.userId&&this.getHeadMode()==o.SYSTEM_FACEID?null:l.GameConfig.getInstance().getUserImagePicDownURL(t.userId))}return e},t.prototype.loadUrlHead=function(t,e,n){var o=this;if(t&&e&&n){if(console.log("UserHeadManager: loadUrlHead() downUrl="+t),!cc.sys.isNative)return;cc.assetManager.loadRemote(t,{ext:".jpg"},function(t,i){t||i&&(e&&cc.isValid(e)&&e.updateHead(i),n&&(o.setHeadCache(i,n.userId,n.save),n.callback&&n.callback(n)))})}},t.prototype.setPlayerUserHead=function(t,e){if(t&&e){if(this.mUserList){for(var n=!1,o=0;o<this.mUserList.length;o++){var i=this.mUserList[o];i&&i==t&&(n=!0)}if(!n){if(this.mUserList.length>=this.MAX_CACHE){var r=this.mUserList.shift();this.clearOneHeadCache(r)}this.mUserList.push(t)}}this.mPlayerHeadCache.set(t,e)}},t.prototype.getPlayerUserHead=function(t){return this.mPlayerHeadCache.get(t)},t.prototype.clearHeadCache=function(){if(this.mPlayerHeadCache){for(var t=Array.from(this.mPlayerHeadCache.keys()),e=0;e<t.length;e++){var n=t[e];if(n){var o=this.mPlayerHeadCache.get(n);o&&cc.assetManager.releaseAsset(o)}}this.mPlayerHeadCache.clear(),this.mUserList=[]}},t.prototype.clearMyCache=function(){this.mMyHeadCache=null},t.prototype.printCacheInfo=function(){for(var t="",e="",n=Array.from(this.mPlayerHeadCache.keys()),o=0;o<n.length;o++){var i=n[o];i&&(t+=i+", ")}for(o=0;o<this.mUserList.length;o++){var r=this.mUserList[o];r&&(e+=r+", ")}s.Logger.info("UserHeadManager: printCacheInfo: cacheInfo="+t),s.Logger.info("UserHeadManager: printCacheInfo: userInfo="+e)},t.prototype.clearOneHeadCache=function(t){this.mPlayerHeadCache&&t&&this.mPlayerHeadCache.delete(t)},t.prototype.switchHeadMode=function(t){t&&null!=t.mode&&p.DataProxy.getInstance().localData.set(h.LocalStorageProxy.HeadMode,""+t.mode)},t.prototype.getHeadMode=function(){return o.DEFAULT},t.prototype.clearPhotoCache=function(){var t=l.GameConfig.getInstance().getUserImagePicDownURL(p.DataProxy.getInstance().userData.userId),e=cc.assetManager.assets.get(t);e&&(cc.assetManager.releaseAsset(e),cc.sys.isNative&&cc.assetManager.cacheManager.removeCache(e.nativeUrl))},t.prototype.doPhotoHeadCB=function(){},t.prototype.savePhotoHead=function(t){if(t){var e=p.DataProxy.getInstance().userData,n=jsb.fileUtils.getDataFromFile(t),o=l.GameConfig.getInstance().getUserImagePicUpURL();f.ComUI.upLoadImage({url:o,exData:e.userId+".jpg",body:n,callback:this.doPhotoHeadCB.bind(this)})}},t.instance=null,t}();n.UserHeadManager=g,cc._RF.pop()},{"../../../lib/event/EventDispatcher":"EventDispatcher","../../../lib/manager/ResManager":"ResManager","../../../lib/utils/Logger":"Logger","../../base/component/ComHead":"ComHead","../../config/GameConfig":"GameConfig","../../const/Global":"Global","../../event/Notify":"Notify","../../model/DataProxy":"DataProxy","../../model/LocalDataProxy":"LocalDataProxy","../../view/ComUI":"ComUI","./../../config/ResourceUIConfig":"ResourceUIConfig"}],UserInfoHandler:[function(t,e,n){"use strict";cc._RF.push(e,"c8caexWcjpEtJkpOZ+ykF9z","UserInfoHandler");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.UserInfoHandler=void 0;var r=t("../../base/handler/ProxyHandler"),a=t("../../event/Notify"),s=t("../../../lib/utils/ComUtils"),c=t("../../../lib/utils/Logger"),l=t("../../../plugin/pb/protofile/GlobalMsgDef"),u=t("../../../plugin/pb/protofile/CMD_UserInfoMsg"),d=t("../../view/ComUI"),p=t("./UserInfoManager"),h=t("../../language/LanguageCfg"),f=t("../../../lib/manager/SceneManager"),g=t("../../const/Global"),_=t("../../event/GuiEvent"),y=t("../manager/UserHeadManager"),m=t("../../model/LocalDataProxy"),b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.SERVER_ID=90,e.mBindInfo=null,e}return i(e,t),e.prototype.getName=function(){return"UserInfoHandler"},e.prototype.protocolConfig=function(){return[{protocol:u.Msg_SC_UserInfo,subid:u.USERINFO_GAME_SUB_MSG.MSGID_SC_USERINFO_SUCCESS,cb:this.onGetUserInfo},{protocol:u.Msg_SC_UpdateNNResult,subid:u.USERINFO_GAME_SUB_MSG.MSGID_SC_UPDATENNRESULT,cb:this.onUserName},{protocol:u.Msg_SC_UpdateGenderResult,subid:u.USERINFO_GAME_SUB_MSG.MSGID_SC_UPDATE_GENDER_RESULT,cb:this.onUserGender},{protocol:u.Msg_SC_UserGoldInfo,subid:u.USERINFO_GAME_SUB_MSG.MSGID_SC_USER_GOLD_RESULT,cb:this.onUserGoldResult},{protocol:u.Msg_SC_RtnBindAccountInfo,subid:u.USERINFO_GAME_SUB_MSG.MSGID_SC_USER_RTNBINDACCINFO,cb:this.onGetBindInfo},{protocol:u.Msg_SC_BindUserAccountResult,subid:u.USERINFO_GAME_SUB_MSG.MSGID_SC_USER_BINDRESULT,cb:this.onBindAccountResult},{protocol:u.Msg_SC_UpdateFaceIDResult,subid:u.USERINFO_GAME_SUB_MSG.MSGID_SC_SENDUPDATEFACEIDRESULT,cb:this.onUpdateFaceID},{protocol:u.Msg_SC_RtnUserNameHeadURL,subid:u.USERINFO_GAME_SUB_MSG.MSGID_SC_RTNUSERNAMEHEADURL,cb:this.onRtnUserNameHeadUrl},{protocol:u.Msg_SC_ExtSessionResult,subid:u.USERINFO_GAME_SUB_MSG.MSGID_SC_EXTENDSESSION_RESULT,cb:this.onExtSessionResult},{protocol:u.Msg_SC_SendPS_Info,subid:u.USERINFO_GAME_SUB_MSG.MSGID_SC_SEND_PSINFO,cb:this.onGetUserPower}]},e.prototype.initEvent=function(){t.prototype.initEvent.call(this),this.addEvent(a.Notify.UserInfo.GET_USER_INFO,this.sendGetUserInfo),this.addEvent(a.Notify.UserInfo.UPLOAD_USER_NAME,this.sendUserName),this.addEvent(a.Notify.UserInfo.UPLOAD_USER_GENDER,this.sendUserGender),this.addEvent(a.Notify.UserInfo.GET_USER_GOLD,this.sendGetUserGold),this.addEvent(a.Notify.UserInfo.UPLOAD_USER_FACE_ID,this.sendUpdateFaceId),this.addEvent(a.Notify.UserInfo.GET_BIND_ACCOUNT_INFO,this.sendGetBindInfo),this.addEvent(a.Notify.UserInfo.REQ_BIND_USER_ACCOUNT,this.sendBindAccount),this.addEvent(a.Notify.UserInfo.REQ_EXTSESSION_TIME,this.sendExtSessionTime),this.addEvent(a.Notify.UserInfo.REQ_USER_POWER_DATA,this.sendGetUserPower),this.addEvent(a.Notify.UserInfo.UPLOAD_USER_NAMEHEADURL,this.sendGetUserNameHeadUrl),this.addEvent(a.Notify.UserInfo.GET_USER_NAMEHEARURL,this.onRtnUserNameHeadUrl)},e.prototype.getMainID=function(){return l.MAIN_MSG_ID.MAIN_MSG_USERINFO_ID},e.prototype.clear=function(){this.removeEvent(null)},e.prototype.getOtherHead=function(t,e){var n=t,o=void 0===e?n:e,i=new l.Msg_OtherServerHead;return i.dwGameID=n,i.dwGameTypeID=o,i.strUUID=this.userData.sessionId,i},e.prototype.sendGetUserInfo=function(t){var e=t;t||(e=this.userData.userId);var n=new u.Msg_CS_GetUserInfo;n.dwUserID=e,this.sendRequest(n,this.getMainID(),u.USERINFO_GAME_SUB_MSG.MSGID_CS_GET_USERINFO,this.getOtherHead(this.SERVER_ID)),c.Logger.info("\u53d1\u9001\u83b7\u53d6\u7528\u6237\u4fe1\u606f =========>",n)},e.prototype.onGetUserInfo=function(t){var e=t.data;c.Logger.info("\u83b7\u53d6\u7528\u6237\u4fe1\u606f <========="+e);var n=0==e.dwTotalCount,o=new Array;if(e.gameWin){for(var i=0;i<e.gameWin.length;i++){var r=e.gameWin[i],l={};l.game=s.ComUtils.u8ToUTF8Str(r.chGameName),l.total=r.dwTotalCount,l.win=r.dwWinCount,o.push(l)}c.Logger.info("onGetUserInfo() gameWinList = ",o)}if(e.dwUserID===this.userData.userId){var u=e.llGold;if(null!=u&&(this.userData.gold=u),this.userData.isNewPlayer=n,this.userData.level=e.dwExpLevel,this.userData.curExp=e.dwNowExp,this.userData.nextLvlExp=e.dwNextLevelExp,e.dwUseTableId>0&&(this.userData.useTableId=e.dwUseTableId,m.LocalStorageProxy.setUserValue(m.LocalStorageProxy.UseTableId,e.dwUseTableId)),null!=e.iFaceID&&(this.userData.faceId=e.iFaceID),e.PsData)if(this.userData.powerInfo)this.userData.powerInfo.dwBasicPS=e.PsData.dwBasicPS,this.userData.powerInfo.dwCurPS=e.PsData.dwCurPS;else{var d={};d.dwBasicPS=e.PsData.dwBasicPS,d.dwCurPS=e.PsData.dwCurPS,d.dwGetPSValue=0,d.dwSYTime=0,d.dwTimeCount=0,d.changeNum=0,this.userData.powerInfo=d}this.userData.dwJushuTotal=e.dwTotalCount,this.userData.dwWinCount=e.dwWinCount,this.userData.gameWinList=o,this.userData.ownTableList=e.tabHaveTableId,this.userData.gold=e.llGold,this.userData.bIsGoldenPass=e.bIsGoldenPass,this.userData.cardSkinId=e.dwPaiTagId,this.userData.rankLever=e.dwDan1,this.userData.rankStartLever=e.dwDan2}this.dispatch(a.Notify.Base.OPEN_USERINFO,{userId:e.dwUserID,userName:s.ComUtils.u8ToUTF8Str(e.chNickName),myUserId:this.userData.userId,userGold:e.llGold,totalTimes:e.dwTotalCount,totalWins:e.dwWinCount,gameWinList:o,faceId:e.iFaceID,custFaceId:e.dwUserCustFID||0,headUrl:e.strHeadURL||"",gender:e.iGender,isNewPlayer:n,ownTableList:e.tabHaveTableId,bIsGoldenPass:e.bIsGoldenPass,level:e.dwExpLevel,curExp:e.dwNowExp,nextLvlExp:e.dwNextLevelExp,rankLever:e.dwDan1||0,rankStartLever:e.dwDan2||0})},e.prototype.sendUserName=function(t){var e=new u.Msg_CS_UpdateUserNickName;e.byNickName=s.ComUtils.utf8StrToU8(t),this.sendRequest(e,this.getMainID(),u.USERINFO_GAME_SUB_MSG.MSGID_CS_UPDATE_NICKNAME,this.getOtherHead(this.SERVER_ID)),c.Logger.info("\u53d1\u9001\u6635\u79f0 =========>",e)},e.prototype.onUserName=function(t){c.Logger.info("\u53d1\u9001\u6635\u79f0 Success");var e=t.data;0==e.iRtnCode&&(this.userData.userName=s.ComUtils.u8ToUTF8Str(e.byNickName),this.dispatch(a.Notify.UserInfo.UPDATE_USER_NICKNAME,this.userData.userName))},e.prototype.sendUserGender=function(t){var e=new u.Msg_CS_UpdateUserGender;e.iGender=t,this.sendRequest(e,this.getMainID(),u.USERINFO_GAME_SUB_MSG.MSGID_CS_UPDATE_GENDER,this.getOtherHead(this.SERVER_ID)),c.Logger.info("\u53d1\u9001\u6027\u522b =========>",e)},e.prototype.onUserGender=function(){c.Logger.info("\u4e0a\u4f20\u6027\u522b Success")},e.prototype.sendGetUserGold=function(){var t=new u.Msg_SC_UserGoldInfo;t.dwUserID=this.userData.userId,this.sendRequest(t,this.getMainID(),u.USERINFO_GAME_SUB_MSG.MSGID_CS_GET_USER_GOLD,this.getOtherHead(this.SERVER_ID)),c.Logger.info("\u83b7\u53d6\u7528\u6237\u91d1\u5e01 =========>",t)},e.prototype.onUserGoldResult=function(t){c.Logger.info("\u91d1\u5e01\u4fe1\u606f onUserGoldResult <=====");var e=t.data;e.dwUserID==this.userData.userId&&(this.userData.gold=e.llGold,this.userData.gem=e.dwGem/100,this.userData.gemPercent=e.dwGem%100,this.dispatch(a.Notify.UserInfo.UPDATE_USER_GOLD,{userId:this.userData.userId,gold:e.llGold}))},e.prototype.sendGetBindInfo=function(){this.sendRequest(null,this.getMainID(),u.USERINFO_GAME_SUB_MSG.MSGID_CS_USERINFOENTRY,this.getOtherHead(this.SERVER_ID)),c.Logger.info("\u8bf7\u6c42\u7528\u6237\u7ed1\u5b9a\u4fe1\u606f =========>")},e.prototype.onGetBindInfo=function(t){var e=t.data,n={};n.isBind=e.bIsBind;var o=s.ComUtils.u8ToUTF8Str(e.chRewardList),i=JSON.parse(o);i&&(n.rewardNum=i.reward||0,n.bindTip=i.txt||""),c.Logger.info("\u8fd4\u56de\u7528\u6237\u7ed1\u5b9a\u4fe1\u606f <=========",n),this.userData.bindAccountInfo=n,this.dispatch(a.Notify.UserInfo.RTN_BIND_ACCOUNT_INFO,n)},e.prototype.sendBindAccount=function(t){if(t){this.mBindInfo=t;var e=JSON.stringify({token:t.token}),n=new u.Msg_CS_BindUserAccount;n.dwUserID=this.userData.userId,n.strBindInfo=s.ComUtils.utf8StrToU8(e),this.sendRequest(n,this.getMainID(),u.USERINFO_GAME_SUB_MSG.MSGID_CS_USER_BINDACCOUNT,this.getOtherHead(this.SERVER_ID)),c.Logger.info("\u8bf7\u6c42\u7ed1\u5b9a\u7528\u6237 =========>",n)}},e.prototype.onBindAccountResult=function(t){var e=t.data,n=null;if(0==e.iCode){n={code:e.iCode,dwUserID:e.dwUserID,strNewAccount:e.strNewAccount,strNickName:s.ComUtils.u8ToUTF8Str(e.strNickName),gold:e.llUPGold},this.mBindInfo&&p.UserInfoManager.getInstance().bindAccountResult(this.mBindInfo.name,this.mBindInfo.url,this.mBindInfo.loginType);var o=g.gSceneType.Lobby;this.gameData.enterGameId>0&&this.gameData.enterSceneInfo&&(o=this.gameData.enterSceneInfo.fromScene),this.dispatch(_.GuiEvent.Anim.COM_AWARD_ANIM,{awardNum:e.llUPGold,scene:o})}else n={code:e.iCode};this.dispatch(a.Notify.UserInfo.RTN_BIND_USER_ACCOUNT,n),c.Logger.info("\u8fd4\u56de\u7ed1\u5b9a\u7528\u6237\u7ed3\u679c <========="+JSON.stringify(n))},e.prototype.sendUpdateFaceId=function(t){var e=new u.Msg_CS_GeustUpDateFaceID;e.dwFaceID=t,this.sendRequest(e,this.getMainID(),u.USERINFO_GAME_SUB_MSG.MSGID_CS_UPDATEUSERFACEID,this.getOtherHead(this.SERVER_ID)),c.Logger.info("\u4fee\u6539\u5934\u50cffaceid =========>",e)},e.prototype.onUpdateFaceID=function(t){var e=t.data;e.bIsResult&&(this.dispatch(a.Notify.Base.SET_USERINFO,{userId:e.dwUserID,faceId:e.dwFaceID}),this.userData.headUrl="system_face",this.dispatch(a.Notify.UserInfo.UPLOAD_USER_NAMEHEADURL,{userName:this.userData.userName,headUrl:this.userData.headUrl}),this.dispatch(a.Notify.UserInfo.FORCE_UPDATE_USER_HEAD),this.dispatch(a.Notify.Head.SWITCH_HEAD_MODE,{mode:y.gHeadType.SYSTEM_FACEID})),this.dispatch(a.Notify.UserInfo.RTN_MODIFY_USER_FACE_ID,e.bIsResult),this.dispatch(a.Notify.UserInfo.UPDATE_USER_HEAD)},e.prototype.sendGetUserNameHeadUrl=function(t){var e=new u.Msg_CS_GetUserNameHeadURL;e.dwUserID=t||this.userData.userId,this.sendRequest(e,this.getMainID(),u.USERINFO_GAME_SUB_MSG.MSGID_CS_GETNAMEHEADURL,this.getOtherHead(this.SERVER_ID)),c.Logger.info("\u4fee\u6539\u73a9\u5bb6\u6635\u79f0\u548c\u5934\u50cfURL =========>",e)},e.prototype.onRtnUserNameHeadUrl=function(t){var e=t.data;c.Logger.info("\u8fd4\u56de\u73a9\u5bb6\u6635\u79f0\u548c\u5934\u50cfURL =========>"),console.log("\u73a9\u5bb6 userId= "+e.dwUserID+" \u5934\u50cf\u94fe\u63a5= "+e.strHeadURL),this.userData.headUrl=e.strHeadURL,this.dispatch(a.Notify.UserInfo.FORCE_UPDATE_USER_HEAD,{force:!0})},e.prototype.sendExtSessionTime=function(){var t=new u.Msg_CS_ExtSessionTime;t.strSession=this.userData.sessionId,this.sendRequest(t,this.getMainID(),u.USERINFO_GAME_SUB_MSG.MSGID_CS_EXTEND_SESSIONTIME,this.getOtherHead(this.SERVER_ID)),c.Logger.info("\u8bf7\u6c42\u5ef6\u957fsession\u65f6\u957f =========>",t)},e.prototype.onExtSessionResult=function(t){var e=t.data;c.Logger.info("\u5ef6\u957fsession\u65f6\u957f\u7ed3\u679c  =========>",e.iCode),e.iCode>0&&d.ComUI.showDialog({text:s.ComUtils.getLang(h.LangKey.text_account_expired),outClose:!1,cb1:function(){f.default.getInstance().gotoLogin()}})},e.prototype.sendGetUserPower=function(){this.sendRequest(null,this.getMainID(),u.USERINFO_GAME_SUB_MSG.MSGID_CS_GET_USER_PSDATA,this.getOtherHead(this.SERVER_ID)),c.Logger.info("sendGetUserPower  =========>")},e.prototype.onGetUserPower=function(t){var e=t.data,n={};n.dwBasicPS=e.PsData.dwBasicPS,n.dwCurPS=e.PsData.dwCurPS,n.dwSYTime=e.dwSYTime,n.dwGetPSValue=e.dwGetPSValue,n.dwTimeCount=0,n.changeNum=0,c.Logger.info("onGetUserPower <========= info=",JSON.stringify(n)),this.userData.powerInfo=n,this.dispatch(a.Notify.Base.UPDATE_POWER_INFO,n)},e}(r.ProxyHandler);n.UserInfoHandler=b,cc._RF.pop()},{"../../../lib/manager/SceneManager":"SceneManager","../../../lib/utils/ComUtils":"ComUtils","../../../lib/utils/Logger":"Logger","../../../plugin/pb/protofile/CMD_UserInfoMsg":"CMD_UserInfoMsg","../../../plugin/pb/protofile/GlobalMsgDef":"GlobalMsgDef","../../base/handler/ProxyHandler":"ProxyHandler","../../const/Global":"Global","../../event/GuiEvent":"GuiEvent","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../../model/LocalDataProxy":"LocalDataProxy","../../view/ComUI":"ComUI","../manager/UserHeadManager":"UserHeadManager","./UserInfoManager":"UserInfoManager"}],UserInfoManager:[function(t,e,n){"use strict";cc._RF.push(e,"c7e7cWyU19FwofkIYUNmQmZ","UserInfoManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.UserInfoManager=void 0;var o=t("../../../lib/event/EventDispatcher"),i=t("../../../lib/utils/ComUtils"),r=t("../../../lib/utils/Logger"),a=t("../../config/GameConfig"),s=t("../../const/Global"),c=t("../../event/GuiEvent"),l=t("../../event/Notify"),u=t("../../model/DataProxy"),d=t("../../model/LocalDataProxy"),p=t("../../platform/FaceBookSdk"),h=t("../../view/ComUI"),f=t("../login/view/LoginManager"),g=function(){function t(){}return t.prototype.init=function(){this.initData()},t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.initData=function(){},t.prototype.dispatch=function(t,e){o.EventDispatcher.getInstance().dispatch(t,e)},t.prototype.downAndUpLoadHead=function(t,e,n){r.Logger.info("downAndUpLoadHead() down url=",t),h.ComUI.downLoadImage(t).then(function(t){var o=a.GameConfig.getInstance().getUpLoadHeadUrl();r.Logger.info("downAndUpLoadHead() upload url=",o),h.ComUI.upLoadImage({url:o,exData:e+".jpg",body:t,callback:function(t){n&&n(t)}})})},t.prototype.requestUserHead=function(){f.LoginManager.getInstance().getLoginType()==s.gLoginType.FaceBook?this.requsetFBHead():s.gLoginType.Apple,this.preloadUserHead()},t.prototype.requsetFBHead=function(){var t=this,e=u.DataProxy.getInstance().userData;r.Logger.info("requsetFBHead(): start"),p.FaceBookSdk.requestUserInfo(function(n){if(n&&n.ok){r.Logger.info("requsetFBHead(): url=",n.pictureUrl);var o=n.pictureUrl;e.headUrl=o;var i=d.LocalStorageProxy.getUserValue(d.LocalStorageProxy.HeadUrl,"");i||(i=u.DataProxy.getInstance().localData.get(d.LocalStorageProxy.HeadUrl,""),u.DataProxy.getInstance().localData.remove(d.LocalStorageProxy.HeadUrl),d.LocalStorageProxy.setUserValue(d.LocalStorageProxy.HeadUrl,i)),i!=o&&t.downAndUpLoadHead(o,e.userId,function(){r.Logger.info("requsetFBHead(): upload ok!"),d.LocalStorageProxy.setUserValue(d.LocalStorageProxy.HeadUrl,i)})}})},t.prototype.checkNeedUpdateHead=function(){var t=!1,e=u.DataProxy.getInstance().userData.headUrl;if(i.ComUtils.isTextEmpty(e))t=!1;else{var n=d.LocalStorageProxy.getUserValue(d.LocalStorageProxy.HeadUrl,"");n||(n=u.DataProxy.getInstance().localData.get(d.LocalStorageProxy.HeadUrl,""),u.DataProxy.getInstance().localData.remove(d.LocalStorageProxy.HeadUrl),d.LocalStorageProxy.setUserValue(d.LocalStorageProxy.HeadUrl,n)),n!=e&&(t=!0)}return t},t.prototype.updateMyHeadInfo=function(t){if(t){var e=this.checkNeedUpdateHead();if(cc.log("updateMyHeadInfo(): isUpdateHead=",e),e){var n=u.DataProxy.getInstance().userData;cc.assetManager.loadRemote(n.headUrl,{type:".jpg"},function(e,o){e?t&&t.setDefaultHead({faceId:n.faceId,sex:n.gender}):(t&&t.updateHead(o),d.LocalStorageProxy.setUserValue(d.LocalStorageProxy.HeadUrl,n.headUrl),this.dispatch(l.Notify.Base.SET_USERINFO,{userHead:o}))}.bind(this)),this.downAndUpLoadHead(n.headUrl,n.userId,function(){cc.log("updateMyHeadInfo(): upload ok")})}}},t.prototype.preloadUserHead=function(){var t=u.DataProxy.getInstance().userData,e=a.GameConfig.getInstance().getUserImagePicDownURL(t.userId);console.log("preloadUserHead(): headurl=",e),cc.assetManager.loadRemote(e,{type:".jpg"},function(e,n){e||(t.userHead=n)}.bind(this))},t.prototype.getUserData=function(){return u.DataProxy.getInstance().userData},t.prototype.bindAccountResult=function(t,e,n){var o=this;if(t&&e&&n){var i=this.getUserData();r.Logger.info("bindAccountResult(): name="+t),r.Logger.info("bindAccountResult(): url="+e),r.Logger.info("bindAccountResult(): loginType="+n),this.dispatch(l.Notify.Base.SET_USERINFO,{userName:t,headUrl:e}),this.dispatch(l.Notify.UserInfo.UPLOAD_USER_NAME,t),this.downAndUpLoadHead(e,i.userId,function(){r.Logger.info("bindAccountResult(): modify head success"),o.dispatch(l.Notify.UserInfo.UPDATE_USER_HEAD)}),f.LoginManager.getInstance().getLoginType()==s.gLoginType.YK&&f.LoginManager.getInstance().clearPlatformAccount(s.gLoginType.YK),f.LoginManager.getInstance().saveNewLoginType(n),this.dispatch(c.GuiEvent.UI.DISPLAY_BIND_ACCOUNT_MENU,!1)}},t.instance=null,t}();n.UserInfoManager=g,cc._RF.pop()},{"../../../lib/event/EventDispatcher":"EventDispatcher","../../../lib/utils/ComUtils":"ComUtils","../../../lib/utils/Logger":"Logger","../../config/GameConfig":"GameConfig","../../const/Global":"Global","../../event/GuiEvent":"GuiEvent","../../event/Notify":"Notify","../../model/DataProxy":"DataProxy","../../model/LocalDataProxy":"LocalDataProxy","../../platform/FaceBookSdk":"FaceBookSdk","../../view/ComUI":"ComUI","../login/view/LoginManager":"LoginManager"}],UserInfoMsg:[function(t,e,n){"use strict";cc._RF.push(e,"f0759QH+elMp7Q7Q8QEgpT7","UserInfoMsg");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.UserInfo=void 0;var r=t("../../../lib/network/struct/StructProtocol"),a=t("../../../lib/external/ByteArray"),s=t("../../../plugin/pb/protofile/GlobalMsgDef"),c=t("../../../plugin/pb/protofile/CMD_UserInfoMsg");(function(t){t.mainId=s.MAIN_MSG_ID.MAIN_MSG_USERINFO_ID;var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.encode=function(){var t=e.prototype.encode.call(this),n=c.Msg_CS_GetUserInfo.encode(this.data).finish();return null!=this.head&&(this.head.byGameData=n,n=s.Msg_OtherServerHead.encode(this.head).finish()),t.writeBytes(new a.ByteArray(n)),t},n.ProtocolId=t.mainId+"-"+c.USERINFO_GAME_SUB_MSG.MSGID_CS_GET_USERINFO,n}(r.StructProtocol);t.Msg_CS_GetUserInfo=e;var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.getID=function(){return n.UnderWriteId},n.prototype.encode=function(){var t=e.prototype.encode.call(this),n=c.Msg_CS_UpdateUnderWrite.encode(this.data).finish();return null!=this.head&&(this.head.byGameData=n,n=s.Msg_OtherServerHead.encode(this.head).finish()),t.writeBytes(new a.ByteArray(n)),t},n.UnderWriteId=t.mainId+" - "+c.USERINFO_GAME_SUB_MSG.MSGID_CS_UPDATE_UNDERWRITE,n}(r.StructProtocol);t.Msg_CS_UpdateUnderWrite=n;var o=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=c.Msg_SC_UserInfo.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+c.USERINFO_GAME_SUB_MSG.MSGID_SC_USERINFO_SUCCESS,n}(r.StructProtocol);t.Msg_SC_UserInfo=o;var l=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.encode=function(){var t=e.prototype.encode.call(this),n=c.Msg_CS_BindUserAccount.encode(this.data).finish();return null!=this.head&&(this.head.byGameData=n,n=s.Msg_OtherServerHead.encode(this.head).finish()),t.writeBytes(new a.ByteArray(n)),t},n.ProtocolId=t.mainId+"-"+c.USERINFO_GAME_SUB_MSG.MSGID_CS_USER_BINDACCOUNT,n}(r.StructProtocol);t.Msg_CS_BindUserAccount=l;var u=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=c.Msg_SC_BindUserAccountResult.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+c.USERINFO_GAME_SUB_MSG.MSGID_SC_USER_BINDRESULT,n}(r.StructProtocol);t.Msg_SC_BindUserAccountResult=u;var d=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.encode=function(){var t=e.prototype.encode.call(this);if(null!=this.head){var n=s.Msg_OtherServerHead.encode(this.head).finish();t.writeBytes(new a.ByteArray(n))}return t},n.ProtocolId=t.mainId+"-"+c.USERINFO_GAME_SUB_MSG.MSGID_CS_USERINFOENTRY,n}(r.StructProtocol);t.MSG_CS_UserInfoEntry=d;var p=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=c.Msg_SC_RtnBindAccountInfo.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+c.USERINFO_GAME_SUB_MSG.MSGID_SC_USER_RTNBINDACCINFO,n}(r.StructProtocol);t.Msg_SC_RtnBindAccountInfo=p;var h=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.encode=function(){var t=e.prototype.encode.call(this),n=c.Msg_CS_UpdateUserNickName.encode(this.data).finish();return null!=this.head&&(this.head.byGameData=n,n=s.Msg_OtherServerHead.encode(this.head).finish()),t.writeBytes(new a.ByteArray(n)),t},n.ProtocolId=t.mainId+"-"+c.USERINFO_GAME_SUB_MSG.MSGID_CS_UPDATE_NICKNAME,n}(r.StructProtocol);t.MSGID_CS_UpdateUserNickName=h;var f=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=c.Msg_SC_UpdateNNResult.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+c.USERINFO_GAME_SUB_MSG.MSGID_SC_UPDATENNRESULT,n}(r.StructProtocol);t.MSGID_SC_UpdateNNResult=f;var g=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.encode=function(){var t=e.prototype.encode.call(this),n=c.Msg_CS_UpdateUserGender.encode(this.data).finish();return null!=this.head&&(this.head.byGameData=n,n=s.Msg_OtherServerHead.encode(this.head).finish()),t.writeBytes(new a.ByteArray(n)),t},n.ProtocolId=t.mainId+"-"+c.USERINFO_GAME_SUB_MSG.MSGID_CS_UPDATE_GENDER,n}(r.StructProtocol);t.MSGID_CS_UpdateUserGender=g;var _=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=c.Msg_SC_UpdateGenderResult.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+c.USERINFO_GAME_SUB_MSG.MSGID_SC_UPDATE_GENDER_RESULT,n}(r.StructProtocol);t.MSGID_SC_UpdateGenderResult=_;var y=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.encode=function(){var t=e.prototype.encode.call(this),n=c.Msg_CS_UpdateNameHeadURL.encode(this.data).finish();return null!=this.head&&(this.head.byGameData=n,n=s.Msg_OtherServerHead.encode(this.head).finish()),t.writeBytes(new a.ByteArray(n)),t},n.ProtocolId=t.mainId+"-"+c.USERINFO_GAME_SUB_MSG.MSGID_CS_UPDATENAMEHEADURL,n}(r.StructProtocol);t.Msg_CS_UpdateNameHeadURL=y;var m=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return _.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=c.Msg_SC_RtnUpdateNameHeadResult.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+c.USERINFO_GAME_SUB_MSG.MSGID_SC_RTNNAMEHEADRESULT,n}(r.StructProtocol);t.Msg_SC_RtnUpdateNameHeadResult=m;var b=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.encode=function(){var t=e.prototype.encode.call(this),n=c.Msg_CS_GetUserNameHeadURL.encode(this.data).finish();return null!=this.head&&(this.head.byGameData=n,n=s.Msg_OtherServerHead.encode(this.head).finish()),t.writeBytes(new a.ByteArray(n)),t},n.ProtocolId=t.mainId+"-"+c.USERINFO_GAME_SUB_MSG.MSGID_CS_GETNAMEHEADURL,n}(r.StructProtocol);t.Msg_CS_GetUserNameHeadURL=b;var v=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return _.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=c.Msg_SC_RtnUserNameHeadURL.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+c.USERINFO_GAME_SUB_MSG.MSGID_SC_RTNUSERNAMEHEADURL,n}(r.StructProtocol);t.Msg_SC_RtnUserNameHeadURL=v;var S=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.encode=function(){var t=e.prototype.encode.call(this),n=c.Msg_CS_GetUserInfo.encode(this.data).finish();return null!=this.head&&(this.head.byGameData=n,n=s.Msg_OtherServerHead.encode(this.head).finish()),t.writeBytes(new a.ByteArray(n)),t},n.ProtocolId=t.mainId+"-"+c.USERINFO_GAME_SUB_MSG.MSGID_CS_GET_USER_GOLD,n}(r.StructProtocol);t.Msg_CS_GetUserGold=S;var w=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=c.Msg_SC_UserGoldInfo.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+c.USERINFO_GAME_SUB_MSG.MSGID_SC_USER_GOLD_RESULT,n}(r.StructProtocol);t.Msg_SC_UserGoldResult=w;var C=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.encode=function(){var t=e.prototype.encode.call(this),n=c.Msg_CS_GeustUpDateFaceID.encode(this.data).finish();return null!=this.head&&(this.head.byGameData=n,n=s.Msg_OtherServerHead.encode(this.head).finish()),t.writeBytes(new a.ByteArray(n)),t},n.ProtocolId=t.mainId+"-"+c.USERINFO_GAME_SUB_MSG.MSGID_CS_UPDATEUSERFACEID,n}(r.StructProtocol);t.Msg_CS_GeustUpDateFaceID=C;var I=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=c.Msg_SC_UpdateFaceIDResult.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+c.USERINFO_GAME_SUB_MSG.MSGID_SC_SENDUPDATEFACEIDRESULT,n}(r.StructProtocol);t.Msg_SC_UpdateFaceIDResult=I;var D=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.encode=function(){var t=e.prototype.encode.call(this),n=c.Msg_CS_ExtSessionTime.encode(this.data).finish();return null!=this.head&&(this.head.byGameData=n,n=s.Msg_OtherServerHead.encode(this.head).finish()),t.writeBytes(new a.ByteArray(n)),t},n.ProtocolId=t.mainId+"-"+c.USERINFO_GAME_SUB_MSG.MSGID_CS_EXTEND_SESSIONTIME,n}(r.StructProtocol);t.Msg_CS_ExtSessionTime=D;var L=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=c.Msg_SC_ExtSessionResult.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+c.USERINFO_GAME_SUB_MSG.MSGID_SC_EXTENDSESSION_RESULT,n}(r.StructProtocol);t.Msg_SC_ExtSessionResult=L;var R=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.encode=function(){var t=e.prototype.encode.call(this);if(null!=this.head){var n=s.Msg_OtherServerHead.encode(this.head).finish();t.writeBytes(new a.ByteArray(n))}return t},n.ProtocolId=t.mainId+"-"+c.USERINFO_GAME_SUB_MSG.MSGID_CS_GET_USER_PSDATA,n}(r.StructProtocol);t.MSG_CS_Get_UserPSData=R;var P=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return i(n,e),n.prototype.getID=function(){return n.ProtocolId},n.prototype.decode=function(t){e.prototype.decode.call(this,t),this.data=c.Msg_SC_SendPS_Info.decode(this.getBytes(t))},n.ProtocolId=t.mainId+"-"+c.USERINFO_GAME_SUB_MSG.MSGID_SC_SEND_PSINFO,n}(r.StructProtocol);t.Msg_SC_SendPS_Info=P})(n.UserInfo||(n.UserInfo={})),cc._RF.pop()},{"../../../lib/external/ByteArray":"ByteArray","../../../lib/network/struct/StructProtocol":"StructProtocol","../../../plugin/pb/protofile/CMD_UserInfoMsg":"CMD_UserInfoMsg","../../../plugin/pb/protofile/GlobalMsgDef":"GlobalMsgDef"}],UserInfoPanel:[function(t,e,n){"use strict";cc._RF.push(e,"5636c4C6CFDOLjqWH/VnWkO","UserInfoPanel");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../lib/base/CxComponent"),s=t("../../../lib/utils/ComUtils"),c=t("../../const/Global"),l=t("../../event/GuiEvent"),u=t("../../event/Notify"),d=t("../../language/LanguageCfg"),p=t("../../model/DataProxy"),h=t("../../module/login/view/LoginManager"),f=t("../ComUI"),g=cc._decorator,_=g.ccclass,y=g.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ndHead=null,e.spLevelBg=null,e.labUserName=null,e.labGold=null,e.labPower=null,e.spPowerIcon=null,e.labUserId=null,e.btnModify=null,e.labTotalWinTitle=null,e.labTotalWinInfo=null,e.labGame1_title=null,e.labGame1_info=null,e.labGame2_title=null,e.labGame2_info=null,e.labLevel=null,e.barExp=null,e.labExp=null,e.btnGoldenName=null,e.userId=0,e.myUserId=0,e.bInGame=!1,e.delayLock=!0,e}return i(e,t),e.prototype.init=function(t){this.userId=t.userId,this.myUserId=t.myUserId,this.bInGame=t.bInGame||!1,this.initLang(),this.initLayer({myUserId:this.myUserId,userId:this.userId,userName:t.userName,userGold:t.userGold,totalTimes:0,totalWins:0,gameWinList:[],faceId:t.faceId,headUrl:t.headUrl,gender:t.gender,custFaceId:t.custFaceId,powerInfo:t.powerInfo,level:t.level,curExp:t.curExp,nextLvlExp:t.nextLvlExp,rankLever:t.rankLever,rankStartLever:t.rankStartLever,bIsGoldenPass:t.bIsGoldenPass}),this.dispatch(u.Notify.UserInfo.GET_USER_INFO,this.userId)},e.prototype.listEvent=function(){return new Map([[u.Notify.Base.OPEN_USERINFO,this.onUserInfo],[u.Notify.Base.SET_USERINFO,this.onModifyUserHead],[u.Notify.GoldenPass.SUBSCRIBE_SUCC,this.onBuyGoldenPassSucc]])},e.prototype.initLayer=function(t){if(this.userInfo=t,t){this.labUserName&&(this.labUserName.string=t.userName,t.bIsGoldenPass&&f.ComUI.LabelToGolden(this.labUserName)),this.labGold&&(this.labGold.string=s.ComUtils.formatGoldStr(t.userGold)),this.labPower&&t.powerInfo&&t.userId===this.myUserId&&(this.labPower.string=""+t.powerInfo.dwCurPS,this.labPower.node.active=!0,this.spPowerIcon&&(this.spPowerIcon.node.active=!0)),this.labUserId&&(this.labUserId.string="ID: "+t.userId);var e={parent:this.ndHead,userId:t.userId,sex:t.gender,faceId:t.faceId,size:cc.size(this.ndHead.width,this.ndHead.height),url:t.headUrl,custFaceId:t.custFaceId,robot:t.custFaceId>0,level:t.level,rankLever:t.rankLever||0,rankStartLever:t.rankStartLever||0};if(this.labLevel.string=""+t.level,t.userId==p.DataProxy.getInstance().userData.userId){e.level=null;var n=t.curExp/(0==t.nextLvlExp?1:t.nextLvlExp);this.barExp.progress=n,this.labExp.string=t.curExp+"/"+t.nextLvlExp,this.btnGoldenName&&(this.btnGoldenName.node.active=!t.bIsGoldenPass,this.btnGoldenName.node.getComponentInChildren(cc.Label).string=s.ComUtils.getLang(d.LangKey.golden_name))}else this.labLevel.node.parent.active=!1,this.barExp.node.active=!1,this.btnGoldenName.node.active=!1;if(this.ndHead&&this.dispatch(u.Notify.Head.CREATE_HEAD,e),this.btnModify){var o=h.LoginManager.getInstance().getLoginType();this.isMySelf()&&c.gLoginType.YK==Number(o)&&!1===this.bInGame?(this.btnModify.node.active=!0,this.btnModify.node.on("click",this.onClickModify,this)):(this.btnModify.node.active=!1,this.userId!==p.DataProxy.getInstance().userData.userId&&(this.labUserName.node.y=this.ndHead.y))}this.labTotalWinInfo&&(this.labTotalWinInfo.string=this.getWinInfo(t.totalTimes||0,t.totalWins||0));for(var i=[this.labGame1_info,this.labGame2_info],r=t.gameWinList||[],a=0;a<i.length;a++){var l=i[a],g=r[a];if(l){var _=g&&g.total||0,y=g&&g.win||0;l.string=this.getWinInfo(_,y)}}}},e.prototype.onUserInfo=function(t){this.userId=t.userId,this.myUserId=t.myUserId,this.initLayer(t)},e.prototype.initLang=function(){s.ComUtils.setLangText(this.labTotalWinTitle,d.LangKey.user_total_wins),s.ComUtils.setLangText(this.labGame1_title,d.LangKey.user_scopa_wins),s.ComUtils.setLangText(this.labGame2_title,d.LangKey.user_scopone_wins)},e.prototype.getWinInfo=function(t,e){var n=0;return t>0&&(n=Math.floor(e/t*100)),e+"("+n+"%)"},e.prototype.isMySelf=function(){return this.userId===this.myUserId},e.prototype.onClickModify=function(){!1!==this.isMySelf()&&this.delayLock&&(s.ComUtils.delayLimit(this,1e3),this.dispatch(l.GuiEvent.PopMsg.DISPLAY_MODIFY_HEAD))},e.prototype.onModifyUserHead=function(t){this.ndHead&&this.userId==t.userId&&(this.userInfo.level,t.userId,p.DataProxy.getInstance().userData.userId,this.dispatch(u.Notify.Head.CREATE_HEAD,{parent:this.ndHead,userId:this.userId,faceId:t.faceId||this.userInfo.faceId,sex:t.gender||this.userInfo.gender,size:cc.size(this.ndHead.width,this.ndHead.height),url:t.headUrl||this.userInfo.headUrl,robot:this.userInfo.custFaceId>0,level:this.userInfo.level,rankLever:this.userInfo.ranklevel||0,rankStartLever:this.userInfo.rankstarlevel||0}))},e.prototype.onClickGoldenName=function(){var t={rewardType:c.SubscGuide.GOLDEN_NAME};this.dispatch(l.GuiEvent.PopMsg.DISPLAY_GOLDEN_PASS_SIMPLE_BUY,t)},e.prototype.onBuyGoldenPassSucc=function(t){t.succ&&(this.labUserName&&f.ComUI.LabelToGolden(this.labUserName),this.btnGoldenName.node.active=!1)},r([y(cc.Node)],e.prototype,"ndHead",void 0),r([y(cc.Sprite)],e.prototype,"spLevelBg",void 0),r([y(cc.Label)],e.prototype,"labUserName",void 0),r([y(cc.Label)],e.prototype,"labGold",void 0),r([y(cc.Label)],e.prototype,"labPower",void 0),r([y(cc.Sprite)],e.prototype,"spPowerIcon",void 0),r([y(cc.Label)],e.prototype,"labUserId",void 0),r([y(cc.Button)],e.prototype,"btnModify",void 0),r([y(cc.Label)],e.prototype,"labTotalWinTitle",void 0),r([y(cc.Label)],e.prototype,"labTotalWinInfo",void 0),r([y(cc.Label)],e.prototype,"labGame1_title",void 0),r([y(cc.Label)],e.prototype,"labGame1_info",void 0),r([y(cc.Label)],e.prototype,"labGame2_title",void 0),r([y(cc.Label)],e.prototype,"labGame2_info",void 0),r([y(cc.Label)],e.prototype,"labLevel",void 0),r([y(cc.ProgressBar)],e.prototype,"barExp",void 0),r([y(cc.Label)],e.prototype,"labExp",void 0),r([y(cc.Button)],e.prototype,"btnGoldenName",void 0),r([_],e)}(a.CxComponent);n.default=m,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../../lib/utils/ComUtils":"ComUtils","../../const/Global":"Global","../../event/GuiEvent":"GuiEvent","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../../model/DataProxy":"DataProxy","../../module/login/view/LoginManager":"LoginManager","../ComUI":"ComUI"}],UserTableItem:[function(t,e,n){"use strict";cc._RF.push(e,"f3226yc7xZLyLePtPhmcz7W","UserTableItem");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.UserTableItem=void 0;var a=t("../../base/component/ComTableViewCell"),s=t("../../const/Global"),c=t("../../module/tables/TableSkinMgr"),l=t("../ComUI"),u=cc._decorator,d=u.ccclass,p=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spTable=null,e.spLock=null,e.spGrayMask=null,e.labName=null,e}return i(e,t),e.prototype.init=function(t){if(this.tableId=t.tableId,this.tableName=t.name||"",this.labName&&(this.labName.string=this.tableName),this.spTable){var e=c.TableSkinMgr.getTableCfgById(this.tableId);l.ComUI.setSprite(this.spTable.node,e.smlbg,s.gAssetBundleName.TABLES_RES)}},e.prototype.setTableBg=function(){},e.prototype.reset=function(){this.spGrayMask&&(this.spGrayMask.node.opacity=255,this.spGrayMask.node.active=!0),this.spLock&&(this.spLock.node.active=!0)},e.prototype.getTableTexture=function(){return this.spTable?this.spTable.spriteFrame.getTexture():null},e.prototype.getTableSprite=function(){return this.spTable?this.spTable.spriteFrame.clone():null},r([p(cc.Sprite)],e.prototype,"spTable",void 0),r([p(cc.Sprite)],e.prototype,"spLock",void 0),r([p(cc.Sprite)],e.prototype,"spGrayMask",void 0),r([p(cc.Label)],e.prototype,"labName",void 0),r([d],e)}(a.ComTableViewCell);n.UserTableItem=h,cc._RF.pop()},{"../../base/component/ComTableViewCell":"ComTableViewCell","../../const/Global":"Global","../../module/tables/TableSkinMgr":"TableSkinMgr","../ComUI":"ComUI"}],UserTablePanel:[function(t,e,n){"use strict";cc._RF.push(e,"cd52dHBMPFN2bTikxAJwaYS","UserTablePanel");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../lib/base/CxComponent"),s=t("../../module/tables/TableSkinMgr"),c=t("./UserTableItem"),l=t("../../event/Notify"),u=t("../../model/DataProxy"),d=cc._decorator,p=d.ccclass,h=d.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pfTableItem=null,e.svTable=null,e.spBigTable=null,e._isMySelfInfo=!1,e._useTableId=0,e}return i(e,t),e.prototype.init=function(t){this._isMySelfInfo=t.bMySelf,this._useTableId=t.curTableId,this._ownTableList=t.ownTableList||[1],0===this._ownTableList.length&&(this._ownTableList=[1]),this.initScrollView()},e.prototype.initScrollView=function(){var t,e,n=this;this._ownTableList.forEach(function(o){(t=cc.instantiate(n.pfTableItem)).parent=n.svTable.content,t.active=!0;var i=t.getComponent(cc.Toggle);i&&(i.isChecked=o===n._useTableId,n._isMySelfInfo&&i.node.on("toggle",n.onToggleClick,n));var r=s.TableSkinMgr.getTableCfgById(o);(e=t.getComponent(c.UserTableItem))&&r&&(e.init({tableId:o,name:u.DataProxy.getInstance().tablesData.getTableName(o),imgName:r.smlbg}),o===n._useTableId&&(n._selectedItem=e))})},e.prototype.onToggleClick=function(t){if(t){var e=t.node.getComponent(c.UserTableItem);e&&(this._selectedItem=e,this._isMySelfInfo&&this.dispatch(l.Notify.Tables.USE_TABLE,e.tableId))}},e.prototype.showBigTable=function(){this.spBigTable&&this._selectedItem&&(this.spBigTable.node.parent.active=!0,this.spBigTable.spriteFrame=null,this.spBigTable.spriteFrame=this._selectedItem.getTableSprite(),this.spBigTable.node.parent.getComponentInChildren(cc.Label).string=this._selectedItem.name,this.spBigTable.node.stopAllActions(),cc.tween(this.spBigTable.node).set({scale:1.3,opacity:120}).to(.2,{scale:1.4,opacity:255}).start()),this.svTable&&(this.svTable.content.active=!1)},e.prototype.hideBigTable=function(){this.spBigTable&&(this.spBigTable.node.parent.active=!1,this.spBigTable.node.stopAllActions()),this.svTable&&(this.svTable.content.active=!0)},Object.defineProperty(e.prototype,"zoom",{set:function(t){t?this.hideBigTable():this.showBigTable()},enumerable:!1,configurable:!0}),r([h({type:cc.Node,tooltip:"\u7f29\u5c0f\u7684\u724c\u684c\u7684\u9884\u5236"})],e.prototype,"pfTableItem",void 0),r([h(cc.ScrollView)],e.prototype,"svTable",void 0),r([h({type:cc.Sprite,tooltip:"\u5c55\u793a\u724c\u684c"})],e.prototype,"spBigTable",void 0),r([p],e)}(a.CxComponent);n.default=f,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../event/Notify":"Notify","../../model/DataProxy":"DataProxy","../../module/tables/TableSkinMgr":"TableSkinMgr","./UserTableItem":"UserTableItem"}],VideoLottery:[function(t,e,n){"use strict";cc._RF.push(e,"832c2c0G5tHt5+5raPGDRy/","VideoLottery");var o,i,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.VideoLotteryRewardItem=void 0;var s=t("../../../lib/base/CxComponent"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ndReward=null,e.labLotteryTips=null,e.labDraws=[],e.scrollview=null,e.labNoVideo=null,e.btnWatchVideo=null,e.btnWatchVideoGrey=null,e.btnOdds=null,e.mCanWatchVideo=!0,e}return r(e,t),e.prototype.init=function(t){t&&(this.viewData=t),this.dispatch(f.Notify.FFD.REQ_FFD_SCENEDATA,_.RVADSceneID.LOTTERY)},e.prototype.listEvent=function(){return new Map([[f.Notify.FFD.RTN_FFD_SCENEDATA,this.updateViewData],[f.Notify.AD.CANCELED,this.onAdCanceled],[f.Notify.AD.REWARD,this.onAdReward]])},e.prototype.start=function(){var t;this.btnWatchVideo&&(this.btnWatchVideo.node.on("click",this.onWatchVideoClicked,this),(t=this.btnWatchVideo.getComponentInChildren(cc.Label))&&(t.string=p.ComUtils.getLang(g.LangKey.text_draw))),this.btnWatchVideoGrey&&(t=this.btnWatchVideoGrey.getComponentInChildren(cc.Label))&&(t.string=p.ComUtils.getLang(g.LangKey.text_draw)),this.btnOdds&&this.btnOdds.node.on("click",this.onClickOdds,this),this.updateView()},e.prototype.initAwardList=function(){var t=this;if(this.scrollview&&(this.scrollview.content.destroyAllChildren(),this.viewData&&this.viewData.awardList)){var e=this.viewData.awardList;e.forEach(function(e){if(e){var n=cc.instantiate(t.ndReward);if(n){n.parent=t.scrollview.content,n.active=!0;var o=n.addComponent(v);o&&o.init(e)}}}),e.length>3&&cc.tween(this.scrollview).delay(.2).call(function(){cc.isValid(t.scrollview)&&t.scrollview.scrollToRight(3)}).delay(3).call(function(){cc.isValid(t.scrollview)&&t.scrollview.scrollToLeft(3)}).start()}},e.prototype.onWatchVideoClicked=function(){cc.sys.isBrowser&&this.viewData?this.onAdReward(this.viewData.adSceneId):this.dispatch(f.Notify.AD.OPEN_VIDEO)},e.prototype.onClickOdds=function(){cc.log("\u70b9\u51fb\u4e86\u6982\u7387");var t=y.DataProxy.getInstance().adData.getRVSceneData(_.RVADSceneID.LOTTERY);this.dispatch(b.GuiEvent.PopMsg.DISPLAY_LOTTERY_ODDS_LAYER,t)},e.prototype.updateViewData=function(t){t&&t.adSceneId===_.RVADSceneID.LOTTERY&&(this.mCanWatchVideo=t.bCanGG,this.viewData=this.viewData||{},this.viewData.adSceneId=t.adSceneId,this.viewData.awardList=t.awardList,this.viewData.bCanGG=t.bCanGG,this.viewData.placementID=t.placementID,this.updateView())},e.prototype.updateView=function(){this.btnWatchVideo&&(this.btnWatchVideo.node.active=this.mCanWatchVideo),this.btnWatchVideoGrey&&(this.btnWatchVideoGrey.node.active=!this.mCanWatchVideo),this.labLotteryTips&&(this.labLotteryTips.string=p.ComUtils.getLang(g.LangKey.video_lottery_tips)),this.labDraws.length>0&&this.labDraws.forEach(function(t){t.string=p.ComUtils.getLang(g.LangKey.video_lottery_draw)}),this.labNoVideo&&(this.labNoVideo.string=p.ComUtils.getLang(g.LangKey.video_lottery_done)),this.initAwardList(),this.viewData&&this.viewData.placementID&&this.dispatch(f.Notify.AD.LOAD_VIDEO,{userId:y.DataProxy.getInstance().userData.userId,placementID:this.viewData.placementID,adSceneId:_.RVADSceneID.LOTTERY})},e.prototype.onAdReward=function(t){this.dispatch(f.Notify.FFD.REQ_REWARD,t),this.close()},e.prototype.onAdCanceled=function(){m.ComUI.showToast(p.ComUtils.getLang(g.LangKey.close_video_ad_tips))},a([u({type:cc.Node,tooltip:"\u5956\u54c1\u9884\u5236\u4ef6"})],e.prototype,"ndReward",void 0),a([u({type:cc.Label,tooltip:"\u63d0\u793a\u4fe1\u606f"})],e.prototype,"labLotteryTips",void 0),a([u({type:cc.Label,tooltip:"draw\u6807\u7b7e"})],e.prototype,"labDraws",void 0),a([u({type:cc.ScrollView,tooltip:"\u5956\u54c1\u4fe1\u606f"})],e.prototype,"scrollview",void 0),a([u({type:cc.Label,tooltip:"\u63d0\u793a\u89c6\u9891\u6b21\u6570\u770b\u5b8c\u4e86"})],e.prototype,"labNoVideo",void 0),a([u({type:cc.Button,tooltip:"\u770b\u89c6\u9891"})],e.prototype,"btnWatchVideo",void 0),a([u({type:cc.Button,tooltip:"\u4e0d\u80fd\u770b\u89c6\u9891\u4e86"})],e.prototype,"btnWatchVideoGrey",void 0),a([u({type:cc.Button,tooltip:"\u6982\u7387\u6309\u94ae"})],e.prototype,"btnOdds",void 0),a([l],e)}(s.CxComponent);n.default=d;var p=t("../../../lib/utils/ComUtils"),h=t("../../const/Global"),f=t("../../event/Notify"),g=t("../../language/LanguageCfg"),_=t("../../model/AdDataProxy"),y=t("../../model/DataProxy"),m=t("../ComUI"),b=t("../../event/GuiEvent"),v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spRewardIcon=null,e.labRewardNum=null,e}return r(e,t),e.prototype.init=function(t){this.itemData=t},e.prototype.start=function(){var t=this.node.getChildByName("sp_award_icon");t&&(this.spRewardIcon=t.getComponent(cc.Sprite)),(t=this.node.getChildByName("lab_award_num"))&&(this.labRewardNum=t.getComponent(cc.Label));var n=e.AWARD[this.itemData.type];if(n){if(this.spRewardIcon){var o="";if(this.itemData.type===h.gShopHBType.CHIPS)o=n.pic;else if(void 0!==this.itemData.index){var i=this.itemData.index%4;0===i&&(i=1),o=""+n.pic+i}else o=n.pic+"2";m.ComUI.setSprite(this.spRewardIcon.node,o),this.spRewardIcon.node.x=n.x,this.spRewardIcon.node.y=n.y,this.spRewardIcon.node.scale=n.scale}this.labRewardNum&&(this.labRewardNum.string=""+p.ComUtils.formatGoldStr(this.itemData.num))}},e.AWARD=((i={})[h.gShopHBType.GOLD]={pic:"shop_item_gold_icon_",scale:.9,x:-8.467,y:55.885},i[h.gShopHBType.POWER]={pic:"shop_power_icon_",scale:.9,x:8.532,y:41.922},i[h.gShopHBType.CHIPS]={pic:"com_piece_icon_b",scale:1,x:1.434,y:52.93},i),a([u({type:cc.Sprite,tooltip:"\u4e0d\u80fd\u770b\u89c6\u9891\u4e86"})],e.prototype,"spRewardIcon",void 0),a([u({type:cc.Label,tooltip:"\u4e0d\u80fd\u770b\u89c6\u9891\u4e86"})],e.prototype,"labRewardNum",void 0),e}(s.CxComponent);n.VideoLotteryRewardItem=v,cc._RF.pop()},{"../../../lib/base/CxComponent":"CxComponent","../../../lib/utils/ComUtils":"ComUtils","../../const/Global":"Global","../../event/GuiEvent":"GuiEvent","../../event/Notify":"Notify","../../language/LanguageCfg":"LanguageCfg","../../model/AdDataProxy":"AdDataProxy","../../model/DataProxy":"DataProxy","../ComUI":"ComUI"}],VoiceHelper:[function(t,e,n){"use strict";cc._RF.push(e,"af7dde7dsJBKoQiYHq/bgOc","VoiceHelper"),Object.defineProperty(n,"__esModule",{value:!0}),n.VoiceHelper=void 0;var o=t("../network/HttpManager"),i=t("./ComUtils"),r=t("./Logger"),a=function(){function t(){}return t.upload=function(t,e){return new Promise(function(n,a){platform.readFile(e).then(function(e){if(e&&e.data){r.Logger.info("UploadData:"+e.data);var s=i.ComUtils.randomString(12);o.HttpManager.Upload({url:t,method:"post",body:e.data,exData:s+".aac"}).then(function(t){if(t.ok){var e=t.json();r.Logger.info("\u4e0a\u4f20\u8bed\u97f3\u6210\u529f\uff1a"+JSON.stringify(e)),n(e.data)}else e=t.json(),a("\u4e0a\u4f20\u8bed\u97f3\u5931\u8d25\uff1a"+JSON.stringify(e))}).catch(function(t){a(t)})}}).catch(function(t){a(t)})})},t.download=function(t){return r.Logger.info("\u4e0b\u8f7d\u8bed\u97f3\u6587\u4ef6\uff1a"+t),new Promise(function(e,n){o.HttpManager.Download({url:t,method:"get"}).then(function(t){t.ok?platform.mkdir("voice").then(function(){platform.writeFile(t.bytes,"voice/"+i.ComUtils.randomString(12)+".aac","binary").then(function(t){e(t)}).catch(function(t){n("\u4fdd\u5b58\u8bed\u97f3\u6587\u4ef6\u5931\u8d25:"+t)})}):n("\u4e0b\u8f7d\u8bed\u97f3\u6587\u4ef6\u5931\u8d25: "+JSON.stringify(t))}).catch(function(t){n(t)})})},t.remove=function(t){platform.deleteFile(t).then(function(){r.Logger.info("\u5220\u9664\u8bed\u97f3\u6587\u4ef6")})},t}();n.VoiceHelper=a,cc._RF.pop()},{"../network/HttpManager":"HttpManager","./ComUtils":"ComUtils","./Logger":"Logger"}],WxUserInfoMenu:[function(t,e,n){"use strict";cc._RF.push(e,"0c5cbCl4f1MCbN/QkACGR0u","WxUserInfoMenu");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.WxUserInfoMenu=void 0;var a=t("../../lib/base/CxComponent"),s=t("../event/Notify"),c=t("../../lib/utils/Display"),l=cc._decorator,u=l.ccclass,d=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ndMenu=null,e.buttonCB=null,e.isReject=!0,e.userInfoButton=null,e.mParams=null,e}return i(e,t),e.prototype.init=function(t){this.mParams=t,void 0!==t.callback&&this.setButtonCb(t.callback),void 0!==t.isReject&&(this.isReject=t.isReject)},e.prototype.onLoad=function(){},e.prototype.onDestroy=function(){platform.destroyUserInfoButton(this.userInfoButton)},e.prototype.start=function(){var t=this,e=this.ndMenu.width*this.node.scale,n=this.ndMenu.height*this.node.scale,o=this.ndMenu.convertToWorldSpaceAR(cc.v2(0,0)),i=o.x-e/2,r=c.Display.height-(o.y+n/2);platform.createUserInfoButton({winSize:cc.director.getWinSize(),rect:new cc.Rect(i,r,e,n)}).then(function(e){t.userInfoButton=e,e.onTap(function(e){e.userInfo?(platform.SETTING_STATUS[platform.SCOPE_USERINFO]=platform.RTN_AGREE,platform.destroyUserInfoButton(t.userInfoButton),t.dispatch(s.Notify.Base.SET_USERINFO,{gender:e.userInfo.gender,wxHeadUrl:e.userInfo.avatarUrl,wxName:e.userInfo.nickName,userName:e.userInfo.nickName}),t.buttonCB&&t.buttonCB.call(!0)):(platform.SETTING_STATUS[platform.SCOPE_USERINFO]=platform.RTN_REFUSE,t.buttonCB&&t.isReject&&t.buttonCB.call(!1))})})},e.prototype.setButtonCb=function(t){this.buttonCB=t},r([d(cc.Node)],e.prototype,"ndMenu",void 0),r([u],e)}(a.CxComponent);n.WxUserInfoMenu=p,cc._RF.pop()},{"../../lib/base/CxComponent":"CxComponent","../../lib/utils/Display":"Display","../event/Notify":"Notify"}],i18nAtlasSprite:[function(t,e,n){"use strict";cc._RF.push(e,"57abdAqhrFAHLz79OhM5sNA","i18nAtlasSprite");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.i18nAtlasSprite=void 0;var a=t("./../base/Language"),s=t("../../app/event/Notify"),c=t("../event/EventDispatcher"),l=cc._decorator,u=l.ccclass,d=l.property,p=l.executeInEditMode,h=l.disallowMultiple,f=l.requireComponent,g=l.menu,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._spriteAtlas=null,e._imgName="",e}return i(e,t),Object.defineProperty(e.prototype,"spriteAtlas",{get:function(){return this._spriteAtlas},set:function(t){this._spriteAtlas=t,this._resetValue()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"imgName",{get:function(){return this._imgName},set:function(t){this._imgName=t,this._resetValue()},enumerable:!1,configurable:!0}),e.prototype.start=function(){c.EventDispatcher.getInstance().add(s.Notify.Base.CHANGE_LANGUAGE,this.onChangeLanguage,this),this._resetValue()},e.prototype._resetValue=function(){if(this.imgName){var t=this.getComponent(cc.Sprite);if(cc.isValid(t)&&this._spriteAtlas){var e=a.Language.getInstance().getLanguage(),n=this.imgName+"_"+e,o=this._spriteAtlas.getSpriteFrame(n);o&&(t.spriteFrame=o)}}},e.prototype.onDestroy=function(){c.EventDispatcher.getInstance().remove(this)},e.prototype.onChangeLanguage=function(){this._resetValue()},r([d({visible:!1})],e.prototype,"_spriteAtlas",void 0),r([d({type:cc.SpriteAtlas})],e.prototype,"spriteAtlas",null),r([d({visible:!1})],e.prototype,"_imgName",void 0),r([d({type:cc.String})],e.prototype,"imgName",null),r([u,p,f(cc.Sprite),h,g("\u591a\u8bed\u8a00/i18nAtlasSprite")],e)}(cc.Component);n.i18nAtlasSprite=_,cc._RF.pop()},{"../../app/event/Notify":"Notify","../event/EventDispatcher":"EventDispatcher","./../base/Language":"Language"}],i18nHelper:[function(t,e,n){"use strict";cc._RF.push(e,"767004w3nNIbL1Qg4BzYCLC","i18nHelper"),Object.defineProperty(n,"__esModule",{value:!0}),n.i18nHelper=void 0;var o=t("../../app/const/Global"),i=t("../../app/const/Global"),r=t("../base/Language"),a=t("../manager/ResManager");(function(t){function e(t,e){void 0===e&&(e=o.gAssetBundleName.RESOURCES);var n=r.Language.getInstance().getLanguage();return e?e+":i18n/"+n+"/"+t:o.gAssetBundleName.RESOURCES+":i18n/"+n+"/"+t}t.makeLanguage=function(t,e){return void 0===e&&(e=o.gAssetBundleName.RESOURCES),"string"==typeof t?e?""+i.USING_LAN_KEY+e+"."+t:""+i.USING_LAN_KEY+t:("string"==typeof t[0]&&t instanceof Array&&(t[0]=e?""+i.USING_LAN_KEY+e+"."+t[0]:""+i.USING_LAN_KEY+t[0]),t)},t.getLanguage=function(t,e){void 0===e&&(e=o.gAssetBundleName.RESOURCES);var n="";return"string"==typeof t?(n=e?""+i.USING_LAN_KEY+e+"."+t:""+i.USING_LAN_KEY+t,r.Language.getInstance().get([n])):"string"==typeof t[0]&&t instanceof Array?(t[0]=e?""+i.USING_LAN_KEY+e+"."+t[0]:""+i.USING_LAN_KEY+t[0],r.Language.getInstance().get(t)):(cc.error("\u4f20\u5165\u53c2\u6570\u6709\u8bef"),"")},t.getSpritePath=e,t.setSprite=function(t,n,o){if(t){var i=e(t,n),s=r.Language.getInstance().getSpritePath(i);s.bundle&&a.default.getInstance().loadSprite(s.url,s.name,s.type,s.bundle).then(function(t){o&&o(t)})}}})(n.i18nHelper||(n.i18nHelper={})),cc._RF.pop()},{"../../app/const/Global":"Global","../base/Language":"Language","../manager/ResManager":"ResManager"}],i18nSprite:[function(t,e,n){"use strict";cc._RF.push(e,"43652M3vmdGnr1wZ04GC+od","i18nSprite");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.i18nSprite=void 0;var a=t("../../app/event/Notify"),s=t("../event/EventDispatcher"),c=t("./i18nHelper"),l=cc._decorator,u=l.ccclass,d=l.property,p=l.executeInEditMode,h=l.disallowMultiple,f=l.requireComponent,g=l.menu,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._bundle="resources",e._imgName="",e}return i(e,t),Object.defineProperty(e.prototype,"bundle",{get:function(){return this._bundle},set:function(t){this._bundle=t,this._resetValue()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"imgName",{get:function(){return this._imgName},set:function(t){this._imgName=t,this._resetValue()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){s.EventDispatcher.getInstance().add(a.Notify.Base.CHANGE_LANGUAGE,this.onChangeLanguage,this),this._resetValue()},e.prototype._resetValue=function(){if(this.imgName&&this.bundle){var t=this.getComponent(cc.Sprite);cc.isValid(t)&&c.i18nHelper.setSprite(this.imgName,this.bundle,function(e){cc.isValid(t)&&e&&(t.spriteFrame=e)})}},e.prototype.onDestroy=function(){s.EventDispatcher.getInstance().remove(this)},e.prototype.onChangeLanguage=function(){this._resetValue()},r([d],e.prototype,"_bundle",void 0),r([d({type:cc.String,tooltip:"\u5f53\u524dboundle\u540d\u79f0"})],e.prototype,"bundle",null),r([d],e.prototype,"_imgName",void 0),r([d({type:cc.String,tooltip:"\u793a\u4f8b: 1 #lobbyRes.lob_btn\u8868\u793a\u56fe\u96c6\u5185lob_btn\u8fd9\u5f20\u7cbe\u7075\u5e27, 2 lob_btn\u6307\u5355\u5f20\u56fe\u7247"})],e.prototype,"imgName",null),r([u,p,f(cc.Sprite),h,g("\u591a\u8bed\u8a00/i18nSprite")],e)}(cc.Component);n.i18nSprite=_,cc._RF.pop()},{"../../app/event/Notify":"Notify","../event/EventDispatcher":"EventDispatcher","./i18nHelper":"i18nHelper"}]},{},["GlobalRoot","Manager","BasePopupMr","BaseScene","ComPopupMgr","EnterGameAuthorize","PopupLoader","ComBottomBar","ComDialog","ComDropEntry","ComDropItem","ComDropSwitch","ComHead","ComListView","ComLoadingRes","ComMoreListView","ComNotice","ComSpeaker","ComSubLayer","ComSubView","ComTableView","ComTableViewCell","ComTimer","CutMask","FluxayTexture","Loading","Mask","OptimizeDrawCall","OptionGroup","OptionItem","OptionItemDIY","Portrait","Toast","UISP","HandlerMgr","ProxyHandler","ProtocolUtils","AlphaConfig","BetaConfig","GameConfig","IConfig","ProductConfig","ResConfig","ResourceUIConfig","AudioFile","Global","GameConstant","GuiEvent","Notify","LangGolbalEN","LangGolbalIT","LangGolbalZH","LanguageCfg","LanguageImpl","ActivityDataProxy","AdDataProxy","ComDataProxy","ConfigDataProxy","DataProxy","GameDataProxy","GoldenPassDataProxy","LocalDataProxy","OtherDataProxy","RankDataProxy","ShopDataProxy","TablesDataProxy","TaskDataProxy","UserDataProxy","InviteDataProxy","AdvDataProxy","ThirdPlatDataProxy","HttpEvents","CreateRoomInfo","ADDefine","BannerPosAdjust","BuryPoint","BuryPointUtils","FFDHandler","GateHandler","GateSocket","LabaHandler","LabaMsg","LoginHandler","LoginSocket","LoginManager","LoginScene","UserHeadManager","GameMatchHandler","GameMatchManager","UIMatchView","ActivityHandler","OtherHandler","OtherMsg","QueryHandler","RankHandler","CMD_ShopMsg","ShopHandler","ShopMsg","TableSkinMgr","TableSkinSprite","TablesConfig","CMD_TaskMsg","TaskHandler","TaskMsg","MD5Utils","UpdateManager","UpdateScene","UpdateVersionLayer","CurrencyChangeHandler","CurrencyChangeMsg","UserInfoHandler","UserInfoManager","UserInfoMsg","AnalyticsUtils","AnyThinkSDK","AppleLogin","ApplePySdk","AppsFlyerSDK","CallBackManager","DebugPlatform","FaceBookSdk","FcmSdk","GooglePySdk","NativeApi","NativeNotify","NativePlatform","OriginManager","Platform","PyManager","ShareSDK","StatisticsDefine","SystemUtil","RouteHandler","Router","StatsHandler","StatsUtil","AwardAnim","BankruptDlg","ComFunctions","ComUI","GoldAnim","GoldBankRuptLayer","GoldHelpLayer","GoldNotEnoughLayer","GoldRevengeLayer","GoldRichLayer","LangDrawItem","LangDrawList","PolicyLayer","PopUpQueue","PowerAnim","PowerNotEnough","SettingLayer","SimplePlayerInfo","UIScopaRuleTips","WxUserInfoMenu","GoldenPassMenu","GoldenPassMenuMini","LotteryOddItem","LotteryOddLayer","MysteryGiftDlg","VideoLottery","ATBannerAd","ATInterstitialAd","ATRewardedVideoAd","BankruptBonusDlg","BonusDlg","BonusRewardItem","FreeBonusPage","GoldenBonusPage","HitBonusDlg","MissionBonusDlg","PowerNotEnoughBonusDlg","BoostGiftItem","BoostGiftLayer","CardSkinPreview","CardSkinSelectLayer","ComGoldInfo","ComPowerInfo","DeskBuildLayer","DeskBuildMenu","DeskBuildTimer","FiveStarEditor","FiveStarLayer","InviteSuccess","InviteUser","LevelUnlockLayer","LevelUpLayer","GameRankItem","GameRankList","LobbyRankList","RankCfg","RankCfgItem","RankFristView","RankInfo","RankItemView","RankMyItem","RankReward","RankUp","ShopBoxDetail","ShopBoxItem","ShopBoxLayer","ShopCoinsItem","ShopCoinsLayer ","ShopItem","ShopLayer","ShopPowerItem","ShopPowerLayer","ShopSpecialSale","TaskListItem","TaskListLayer","ComMoreListTest","Sprite1Test","Sprite2Test","Sprite3Test","ComUserProfile","UserInfoPanel","UserTableItem","UserTablePanel","BottomBarView","Callback","ComPopup","CxCompExt","CxComponent","Language","NewTag","PopUpLogic","PopupView","ScreenShot","SequenceAnim","TaskFlow","BitmapChar","BitmapText","BaseEvent","EventDispatcher","EngineEx","ShadowLabel","Base64","ByteArray","Crc32","Long","i18nAtlasSprite","i18nHelper","i18nSprite","AudioManager","BundleAssetCache","BundleManager","NodePoolMgr","ObjectPool","PrefabItemMgr","RemoteCache","ResConfigHandler","ResManager","SceneManager","CxSocket","HeartHandler","HttpClient","HttpManager","NetInterface","JSONSocket","StructEvent","StructParser","StructProtocol","StructSocket","ComUtils","DateUtils","Display","DrawCanvas","Logger","MathUtils","ScreenAdapter","StringBuffer","VoiceHelper","ATBannerJSSDK","ATInterstitialJSSDK","ATJSSDK","ATNativeJSSDK","ATRewardedVideoJSSDK","ATAndroidBannerJS","ATAndroidInterstitialJS","ATAndroidJS","ATAndroidNativeJS","ATAndroidRewardedVideoJS","ATiOSBannerJS","ATiOSInterstitialJS","ATiOSJS","ATiOSNativeJS","ATiOSRewardedVideoJS","CMD_DanMsg","CMD_FFDMsg","CMD_GateMsg","CMD_LabaMsg","CMD_LoginMsg","CMD_MatchingMsg","CMD_OtherMsg","CMD_QueryMsg","CMD_SubscribeMsg","CMD_UserInfoMsg","GlobalMsgDef","GoldGemChangeMsgDef"]);