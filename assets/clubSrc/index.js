window.__require=function t(e,o,i){function n(a,s){if(!o[a]){if(!e[a]){var l=a.split("/");if(l=l[l.length-1],!e[l]){var p="function"==typeof __require&&__require;if(!s&&p)return p(l,!0);if(r)return r(l,!0);throw new Error("Cannot find module '"+a+"'")}a=l}var c=o[a]={exports:{}};e[a][0].call(c.exports,function(t){return n(e[a][1][t]||t)},c,c.exports,t,e,o,i)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<i.length;a++)n(i[a]);return n}({ClubApplicationItem:[function(t,e,o){"use strict";cc._RF.push(e,"62b94F8QshK3bGuuTIKWJP/","ClubApplicationItem");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../script/app/event/Notify"),s=t("../../../../script/lib/base/CxComponent"),l=t("../../config/ClubDef"),p=t("../../config/ClubI18n"),c=t("../../logic/ClubHelper"),u=cc._decorator,b=u.ccclass,h=u.property,C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ndHead=null,e.labNick=null,e.btnReject=null,e.btnAccept=null,e.labOpStatus=null,e.applyData=null,e}return n(e,t),e.prototype.start=function(){this.btnReject&&this.btnReject.node.on("click",this.onClickReject,this),this.btnAccept&&this.btnAccept.node.on("click",this.onClickAccept,this)},e.prototype.updateItem=function(t,e){this.applyData=e,this.setHead(e),this.setNickName(e.nickName),this.updateState(e.reviewState)},e.prototype.setNickName=function(t){this.labNick&&(this.labNick.string=t)},e.prototype.setHead=function(t){this.dispatch(a.Notify.Head.CREATE_HEAD,{parent:this.ndHead,userId:t.joinUserId,sex:t.gender,size:cc.size(110,110),save:!0,faceId:t.faceId,custFaceId:t.custFaceId,level:t.dwExpLevel,rankLever:t.dwDan1||0,rankStartLever:t.dwDan2||0})},e.prototype.onClickReject=function(){cc.log("\u62d2\u7edd "+this.applyData.nickName),this.dealNewApplcation(l.ClubConst.ReviewState.DISAGREE)},e.prototype.onClickAccept=function(){cc.log("\u63a5\u53d7 "+this.applyData.nickName),this.dealNewApplcation(l.ClubConst.ReviewState.AGREE)},e.prototype.updateState=function(t){t===l.ClubConst.ReviewState.AGREE?(this.setOpStatus(!0,p.ClubI18n.makeLanguage(p.IClubI18n.k.club_com_agree)),this.setOptActive(!1)):t===l.ClubConst.ReviewState.DISAGREE?(this.setOpStatus(!0,p.ClubI18n.makeLanguage(p.IClubI18n.k.club_com_reject)),this.setOptActive(!1)):t==l.ClubConst.ReviewState.EXIT?(this.setOpStatus(!1),this.setOptActive(!1)):t===l.ClubConst.ReviewState.NONE&&(this.setOpStatus(!1),this.setOptActive(!0))},e.prototype.setOpStatus=function(t,e){void 0===e&&(e=""),this.labOpStatus&&(e&&(this.labOpStatus.language=e),this.labOpStatus.node.active=t)},e.prototype.setOptActive=function(t){this.btnAccept&&(this.btnAccept.node.active=t),this.btnReject&&(this.btnReject.node.active=t)},e.prototype.dealNewApplcation=function(t){this.dispatch(a.Notify.Club.REQ_OPERATE_JOIN,{clubId:c.ClubHelper.getClubInfo().ID,userId:this.applyData.joinUserId,opeCode:t})},r([h({type:cc.Node,tooltip:"\u5934\u50cf"})],e.prototype,"ndHead",void 0),r([h({type:cc.Label,tooltip:"\u6635\u79f0"})],e.prototype,"labNick",void 0),r([h({type:cc.Button,tooltip:"\u62d2\u7edd\u6309\u94ae"})],e.prototype,"btnReject",void 0),r([h({type:cc.Button,tooltip:"\u63a5\u53d7\u6309\u94ae"})],e.prototype,"btnAccept",void 0),r([h({type:cc.Label,tooltip:"\u72b6\u6001"})],e.prototype,"labOpStatus",void 0),r([b],e)}(s.CxComponent);o.default=C,cc._RF.pop()},{"../../../../script/app/event/Notify":void 0,"../../../../script/lib/base/CxComponent":void 0,"../../config/ClubDef":"ClubDef","../../config/ClubI18n":"ClubI18n","../../logic/ClubHelper":"ClubHelper"}],ClubApplicationView:[function(t,e,o){"use strict";cc._RF.push(e,"b09196LvIBGiLULg7CE47yV","ClubApplicationView");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../script/app/base/component/ComListView"),s=t("../../../../script/app/event/Notify"),l=t("../../../../script/lib/base/CxComponent"),p=t("../../../../script/lib/base/PopupView"),c=t("../../config/ClubEvent"),u=t("../../config/ClubI18n"),b=t("../../logic/ClubHelper"),h=t("./ClubApplicationItem"),C=cc._decorator,d=C.ccclass,f=C.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollView=null,e.pfItem=null,e.labEmpty=null,e}return n(e,t),e.prototype.init=function(){this.dispatch(s.Notify.Club.REQ_APPLICATION_LSIT,{clubId:b.ClubHelper.getClubInfo().ID})},e.prototype.listEvent=function(){return new Map([[c.ClubEvent.Member.UPDATE_APPLY_LIST,this.onRtnApplicationList],[c.ClubEvent.Member.ALTER_APPLY,this.onAlterApply]])},e.prototype.start=function(){this.multiLanguage()},e.prototype.multiLanguage=function(){var t=this.node.getComponent(p.PopupView);t&&t.setTitle(u.ClubI18n.makeLanguage(u.IClubI18n.k.club_title_application)),this.labEmpty&&(this.labEmpty.language=u.ClubI18n.makeLanguage(u.IClubI18n.k.no_application))},e.prototype.initScrollView=function(t){var e={scrollView:this.scrollView,content:this.scrollView.content,itemPrefab:this.pfItem,itemClass:h.default,dataList:t,dataEx:null,space:6,top:0,bottom:0,createInterval:.05},o=this.node.getComponent(a.ComListView);null==o&&(o=this.node.addComponent(a.ComListView)),o.initParams(e),o.initScrollView(!0)},e.prototype.showEmpty=function(t){this.labEmpty&&(this.labEmpty.node.active=t),this.scrollView&&(this.scrollView.node.active=!t)},e.prototype.onRtnApplicationList=function(t){t&&t.length>0?(this.showEmpty(!1),this.initScrollView(t)):this.showEmpty(!0)},e.prototype.onAlterApply=function(t){var e=t.joinUserId,o=this.scrollView.content.getComponentsInChildren(h.default);if(o){var i=o.find(function(t){return t.applyData.joinUserId==e});i&&i.updateState(t.reviewState)}},r([f({type:cc.ScrollView,tooltip:"\u6eda\u52a8\u5217\u8868"})],e.prototype,"scrollView",void 0),r([f({type:cc.Prefab,tooltip:"\u5217\u8868item\u9884\u5236\u4f53"})],e.prototype,"pfItem",void 0),r([f(cc.Label)],e.prototype,"labEmpty",void 0),r([d],e)}(l.CxComponent);o.default=_,cc._RF.pop()},{"../../../../script/app/base/component/ComListView":void 0,"../../../../script/app/event/Notify":void 0,"../../../../script/lib/base/CxComponent":void 0,"../../../../script/lib/base/PopupView":void 0,"../../config/ClubEvent":"ClubEvent","../../config/ClubI18n":"ClubI18n","../../logic/ClubHelper":"ClubHelper","./ClubApplicationItem":"ClubApplicationItem"}],ClubBaseInfoPanel:[function(t,e,o){"use strict";cc._RF.push(e,"efc51m2hXBALawkvg5BfOJv","ClubBaseInfoPanel");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ClubBaseInfoPanel=void 0;var a=t("../../../../script/app/view/ComUI"),s=t("../../../../script/lib/base/Binder"),l=cc._decorator,p=l.ccclass,c=l.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spClubIcon=null,e.labClubName=null,e.labMemberNum=null,e.spReddot=null,e.pbOpenBox=null,e.spBox=null,e.spRank=null,e.atlasIcons=null,e}return n(e,t),e.prototype.getLogic=function(){return this._logic},e.prototype.getLogicName=function(){return"LClubBaseInfoPanel"},e.prototype.setClubIcon=function(t){this.spClubIcon&&(this.spClubIcon.spriteFrame=a.ComUI.getClubIcon(this.atlasIcons,t))},e.prototype.setClubName=function(t){this.labClubName&&(this.labClubName.string=t)},e.prototype.setClubMemberNum=function(t,e){this.labMemberNum&&(this.labMemberNum.string=t+"/"+e)},e.prototype.setReddot=function(t){this.spReddot&&(this.spReddot.node.active=t)},e.prototype.setProcess=function(t,e){if(this.pbOpenBox){this.pbOpenBox.progress=t/e;var o=this.pbOpenBox.getComponentInChildren(cc.Label);o&&(o.string=t+"/"+e)}},e.prototype.setBoxState=function(){this.spBox},r([c({type:cc.Sprite,tooltip:"\u4ff1\u4e50\u90e8icon"})],e.prototype,"spClubIcon",void 0),r([c({type:cc.Label,tooltip:"\u4ff1\u4e50\u90e8\u540d\u79f0"})],e.prototype,"labClubName",void 0),r([c({type:cc.Label,tooltip:"\u4ff1\u4e50\u90e8\u4eba\u6570\u4fe1\u606f\uff0c\u5728\u7ebf\u4eba\u6570/\u5f53\u524d\u4eba\u6570"})],e.prototype,"labMemberNum",void 0),r([c({type:cc.Sprite,tooltip:"\u7ea2\u70b9\uff0c\u6709\u7533\u8bf7\u8bf7\u6c42\u65f6"})],e.prototype,"spReddot",void 0),r([c({type:cc.ProgressBar,tooltip:"\u7ea2\u70b9\uff0c\u6709\u7533\u8bf7\u8bf7\u6c42\u65f6"})],e.prototype,"pbOpenBox",void 0),r([c({type:cc.Sprite,tooltip:"\u5b9d\u7bb1"})],e.prototype,"spBox",void 0),r([c({type:cc.Sprite,tooltip:"\u6392\u884c"})],e.prototype,"spRank",void 0),r([c({type:cc.SpriteAtlas,tooltip:"\u4ff1\u4e50\u90e8ICON\u56fe\u96c6"})],e.prototype,"atlasIcons",void 0),r([p],e)}(s.BaseUI);o.ClubBaseInfoPanel=u,cc._RF.pop()},{"../../../../script/app/view/ComUI":void 0,"../../../../script/lib/base/Binder":void 0}],ClubChestListItem:[function(t,e,o){"use strict";cc._RF.push(e,"354c08AMapMd7QBk3JhBxNT","ClubChestListItem");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ClubChestListItem=void 0;var a=t("../../../../script/lib/base/CxComponent"),s=t("../../../../script/lib/utils/ComUtils"),l=t("../../../../script/app/const/Global"),p=t("../../logic/ClubHelper"),c=t("../../../../script/app/event/Notify"),u=t("../../config/ClubDef"),b=t("../../config/ClubI18n"),h=cc._decorator,C=h.ccclass,d=h.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spBg=null,e.ndDetail=null,e.labGold=null,e.labPower=null,e.labJPQ=null,e.labOrder=null,e.frameBoxWhatTag=null,e.framesBg=[],e.frameBoxNor=[],e.frameBoxClaimed=[],e.pfProgressBar=null,e.pfClaimed=null,e.pfClaimBtn=null,e.pfSpecialTips=null,e.colorNor=null,e.colorInprogress=null,e.itemData=null,e.mIdx=0,e.mExpecialIdx=0,e.mActPlayed=!1,e}return n(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.multiLanguage()},e.prototype.multiLanguage=function(){},e.prototype.listEvent=function(){return new Map([[c.Notify.Club.RESP_RECV_CLUB_REWARD,this.onRecvResult]])},e.prototype.onRecvResult=function(){},e.prototype.updateItem=function(t,e,o){this.itemData=e,this.mIdx=t,this.mExpecialIdx=o,this.playItemAction(null),this.immediateShow()},e.prototype.immediateShow=function(){if(this.setOrder(this.mIdx+1),this.mIdx==this.mExpecialIdx)this.showTipsDetial(),this.switch2SpecificView();else{this.showNodeDetial(),this.switch2DetailView(),this.setItemStatus(this.itemData.dwStatus);var t=JSON.parse(this.itemData.strExData),e=p.ClubHelper.getRewardItem(t.reward,l.gShopHBType.GOLD),o=p.ClubHelper.getRewardItem(t.reward,l.gShopHBType.POWER),i=p.ClubHelper.getRewardItem(t.reward,l.gShopHBType.DAO_JU);e&&this.setGold(e.lownum,e.heightnum),o&&this.setPower(o.lownum,o.heightnum),i&&this.setJPQ(i.num)}},e.prototype.setOrder=function(t){this.labOrder&&(this.labOrder.string=t.toString())},e.prototype.createBox=function(t){var e=this.node.getChildByName("box");e||(e=new cc.Node,this.node.addChild(e,1,"box"),e.x=-310),(e.getComponent(cc.Sprite)||e.addComponent(cc.Sprite)).spriteFrame=t},e.prototype.createBoxWhatTag=function(t){if(this.frameBoxWhatTag){var e=this.node.getChildByName("boxWhatTag");t?(e||(e=new cc.Node,this.node.addChild(e,2,"boxWhatTag"),e.x=-310),(e.getComponent(cc.Sprite)||e.addComponent(cc.Sprite)).spriteFrame=this.frameBoxWhatTag):e&&e&&e.removeFromParent()}},e.prototype.createProgessBar=function(t,e,o){if(void 0===e&&(e=0),void 0===o&&(o=0),this.pfProgressBar){var i=this.node.getChildByName("barNode");if(t){i||(i=cc.instantiate(this.pfProgressBar),this.node.addChild(i,1,"barNode"),i.x=178);var n=i.getComponent(cc.ProgressBar);if(n){n.progress=e/o;var r=n.getComponentInChildren(cc.Label);r&&(r.string=e+" / "+o)}}else i&&i.removeFromParent()}},e.prototype.createClaimedTag=function(t){if(this.pfClaimed){var e=this.node.getChildByName("claimedTag");t?e||(e=cc.instantiate(this.pfClaimed),this.node.addChild(e,1,"claimedTag"),e.x=270):e&&e.removeFromParent()}},e.prototype.createClaimButton=function(t){if(this.pfClaimBtn){var e=this.node.getChildByName("claimButton");if(t){if(!e){e=cc.instantiate(this.pfClaimBtn),this.node.addChild(e,1,"claimButton"),e.x=270,e.on("click",this.onClickClaim,this);var o=e.getComponentInChildren(cc.Label);o&&(o.language=b.ClubI18n.makeLanguage(b.IClubI18n.k.club_com_claim))}}else e&&e.removeFromParent()}},e.prototype.createSpecialTips=function(t){if(this.pfSpecialTips){var e=this.node.getChildByName("specialTips");if(t){if(!e){e=cc.instantiate(this.pfSpecialTips),this.node.addChild(e,1,"specialTips"),e.x=80;var o=e.getComponent(cc.Label);o&&(o.language=b.ClubI18n.makeLanguage(b.IClubI18n.k.chest_more_rewards))}}else e&&e.removeFromParent()}},e.prototype.setItemStatus=function(t){switch(t){case u.ClubConst.eChestRewardSt.claimed:this.setNorBg(),this.setBoxSpriteClaimed(),this.setLabelsColorNor(),this.createClaimedTag(!0),this.createClaimButton(!1),this.createProgessBar(!1);break;case u.ClubConst.eChestRewardSt.canClaim:this.setNorBg(),this.setBoxSpriteInProgress(),this.setLabelsColorNor(),this.createClaimedTag(!1),this.createClaimButton(!0),this.createProgessBar(!1);break;case u.ClubConst.eChestRewardSt.inProgress:this.setInProgressBg(),this.setBoxSpriteInProgress(),this.setLabelsClolorInProgress(),this.createClaimedTag(!1),this.createClaimButton(!1),this.createProgessBar(!0,this.itemData.dwNowSchedule,this.itemData.dwAllSchedule);break;case u.ClubConst.eChestRewardSt.wating:this.setWaitingBg(),this.setBoxSpriteInProgress(),this.setLabelsColorNor(),this.createClaimedTag(!1),this.createClaimButton(!1),this.createProgessBar(!1)}},e.prototype.setBoxSpriteClaimed=function(){var t=Math.min(this.mIdx,4);this.createBox(this.frameBoxClaimed[t])},e.prototype.setBoxSpriteInProgress=function(){var t=Math.min(this.mIdx,4);this.createBox(this.frameBoxNor[t])},e.prototype.setNorBg=function(){this.spBg&&(this.spBg.spriteFrame=this.framesBg[0])},e.prototype.setClaimBg=function(){this.spBg&&(this.spBg.spriteFrame=this.framesBg[0])},e.prototype.setInProgressBg=function(){this.spBg&&(this.spBg.spriteFrame=this.framesBg[2])},e.prototype.setWaitingBg=function(){this.spBg&&(this.spBg.spriteFrame=this.framesBg[1])},e.prototype.setGold=function(t,e){if(this.labGold){var o=s.ComUtils.formatGoldStr(t,1e4,0)+"-"+s.ComUtils.formatGoldStr(e,1e4,0);this.labGold.string=o,this.labGold.node.active=!0}},e.prototype.setPower=function(t,e){if(this.labPower){var o=t+"-"+e+" ";this.labPower.string=o,this.labPower.node.active=!0}},e.prototype.setJPQ=function(t){if(this.labJPQ){var e="x"+t+" ";this.labJPQ.string=e,this.labJPQ.node.active=!0}},e.prototype.setLabelsColorNor=function(){this.setLabelsColor(this.colorNor)},e.prototype.setLabelsClolorInProgress=function(){this.setLabelsColor(this.colorInprogress)},e.prototype.setLabelsColor=function(t){[this.labGold,this.labPower,this.labJPQ].forEach(function(e){e&&(e.node.color=t)})},e.prototype.showSpWhat=function(t){this.createBoxWhatTag(t)},e.prototype.showNodeDetial=function(){this.ndDetail&&(this.ndDetail.active=!0),this.createSpecialTips(!1)},e.prototype.showTipsDetial=function(){this.ndDetail&&(this.ndDetail.active=!1),this.createSpecialTips(!0)},e.prototype.switch2SpecificView=function(){this.showSpWhat(!0),this.setBoxSpriteInProgress(),this.setWaitingBg()},e.prototype.switch2DetailView=function(){this.showSpWhat(!1)},e.prototype.onClickClaim=function(){this.dispatch(c.Notify.Club.REQ_RECV_CLUB_REWARD,this.itemData.dwBoxId)},e.prototype.playItemAction=function(t){this.mActPlayed?t&&t():(this.node.scale=0,cc.tween(this.node).to(.25,{scale:1},{easing:cc.easing.sineOut}).call(function(){t&&t()}).start(),this.mActPlayed=!0)},r([d({type:cc.Sprite,tooltip:"\u80cc\u666f"})],e.prototype,"spBg",void 0),r([d({type:cc.Node,tooltip:"\u8be6\u60c5\u8282\u70b9"})],e.prototype,"ndDetail",void 0),r([d({type:cc.Label,tooltip:"\u91d1\u5e01"})],e.prototype,"labGold",void 0),r([d({type:cc.Label,tooltip:"\u4f53\u529b"})],e.prototype,"labPower",void 0),r([d({type:cc.Label,tooltip:"\u8bb0\u724c\u5668"})],e.prototype,"labJPQ",void 0),r([d({type:cc.Label,tooltip:"\u5e8f\u53f7"})],e.prototype,"labOrder",void 0),r([d({type:cc.SpriteFrame,tooltip:"\u95ee\u53f7"})],e.prototype,"frameBoxWhatTag",void 0),r([d({type:cc.SpriteFrame,tooltip:"\u4e0d\u540c\u7684\u80cc\u666f"})],e.prototype,"framesBg",void 0),r([d({type:cc.SpriteFrame,tooltip:"\u5f85\u9886\u53d6\u7684\u5b9d\u7bb1"})],e.prototype,"frameBoxNor",void 0),r([d({type:cc.SpriteFrame,tooltip:"\u5df2\u9886\u53d6\u7684\u5b9d\u7bb1"})],e.prototype,"frameBoxClaimed",void 0),r([d({type:cc.Prefab,tooltip:"\u8fdb\u5ea6\u6761"})],e.prototype,"pfProgressBar",void 0),r([d({type:cc.Prefab,tooltip:"\u5df2\u9886\u53d6\u6807\u8bc6"})],e.prototype,"pfClaimed",void 0),r([d({type:cc.Prefab,tooltip:"\u9886\u53d6\u6309\u94ae"})],e.prototype,"pfClaimBtn",void 0),r([d({type:cc.Prefab,tooltip:"\u7279\u6b8a\u63d0\u793a"})],e.prototype,"pfSpecialTips",void 0),r([d({tooltip:"\u5b57\u4f53\u989c\u8272\uff1a\u6b63\u5e38"})],e.prototype,"colorNor",void 0),r([d({tooltip:"\u5b57\u4f53\u989c\u8272\uff1a\u8fdb\u884c\u4e2d"})],e.prototype,"colorInprogress",void 0),r([C],e)}(a.CxComponent);o.ClubChestListItem=f,cc._RF.pop()},{"../../../../script/app/const/Global":void 0,"../../../../script/app/event/Notify":void 0,"../../../../script/lib/base/CxComponent":void 0,"../../../../script/lib/utils/ComUtils":void 0,"../../config/ClubDef":"ClubDef","../../config/ClubI18n":"ClubI18n","../../logic/ClubHelper":"ClubHelper"}],ClubChestListView:[function(t,e,o){"use strict";cc._RF.push(e,"aa9cdcmrh5Kx5wHyoRsPYjs","ClubChestListView");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ClubChestListView=void 0;var a=t("../../../../script/app/view/ComFunctions"),s=t("../../../../script/lib/base/Binder"),l=t("../../../../script/lib/base/PopupView"),p=t("../../config/ClubI18n"),c=cc._decorator,u=c.ccclass,b=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollView=null,e.pfItem=null,e}return n(e,t),e.prototype.getLogicName=function(){return"LClubChestListView"},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.multiLanguage()},e.prototype.multiLanguage=function(){var t=this.node.getComponent(l.PopupView);t&&t.setTitle(p.ClubI18n.makeLanguage(p.IClubI18n.k.club_title_chest))},e.prototype.getLogic=function(){return this._logic},e.prototype.updateListView=function(t){var e=this;a.ComFunctions.performWithDelay(this.node,function(){e.getLogic().showListView(t,e.scrollView,e.pfItem)},0)},r([b({type:cc.ScrollView,tooltip:"scrollView"})],e.prototype,"scrollView",void 0),r([b({type:cc.Prefab,tooltip:"\u5217\u8868item\u9884\u5236\u4f53"})],e.prototype,"pfItem",void 0),r([u],e)}(s.BaseUI);o.ClubChestListView=h,cc._RF.pop()},{"../../../../script/app/view/ComFunctions":void 0,"../../../../script/lib/base/Binder":void 0,"../../../../script/lib/base/PopupView":void 0,"../../config/ClubI18n":"ClubI18n"}],ClubChestMenu:[function(t,e,o){"use strict";cc._RF.push(e,"bb403OrqzhGR6alZuBAi/90","ClubChestMenu");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ClubChestMenu=void 0;var a,s=t("../../../../script/app/view/ComFunctions"),l=t("../../../../script/app/view/CupAnimation"),p=t("../../../../script/lib/base/Binder"),c=t("../../../../script/lib/utils/ScreenAdapter"),u=t("../../config/ClubI18n");(function(t){t[t.noClub=0]="noClub",t[t.progress=1]="progress",t[t.complete=2]="complete"})(a||(a={}));var b=cc._decorator,h=b.ccclass,C=b.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ndNoClub=null,e.ndProgress=null,e.ndComplete=null,e.bar=null,e.btnJoin=null,e.labNoClub=null,e.labJoin=null,e.labCanRecv=null,e.labProgress=null,e.cupAnim=null,e}return n(e,t),e.prototype.getLogicName=function(){return"LClubChestMenu"},e.prototype.getLogic=function(){return this._logic||this.bind(this.getLogicName()),this._logic},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.switch2NoClubView(),this.getLogic().reqData(),this.node.on("click",this.onClickMenu,this),this.btnJoin.node.on("click",this.onClickMenu,this),this.multiLanguage()},e.prototype.multiLanguage=function(){this.labNoClub&&(this.labNoClub.language=u.ClubI18n.makeLanguage(u.IClubI18n.k.chest_no_club)),this.labJoin&&(this.labJoin.language=u.ClubI18n.makeLanguage(u.IClubI18n.k.club_com_join)),this.labCanRecv&&(this.labCanRecv.language=u.ClubI18n.makeLanguage(u.IClubI18n.k.chest_can_recv))},e.prototype.onClickMenu=function(){this.getLogic().onClick()},e.prototype.switch2NoClubView=function(){this.switch2View(a.noClub)},e.prototype.switch2ProgressView=function(t,e){this.switch2View(a.progress),this.bar&&(this.bar.progress=t/e),this.labProgress&&(this.labProgress.string=t+"/"+e)},e.prototype.switch2CompleteView=function(){this.switch2View(a.complete)},e.prototype.switch2View=function(t){switch(t){case a.noClub:this.ndNoClub&&(this.ndNoClub.active=!0),this.ndProgress&&(this.ndProgress.active=!1),this.ndComplete&&(this.ndComplete.active=!1);break;case a.progress:this.ndNoClub&&(this.ndNoClub.active=!1),this.ndProgress&&(this.ndProgress.active=!0),this.ndComplete&&(this.ndComplete.active=!1);break;case a.complete:this.ndNoClub&&(this.ndNoClub.active=!1),this.ndProgress&&(this.ndProgress.active=!1),this.ndComplete&&(this.ndComplete.active=!0)}},e.prototype.alignTopRight=function(){var t=this.node.getComponent(cc.Widget);t&&(t.top=30,t.right=100,t.isAlignTop=!0,t.isAlignRight=!0,t.isAlignLeft=!1,t.isAlignBottom=!1,t.updateAlignment(),c.ScreenAdapter.paddingTop(this.node))},e.prototype.alignBottomRight=function(){var t=this.node.getComponent(cc.Widget);t&&(t.top=30,t.left=100,t.isAlignTop=!0,t.isAlignRight=!1,t.isAlignLeft=!0,t.isAlignBottom=!1,t.updateAlignment(),c.ScreenAdapter.paddingTop(this.node))},e.prototype.dispayCupIncreaseActions=function(){var t=this;s.ComFunctions.performWithDelay(this.node,function(){t.cupAnim&&t.cupAnim.getComponent(l.CupAnimation).dispayCupIncreaseActions(t.getLogic().getAnimData())},1)},e.prototype.setActionData=function(t,e,o){this.getLogic().setActionData(t,e,o)},r([C({type:cc.Node,tooltip:"\u672a\u52a0\u5165\u4ff1\u4e50\u90e8"})],e.prototype,"ndNoClub",void 0),r([C({type:cc.Node,tooltip:"chest\u8fdb\u5ea6"})],e.prototype,"ndProgress",void 0),r([C({type:cc.Node,tooltip:"\u6709\u53ef\u9886\u53d6\u7684chest"})],e.prototype,"ndComplete",void 0),r([C({type:cc.ProgressBar,tooltip:"\u8fdb\u5ea6\u6761"})],e.prototype,"bar",void 0),r([C({type:cc.Button,tooltip:"\u52a0\u5165\u6309\u94ae"})],e.prototype,"btnJoin",void 0),r([C({type:cc.Label,tooltip:"\u672a\u52a0\u5165"})],e.prototype,"labNoClub",void 0),r([C({type:cc.Label,tooltip:"\u52a0\u5165"})],e.prototype,"labJoin",void 0),r([C({type:cc.Label,tooltip:"\u53ef\u9886\u53d6"})],e.prototype,"labCanRecv",void 0),r([C({type:cc.Label,tooltip:"\u8fdb\u5ea6\u503c"})],e.prototype,"labProgress",void 0),r([C(l.CupAnimation)],e.prototype,"cupAnim",void 0),r([h],e)}(p.BaseUI);o.ClubChestMenu=d,cc._RF.pop()},{"../../../../script/app/view/ComFunctions":void 0,"../../../../script/app/view/CupAnimation":void 0,"../../../../script/lib/base/Binder":void 0,"../../../../script/lib/utils/ScreenAdapter":void 0,"../../config/ClubI18n":"ClubI18n"}],ClubComList:[function(t,e,o){"use strict";cc._RF.push(e,"52bc129clFJkJ81TBPG6lNl","ClubComList");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ClubComList=void 0;var a=t("../../../../script/lib/base/Binder"),s=t("../../config/ClubI18n"),l=t("../reward/ClubRewardPreview"),p=cc._decorator,c=p.ccclass,u=p.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollView=null,e.pfItem=null,e.pfRewardPreview=null,e.labRank=null,e.labName=null,e.labPrize=null,e.labDonation=null,e.ndEmpty=null,e.labEmptyTip=null,e}return n(e,t),e.prototype.getLogicName=function(){return"LClubComList"},e.prototype.updateListView=function(t){t&&t.length>0?(this.displayEmptyTip(!1),this.getLogic().showListView(t,this.scrollView,this.pfItem)):this.displayEmptyTip(!0)},e.prototype.showRewardPreview=function(t){if(this.pfRewardPreview){var e=cc.instantiate(this.pfRewardPreview);this.node.addChild(e),e.getComponent(l.ClubRewardPreview).setRewardsInfo(t)}},e.prototype.multiLanguage=function(){this.labRank&&(this.labRank.language=s.ClubI18n.makeLanguage(s.IClubI18n.k.rank_key_rank)),this.labName&&(this.labName.language=s.ClubI18n.makeLanguage(s.IClubI18n.k.rank_key_name)),this.labPrize&&(this.labPrize.language=s.ClubI18n.makeLanguage(s.IClubI18n.k.rank_key_prize)),this.labDonation&&(this.labDonation.language=s.ClubI18n.makeLanguage(s.IClubI18n.k.rank_key_donation)),this.labEmptyTip&&(this.labEmptyTip.language=s.ClubI18n.makeLanguage(s.IClubI18n.k.club_com_empty))},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.multiLanguage()},e.prototype.onEnable=function(){this.getLogic().regEvent()},e.prototype.onDisable=function(){this.getLogic().removeListView(),this.getLogic().unregEvent()},e.prototype.getLogic=function(){return this._logic},e.prototype.displayEmptyTip=function(t){this.ndEmpty&&(this.ndEmpty.active=t),this.scrollView&&(this.scrollView.node.active=!t)},r([u({type:cc.ScrollView,tooltip:"\u6eda\u52a8\u5217\u8868"})],e.prototype,"scrollView",void 0),r([u({type:cc.Prefab,tooltip:"\u5217\u8868item\u9884\u5236\u4f53"})],e.prototype,"pfItem",void 0),r([u({type:cc.Prefab,tooltip:"\u5b9d\u7bb1\u5956\u52b1\u9884\u5236\u4f53"})],e.prototype,"pfRewardPreview",void 0),r([u({type:cc.Label,tooltip:"\u540d\u6b21"})],e.prototype,"labRank",void 0),r([u({type:cc.Label,tooltip:"\u540d\u79f0"})],e.prototype,"labName",void 0),r([u({type:cc.Label,tooltip:"\u5956\u52b1"})],e.prototype,"labPrize",void 0),r([u({type:cc.Label,tooltip:"\u6350\u732e"})],e.prototype,"labDonation",void 0),r([u({type:cc.Node,tooltip:"\u7a7a"})],e.prototype,"ndEmpty",void 0),r([u({type:cc.Label,tooltip:"\u7a7a"})],e.prototype,"labEmptyTip",void 0),r([c],e)}(a.BaseUI);o.ClubComList=b,cc._RF.pop()},{"../../../../script/lib/base/Binder":void 0,"../../config/ClubI18n":"ClubI18n","../reward/ClubRewardPreview":"ClubRewardPreview"}],ClubCreateOrSetView:[function(t,e,o){"use strict";cc._RF.push(e,"bb53cc31gxCRqy6z3b+o6nx","ClubCreateOrSetView");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../script/app/event/GuiEvent"),s=t("../../../../script/app/event/Notify"),l=t("../../../../script/app/model/DataProxy"),p=t("../../../../script/app/view/ComUI"),c=t("../../../../script/lib/base/Binder"),u=t("../../../../script/lib/base/PopupView"),b=t("../../config/ClubDef"),h=t("../../config/ClubI18n"),C=t("../../logic/ClubHelper"),d=cc._decorator,f=d.ccclass,_=d.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnChangeIcon=null,e.spIcon=null,e.labClubName=null,e.atlasIcons=null,e.labEditName=null,e.editClubName=null,e.labEditNotice=null,e.editNotice=null,e.labAgreeName=null,e.labAgreeType=null,e.btnAgreeDec=null,e.btnAgreeInc=null,e.labConditionName=null,e.labJoinCondition=null,e.btnConditionDec=null,e.btnConditionInc=null,e.btnCreate=null,e.labPowConsum=null,e.btnConfirm=null,e.mJoinType=b.ClubConst.AgreeType.eAuto,e.mJoinCondition=1,e.leagueMax=0,e.lengthMinClubName=1,e.lengthMaxClubName=50,e.lengthMinClubNotice=0,e.lengthMaxClubNotice=200,e}return n(e,t),e.prototype.init=function(e){t.prototype.init.call(this,e),this.leagueMax=l.DataProxy.getInstance().club.getClubData().getClubCfg().getCfgLenth()},e.prototype.getLogicName=function(){return"LClubCreateOrSet"},e.prototype.start=function(){t.prototype.start.call(this),this.multiLanguage(),this.btnChangeIcon&&this.btnChangeIcon.node.on("click",this.onClickChange,this),this.btnAgreeDec&&this.btnAgreeDec.node.on("click",this.onClickAgreeTypeDec,this),this.btnAgreeInc&&this.btnAgreeInc.node.on("click",this.onClickAgreeTypeInc,this),this.btnConditionDec&&this.btnConditionDec.node.on("click",this.onClickConditionDec,this),this.btnConditionInc&&this.btnConditionInc.node.on("click",this.onClickConditionInc,this),this.editClubName&&this.editClubName.node.on("editing-did-ended",this.editClubNameDidEnded,this),this.editNotice&&this.editNotice.node.on("editing-did-ended",this.editNoticeDidEnded,this),this.btnConfirm&&this.btnConfirm.node.on("click",this.onClickConfirm,this),this.btnCreate&&this.btnCreate.node.on("click",this.onClickCreate,this)},e.prototype.listEvent=function(){return new Map([[s.Notify.Club.CHANGE_CLUB_ICON,this.onChangeIcon]])},e.prototype.getLogic=function(){return this._logic},e.prototype.multiLanguage=function(){this.getLogic().viewData.isCreate?this.setViewTitle(h.ClubI18n.makeLanguage(h.IClubI18n.k.club_title_create)):this.setViewTitle(h.ClubI18n.makeLanguage(h.IClubI18n.k.club_title_setting)),this.editClubName&&(this.editClubName.placeholder=String.format(h.ClubI18n.i18n.create_name_placeHolder,this.lengthMinClubName,this.lengthMaxClubName)),this.editNotice&&(this.editNotice.placeholder=String.format(h.ClubI18n.i18n.create_notice_placeHolder,this.lengthMinClubNotice,this.lengthMaxClubNotice)),this.labEditName&&(this.labEditName.language=h.ClubI18n.makeLanguage(h.IClubI18n.k.create_name)),this.labEditNotice&&(this.labEditNotice.language=h.ClubI18n.makeLanguage(h.IClubI18n.k.create_notice)),this.labAgreeName&&(this.labAgreeName.language=h.ClubI18n.makeLanguage(h.IClubI18n.k.create_join_type)),this.labConditionName&&(this.labConditionName.language=h.ClubI18n.makeLanguage(h.IClubI18n.k.create_join_condition)),this.btnChangeIcon&&(this.btnChangeIcon.getComponentInChildren(cc.Label).language=h.ClubI18n.makeLanguage(h.IClubI18n.k.club_com_change)),this.btnCreate&&(this.btnCreate.getComponentInChildren(cc.Label).language=h.ClubI18n.makeLanguage(h.IClubI18n.k.club_com_create)),this.btnConfirm&&(this.btnConfirm.getComponentInChildren(cc.Label).language=h.ClubI18n.makeLanguage(h.IClubI18n.k.club_com_confirm))},e.prototype.setViewTitle=function(t){var e=this.node.getComponent(u.PopupView);e&&e.setTitle(t)},e.prototype.initView=function(t){cc.js.isEmptyObject(t)?(this.setIcon(Math.floor(9*Math.random())+1),this.setJoinType(b.ClubConst.AgreeType.eAuto),this.setJoinCondition(1),this.setClubNameEditEnabled(!0),this.setClubName(""),this.setClubNotice(""),this.btnCreate&&(this.btnCreate.node.active=!0),this.btnConfirm&&(this.btnConfirm.node.active=!1)):(this.setIcon(t.iconId),this.setJoinType(t.agreeType),this.setJoinCondition(t.condition),this.setClubName(t.name),this.setClubNameEditEnabled(!1),this.setClubNotice(t.notice),this.btnCreate&&(this.btnCreate.node.active=!1),this.btnConfirm&&(this.btnConfirm.node.active=!0))},e.prototype.setIcon=function(t){if(this._logic.setIconID&&this._logic.setIconID(t),this.spIcon&&this.atlasIcons){var e=p.ComUI.getClubIcon(this.atlasIcons,t);e&&(this.spIcon.getComponent(cc.Sprite).spriteFrame=e)}},e.prototype.setJoinType=function(t){if(this.labAgreeType){var e=C.ClubHelper.getAgreeTypeTxt(t);this.labAgreeType.language=e}},e.prototype.setJoinCondition=function(t){if(this.labJoinCondition){var e=C.ClubHelper.getJoinConditionTxt(t);this.labJoinCondition.language=e}},e.prototype.onClickAgreeTypeDec=function(){this.mJoinType--,this.mJoinType<b.ClubConst.AgreeType.eAuto&&(this.mJoinType=b.ClubConst.AgreeType.eAgreeByOwner),this.setJoinType(this.mJoinType)},e.prototype.onClickAgreeTypeInc=function(){this.mJoinType++,this.mJoinType>b.ClubConst.AgreeType.eAgreeByOwner&&(this.mJoinType=b.ClubConst.AgreeType.eAuto),this.setJoinType(this.mJoinType)},e.prototype.onClickConditionDec=function(){this.mJoinCondition--,this.mJoinCondition=Math.max(this.mJoinCondition,1),this.setJoinCondition(this.mJoinCondition)},e.prototype.onClickConditionInc=function(){this.mJoinCondition++,this.mJoinCondition=Math.min(this.mJoinCondition,this.leagueMax||0),this.setJoinCondition(this.mJoinCondition)},e.prototype.onClickChange=function(){this.dispatch(a.GuiEvent.Club.DISPLAY_CLUB_ICON_CHANGE_VIEW)},e.prototype.onChangeIcon=function(t){this.setIcon(t)},e.prototype.setClubNameEditEnabled=function(t){this.editClubName&&(this.editClubName.enabled=t)},e.prototype.setClubNoticeEidtEnabled=function(t){this.editNotice&&(this.editNotice.enabled=t)},e.prototype.setClubName=function(t){this.labClubName&&(this.labClubName.string=t),this.labClubName&&(this.labClubName.node.active=!0),this.editClubName&&(this.editClubName.string=t,this.editClubName.placeholder=t)},e.prototype.setClubNotice=function(t){this.editNotice&&(this.editNotice.string=t)},e.prototype.getJoinType=function(){return this.mJoinType},e.prototype.getJoinCondition=function(){return this.mJoinCondition},e.prototype.editClubNameDidEnded=function(t){this.logic&&this.logic.editClubNameDidEnded&&this.logic.editClubNameDidEnded(t)},e.prototype.editNoticeDidEnded=function(t){this.logic&&this.logic.editNoticeDidEnded&&this.logic.editNoticeDidEnded(t)},e.prototype.onClickCreate=function(){this.logic.onClickCreate&&this.logic.onClickCreate()},e.prototype.setPowerConsume=function(t){this.labPowConsum&&(this.labPowConsum.string=t.toString())},e.prototype.onClickConfirm=function(){this.logic.onClickConfirm&&this.logic.onClickConfirm()},r([_({type:cc.Button,tooltip:"icon\u4fee\u6539\u6309\u94ae"})],e.prototype,"btnChangeIcon",void 0),r([_({type:cc.Sprite,tooltip:"\u4ff1\u4e50\u90e8ICON"})],e.prototype,"spIcon",void 0),r([_({type:cc.Label,tooltip:"\u4ff1\u4e50\u90e8\u540d\u5b57"})],e.prototype,"labClubName",void 0),r([_({type:cc.SpriteAtlas,tooltip:"ICON\u56fe\u96c6"})],e.prototype,"atlasIcons",void 0),r([_({type:cc.Label,tooltip:"\u4ff1\u4e50\u90e8\u540d\u79f0"})],e.prototype,"labEditName",void 0),r([_({type:cc.EditBox,tooltip:"\u4ff1\u4e50\u90e8\u540d\u79f0\u8f93\u5165\u6846"})],e.prototype,"editClubName",void 0),r([_({type:cc.Label,tooltip:"\u4ff1\u4e50\u90e8\u516c\u544a"})],e.prototype,"labEditNotice",void 0),r([_({type:cc.EditBox,tooltip:"\u4ff1\u4e50\u90e8\u516c\u544a\u8f93\u5165\u6846"})],e.prototype,"editNotice",void 0),r([_({type:cc.Label,tooltip:"\u51c6\u5165\u65b9\u5f0f\u540d\u79f0"})],e.prototype,"labAgreeName",void 0),r([_({type:cc.Label,tooltip:"\u51c6\u5165\u65b9\u5f0f"})],e.prototype,"labAgreeType",void 0),r([_({type:cc.Button,tooltip:"\u51c6\u5165\u65b9\u5f0f\u9009\u62e9: \u5de6"})],e.prototype,"btnAgreeDec",void 0),r([_({type:cc.Button,tooltip:"\u51c6\u5165\u65b9\u5f0f\u9009\u62e9: \u53f3"})],e.prototype,"btnAgreeInc",void 0),r([_({type:cc.Label,tooltip:"\u52a0\u5165\u6761\u4ef6\u540d\u79f0"})],e.prototype,"labConditionName",void 0),r([_({type:cc.Label,tooltip:"\u52a0\u5165\u6761\u4ef6"})],e.prototype,"labJoinCondition",void 0),r([_({type:cc.Button,tooltip:"\u52a0\u5165\u6761\u4ef6\u9009\u62e9: \u5de6"})],e.prototype,"btnConditionDec",void 0),r([_({type:cc.Button,tooltip:"\u52a0\u5165\u6761\u4ef6\u9009\u62e9: \u53f3"})],e.prototype,"btnConditionInc",void 0),r([_({type:cc.Button,tooltip:"\u521b\u5efa\u6309\u94ae"})],e.prototype,"btnCreate",void 0),r([_({type:cc.Label,tooltip:"\u6d88\u8017\u4f53\u529b\u6570"})],e.prototype,"labPowConsum",void 0),r([_({type:cc.Button,tooltip:"\u786e\u8ba4\u4fee\u6539\u6309\u94ae"})],e.prototype,"btnConfirm",void 0),r([f],e)}(c.BaseUI);o.default=m,cc._RF.pop()},{"../../../../script/app/event/GuiEvent":void 0,"../../../../script/app/event/Notify":void 0,"../../../../script/app/model/DataProxy":void 0,"../../../../script/app/view/ComUI":void 0,"../../../../script/lib/base/Binder":void 0,"../../../../script/lib/base/PopupView":void 0,"../../config/ClubDef":"ClubDef","../../config/ClubI18n":"ClubI18n","../../logic/ClubHelper":"ClubHelper"}],ClubData:[function(t,e,o){"use strict";cc._RF.push(e,"0b23a9YcM9MQYOh9H829EzF","ClubData"),Object.defineProperty(o,"__esModule",{value:!0}),o.ClubData=o.ClubList=void 0;var i=t("../../../script/lib/utils/ComUtils"),n=t("../config/ClubDef"),r=function(){function t(){this.list=[],this.clear()}return t.prototype.get=function(){return this.list},t.prototype.clear=function(){this.list.splice(0,this.list.length)},t.prototype.getById=function(t){for(var e=this.list.length-1;e>=0;e--)if(this.list[e].ID==t)return this.list[e];return null},t.prototype.add=function(t){t&&t.ID>0&&(this.delById(t.ID),this.list.push(t))},t.prototype.delById=function(t){for(var e=this.list.length-1;e>=0;e--)if(this.list[e].ID==t)return this.list.splice(e,1),!0;return!1},t.prototype.alter=function(t){if(t&&t.ID>0){var e=this.getById(t.ID);e&&e.update(t)}},t.prototype.sort=function(){this.list.sort(function(t,e){return t.memberNum-e.memberNum})},t}();o.ClubList=r;var a=function(){function t(){this.recommendList=null,this.myClubList=null,this.maxPeople=50,this.costToken=0,this.joinNextCD=0,this.donationRankInfo=null,this.clubRankInfo=null,this.recommendList=new r,this.myClubList=new r,this.mSysCfg=new n.ClubSysCfg}return t.prototype.parseToRecomClubList=function(t){var e=this;return this.recommendList.clear(),t.forEach(function(t){var o=new n.ClubBaseInfo;o.ID=t.dwFamID,o.name=i.ComUtils.u8ToUTF8Str(t.chFamName),o.ownerID=t.dwFamBossID,o.hasApply=1===t.dwApply,o.memberNum=t.dwFamPeople,o.notice=i.ComUtils.u8ToUTF8Str(t.chFamNotice),o.iconId=t.dwIconIndex,o.condition=t.dwDan||1,o.level=0,o.myJob=0,o.onlinePeople=0,o.noticeCount=0,e.recommendList.add(o)}),this.recommendList.get()},t.prototype.parseToMyClubList=function(t){var e=this;this.myClubList.clear(),t.forEach(function(t){var o=new n.ClubBaseInfo;o.ID=t.dwFamID,o.name=i.ComUtils.u8ToUTF8Str(t.chFamName),o.ownerID=t.dwFamBossID,o.agreeType=t.dwJoinType,o.myJob=t.dwIdentity,o.memberNum=t.dwFamPeople,o.notice=i.ComUtils.u8ToUTF8Str(t.chFamNotice),o.iconId=t.dwIconIndex,o.condition=t.dwDan,o.level=0,o.onlinePeople=t.dwOnlineCount,o.noticeCount=0,e.myClubList.add(o)})},t.prototype.parseSearchClub=function(t){var e=new r,o=new n.ClubBaseInfo;return o.ID=t.dwFamID,o.name=i.ComUtils.u8ToUTF8Str(t.chFamName),o.ownerID=t.dwFamBossID,o.agreeType=t.dwJoinType,o.myJob=t.dwIdentity,o.memberNum=t.dwFamPeople,o.notice=i.ComUtils.u8ToUTF8Str(t.chFamNotice),o.iconId=t.dwIconIndex,o.condition=t.dwDan,o.level=0,o.onlinePeople=t.dwOnlineCount,o.noticeCount=0,e.add(o),e.get()},t.prototype.parseClubInfo=function(t){var e=new n.ClubBaseInfo;return e.ID=t.dwFamID,e.name=i.ComUtils.u8ToUTF8Str(t.chFamName),e.ownerID=t.dwFamBossID,e.agreeType=t.dwJoinType,e.myJob=t.dwIdentity,e.memberNum=t.dwFamPeople,e.notice=i.ComUtils.u8ToUTF8Str(t.chFamNotice),e.iconId=t.dwIconIndex,e.condition=t.dwDan,e.level=0,e.onlinePeople=t.dwOnlineCount,e.noticeCount=0,e},t.prototype.getRecomdClubList=function(){return this.recommendList.get()},t.prototype.getMyClubList=function(){return this.myClubList},t.prototype.setMyClubOnlineCount=function(t,e){if(this.myClubList)for(var o=this.myClubList.get(),i=0;i<o.length;i++){var n=o[i];if(n.ID==t){n.onlinePeople=e;break}}},t.prototype.getMyClubOnlineCount=function(){if(this.myClubList){var t=this.myClubList.get();if(t&&t.length>0)return t[0].onlinePeople}return 0},t.prototype.getMyClub=function(){var t=this.myClubList.get();return t&&t.length>0?t[0]:null},t.prototype.parseClubCfg=function(t){if(t&&t.chClubSysCfg){var e=i.ComUtils.u8ToUTF8Str(t.chClubSysCfg);this.mSysCfg.parse(e)}},t.prototype.getClubCfg=function(){return this.mSysCfg},t.prototype.setDonationInfo=function(t){this.donationRankInfo=t},t.prototype.setClubRankInfo=function(t){this.clubRankInfo=t},t}();o.ClubData=a,cc._RF.pop()},{"../../../script/lib/utils/ComUtils":void 0,"../config/ClubDef":"ClubDef"}],ClubDef:[function(t,e,o){"use strict";cc._RF.push(e,"fccc88jv51N260fqJdKKm3v","ClubDef"),Object.defineProperty(o,"__esModule",{value:!0}),o.ClubSysCfg=o.ClubApplyItem=o.ClubMemberInfo=o.ClubBaseInfo=o.ClubConst=void 0;var i,n=t("../../../script/lib/base/Language"),r=t("../../../script/lib/utils/ComUtils");(function(t){(function(t){t[t.eAuto=0]="eAuto",t[t.eAgreeByAdmin=1]="eAgreeByAdmin",t[t.eAgreeByOwner=1]="eAgreeByOwner"})(t.AgreeType||(t.AgreeType={})),function(t){t[t.eRecommend=0]="eRecommend",t[t.eSearch=1]="eSearch",t[t.eMember=2]="eMember"}(t.ListViewType||(t.ListViewType={})),function(t){t[t.eOwner=2]="eOwner",t[t.eAdmin=4]="eAdmin",t[t.eMember=8]="eMember",t[t.eInvalid=0]="eInvalid"}(t.Job||(t.Job={})),function(t){t[t.ONLINE=1]="ONLINE",t[t.OFFLINE=2]="OFFLINE"}(t.OnlineState||(t.OnlineState={})),function(t){t[t.SUCC=0]="SUCC",t[t.NO_PERMISSIONS=100]="NO_PERMISSIONS",t[t.NOT_FOUND_GROUP=200]="NOT_FOUND_GROUP"}(t.OpErrorCode||(t.OpErrorCode={})),function(t){t[t.NONE=0]="NONE",t[t.AGREE=1]="AGREE",t[t.DISAGREE=2]="DISAGREE",t[t.EXIT=3]="EXIT"}(t.ReviewState||(t.ReviewState={})),function(t){t[t.NONE=0]="NONE",t[t.XHW=1]="XHW"}(t.MemberState||(t.MemberState={})),function(t){t[t.NONE=0]="NONE",t[t.INPUT_ID=1]="INPUT_ID",t[t.SHATRE_CARD=2]="SHATRE_CARD"}(t.JoinType||(t.JoinType={})),function(t){t[t.DEL=1]="DEL",t[t.SET_ADMINS=2]="SET_ADMINS",t[t.RM_ADMINS=3]="RM_ADMINS"}(t.OpMember||(t.OpMember={})),function(t){t[t.Empty=0]="Empty",t[t.Main=1]="Main"}(t.ViewType||(t.ViewType={})),function(t){t[t.claimed=1]="claimed",t[t.canClaim=2]="canClaim",t[t.inProgress=3]="inProgress",t[t.wating=4]="wating"}(t.eChestRewardSt||(t.eChestRewardSt={})),function(t){t[t.thisWeek=1]="thisWeek",t[t.lastWeek=2]="lastWeek"}(t.eDonationReqType||(t.eDonationReqType={}))})(i=o.ClubConst||(o.ClubConst={}));var a=function(t,e){for(var o in e)if(t.hasOwnProperty(o)){var i=e[o];"object"==typeof i?t[o]=r.ComUtils.clone(i):null!=i&&(t[o]=i)}},s=function(){function t(t){t?(this.name=t.name||"",this.ID=t.ID||0,this.ownerID=t.ownerID||0,this.myJob=t.myJob||i.Job.eInvalid,this.onlinePeople=t.onlinePeople||0,this.noticeCount=t.noticeCount||0,this.iconId=t.iconId,this.level=t.level,this.condition=t.condition,this.agreeType=t.agreeType,this.memberNum=t.memberNum,this.hasApply=t.hasApply):this.clear()}return t.prototype.clear=function(){this.name="",this.ID=0,this.notice="",this.myJob=i.Job.eInvalid,this.onlinePeople=0,this.noticeCount=0,this.iconId=0,this.condition=0,this.agreeType=0,this.memberNum=0,this.hasApply=!1},t.prototype.update=function(t){a(this,t)},t}();o.ClubBaseInfo=s;var l=function(){function t(t){t&&(this.nickName=t.nickName||"",this.userID=t.userID||0,this.gender=t.gender||0,this.onlineState=t.onlineState||0,this.job=t.job||0,this.headUrl=t.headUrl,this.gameCount=t.gameCount,this.timeOffLine=t.timeOffLine,this.dwExpLevel=t.dwExpLevel,this.dwDan1=t.dwDan1,this.dwDan2=t.dwDan2,this.faceId=t.faceId,this.custFaceId=t.custFaceId)}return t.prototype.update=function(t){a(this,t)},t}();o.ClubMemberInfo=l;var p=function(){function t(t){t?(this.nickName=t.joinNickName||"",this.joinUserId=t.joinUserId||0,this.gender=t.gender||0,this.reqTime=t.reqTime||0,this.joinType=t.joinType||0,this.reviewState=t.reviewState||0,this.introduceUserID=t.introduceUserID||0,this.introduceName=t.introduceName||"",this.dwExpLevel=t.dwExpLevel,this.dwDan1=t.dwDan1,this.dwDan2=t.dwDan2,this.faceId=t.faceId,this.custFaceId=t.custFaceId):this.clear()}return t.prototype.clear=function(){this.nickName="",this.joinUserId=0,this.reqTime=0,this.joinType=0,this.reviewState=0,this.introduceUserID=0,this.introduceName="",this.dwExpLevel=0,this.dwDan1=0,this.dwDan2=0,this.faceId=0,this.custFaceId=0},t.prototype.update=function(t){a(this,t)},t}();o.ClubApplyItem=p;var c=[{zh:"\u9752\u94dc",en:"bronze",it:"bronze"},{zh:"\u767d\u94f6",en:"silver",it:"silver"},{zh:"\u9ec4\u91d1",en:"gold",it:"gold"},{zh:"\u767d\u91d1",en:"platinum",it:"platnum"},{zh:"\u94bb\u77f3",en:"diamonds",it:"diamond"},{zh:"\u738b\u8005",en:"king",it:"challenger"}],u=["I","II","III","IV","V","VI"],b=function(){function t(){this.costps=0,this.maxpeop=0,this.maxfam=1,this.maxmana=0,this.maxnot=0,this.cdtime=0,this.danCfg=null}return t.prototype.parse=function(t){var e=JSON.parse(t);e&&(this.costps=e.costps||0,this.maxpeop=e.maxpeop||0,this.maxfam=e.maxfam||0,this.maxmana=e.maxmana||0,this.cdtime=e.cdtime||0,this.maxnot=e.maxnot||0,this.danCfg=e.dancfg)},t.prototype.getDanDesc=function(t){var e=n.Language.getInstance().getLanguage();if(this.danCfg)for(var o=0;o<this.danCfg.length;o++){var i=this.danCfg[o];if(i.dan==t){var r=c[i.dan1-1];if(r)return r[e]+" "+(u[i.dan2-1]||"")}}return""},t.prototype.getDanItem=function(t){if(n.Language.getInstance().getLanguage(),this.danCfg)for(var e=0;e<this.danCfg.length;e++){var o=this.danCfg[e];if(o.dan==t)return o}return null},t.prototype.getCfgLenth=function(){if(this.danCfg)return this.danCfg.length},t}();o.ClubSysCfg=b,cc._RF.pop()},{"../../../script/lib/base/Language":void 0,"../../../script/lib/utils/ComUtils":void 0}],ClubDonationListItem:[function(t,e,o){"use strict";cc._RF.push(e,"0499738OJlBh4ebvdnx2SlU","ClubDonationListItem");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ClubDonationListItem=void 0;var a=t("../../../../script/app/event/GuiEvent"),s=t("../../../../script/app/event/Notify"),l=t("../../../../script/app/model/DataProxy"),p=t("../../../../script/lib/base/CxComponent"),c=t("../../../../script/lib/utils/ComUtils"),u=cc._decorator,b=u.ccclass,h=u.property,C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spBg=null,e.btnBox=null,e.ndHead=null,e.labNick=null,e.labPercent=null,e.labDonation=null,e.labOrder=null,e.spOrder=null,e.framesOrder=[],e.bgMy=null,e.bgOther=null,e.colorMy=new cc.Color,e.colorOther=new cc.Color,e.mItemData=null,e}return n(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.btnBox&&this.btnBox.node.on("click",this.onClickBox,this)},e.prototype.listEvent=function(){return new Map([])},e.prototype.updateItem=function(t,e){var o=e;this.mItemData=o,this.setDonationPercent(o.dwPrize/10),this.setDonationVal(o.lDonation),this.setRankOrder(t+1),this.setUserName(c.ComUtils.u8ToUTF8Str(o.chNickName)),this.updateColor(),this.dispatch(s.Notify.Head.CREATE_HEAD,{parent:this.ndHead,userId:o.dwUserID,size:this.ndHead.getContentSize(),save:!0,level:o.dwExpLevel,rankLever:o.dwDan1||0,rankStartLever:o.dwDan2||0,url:c.ComUtils.u8ToUTF8Str(o.url),faceId:o.faceId,robot:o.custFaceId})},e.prototype.onClickBox=function(){var t=this.btnBox.node.convertToWorldSpaceAR(cc.v2(0,0));this.dispatch(a.GuiEvent.Club.DISPLAY_CLUB_REWARD_PREVIEW,{pos:t,rewards:[]})},e.prototype.setUserName=function(t){this.labNick&&(this.labNick.string=c.ComUtils.subStr(t,8,!0))},e.prototype.setRankOrder=function(t){this.spOrder.node.active=!1,this.labOrder.node.active=!1;var e=this.framesOrder[t-1];e?this.spOrder&&(this.spOrder.node.active=!0,this.spOrder.spriteFrame=e):this.labOrder&&(this.labOrder.node.active=!0,this.labOrder.string=t.toString())},e.prototype.setDonationVal=function(t){this.labDonation&&(this.labDonation.string=t.toString())},e.prototype.setDonationPercent=function(t){this.labPercent&&(this.labPercent.string=t+"%")},e.prototype.updateColor=function(){this.mItemData.dwUserID==l.DataProxy.getInstance().userData.userId?(this.spBg.spriteFrame=this.bgMy,this.labNick.node.color=this.colorMy,this.labDonation.node.color=this.colorMy,this.labPercent.node.color=this.colorMy):(this.spBg.spriteFrame=this.bgOther,this.labNick.node.color=this.colorOther,this.labDonation.node.color=this.colorOther,this.labPercent.node.color=this.colorOther)},r([h({type:cc.Sprite,tooltip:"\u80cc\u666f"})],e.prototype,"spBg",void 0),r([h({type:cc.Button,tooltip:"\u5b9d\u7bb1\u6309\u94ae"})],e.prototype,"btnBox",void 0),r([h({type:cc.Node,tooltip:"\u5934\u50cf\u8282\u70b9"})],e.prototype,"ndHead",void 0),r([h({type:cc.Label,tooltip:"\u73a9\u5bb6\u6635\u79f0"})],e.prototype,"labNick",void 0),r([h({type:cc.Label,tooltip:"\u6350\u732e\u5360\u6bd4"})],e.prototype,"labPercent",void 0),r([h({type:cc.Label,tooltip:"\u6350\u732e\u6570\u91cf"})],e.prototype,"labDonation",void 0),r([h({type:cc.Label,tooltip:"\u6392\u540d\u5e8f\u53f7"})],e.prototype,"labOrder",void 0),r([h({type:cc.Sprite,tooltip:"\u6392\u540d\u5e8f\u53f7"})],e.prototype,"spOrder",void 0),r([h({type:cc.SpriteFrame,tooltip:"\u6392\u540d\u56fe\u7247\u96c6"})],e.prototype,"framesOrder",void 0),r([h({type:cc.SpriteFrame,tooltip:"\u6211\u7684\u80cc\u666f\u56fe\u7247"})],e.prototype,"bgMy",void 0),r([h({type:cc.SpriteFrame,tooltip:"\u5176\u4ed6\u4eba\u7684\u80cc\u666f\u56fe\u7247"})],e.prototype,"bgOther",void 0),r([h({tooltip:"\u6211\u7684\u5b57\u4f53\u989c\u8272"})],e.prototype,"colorMy",void 0),r([h({tooltip:"\u5176\u4ed6\u4eba\u7684\u5b57\u4f53\u989c\u8272"})],e.prototype,"colorOther",void 0),r([b],e)}(p.CxComponent);o.ClubDonationListItem=C,cc._RF.pop()},{"../../../../script/app/event/GuiEvent":void 0,"../../../../script/app/event/Notify":void 0,"../../../../script/app/model/DataProxy":void 0,"../../../../script/lib/base/CxComponent":void 0,"../../../../script/lib/utils/ComUtils":void 0}],ClubDonationList:[function(t,e,o){"use strict";cc._RF.push(e,"870344bum5BH5oJC26flJ7h","ClubDonationList");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ClubDonationList=void 0;var a=t("../../../../script/lib/base/PopupView"),s=t("../../config/ClubI18n"),l=t("./ClubComList"),p=cc._decorator,c=p.ccclass,u=p.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labTips=null,e.btnHelp=null,e}return n(e,t),e.prototype.getLogicName=function(){return"LClubDonationList"},e.prototype.getLogic=function(){return this.logic},e.prototype.showRewardPreview=function(){},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.btnHelp&&this.btnHelp.node.on("click",this.onClickHelp,this)},e.prototype.multiLanguage=function(){t.prototype.multiLanguage.call(this);var e=this.getComponent(a.PopupView);e&&e.setTitle(s.ClubI18n.makeLanguage(s.IClubI18n.k.club_title_rankPrize)),this.labTips&&(this.labTips.language=s.ClubI18n.makeLanguage(s.IClubI18n.k.rank_donation_tips))},e.prototype.onEnable=function(){t.prototype.onEnable.call(this),this.getLogic().reqData()},e.prototype.onClickHelp=function(){},r([u({type:cc.Label,tooltip:"\u63d0\u793a\u8bed"})],e.prototype,"labTips",void 0),r([u({type:cc.Button,tooltip:"\u5e2e\u52a9\u6309\u94ae"})],e.prototype,"btnHelp",void 0),r([c],e)}(l.ClubComList);o.ClubDonationList=b,cc._RF.pop()},{"../../../../script/lib/base/PopupView":void 0,"../../config/ClubI18n":"ClubI18n","./ClubComList":"ClubComList"}],ClubEvent:[function(t,e,o){"use strict";cc._RF.push(e,"e13f8hr+dNIZ7mSne44nSrk","ClubEvent"),Object.defineProperty(o,"__esModule",{value:!0}),o.ClubEvent=void 0,function(t){(function(t){t.CREATE_SUCC="clubevent_createsucc",t.JOIN_SUCC="clubevent_joinsucc",t.LEAVE_SUCC="clubevent_leavesucc",t.UPDATE_CLUB="clubevent_updateclub",t.UPDATE_RED_DOT="clubevent_com_update_red_dot"})(t.Base||(t.Base={})),function(t){t.REQ_SWITCH_CLUB="clubevent_home_req_switch_group",t.SWITCH_CLUB_RSP="clubevent_home_switch_group_rsp",t.CLUB_LIST_RSP="clubevent_home_group_list_rsp",t.ADD_CLUB="clubevent_home_add_group",t.DEL_CLUB="clubevent_home_del_group",t.RESET_ROOM_LIST="clubevent_home_reset_room_list",t.ADD_NEW_ROOM="clubevent_home_add_new_room",t.UPDATE_GAME_ROOM="clubevent_home_update_game_room",t.DELETE_GAME_ROOM="clubevent_home_delete_game_room",t.RESET_QUICK_LIST="clubevent_home_reset_quick_list",t.UPDATE_ROOM_PLAYERS="clubevent_home_update_room_players",t.UPDATE_ROOM_STATE="clubevent_home_update_room_state"}(t.Home||(t.Home={})),(t.Popup||(t.Popup={})).MEMBER_MENU="club_popup_member_menu",function(t){t.UPDATE_MEMBER_LIST="club_member_update_mb_list",t.ALTER_MEMBER="club_member_alter_mb",t.DEL_MEMBER="club_member_del_mb",t.UPDATE_APPLY_LIST="club_member_update_ap_list",t.ALTER_APPLY="club_member_alter_apply",t.SEARCH_LIST="club_member_search_list",t.ONLINE_PEOPLE="club_member_online_people",t.RM_XHW="club_member_rm_xhw"}(t.Member||(t.Member={}))}(o.ClubEvent||(o.ClubEvent={})),cc._RF.pop()},{}],ClubGuideView:[function(t,e,o){"use strict";cc._RF.push(e,"f5504gS3FlEdLlpb44Dljg9","ClubGuideView");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ClubGuideView=void 0;var a=t("../../../../script/app/const/Global"),s=t("../../../../script/app/event/Notify"),l=t("../../../../script/lib/base/CxCompExt"),p=t("../../../../script/lib/utils/ComUtils"),c=t("../../config/ClubI18n"),u=cc._decorator,b=u.ccclass,h=u.property,C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labGold=null,e.labPower=null,e.btnISee=null,e.labJoin=null,e.labCheckOut=null,e}return n(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.btnISee&&this.btnISee.node.on("click",this.onClickCheckOut,this),this.multiLanguage()},e.prototype.init=function(e){t.prototype.init.call(this,e),this.onUpdateView(e.data)},e.prototype.multiLanguage=function(){this.labJoin&&(this.labJoin.language=c.ClubI18n.makeLanguage(c.IClubI18n.k.welcome_join_to_get)),this.labCheckOut&&(this.labCheckOut.language=c.ClubI18n.makeLanguage(c.IClubI18n.k.welcome_check_out))},e.prototype.initEvent=function(){},e.prototype.onClickCheckOut=function(){this.dispatch(s.Notify.Club.ENTER_CLUB_MAIN_VIEW),this.close()},e.prototype.onUpdateView=function(t){var e=this.getRewarInfo(t.reward,a.gShopHBType.GOLD),o=this.getRewarInfo(t.reward,a.gShopHBType.POWER);null!=e&&this.labGold&&(this.labGold.string=p.ComUtils.formatGoldStr(e,1e6,0)),null!=o&&this.labPower&&(this.labPower.string=p.ComUtils.formatGoldStr(o,1e6,0))},e.prototype.getRewarInfo=function(t,e){if(t&&t.length>0)for(var o=0;o<t.length;o++){var i=t[o];if(i.dwType==e)return i.dwNum}return null},r([h({type:cc.Label,tooltip:"\u91d1\u5e01"})],e.prototype,"labGold",void 0),r([h({type:cc.Label,tooltip:"\u4f53\u529b"})],e.prototype,"labPower",void 0),r([h({type:cc.Button,tooltip:"\u4f53\u529b"})],e.prototype,"btnISee",void 0),r([h({type:cc.Label,tooltip:"\u52a0\u5165\u53ef\u5f97"})],e.prototype,"labJoin",void 0),r([h({type:cc.Label,tooltip:"\u53bb\u52a0\u5165"})],e.prototype,"labCheckOut",void 0),r([b],e)}(l.CxCompExt);o.ClubGuideView=C,cc._RF.pop()},{"../../../../script/app/const/Global":void 0,"../../../../script/app/event/Notify":void 0,"../../../../script/lib/base/CxCompExt":void 0,"../../../../script/lib/utils/ComUtils":void 0,"../../config/ClubI18n":"ClubI18n"}],ClubHelper:[function(t,e,o){"use strict";cc._RF.push(e,"79e3fqOc7BLj403fe+QA3HP","ClubHelper"),Object.defineProperty(o,"__esModule",{value:!0}),o.ClubHelper=void 0;var i=t("../../../script/app/model/DataProxy"),n=t("../config/ClubDef"),r=t("../config/ClubI18n"),a=function(){function t(){}return t.getAgreeTypeTxt=function(t){switch(t){case n.ClubConst.AgreeType.eAuto:return r.ClubI18n.makeLanguage(r.IClubI18n.k.create_join_type_auto);case n.ClubConst.AgreeType.eAgreeByAdmin:case n.ClubConst.AgreeType.eAgreeByOwner:return r.ClubI18n.makeLanguage(r.IClubI18n.k.create_join_type_agree);default:return r.ClubI18n.makeLanguage(r.IClubI18n.k.create_join_type_auto)}},t.getJoinConditionTxt=function(t){return i.DataProxy.getInstance().club.getClubData().getClubCfg().getDanDesc(t)},t.getJoinConditionItem=function(t){return i.DataProxy.getInstance().club.getClubData().getClubCfg().getDanItem(t)},t.getMemberJobTxt=function(t){switch(t){case n.ClubConst.Job.eOwner:return r.ClubI18n.makeLanguage(r.IClubI18n.k.club_com_job_ownner);case n.ClubConst.Job.eAdmin:return r.ClubI18n.makeLanguage(r.IClubI18n.k.club_com_job_admin);case n.ClubConst.Job.eAdmin:default:return r.ClubI18n.makeLanguage(r.IClubI18n.k.club_com_job_member)}},t.getOffLineFormat=function(t){var e=t/86400;if(e>=1)return e<2?Math.floor(e)+"\nday":e>7?Math.floor(e)+"\ndays ago":Math.floor(e)+"\ndays";var o=t/3600;if(o>=1)return o<2?Math.floor(o)+"\nhour":Math.floor(o)+"\nhours";var i=t/60;return i<2?Math.floor(i)+"\nminute":Math.floor(i)+"\nminutes"},t.getLeaveCDFormatTime=function(t){var e=Math.floor(t/86400),o=Math.floor((t-86400*e)/3600),i=Math.floor((t-86400*e-3600*o)/60);return e>0?i>0?e+"d "+o+"h "+i+"m":o>0?e+"d "+o+"h":e+"d":o>0?i>0?o+"h "+i+"m":o+"h":i>0?i+"m":t+"s"},t.sortByJob=function(t){t.sort(function(t,e){return t.job-e.job})},t.sortByOnlineState=function(t){t&&t.length>0&&t.sort(function(t,e){return t.onlineState==e.onlineState?t.onlineState==n.ClubConst.OnlineState.OFFLINE?t.job==n.ClubConst.Job.eMember&&e.job==n.ClubConst.Job.eMember&&t.timeOffLine==e.timeOffLine?e.gameCount-t.gameCount:t.timeOffLine-e.timeOffLine:t.job-e.job:t.onlineState-e.onlineState})},t.sortByMemberCount=function(t){t&&t.length>0&&t.sort(function(t,e){return e.memberNum-t.memberNum})},t.isUserInClub=function(t,e){for(var o=0;o<t.length;o++){var i=t[o];if(i.userID==e)return i}return null},t.isMeInClub=function(t){return this.isUserInClub(t,i.DataProxy.getInstance().userData.userId)},t.isMeJoinedClub=function(){var t=i.DataProxy.getInstance().club;return!(!t||!t.getClubData()||!t.getClubData().getMyClub())},t.getClubInfo=function(){var t=i.DataProxy.getInstance().club;return t&&t.getClubData()?t.getClubData().getMyClub():new n.ClubBaseInfo},t.isOwner=function(t){return!!t&&t.myJob===n.ClubConst.Job.eOwner},t.isOwnerOrAdmins=function(t){return t==n.ClubConst.Job.eOwner||t===n.ClubConst.Job.eAdmin},t.hasOptPermission=function(t,e){var o=i.DataProxy.getInstance().userData.userId,n=e.userID;return this.isOwnerOrAdmins(t.myJob)&&o!==n&&t.ownerID!=n},t.getMyJobInClub=function(){var t=i.DataProxy.getInstance().club.getClubData().getMyClub();return t?t.myJob:n.ClubConst.Job.eInvalid},t.sortMemberListByJob=function(t){t.sort(function(t,e){return t.job-e.job})},t.isMeHasOptPermission=function(){return t.getMyJobInClub()===n.ClubConst.Job.eAdmin||t.getMyJobInClub()===n.ClubConst.Job.eOwner},t.getRewardItem=function(t,e){for(var o=0;o<t.length;o++){var i=t[o];if(i.type==e)return i}return null},t.getDonationTaskInProgress=function(){var t=i.DataProxy.getInstance().club.getClubChestListData();if(t)for(var e=t.tabBoxInfo,o=0;o<e.length;o++){var r=e[o];if(r.dwStatus==n.ClubConst.eChestRewardSt.inProgress)return r}return null},t.getClubMemberCapacity=function(){return i.DataProxy.getInstance().club.getClubData().getClubCfg().maxpeop},t.getClubMemberOnlineCount=function(t){var e=0;return t.forEach(function(t){t.onlineState==n.ClubConst.OnlineState.ONLINE&&e++}),e},t}();o.ClubHelper=a,cc._RF.pop()},{"../../../script/app/model/DataProxy":void 0,"../config/ClubDef":"ClubDef","../config/ClubI18n":"ClubI18n"}],ClubI18n:[function(t,e,o){"use strict";cc._RF.push(e,"66fcb3S7OxN1bYZ6+2u7N8k","ClubI18n");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ClubI18IT=o.ClubI18EN=o.ClubI18ZH=o.IClubI18n=o.ClubI18n=void 0;var r=t("../../../script/app/const/Global"),a=t("../../../script/app/language/LanguageImpl"),s=t("../../../script/lib/base/Language"),l=t("../../../script/lib/i18n/i18nHelper"),p=function(){function t(){}return t.setLan=function(e){return t.setLanguage(e)},Object.defineProperty(t,"bundle",{get:function(){return r.gAssetBundleName.CLUB_SRC},enumerable:!1,configurable:!0}),t.makeLanguage=function(e){return l.i18nHelper.makeLanguage(e,t.bundle)},t.setLanguage=function(t){if(!this.lan||this.lan.language!==t){switch(this.lan=null,t){case cc.sys.LANGUAGE_ENGLISH:this.lan=new b;break;case cc.sys.LANGUAGE_ITALIAN:this.lan=new h;break;case cc.sys.LANGUAGE_CHINESE:this.lan=new u;break;default:this.lan=new b}return a.i18n[""+this.bundle]={},a.i18n[""+this.bundle]=this.lan,a.i18n}},Object.defineProperty(t,"i18n",{get:function(){return this.lan},enumerable:!1,configurable:!0}),t}();o.ClubI18n=p;var c=function(){function t(){}return t.k={become2leader:"become2leader",demote2member:"demote2member",del_member:"del_member",del_member_tips:"del_member_tips",club_title_create:"club_title_create",club_title_setting:"club_title_setting",club_title_chest:"club_title_chest",club_title_rankPrize:"club_title_rankPrize",club_title_clubInfo:"club_title_clubInfo",club_title_welcome:"club_title_welcome",club_title_application:"club_title_application",club_com_create:"club_com_create",club_com_confirm:"club_com_confirm",club_com_change:"club_com_change",club_com_search:"club_com_search",club_com_join:"club_com_join",club_com_leave:"club_com_leave",club_com_setting:"club_com_setting",club_com_claim:"club_com_claim",club_com_open:"club_com_open",club_id:"club_id",club_member:"club_member",club_com_appliaction:"club_com_appliaction",club_com_job_ownner:"club_com_job_ownner",club_com_job_admin:"club_com_job_admin",club_com_job_member:"club_com_job_member",club_com_agree:"club_com_agree",club_com_reject:"club_com_reject",club_com_empty:"club_com_empty",create_name:"create_name",create_name_placeHolder:"create_name_placeHolder",create_notice:"create_notice",create_notice_placeHolder:"create_notice_placeHolder",create_join_type:"create_join_type",create_join_type_auto:"create_join_type_auto",create_join_type_agree:"create_join_type_agree",create_join_condition:"create_join_condition",create_error_too_less_name:"create_error_too_less_name",create_error_too_more_name:"create_error_too_more_name",create_error_too_less_notice:"create_error_too_less_notice",create_error_too_more_notice:"create_error_too_more_notice",create_tips_invalid_name:"create_tips_invalid_name",create_tips_invalid_notice:"create_tips_invalid_notice",recomm_search_placeHolder:"recomm_search_placeHolder",recomm_search_tips:"recomm_search_tips",recomm_search_nothing:"recomm_search_nothing",chest_more_rewards:"chest_more_rewards",chest_no_club:"chest_no_club",chest_can_recv:"chest_can_recv",rank_club_rank:"rank_club_rank",rank_donation_rank:"rank_donation_rank",rank_key_rank:"rank_key_rank",rank_key_name:"rank_key_name",rank_key_prize:"rank_key_prize",rank_key_donation:"rank_key_donation",rank_donation_tips:"rank_donation_tips",rank_i_see:"rank_i_see",welcome_join_to_get:"welcome_join_to_get",welcome_check_out:"welcome_check_out",welcome_coins:"welcome_coins",welcome_tokens:"welcome_tokens",club_info_weekly_game:"club_info_weekly_game",club_info_leave_warn:"club_info_leave_warn",no_application:"no_application"},t}();o.IClubI18n=c;var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.language=cc.sys.LANGUAGE_CHINESE,e.become2leader="\u8bbe\u7f6e\u4e3a\u7ba1\u7406\u5458",e.demote2member="\u8bbe\u7f6e\u4e3a\u6210\u5458",e.del_member="\u5220\u9664",e.del_member_tips="\u4f60\u786e\u5b9a\u5c06{0}\u5220\u9664\u5417?",e.club_com_create="\u521b\u5efa",e.club_com_confirm="\u786e\u8ba4",e.club_com_change="\u4fee\u6539",e.club_com_search="\u641c\u7d22",e.club_com_join="\u52a0\u5165",e.club_com_leave="\u79bb\u5f00",e.club_com_setting="\u8bbe\u7f6e",e.club_com_claim="\u9886\u53d6",e.club_com_open="\u6253\u5f00",e.club_id="\u4ff1\u4e50\u90e8ID",e.club_member="\u6210\u5458",e.club_com_appliaction="\u7533\u8bf7\u5217\u8868",e.club_com_job_ownner="\u7fa4\u4e3b",e.club_com_job_admin="\u7ba1\u7406\u5458",e.club_com_job_member="\u6210\u5458",e.club_com_agree="\u540c\u610f",e.club_com_reject="\u62d2\u7edd",e.club_com_empty="\u7a7a\u7a7a\u5982\u4e5f",e.club_title_create="\u521b\u5efa\u4ff1\u4e50\u90e8",e.club_title_setting="\u4ff1\u4e50\u90e8\u8bbe\u7f6e",e.club_title_chest="\u4ff1\u4e50\u90e8\u5b9d\u7bb1",e.club_title_rankPrize="\u4ff1\u4e50\u90e8\u5468\u5956\u52b1",e.club_title_clubInfo="\u4ff1\u4e50\u90e8\u4fe1\u606f",e.club_title_welcome="\u6b22\u8fce\u52a0\u5165\u4ff1\u4e50\u90e8",e.club_title_application="\u7533\u8bf7\u5217\u8868",e.create_name="\u4ff1\u4e50\u90e8\u540d\u79f0",e.create_name_placeHolder="\u8f93\u51651-50\u4e2a\u5b57",e.create_notice="\u4ff1\u4e50\u90e8\u516c\u544a",e.create_notice_placeHolder="\u6700\u591a\u8f93\u5165200\u4e2a\u5b57",e.create_join_type="\u51c6\u5165\u65b9\u5f0f",e.create_join_type_auto="\u81ea\u52a8",e.create_join_type_agree="\u83b7\u51c6",e.create_join_condition="\u52a0\u5165\u6761\u4ef6",e.create_error_too_less_name="\u81f3\u5c11\u4e3a\u4ff1\u4e50\u90e8\u540d\u79f0\u8f93\u5165{0}\u4e2a\u5b57\u7b26\u6570",e.create_error_too_more_name="\u6700\u591a\u4e3a\u4ff1\u4e50\u90e8\u540d\u79f0\u8f93\u5165{0}\u4e2a\u5b57\u7b26\u6570",e.create_error_too_less_notice="\u81f3\u5c11\u4e3a\u4ff1\u4e50\u90e8\u516c\u544a\u8f93\u5165{0}\u4e2a\u5b57\u7b26\u6570",e.create_error_too_more_notice="\u6700\u591a\u4e3a\u4ff1\u4e50\u90e8\u516c\u544a\u8f93\u5165{0}\u4e2a\u5b57\u7b26\u6570",e.create_tips_invalid_name="\u8bf7\u8f93\u5165\u6709\u6548\u7684\u4ff1\u4e50\u90e8\u540d\u79f0",e.create_tips_invalid_notice="\u8bf7\u8f93\u5165\u6709\u6548\u7684\u4ff1\u4e50\u90e8\u516c\u544a",e.recomm_search_placeHolder="\u8bf7\u8f93\u5165\u4ff1\u4e50\u90e8\u540d\u79f0\u6216\u8005ID",e.recomm_search_tips="\u8bf7\u8f93\u5165\u6709\u6548\u7684\u4ff1\u4e50\u90e8\u540d\u79f0\u6216\u8005ID",e.recomm_search_nothing="\u4e0d\u5b58\u5728\u8be5\u4ff1\u4e50\u90e8",e.chest_more_rewards="\u6839\u636e\u672c\u5468\u6392\u540d",e.chest_no_club="\u672a\u52a0\u5165",e.chest_can_recv="\u53ef\u9886\u53d6",e.rank_club_rank="\u4ff1\u4e50\u90e8\u6392\u540d",e.rank_donation_rank="\u6350\u732e\u6392\u540d",e.rank_key_rank="\u540d\u6b21",e.rank_key_name="\u540d\u79f0",e.rank_key_prize="\u5956\u52b1",e.rank_key_donation="\u6350\u732e\u503c",e.rank_donation_tips="\u6350\u732e\u63d0\u793a",e.rank_i_see="\u6211\u77e5\u9053\u4e86",e.welcome_join_to_get="\u52a0\u5165\u4ff1\u4e50\u90e8\u53ef\u5f97",e.welcome_check_out="\u53bb\u52a0\u5165",e.welcome_coins="Coins",e.welcome_tokens="Tokens",e.club_info_weekly_game="\u6bcf\u5468\u5bf9\u5c40",e.club_info_leave_warn="\u9000\u51fa\u4ff1\u4e50\u90e8\u540e\uff0c{0}\u540e\u624d\u80fd\u518d\u52a0\u5165\u4ff1\u4e50\u90e8\uff0c\u786e\u5b9a\u9000\u51fa\u5417\uff1f",e.no_application="\u6ca1\u6709\u7533\u8bf7",e}return n(e,t),e}(c);o.ClubI18ZH=u;var b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.language=cc.sys.LANGUAGE_ENGLISH,e.become2leader="Promote to vice leader",e.demote2member="Demote to member",e.del_member="Delete",e.del_member_tips="Are you sure to delete {0} from club?",e.club_com_create="Create",e.club_com_confirm="Confirm",e.club_com_change="Change",e.club_com_search="Search",e.club_com_join="Join",e.club_com_leave="Leave",e.club_com_setting="Set",e.club_com_claim="CLAIM",e.club_com_open="OPEN",e.club_id="Club ID",e.club_member="Member",e.club_com_appliaction="Application",e.club_com_job_ownner="Leader",e.club_com_job_admin="Vice leader",e.club_com_job_member="Member",e.club_com_agree="Agree",e.club_com_reject="Reject",e.club_com_empty="Empty",e.club_title_create="Create A Club",e.club_title_setting="Club Setting",e.club_title_chest="Club Chest",e.club_title_rankPrize="Club Rank Prize",e.club_title_clubInfo="Club Info",e.club_title_welcome="Welcome to club",e.club_title_application="Club Application",e.create_name="Club Name",e.create_name_placeHolder="{0} to {1} characters",e.create_notice="Club Notice",e.create_notice_placeHolder="{0} to {1} characters",e.create_join_type="Join Condition",e.create_join_type_auto="Auto",e.create_join_type_agree="Require Approval",e.create_join_condition="Lowest League",e.create_error_too_less_name="name is no less than {0} characters",e.create_error_too_more_name="name is no more than {0} characters",e.create_error_too_less_notice="notice is no less than {0} characters",e.create_error_too_more_notice="notice is no more than {0} characters",e.create_tips_invalid_name="please input the valid name",e.create_tips_invalid_notice="please input the valid notice",e.recomm_search_placeHolder="Enter club name or ID",e.recomm_search_tips="Please input the valid club name or ID",e.recomm_search_nothing="no such club",e.chest_more_rewards="Depend your club rank \nthis week.",e.chest_no_club="No Club",e.chest_can_recv="PISCUOTI PREMIO",e.rank_club_rank="Club Rank",e.rank_donation_rank="Donation Rank",e.rank_key_rank="RANK",e.rank_key_name="NAME",e.rank_key_prize="PRIZE",e.rank_key_donation="DONATION",e.rank_donation_tips="Members prize is depend on the Percentage of donation",e.rank_i_see="I See",e.welcome_join_to_get="Join club to get",e.welcome_check_out="Check it out",e.welcome_coins="Coins",e.welcome_tokens="Tokens",e.club_info_weekly_game="weekly game",e.club_info_leave_warn="Join another club {0} after you leave",e.no_application="No Application",e}return n(e,t),e}(c);o.ClubI18EN=b;var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.language=cc.sys.LANGUAGE_ITALIAN,e.become2leader="Promuovi a vice leader",e.demote2member="Retrocedi a membro",e.del_member="Elimina",e.del_member_tips="Sei sicuro di eliminare {0} dal club?",e.club_com_create="Creare",e.club_com_confirm="Confermare",e.club_com_change="Cambia",e.club_com_search="Ricerca",e.club_com_join="Unisciti",e.club_com_leave="Partire",e.club_com_setting="Impostare",e.club_com_claim="RECLAMO",e.club_com_open="APERTO",e.club_id="ID del club",e.club_member="Membro",e.club_com_appliaction="Applicazione",e.club_com_job_ownner="Leader",e.club_com_job_admin="Vice leader",e.club_com_job_member="Membro",e.club_com_agree="Concordare",e.club_com_reject="Rifiutare",e.club_com_empty="Vuoto",e.club_title_create="Crea un club",e.club_title_setting="Ambiente del Club",e.club_title_chest="Cassa del club",e.club_title_rankPrize="Premio rango club",e.club_title_clubInfo="Info sul club",e.club_title_welcome="Benvenuto nel club",e.club_title_application="Iscrizione club",e.create_name="Nome club",e.create_name_placeHolder="{0} a {1} caratteri",e.create_notice="Avviso Club",e.create_notice_placeHolder="{0} a {1} caratteri",e.create_join_type="Condizione di unione",e.create_join_type_auto="Auto",e.create_join_type_agree="Richiedi approvazione",e.create_join_condition="Lega pi\xf9 bassa",e.create_error_too_less_name="il nome non \xe8 inferiore a {0} caratteri",e.create_error_too_more_name="il nome non supera i {0} caratteri",e.create_error_too_less_notice="l'avviso non \xe8 inferiore a {0} caratteri",e.create_error_too_more_notice="l'avviso non supera i {0} caratteri",e.create_tips_invalid_name="inserisci il nome valido",e.create_tips_invalid_notice="inserire l'avviso valido",e.recomm_search_placeHolder="Inserisci il nome o l'ID del club",e.recomm_search_tips="Inserisci il nome o l'ID valido del club",e.recomm_search_nothing="nessun club del genere",e.chest_more_rewards="Dipende dal rango del tuo club questa settimana.",e.chest_no_club="Nessun club",e.chest_can_recv="PISCUOTI PREMIO",e.rank_club_rank="Classifica club",e.rank_donation_rank="Grado di donazione",e.rank_key_rank="RANGO",e.rank_key_name="NOME",e.rank_key_prize="PREMIO",e.rank_key_donation="DONAZIONE",e.rank_donation_tips="Il premio dei membri dipende dalla percentuale di donazione",e.rank_i_see="Vedo",e.welcome_join_to_get="Unisciti al club per ottenere",e.welcome_check_out="Controlla",e.welcome_coins="Monete",e.welcome_tokens="Token",e.club_info_weekly_game="gioco settimanale",e.club_info_leave_warn="Unisciti a un altro club {0} giorno dopo la tua partenza",e.no_application="No Iscrizione",e}return n(e,t),e}(c);o.ClubI18IT=h,s.Language.getInstance().addI18n(p),cc._RF.pop()},{"../../../script/app/const/Global":void 0,"../../../script/app/language/LanguageImpl":void 0,"../../../script/lib/base/Language":void 0,"../../../script/lib/i18n/i18nHelper":void 0}],ClubIconChangeView:[function(t,e,o){"use strict";cc._RF.push(e,"b2159n12YVN9J/RthXSZ7Vw","ClubIconChangeView");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../script/app/event/Notify"),s=t("../../../../script/lib/base/CxComponent"),l=t("../../config/ClubI18n"),p=t("./ClubIcon"),c=cc._decorator,u=c.ccclass,b=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pfIcon=null,e.btnConfirm=null,e.iconList=[],e.mChooseId=1,e}return n(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.loadAllIcon(9)},e.prototype.listEvent=function(){return new Map([[a.Notify.Club.CHOOSE_CLUB_ICON,this.onChooseIcon]])},e.prototype.start=function(){this.btnConfirm&&this.btnConfirm.node.on("click",this.confirmChange,this),this.multiLanguage()},e.prototype.multiLanguage=function(){this.btnConfirm&&(this.btnConfirm.getComponentInChildren(cc.Label).language=l.ClubI18n.makeLanguage(l.IClubI18n.k.club_com_confirm))},e.prototype.loadAllIcon=function(t){for(var e=0;e<t;e++)this.addIcon(e+1)},e.prototype.addIcon=function(t){if(this.pfIcon){var e=cc.instantiate(this.pfIcon);e.parent=this.node.getComponentInChildren(cc.Layout).node,e.getComponent(p.default).setIcon(t),this.iconList.push(e)}},e.prototype.onChooseIcon=function(t){this.mChooseId=t,this.iconList.forEach(function(e){var o=e.getComponent(p.default);o.getIconID()==t?o.onChoosed():o.onCancleChoosed()})},e.prototype.confirmChange=function(){this.dispatch(a.Notify.Club.CHANGE_CLUB_ICON,this.mChooseId),this.node.destroy()},r([b({type:cc.Prefab,tooltip:"\u4ff1\u4e50\u90e8\u56fe\u6807\u9884\u5236\u4f53"})],e.prototype,"pfIcon",void 0),r([b({type:cc.Button,tooltip:"\u786e\u8ba4\u4fee\u6539\u6309\u94ae"})],e.prototype,"btnConfirm",void 0),r([u],e)}(s.CxComponent);o.default=h,cc._RF.pop()},{"../../../../script/app/event/Notify":void 0,"../../../../script/lib/base/CxComponent":void 0,"../../config/ClubI18n":"ClubI18n","./ClubIcon":"ClubIcon"}],ClubIcon:[function(t,e,o){"use strict";cc._RF.push(e,"50de3/oV05HjYDyQ8P4mhPR","ClubIcon");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../script/app/event/Notify"),s=t("../../../../script/app/view/ComUI"),l=t("../../../../script/lib/base/CxComponent"),p=cc._decorator,c=p.ccclass,u=p.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spIcon=null,e.spChoosed=null,e.atlasIcons=null,e.mIconId=1,e}return n(e,t),e.prototype.setIcon=function(t){if(this.mIconId=t,this.spIcon&&this.atlasIcons){var e=s.ComUI.getClubIcon(this.atlasIcons,t);e&&(this.spIcon.getComponent(cc.Sprite).spriteFrame=e)}},e.prototype.start=function(){this.node.on("click",this.onClick,this)},e.prototype.getIconID=function(){return this.mIconId},e.prototype.onClick=function(){this.dispatch(a.Notify.Club.CHOOSE_CLUB_ICON,this.mIconId)},e.prototype.onChoosed=function(){this.spChoosed&&(this.spChoosed.node.active=!0)},e.prototype.onCancleChoosed=function(){this.spChoosed&&(this.spChoosed.node.active=!1)},r([u({type:cc.Sprite,tooltip:"\u56fe\u6807"})],e.prototype,"spIcon",void 0),r([u({type:cc.Sprite,tooltip:"\u9009\u4e2d"})],e.prototype,"spChoosed",void 0),r([u({type:cc.SpriteAtlas,tooltip:"ICON\u56fe\u96c6"})],e.prototype,"atlasIcons",void 0),r([c],e)}(l.CxComponent);o.default=b,cc._RF.pop()},{"../../../../script/app/event/Notify":void 0,"../../../../script/app/view/ComUI":void 0,"../../../../script/lib/base/CxComponent":void 0}],ClubInfoView:[function(t,e,o){"use strict";cc._RF.push(e,"68ebaLpi5tGWIceAOk7SGPt","ClubInfoView");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../script/app/event/GuiEvent"),s=t("../../../../script/app/event/Notify"),l=t("../../../../script/app/model/DataProxy"),p=t("../../../../script/app/view/ComUI"),c=t("../../../../script/lib/base/CxComponent"),u=t("../../config/ClubDef"),b=t("../../config/ClubEvent"),h=t("../../config/ClubI18n"),C=t("../../logic/ClubHelper"),d=t("../member/ClubMemberList"),f=cc._decorator,_=f.ccclass,m=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labTitle=null,e.spClubIcon=null,e.atlasIcons=null,e.labClubName=null,e.labClubNotice=null,e.labClubID=[],e.labCondition=[],e.labJoinType=[],e.labMemAndCapacity=[],e.spRedpot=null,e.btnJoin=null,e.btnSetting=null,e.btnApp=null,e.btnLeave=null,e.ndBtns=null,e.mClubInfo=null,e}return n(e,t),e.prototype.init=function(t){t&&t.clubInfo&&this.showClubInfo(t.clubInfo)},e.prototype.showClubInfo=function(t){this.mClubInfo=t,this.setClubID(t.ID),this.setClubIcon(t.iconId||1),this.setClubName(t.name),this.setClubNotice(t.notice),this.setJoinCondition(t.condition||1),this.setJoinType(t.agreeType),this.setMemberAndCapacity(t.memberNum,l.DataProxy.getInstance().club.getClubData().getClubCfg().maxpeop),C.ClubHelper.isMeJoinedClub()?C.ClubHelper.getClubInfo().ID==t.ID?this.setButtons(t.myJob):this.setOptButtonVisible(!1):this.setButtons(u.ClubConst.Job.eInvalid),this.uiMbList=this.getComponent(d.default),this.uiMbList&&this.uiMbList&&this.uiMbList.init({clubInfo:this.mClubInfo})},e.prototype.multiLanguage=function(){this.labTitle&&(this.labTitle.language=h.ClubI18n.makeLanguage(h.IClubI18n.k.club_title_clubInfo)),this.labCondition[0]&&(this.labCondition[0].language=h.ClubI18n.makeLanguage(h.IClubI18n.k.create_join_condition)),this.labJoinType[0]&&(this.labJoinType[0].language=h.ClubI18n.makeLanguage(h.IClubI18n.k.create_join_type)),this.labClubID[0]&&(this.labClubID[0].language=h.ClubI18n.makeLanguage(h.IClubI18n.k.club_id)),this.labMemAndCapacity[0]&&(this.labMemAndCapacity[0].language=h.ClubI18n.makeLanguage(h.IClubI18n.k.club_member)),this.btnJoin&&(this.btnJoin.getComponentInChildren(cc.Label).language=h.ClubI18n.makeLanguage(h.IClubI18n.k.club_com_join)),this.btnSetting&&(this.btnSetting.getComponentInChildren(cc.Label).language=h.ClubI18n.makeLanguage(h.IClubI18n.k.club_com_setting)),this.btnLeave&&(this.btnLeave.getComponentInChildren(cc.Label).language=h.ClubI18n.makeLanguage(h.IClubI18n.k.club_com_leave)),this.btnApp&&(this.btnApp.getComponentInChildren(cc.Label).language=h.ClubI18n.makeLanguage(h.IClubI18n.k.club_com_appliaction))},e.prototype.listEvent=function(){return new Map([[b.ClubEvent.Base.LEAVE_SUCC,this.close],[b.ClubEvent.Base.UPDATE_RED_DOT,this.onReddot],[b.ClubEvent.Member.ONLINE_PEOPLE,this.onUpdateMemberCount],[b.ClubEvent.Base.UPDATE_CLUB,this.onUpdateView]])},e.prototype.start=function(){this.multiLanguage(),this.btnJoin&&this.btnJoin.node.on("click",this.onClickJoin,this),this.btnSetting&&this.btnSetting.node.on("click",this.onClickSetting,this),this.btnApp&&this.btnApp.node.on("click",this.onClickApp,this),this.btnLeave&&this.btnLeave.node.on("click",this.onClickLeave,this),this.showRedpot()},e.prototype.setButtons=function(t){this.setOptButtonVisible(!0),this.btnJoin&&(this.btnJoin.node.active=!1),this.btnSetting&&(this.btnSetting.node.active=!1),this.btnApp&&(this.btnApp.node.active=!1),this.btnLeave&&(this.btnLeave.node.active=!1),t===u.ClubConst.Job.eInvalid?this.btnJoin&&(this.btnJoin.node.active=!0):t===u.ClubConst.Job.eMember?this.btnLeave&&(this.btnLeave.node.active=!0):t!==u.ClubConst.Job.eAdmin&&t!==u.ClubConst.Job.eOwner||(this.btnSetting&&(this.btnSetting.node.active=!0),this.btnApp&&(this.btnApp.node.active=!0),this.btnLeave&&(this.btnLeave.node.active=!0))},e.prototype.setOptButtonVisible=function(t){this.ndBtns&&(this.ndBtns.active=t)},e.prototype.onClickJoin=function(){this.dispatch(s.Notify.Club.REQ_JOIN,{clubId:this.mClubInfo.ID}),this.close()},e.prototype.onClickSetting=function(){this.dispatch(a.GuiEvent.Club.DISPLAY_CLUB_SETTING_VIEW,{isCreate:!1})},e.prototype.onClickApp=function(){this.dispatch(a.GuiEvent.Club.DISPLAY_CLUB_APPLICATION_VIEW)},e.prototype.onClickLeave=function(){var t=this,e=l.DataProxy.getInstance().club.getClubData().getClubCfg().cdtime,o=C.ClubHelper.getLeaveCDFormatTime(e),i=String.format(h.ClubI18n.i18n.club_info_leave_warn,o);p.ComUI.showDialog({text:i,cb1:function(){t.dispatch(s.Notify.Club.REQ_LEAVE,{clubId:t.mClubInfo.ID}),t.close()},canClose1:!0,close:!0})},e.prototype.setClubIcon=function(t){this.spClubIcon&&(this.spClubIcon.spriteFrame=p.ComUI.getClubIcon(this.atlasIcons,t))},e.prototype.setClubName=function(t){this.labClubName&&(this.labClubName.string=t)},e.prototype.setClubNotice=function(t){this.labClubNotice&&(this.labClubNotice.string=t)},e.prototype.setClubID=function(t){this.labClubID[1]&&(this.labClubID[1].string=t.toString())},e.prototype.setJoinType=function(t){if(this.labJoinType[1]){var e=C.ClubHelper.getAgreeTypeTxt(t);this.labJoinType[1].string=e}},e.prototype.setJoinCondition=function(t){if(this.labCondition[1]){var e=C.ClubHelper.getJoinConditionTxt(t);this.labCondition[1].string=e}},e.prototype.setMemberAndCapacity=function(t,e){this.labMemAndCapacity[1]&&(this.labMemAndCapacity[1].string=t+"/"+e)},e.prototype.onShowMembers=function(t){this.uiMbList&&(this.uiMbList.init({clubInfo:this.mClubInfo}),this.uiMbList.initScrollView(t))},e.prototype.showRedpot=function(){if(C.ClubHelper.isMeHasOptPermission()){var t=l.DataProxy.getInstance().club.getClubData().getMyClub(),e=l.DataProxy.getInstance().club.getMemberData().noticeCount(t.ID);this.spRedpot.node.active=e>0}},e.prototype.onReddot=function(t){C.ClubHelper.isMeHasOptPermission()&&C.ClubHelper.getClubInfo().ID==t.clubId&&(this.spRedpot.node.active=t.count>0)},e.prototype.onUpdateMemberCount=function(t){this.setMemberAndCapacity(t.memberNum,l.DataProxy.getInstance().club.getClubData().getClubCfg().maxpeop)},e.prototype.onUpdateView=function(t){this.showClubInfo(t)},r([m({type:cc.Label,tooltip:"\u6807\u9898"})],e.prototype,"labTitle",void 0),r([m({type:cc.Sprite,tooltip:"\u4ff1\u4e50\u90e8\u56fe\u6807"})],e.prototype,"spClubIcon",void 0),r([m({type:cc.SpriteAtlas,tooltip:"\u4ff1\u4e50\u90e8ICON\u56fe\u96c6"})],e.prototype,"atlasIcons",void 0),r([m({type:cc.Label,tooltip:"\u4ff1\u4e50\u90e8\u540d\u5b57"})],e.prototype,"labClubName",void 0),r([m({type:cc.Label,tooltip:"\u4ff1\u4e50\u90e8\u516c\u544a"})],e.prototype,"labClubNotice",void 0),r([m({type:cc.Label,tooltip:"\u4ff1\u4e50\u90e8ID k-v"})],e.prototype,"labClubID",void 0),r([m({type:cc.Label,tooltip:"\u4ff1\u4e50\u90e8\u52a0\u5165\u6761\u4ef6 k-v"})],e.prototype,"labCondition",void 0),r([m({type:cc.Label,tooltip:"\u51c6\u8bb8\u52a0\u5165\u65b9\u5f0f k-v"})],e.prototype,"labJoinType",void 0),r([m({type:cc.Label,tooltip:"\u6210\u5458\u5bb9\u91cf\u53ca\u6570\u91cf k-v"})],e.prototype,"labMemAndCapacity",void 0),r([m({type:cc.Sprite,tooltip:"\u6210\u5458\u5bb9\u91cf\u53ca\u6570\u91cf k-v"})],e.prototype,"spRedpot",void 0),r([m({type:cc.Button,tooltip:"\u52a0\u5165\u6309\u94ae"})],e.prototype,"btnJoin",void 0),r([m({type:cc.Button,tooltip:"\u8bbe\u7f6e\u6309\u94ae"})],e.prototype,"btnSetting",void 0),r([m({type:cc.Button,tooltip:"application\u6309\u94ae"})],e.prototype,"btnApp",void 0),r([m({type:cc.Button,tooltip:"\u9000\u51fa\u4ff1\u4e50\u90e8\u6309\u94ae"})],e.prototype,"btnLeave",void 0),r([m({type:cc.Node,tooltip:"\u64cd\u4f5c\u6309\u94ae\u68ad\u5b50\u8282\u70b9"})],e.prototype,"ndBtns",void 0),r([_],e)}(c.CxComponent);o.default=y,cc._RF.pop()},{"../../../../script/app/event/GuiEvent":void 0,"../../../../script/app/event/Notify":void 0,"../../../../script/app/model/DataProxy":void 0,"../../../../script/app/view/ComUI":void 0,"../../../../script/lib/base/CxComponent":void 0,"../../config/ClubDef":"ClubDef","../../config/ClubEvent":"ClubEvent","../../config/ClubI18n":"ClubI18n","../../logic/ClubHelper":"ClubHelper","../member/ClubMemberList":"ClubMemberList"}],ClubListItem:[function(t,e,o){"use strict";cc._RF.push(e,"aab46/SNtVJq50OvcpHrjA1","ClubListItem");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../script/app/event/GuiEvent"),s=t("../../../../script/app/event/Notify"),l=t("../../../../script/app/model/DataProxy"),p=t("../../../../script/app/view/ComUI"),c=t("../../../../script/lib/base/CxComponent"),u=t("../../config/ClubDef"),b=t("../../config/ClubI18n"),h=t("../../logic/ClubHelper"),C=cc._decorator,d=C.ccclass,f=C.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spClubIcon=null,e.labClubID=null,e.labClubName=null,e.labClubMember=null,e.btnJoin=null,e.spFull=null,e.spDan1=null,e.spDan2=null,e.atlasDan=null,e.atlasIcons=null,e.mItemData=null,e.mListType=null,e}return n(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.node.on("click",this.onClick,this),this.btnJoin.node.on("click",this.onClickJoin,this),this.multiLanguage()},e.prototype.multiLanguage=function(){this.btnJoin&&(this.btnJoin.getComponentInChildren(cc.Label).language=b.ClubI18n.makeLanguage(b.IClubI18n.k.club_com_join))},e.prototype.updateItem=function(t,e,o){this.mItemData=e,this.mListType=o.listType,this.setIcon(e.iconId),this.setClubID(e.ID),this.setName(e.name);var i=l.DataProxy.getInstance().club.getClubData().getClubCfg().maxpeop;this.setMemberAndCapacity(e.memberNum,i),this.setButtonsStatus(o.listType,e.memberNum>=i),this.setJoinCondition(e.condition||1)},e.prototype.setIcon=function(t){if(this.spClubIcon&&this.atlasIcons){var e=p.ComUI.getClubIcon(this.atlasIcons,t);e&&(this.spClubIcon.spriteFrame=e)}},e.prototype.setClubID=function(t){this.labClubID&&(this.labClubID.string=t.toString())},e.prototype.setName=function(t){this.labClubName&&(this.labClubName.string=t)},e.prototype.setMemberAndCapacity=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.labClubMember&&(this.labClubMember.string=t+"/"+e),this.labClubMember.node.color=t>=e?(new cc.Color).fromHEX("#FFF000"):(new cc.Color).fromHEX("#FFFFFF")},e.prototype.setJoinVisible=function(t){this.btnJoin&&(this.btnJoin.node.active=t)},e.prototype.setFullTipsVisible=function(t){this.spFull&&(this.spFull.node.active=t)},e.prototype.setButtonsStatus=function(t,e){switch(t){case u.ClubConst.ListViewType.eRecommend:case u.ClubConst.ListViewType.eSearch:this.setJoinVisible(!e),this.setFullTipsVisible(e);break;case u.ClubConst.ListViewType.eMember:this.setJoinVisible(!1),this.setFullTipsVisible(!1)}},e.prototype.setJoinCondition=function(t){var e=h.ClubHelper.getJoinConditionItem(t);p.ComUI.addDanIcon(this.atlasDan,this.spDan1,this.spDan2,e.dan1,e.dan2)},e.prototype.onClick=function(){this.mListType!=u.ClubConst.ListViewType.eMember&&this.dispatch(a.GuiEvent.Club.DISPLAY_CLUB_INFO,{clubInfo:this.mItemData})},e.prototype.onClickJoin=function(){this.dispatch(s.Notify.Club.REQ_JOIN,{clubId:this.mItemData.ID})},r([f({type:cc.Sprite,tooltip:"\u4ff1\u4e50\u90e8\u56fe\u6807"})],e.prototype,"spClubIcon",void 0),r([f({type:cc.Label,tooltip:"\u4ff1\u4e50\u90e8id"})],e.prototype,"labClubID",void 0),r([f({type:cc.Label,tooltip:"\u4ff1\u4e50\u90e8\u540d\u79f0"})],e.prototype,"labClubName",void 0),r([f({type:cc.Label,tooltip:"\u4ff1\u4e50\u90e8\u6210\u5458\u53ca\u5bb9\u91cf"})],e.prototype,"labClubMember",void 0),r([f({type:cc.Button,tooltip:"\u52a0\u5165\u4ff1\u4e50\u90e8\u6309\u94ae"})],e.prototype,"btnJoin",void 0),r([f({type:cc.Sprite,tooltip:"\u6ee1\u5458"})],e.prototype,"spFull",void 0),r([f({type:cc.Sprite,tooltip:"\u5927\u6bb5\u4f4d"})],e.prototype,"spDan1",void 0),r([f({type:cc.Sprite,tooltip:"\u5c0f\u6bb5\u4f4d"})],e.prototype,"spDan2",void 0),r([f({type:cc.SpriteAtlas,tooltip:"\u6bb5\u4f4d\u56fe\u6807\u56fe\u96c6"})],e.prototype,"atlasDan",void 0),r([f({type:cc.SpriteAtlas,tooltip:"ICON\u56fe\u96c6"})],e.prototype,"atlasIcons",void 0),r([d],e)}(c.CxComponent);o.default=_,cc._RF.pop()},{"../../../../script/app/event/GuiEvent":void 0,"../../../../script/app/event/Notify":void 0,"../../../../script/app/model/DataProxy":void 0,"../../../../script/app/view/ComUI":void 0,"../../../../script/lib/base/CxComponent":void 0,"../../config/ClubDef":"ClubDef","../../config/ClubI18n":"ClubI18n","../../logic/ClubHelper":"ClubHelper"}],ClubMainView:[function(t,e,o){"use strict";cc._RF.push(e,"7301eZJgOlPtquUEYLB45Hb","ClubMainView");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../script/app/event/GuiEvent"),s=t("../../../../script/app/event/Notify"),l=t("../../logic/ClubHelper"),p=t("../../../../script/lib/base/CxComponent"),c=t("../../config/ClubEvent"),u=t("../../../../script/app/model/DataProxy"),b=t("../../../../script/app/view/ComFunctions"),h=t("../../../../script/lib/utils/Display"),C=cc._decorator,d=C.ccclass,f=C.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ndBg=null,e.pChatView=null,e.pRecommendView=null,e.ndRankEntry=null,e.btnShowInfo=null,e.mReqCD=!1,e}return n(e,t),e.prototype.listEvent=function(){return new Map([[s.Notify.Club.RESP_MY_CLUB,this.switchView],[c.ClubEvent.Base.CREATE_SUCC,this.switchView],[c.ClubEvent.Base.JOIN_SUCC,this.switchView],[c.ClubEvent.Base.LEAVE_SUCC,this.switchView],[s.Notify.Club.JOIN_CLUB_SUCC,this.switchView],[s.Notify.Club.RESP_LEAVE,this.switchView],[s.Notify.Club.RESP_JOIN_CLUB_REWARD_PREVIEW,this.onWelcomeView]])},e.prototype.onEnable=function(){this.reqLatestData(),this.switchView(),this.ndBg.width=Math.sqrt(h.Display.width*h.Display.width+h.Display.height*h.Display.height),this.ndBg.height=this.ndBg.width},e.prototype.start=function(){this.btnShowInfo&&this.btnShowInfo.node.on("click",this.onShowClubInfo,this)},e.prototype.reqLatestData=function(){if(!this.mReqCD){this.CD(),this.dispatch(s.Notify.Club.REQ_MY_CLUB),this.dispatch(s.Notify.Club.REQ_CONFIG),this.dispatch(s.Notify.Club.REQ_CLUB_BOX_PROGRESS);var t=u.DataProxy.getInstance().club.getWeeklyReward();t&&t.bHave&&this.dispatch(a.GuiEvent.Club.DISPLAY_WEEKLY_REWARD_SIMPLE_VIEW,t),l.ClubHelper.isMeHasOptPermission()&&this.dispatch(s.Notify.Club.REQ_APPLICATION_LSIT,{clubId:l.ClubHelper.getClubInfo().ID})}},e.prototype.CD=function(){var t=this;this.mReqCD=!0,b.ComFunctions.performWithDelay(this.node,function(){t.mReqCD=!1},5)},e.prototype.switchView=function(){l.ClubHelper.isMeJoinedClub()?(this.showRecommendView(!1),this.showChatView(!0),this.showRankEntry(!0)):(this.dispatch(s.Notify.Club.REQ_RECOMMEND_CLUB_LIST),this.showChatView(!1),this.showRecommendView(!0),this.showRankEntry(!1))},e.prototype.showRecommendView=function(t){this.pRecommendView&&(this.pRecommendView.active=t)},e.prototype.showChatView=function(t){this.pChatView&&(this.pChatView.active=t)},e.prototype.showRankEntry=function(t){this.ndRankEntry&&(this.ndRankEntry.active=t)},e.prototype.onShowClubInfo=function(){this.dispatch(a.GuiEvent.Club.DISPLAY_CLUB_INFO,{clubInfo:l.ClubHelper.getClubInfo(),clubId:null})},e.prototype.onWelcomeView=function(){var t=u.DataProxy.getInstance().club,e=t.getRewardCfgOfJoinClub();e.bGet&&t.getClubData().getMyClub()&&this.dispatch(a.GuiEvent.Club.DISPLAY_WELCOME_VIEW,e)},r([f({type:cc.Node,tooltip:"\u80cc\u666f"})],e.prototype,"ndBg",void 0),r([f({type:cc.Node,tooltip:"\u804a\u5929\u5217\u8868"})],e.prototype,"pChatView",void 0),r([f({type:cc.Node,tooltip:"\u63a8\u8350\u5217\u8868"})],e.prototype,"pRecommendView",void 0),r([f({type:cc.Node,tooltip:"\u4ff1\u4e50\u90e8\u6392\u540d\u5165\u53e3"})],e.prototype,"ndRankEntry",void 0),r([f({type:cc.Button,tooltip:"\u663e\u793a\u4ff1\u4e50\u90e8\u4fe1\u606f"})],e.prototype,"btnShowInfo",void 0),r([d],e)}(p.CxComponent);o.default=_,cc._RF.pop()},{"../../../../script/app/event/GuiEvent":void 0,"../../../../script/app/event/Notify":void 0,"../../../../script/app/model/DataProxy":void 0,"../../../../script/app/view/ComFunctions":void 0,"../../../../script/lib/base/CxComponent":void 0,"../../../../script/lib/utils/Display":void 0,"../../config/ClubEvent":"ClubEvent","../../logic/ClubHelper":"ClubHelper"}],ClubMbOptMenu:[function(t,e,o){"use strict";cc._RF.push(e,"c825fad+ZlLQLsd7lVPoBlF","ClubMbOptMenu");var i,n,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ClubMbOptMenu=void 0;var s,l=t("../../../../script/app/const/Global"),p=t("../../../../script/app/event/Notify"),c=t("../../../../script/app/view/ComUI"),u=t("../../../../script/lib/base/Callback"),b=t("../../../../script/lib/base/ComPopMenuItem"),h=t("../../../../script/lib/base/ComPupMenu"),C=t("../../../../script/lib/base/CxComponent"),d=t("../../../../script/lib/utils/Display"),f=t("../../../../script/lib/utils/Logger"),_=t("../../config/ClubDef"),m=t("../../config/ClubI18n");(function(t){t[t.ITEM_SET_MANAGER=200]="ITEM_SET_MANAGER",t[t.ITEM_CANCEL_MANAGER=201]="ITEM_CANCEL_MANAGER",t[t.ITEM_KICK_OUT=202]="ITEM_KICK_OUT"})(s||(s={}));var y=((n={})[s.ITEM_SET_MANAGER]={style:l.gColorStyle.GREEN,txt:m.IClubI18n.k.become2leader,tag:s.ITEM_SET_MANAGER},n[s.ITEM_CANCEL_MANAGER]={style:l.gColorStyle.GREEN,txt:m.IClubI18n.k.demote2member,tag:s.ITEM_CANCEL_MANAGER},n[s.ITEM_KICK_OUT]={style:l.gColorStyle.RED,txt:m.IClubI18n.k.del_member,tag:s.ITEM_KICK_OUT},n),g=cc._decorator,I=g.ccclass,v=g.property,w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pfItem=null,e.sfGreen=null,e.sfRed=null,e.pupMenu=null,e}return r(e,t),e.prototype.init=function(t){if(this.pupMenu=this.getComponent(h.ComPupMenu),!this.pupMenu)return f.Logger.warn("[ClubMbOptMenu init] not found ComPupMenu"),this.delayCall(this.close.bind(this),0),!1;this.clubInfo=t.clubInfo||{},this.member=t.member||{},t.arrowDir=d.AnchorType.CENTER_RIGHT,t.clickPos=t.clickPos||cc.Vec2.ZERO,t.delegate=this;var e=this.getTheMemberOperations(this.member.job,0);if(this.opList=this.getItemCfg(e),!(this.opList.length>0))return f.Logger.warn("[ClubMbOptMenu init] operations is empty"),this.delayCall(this.close.bind(this),0),!1;this.pupMenu.init(t)},e.prototype.getTheMemberOperations=function(t,e){var o=this.clubInfo.myJob;return _.ClubConst.Job.eOwner==o?this.getHostOperations(t,e):_.ClubConst.Job.eAdmin==o?this.getAdminsOperations(t,e):[]},e.prototype.getHostOperations=function(t){var e=[];switch(t){case _.ClubConst.Job.eOwner:break;case _.ClubConst.Job.eAdmin:(e=[s.ITEM_KICK_OUT,s.ITEM_CANCEL_MANAGER]).sort(function(t,e){return t-e});break;case _.ClubConst.Job.eMember:(e=[s.ITEM_SET_MANAGER,s.ITEM_KICK_OUT]).sort(function(t,e){return t-e});break;default:e=[]}return e},e.prototype.getAdminsOperations=function(t){var e=[];switch(t){case _.ClubConst.Job.eOwner:break;case _.ClubConst.Job.eAdmin:e=[s.ITEM_KICK_OUT,s.ITEM_CANCEL_MANAGER];break;case _.ClubConst.Job.eMember:(e=[s.ITEM_SET_MANAGER,s.ITEM_KICK_OUT]).sort(function(t,e){return t-e});break;default:e=[]}return e},e.prototype.getItemCfg=function(t){var e=this,o=[];return t.forEach(function(t){var i=y[t];if(i){var n=c.ComUI.getBtnStyle(i.style),r={};r.color=n.textColor,r.outlinecolor=n.outlineColor,r.tag=i.tag,r.txt=m.ClubI18n.i18n[i.txt],i.style===l.gColorStyle.GREEN?r.bgFrame=e.sfGreen:i.style===l.gColorStyle.RED&&(r.bgFrame=e.sfRed),o.push(r)}}),o},e.prototype.initPopList=function(){var t,e,o=this,i=this.opList,n=this.pfItem;n&&i.forEach(function(i){t=cc.instantiate(n),(e=t.getComponent(b.ComPopMenuItem))?(t.active=!0,e.init({spFile:i.bg,string:i.txt,cb:new u.Callback(o,o.onMenuCallback,i.tag),bgType:b.ComPopMenuItem.BGType.SPRITE_BG,color:i.color,outlinecolor:i.outlinecolor,bgFrame:i.bgFrame}),o.pupMenu.addItem(t),i=null):f.Logger.info("[UIClubMemberMenu:initPopList] not found ComPopMenuItem")})},e.prototype.onMenuCallback=function(t){var e=0,o="",i=_.ClubConst.Job.eInvalid;switch(t){case s.ITEM_SET_MANAGER:e=_.ClubConst.OpMember.SET_ADMINS,i=_.ClubConst.Job.eAdmin;break;case s.ITEM_CANCEL_MANAGER:e=_.ClubConst.OpMember.RM_ADMINS,i=_.ClubConst.Job.eMember;break;case s.ITEM_KICK_OUT:e=_.ClubConst.OpMember.DEL,i=_.ClubConst.Job.eInvalid,o=m.ClubI18n.i18n.del_member_tips.replace("{0}",""+this.member.nickName)}var n={clubId:this.clubInfo.ID,opUserId:this.member.userID,opType:e,job:i};if(t===s.ITEM_KICK_OUT){var r=this;c.ComUI.showDialog({text:o,cb1:function(){},cb2:function(){r.dispatch(p.Notify.Club.REQ_CHANGE_MEMBER_JOB,n),r.close(),n=null,r=null}})}else this.dispatch(p.Notify.Club.REQ_CHANGE_MEMBER_JOB,n),this.close()},a([v(cc.Node)],e.prototype,"pfItem",void 0),a([v(cc.SpriteFrame)],e.prototype,"sfGreen",void 0),a([v(cc.SpriteFrame)],e.prototype,"sfRed",void 0),a([I],e)}(C.CxComponent);o.ClubMbOptMenu=w,cc._RF.pop()},{"../../../../script/app/const/Global":void 0,"../../../../script/app/event/Notify":void 0,"../../../../script/app/view/ComUI":void 0,"../../../../script/lib/base/Callback":void 0,"../../../../script/lib/base/ComPopMenuItem":void 0,"../../../../script/lib/base/ComPupMenu":void 0,"../../../../script/lib/base/CxComponent":void 0,"../../../../script/lib/utils/Display":void 0,"../../../../script/lib/utils/Logger":void 0,"../../config/ClubDef":"ClubDef","../../config/ClubI18n":"ClubI18n"}],ClubMemberData:[function(t,e,o){"use strict";cc._RF.push(e,"e38917qa8tFL4AQpC0MHHdJ","ClubMemberData"),Object.defineProperty(o,"__esModule",{value:!0}),o.ClubMemberData=void 0;var i=t("../../../script/lib/utils/ComUtils"),n=t("../config/ClubDef"),r=t("../../../script/app/model/DataProxy"),a=function(){function t(){this.mapMembers=new Map,this.mapApplyList=new Map,this.mapUpateTime=new Map}return t.prototype.clear=function(){this.mapMembers.clear(),this.mapApplyList.clear(),this.mapUpateTime.clear()},t.prototype.resetUpdateTime=function(){this.mapUpateTime.clear()},t.prototype.isValid=function(t){return Date.now()-t>5e3},t.prototype.getMapKey=function(t,e){return t+"_"+e},t.prototype.isMemberDataValid=function(t){return this.isValid(this.getMemberUpdateTime(t))},t.prototype.getMemberUpdateTime=function(t){return this.mapUpateTime.get(this.getMapKey(t,1))||0},t.prototype.setMemberUpdateTime=function(t){this.mapUpateTime.set(this.getMapKey(t,1),Date.now())},t.prototype.parseMemberList=function(t){var e=t.dwFamID,o=0,a=new Array;return t.dwFamMember.forEach(function(t){var e=new n.ClubMemberInfo;e.nickName=i.ComUtils.u8ToUTF8Str(t.chNickName),e.userID=t.dwUserID,e.gender=t.dwSex,e.onlineState=t.onlineState,e.job=t.dwIdentity,e.gameCount=t.dwGameCount,e.headUrl=t.strHeadURL,e.timeOffLine=t.dwOfflineTime,e.state=t.dwStatus,e.dwExpLevel=t.dwExpLevel,e.dwDan1=t.dwDan1,e.dwDan2=t.dwDan2,e.faceId=t.faceId,e.custFaceId=t.custFaceId,a.push(e),t.onlineState==n.ClubConst.OnlineState.ONLINE&&o++}),this.insertMemberList(e,a),r.DataProxy.getInstance().club.getClubData().setMyClubOnlineCount(e,o),a},t.prototype.getMembers=function(t){return this.mapMembers.get(t)},t.prototype.clearMembers=function(t){var e=this.mapMembers.get(t);e&&e.splice(0,e.length)},t.prototype.insertMemberList=function(t,e){if(!(t<=0)&&e){var o=this.mapMembers.get(t);if(o)for(var i=0;i<e.length;i++)o.push(e[i]);else this.mapMembers.set(t,e)}},t.prototype.alterMemberItem=function(t,e){var o=this.mapMembers.get(t);if(o){var i=e.userID,n=o.find(function(t){return t.userID==i});n?n.update(e):o.push(e)}else(o=new Array).push(e),this.mapMembers.set(t,o)},t.prototype.delMemberItem=function(t,e){var o=this.mapMembers.get(t);if(o)for(var i=0;i<o.length;i++)if(o[i].userID==e){o.splice(i,1);break}},t.prototype.findMemberById=function(t,e){var o=this.getMembers(t);if(o)for(var i=o.length-1;i>=0;i--)if(o[i].userID==e)return o[i];return null},t.prototype.findMemberByName=function(t,e){var o=this.getMembers(t);if(o)for(var i=o.length-1;i>=0;i--)if(o[i].nickName==e)return o[i];return null},t.prototype.findMember=function(t,e){e=e.trim();var o=parseInt(e);return isNaN(o)?this.findMemberByName(t,e):this.findMemberById(t,o)},t.prototype.fuzzySearchMember=function(t,e){for(var o=[],i=!1,n=this.getMembers(t),r=n.length-1;r>=0;r--)i=!1,n[r].nickName.includes(e)&&(o.push(n[r]),i=!0),!i&&n[r].userID.toString().includes(e)&&(o.push(n[r]),i=!0);return o},t.prototype.searchMemberByArr=function(t,e){for(var o=[],i=!1,n=t.length-1;n>=0;n--)i=!1,t[n].nickName.includes(e)&&(o.push(t[n]),i=!0),!i&&t[n].userID.toString().includes(e)&&(o.push(t[n]),i=!0);return o},t.prototype.getApplyUpdateTime=function(t){return this.mapUpateTime.get(this.getMapKey(t,2))||0},t.prototype.setApplyUpdateTime=function(t){this.mapUpateTime.set(this.getMapKey(t,2),Date.now())},t.prototype.isApplyDataValid=function(t){return this.isValid(this.getMemberUpdateTime(t))},t.prototype.parseApplyList=function(t){for(var e=t.dwFamID,o=new Array,r=0;r<t.UserJionFam.length;r++){var a=new n.ClubApplyItem;a.joinUserId=t.UserJionFam[r].dwUserID,a.nickName=i.ComUtils.u8ToUTF8Str(t.UserJionFam[r].chNickName),a.introduceName=i.ComUtils.u8ToUTF8Str(t.UserJionFam[r].chIntorducerNickName),a.reviewState=t.UserJionFam[r].dwStatus,a.gender=0,a.reqTime=t.UserJionFam[r].dwTime,a.joinType=t.UserJionFam[r].dwSource,a.dwExpLevel=t.UserJionFam[r].dwExpLevel,a.dwDan1=t.UserJionFam[r].dwDan1,a.dwDan2=t.UserJionFam[r].dwDan2,a.faceId=t.UserJionFam[r].faceId,a.custFaceId=t.UserJionFam[r].custFaceId,o.push(a)}return this.setApplyList(e,o),o},t.prototype.getApplyList=function(t){return this.mapApplyList.get(t)},t.prototype.clearNotices=function(t){var e=this.mapApplyList.get(t);e&&e.splice(0,e.length)},t.prototype.setApplyList=function(t,e){if(!(t<=0)&&e){var o=this.mapApplyList.get(t);0==e.length?o&&o.splice(0,o.length):this.mapApplyList.set(t,e)}},t.prototype.alterApplyItem=function(t,e){if(!t||!e)return null;var o=this.getApplyList(t);if(o){var i=e.joinUserId,r=o.find(function(t){return t.joinUserId==i&&t.reviewState===n.ClubConst.ReviewState.NONE});r?r.update(e):o.push(e)}else(o=new Array).push(e),this.mapApplyList.set(t,o);return e},t.prototype.noticeCount=function(t){var e=this.getApplyList(t);if(e){var o=0;return e.forEach(function(t){t.reviewState===n.ClubConst.ReviewState.NONE&&o++}),o}return 0},t}();o.ClubMemberData=a,cc._RF.pop()},{"../../../script/app/model/DataProxy":void 0,"../../../script/lib/utils/ComUtils":void 0,"../config/ClubDef":"ClubDef"}],ClubMemberItem:[function(t,e,o){"use strict";cc._RF.push(e,"52c557S8T5KXou6ANsRTwoy","ClubMemberItem");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../script/app/event/Notify"),s=t("../../logic/ClubHelper"),l=t("../../../../script/lib/base/CxComponent"),p=t("../../config/ClubDef"),c=t("../../config/ClubEvent"),u=t("../../../../script/lib/utils/ComUtils"),b=t("../../config/ClubI18n"),h=cc._decorator,C=h.ccclass,d=h.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spHead=null,e.labNick=null,e.labWeekly=null,e.labGameCount=null,e.spJob=null,e.sfMemberJob=null,e.labJob=null,e.labOffline=null,e.labOfflineUnit=null,e.spOnline=null,e.btnOpt=null,e.bMeInTheClub=!1,e}return n(e,t),e.prototype.start=function(){this.btnOpt&&this.btnOpt.node.on("click",this.onClick,this)},e.prototype.updateItem=function(t,e,o){this.clubInfo=o.clubInfo,this.bMeInTheClub=o.bMeInTheClub,this.initMemberInfo(e)},e.prototype.initMemberInfo=function(t){this.memberInfo=t,this.setHead(t),this.setNickName(t.nickName),this.setJob(t.job),this.setGameCount(t.gameCount),this.setOpt(s.ClubHelper.hasOptPermission(this.clubInfo,this.memberInfo)),t.onlineState===p.ClubConst.OnlineState.ONLINE?this.setOnLine():this.setOffLine(t.timeOffLine)},e.prototype.setNickName=function(t){this.bMeInTheClub?this.labNick&&(this.labNick.string=u.ComUtils.subStr(t,6,!0)):this.labNick&&(this.labNick.string=u.ComUtils.subStr(t,20,!0))},e.prototype.setHead=function(t){this.dispatch(a.Notify.Head.CREATE_HEAD,{parent:this.spHead.node,userId:t.userID,sex:t.gender,size:cc.size(110,110),save:!0,url:t.headUrl,faceId:t.faceId,custFaceId:t.custFaceId,level:t.dwExpLevel,rankLever:t.dwDan1||0,rankStartLever:t.dwDan2||0})},e.prototype.setJob=function(t){var e=s.ClubHelper.getMemberJobTxt(t);this.labJob&&(this.labJob.language=e),s.ClubHelper.isOwnerOrAdmins(t)||this.spJob&&this.sfMemberJob&&(this.spJob.spriteFrame=this.sfMemberJob)},e.prototype.setGameCount=function(t){this.labGameCount&&(this.labGameCount.string=t.toString()),this.labWeekly&&(this.labWeekly.language=b.ClubI18n.makeLanguage(b.IClubI18n.k.club_info_weekly_game))},e.prototype.setOnLine=function(){this.spOnline&&(this.spOnline.node.active=!0),this.labOffline&&(this.labOffline.node.active=!1),this.labOfflineUnit&&(this.labOfflineUnit.node.active=!1)},e.prototype.setOffLine=function(t){if(this.spOnline&&(this.spOnline.node.active=!1),this.labOfflineUnit){this.labOfflineUnit.node.active=!0,this.labOffline.node.active=!0;var e=s.ClubHelper.getOffLineFormat(t).split("\n");this.labOffline.string=e[0],this.labOfflineUnit.string=e[1]}},e.prototype.setOpt=function(t){this.btnOpt&&(this.btnOpt.node.active=t)},e.prototype.onClick=function(){if(this.clubInfo.myJob>0){var t=this.btnOpt.node.convertToWorldSpaceAR(cc.v2(0,0));t.x-=this.btnOpt.node.width/2,this.dispatch(c.ClubEvent.Popup.MEMBER_MENU,{member:this.memberInfo,clubInfo:this.clubInfo,clickPos:t})}},r([d({type:cc.Sprite,tooltip:"\u5934\u50cf"})],e.prototype,"spHead",void 0),r([d({type:cc.Label,tooltip:"\u6635\u79f0"})],e.prototype,"labNick",void 0),r([d({type:cc.Label,tooltip:"\u6bcf\u5468\u6e38\u620f"})],e.prototype,"labWeekly",void 0),r([d({type:cc.Label,tooltip:"\u6bcf\u5468\u6e38\u620f \u5c40\u6570"})],e.prototype,"labGameCount",void 0),r([d({type:cc.Sprite,tooltip:"\u6210\u5458\u804c\u4f4d \u9ed8\u8ba4\u4e3a\u7ba1\u7406\u5458"})],e.prototype,"spJob",void 0),r([d({type:cc.SpriteFrame,tooltip:"\u6210\u5458\u804c\u4f4d\u7cbe\u7075"})],e.prototype,"sfMemberJob",void 0),r([d({type:cc.Label,tooltip:"\u6210\u5458\u804c\u4f4d"})],e.prototype,"labJob",void 0),r([d({type:cc.Label,tooltip:"\u79bb\u7ebf\u65f6\u95f4\u6570\u5b57"})],e.prototype,"labOffline",void 0),r([d({type:cc.Label,tooltip:"\u79bb\u7ebf\u65f6\u95f4\u5355\u4f4d"})],e.prototype,"labOfflineUnit",void 0),r([d({type:cc.Sprite,tooltip:"\u5728\u7ebf"})],e.prototype,"spOnline",void 0),r([d({type:cc.Button,tooltip:"\u64cd\u4f5c\u6309\u94ae"})],e.prototype,"btnOpt",void 0),r([C],e)}(l.CxComponent);o.default=f,cc._RF.pop()},{"../../../../script/app/event/Notify":void 0,"../../../../script/lib/base/CxComponent":void 0,"../../../../script/lib/utils/ComUtils":void 0,"../../config/ClubDef":"ClubDef","../../config/ClubEvent":"ClubEvent","../../config/ClubI18n":"ClubI18n","../../logic/ClubHelper":"ClubHelper"}],ClubMemberList:[function(t,e,o){"use strict";cc._RF.push(e,"2700b9h4ZFIeYUXtPuxo68h","ClubMemberList");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../script/app/base/component/ComListView"),s=t("../../../../script/app/event/Notify"),l=t("../../../../script/app/view/ComFunctions"),p=t("../../../../script/lib/base/CxComponent"),c=t("../../config/ClubDef"),u=t("../../config/ClubEvent"),b=t("../../logic/ClubHelper"),h=t("./ClubMemberItem"),C=cc._decorator,d=C.ccclass,f=C.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollView=null,e.pfOutsideItem=null,e.pfInsideItem=null,e}return n(e,t),e.prototype.init=function(t){t&&t.clubInfo&&(this.clubInfo=t.clubInfo)},e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},e.prototype.listEvent=function(){return new Map([[u.ClubEvent.Member.UPDATE_MEMBER_LIST,this.onUpdateList],[u.ClubEvent.Member.ALTER_MEMBER,this.onAlterMember]])},e.prototype.start=function(){this.dispatch(s.Notify.Club.REQ_MEMBER_LIST,{clubId:this.clubInfo.ID})},e.prototype.updateView=function(){},e.prototype.onUpdateList=function(t){var e=this;l.ComFunctions.performWithDelay(this.node,function(){e.initScrollView(t)},.2)},e.prototype.initScrollView=function(t){var e=!1,o=this.pfOutsideItem;b.ClubHelper.isMeJoinedClub()&&b.ClubHelper.getClubInfo().ID===this.clubInfo.ID?(o=this.pfInsideItem,e=!0,b.ClubHelper.sortByOnlineState(t)):b.ClubHelper.sortByJob(t);var i={scrollView:this.scrollView,content:this.scrollView.content,itemPrefab:o,itemClass:h.default,dataList:t,dataEx:{clubInfo:this.clubInfo,listType:c.ClubConst.ListViewType.eMember,bMeInTheClub:e},space:6,top:0,bottom:0,createInterval:0},n=this.node.getComponent(a.ComListView);null==n&&(n=this.node.addComponent(a.ComListView)),n.initParams(i),n.initScrollView(!0)},e.prototype.onAlterMember=function(t){var e=t.userID,o=this.scrollView.content.getComponentsInChildren(h.default);if(o){var i=o.find(function(t){return t.memberInfo.userID==e});i&&i.initMemberInfo(t)}},r([f({type:cc.ScrollView,tooltip:"\u6210\u5458\u5217\u8868"})],e.prototype,"scrollView",void 0),r([f({type:cc.Node,tooltip:"\u5bf9\u5916\u6210\u5458\u5217\u8868item\u9884\u5236\u4f53"})],e.prototype,"pfOutsideItem",void 0),r([f({type:cc.Node,tooltip:"\u5bf9\u5185\u6210\u5458\u5217\u8868item\u9884\u5236\u4f53"})],e.prototype,"pfInsideItem",void 0),r([d],e)}(p.CxComponent);o.default=_,cc._RF.pop()},{"../../../../script/app/base/component/ComListView":void 0,"../../../../script/app/event/Notify":void 0,"../../../../script/app/view/ComFunctions":void 0,"../../../../script/lib/base/CxComponent":void 0,"../../config/ClubDef":"ClubDef","../../config/ClubEvent":"ClubEvent","../../logic/ClubHelper":"ClubHelper","./ClubMemberItem":"ClubMemberItem"}],ClubMsgHandler:[function(t,e,o){"use strict";cc._RF.push(e,"08af0XlDTpMbKtAP2etxjb2","ClubMsgHandler");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ClubMsgHandler=void 0;var r=t("../../../script/app/base/handler/ProxyHandler"),a=t("../../../script/plugin/pb/protofile/GlobalMsgDef"),s=t("../../../script/app/event/Notify"),l=t("../../../script/app/base/handler/HandlerMgr"),p=t("../../../script/app/model/DataProxy"),c=t("../../../script/lib/utils/ComUtils"),u=t("../config/ClubEvent"),b=t("../../../script/app/model/ClubDataProxy"),h=t("../model/ClubData"),C=t("../model/ClubMemberData"),d=t("../config/ClubDef"),f=t("../../../script/app/view/ComUI"),_=t("../../../script/lib/utils/Logger"),m=t("../../../script/app/event/GuiEvent"),y=t("../../../script/plugin/pb/protofile/CMD_ClubMsg"),g=t("../../../script/app/view/ComFunctions"),I=t("../config/ClubI18n"),v=t("../logic/ClubHelper"),w=t("../config/ClubSvrErrorTips"),R=y.CLUB_GAME_SUB_MSG,E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.SERVER_ID=192,e}return n(e,t),e.prototype.getName=function(){return"ClubMsgHandler"},e.prototype.regProto=function(t,e,o){return{protocol:t,subid:e,cb:o}},e.prototype.protocolConfig=function(){return[this.regProto(y.Msg_SC_RecomFamList,R.MSG_SC_USER_SENDRECOMFAMILIST,this.onRespRecommendClubList),this.regProto(y.Msg_SC_SendAllFamilies,R.MSG_SC_USER_SENDALLFAMILIES,this.onRespMyClubList),this.regProto(y.Msg_SC_SendCreamFamiliesResul,R.MSG_SC_USER_SENDCREAMFAMILIESRESUL,this.onRespCreateClub),this.regProto(y.Msg_SC_SendDelOrOutFamilies,R.MSG_SC_USER_SENDDELOROUTFAMILIES,this.onRespQuitClub),this.regProto(y.Msg_SC_SendDelOrOutFamilies,R.MSG_SC_USER_SENDFAMBOSSDISMISS,this.onRespDismissClub),this.regProto(y.MSG_SC_SendFamiliesSetUp,R.MSG_SC_USER_SENDFAMILIESSEUP,this.onRespSettingClubInfo),this.regProto(y.Msg_SC_FamiliesNotice,R.MSG_SC_USER_SENDFAMBOSSFAMILIEOP,this.onRespApplicationList),this.regProto(y.Msg_SC_StartFamMemberEnd,R.MSG_SC_USER_SENDFAMBOSSDELMEMBER_START,this.onStartSendMemberList),this.regProto(y.Msg_SC_StartFamMemberEnd,R.MSG_SC_USER_SENDFAMBOSSDELMEMBER_END,this.onEndSendMemberList),this.regProto(y.Msg_SC_SendFamiliesMember,R.MSG_SC_USER_NEW_SENDFAMILIESMEMBER,this.onRespClubMembers),this.regProto(y.Msg_SC_SendJionFamiliesResult,R.MSG_SC_USER_SENDFAMBOSSAGREE,this.onRespOpeNewMember),this.regProto(y.Msg_SC_SendFamBossOPMember,R.MSG_SC_USER_SENDFAMBOSSDELMEMBER,this.onRespChangeMemberJob),this.regProto(y.Msg_Families_OP,R.MSG_SC_USER_SENDOPUSERRESULT,this.onRtnNoticeBeOpt),this.regProto(y.Msg_SC_SendFamiliesData,R.MSG_SC_USER_SENDFAMILIEINFO,this.onRespSearchClub),this.regProto(y.Msg_SC_JionFamiliesResult,R.MSG_SC_USER_SENDJIONRESLUT,this.onRespRequestJoin),this.regProto(y.Msg_SC_SendFamBossJoin,R.MSG_SC_USER_SENDFAMBOSSJION,this.onNoticeNewMemberJoinClub),this.regProto(y.Msg_SC_SendJoinFamSuccess,R.MSG_SC_USER_SENDUSERJOINFAM,this.onNoticeJoinResult),this.regProto(y.Msg_SC_SendClubSysCfg,R.MSG_SC_USER_SENDCLUBSYSCFG,this.onRtnConfig),this.regProto(y.Msg_Families_Info,R.MSG_SC_USER_SENDFAMINFO,this.onRtnClubInfo),this.regProto(y.MSG_SC_SendClubSchedule,R.MSG_SC_SEND_CLUB_SCHEDULE,this.onRespClubBoxProgress),this.regProto(y.MSG_SC_SendMyRewardInfo,R.MSG_SC_SEND_MY_REWARD_INFO,this.onRespRewardInfo),this.regProto(y.MSG_SC_SendClubRank,R.MSG_SC_SEND_CLUB_RANK,this.onRespRankInfo),this.regProto(y.MSG_SC_SendMemberDonation,R.MSG_SC_SEND_MEMBERDONATION,this.onRespMemberDonation),this.regProto(y.MSG_SC_SendMyReward,R.MSG_SC_SEND_MY_REWARD,this.onRespRecvReward),this.regProto(y.MSG_SC_SendClubRewardInfo,R.MSG_SC_SEND_CLUB_REWARD_INFO,this.onRespWeekRewardInfo),this.regProto(y.MSG_SC_SendClubReward,R.MSG_SC_SEND_CLUB_REWARD,this.onRespRecvWeekReward),this.regProto(y.MSG_SC_SendEnterClubRewardInfo,R.MSG_SC_SEND_ENTER_CLUB_REWARD_INFO,this.onRespJoinClubRewardsCfg),this.regProto(y.MSG_SC_GetEnterClubReward,R.MSG_SC_SEND_ENTER_CLUB_REWARD,this.onRespRewardOfJoinClub)]},e.prototype.initEvent=function(){t.prototype.initEvent.call(this),this.addEvent(s.Notify.Gate.GATE_LOGIN_SUCCESS,this.onGateLoginSucc),this.addEvent(s.Notify.Club.REQ_RECOMMEND_CLUB_LIST,this.ReqRecommendClubList),this.addEvent(s.Notify.Club.REQ_SEARCH,this.ReqSearchClub),this.addEvent(s.Notify.Club.REQ_CREATE_CLUB,this.ReqCreateClub),this.addEvent(s.Notify.Club.REQ_JOIN,this.ReqJoinClub),this.addEvent(s.Notify.Club.REQ_LEAVE,this.ReqQuitClub),this.addEvent(s.Notify.Club.REQ_CLUB_INFO,this.ReqClubInfo),this.addEvent(s.Notify.Club.REQ_OPERATE_JOIN,this.ReqAccept),this.addEvent(s.Notify.Club.REQ_SETTING,this.ReqModifyClubInfo),this.addEvent(s.Notify.Club.REQ_APPLICATION_LSIT,this.ReqApplicationList),this.addEvent(s.Notify.Club.REQ_CHANGE_MEMBER_JOB,this.ReqChangeMemberJob),this.addEvent(s.Notify.Club.REQ_MY_CLUB,this.ReqMyClubList),this.addEvent(s.Notify.Club.REQ_MEMBER_LIST,this.ReqMemberList),this.addEvent(s.Notify.Club.REQ_CONFIG,this.ReqClubConfig),this.addEvent(s.Notify.Club.REQ_CLUB_BOX_PROGRESS,this.reqClubBoxProgress),this.addEvent(s.Notify.Club.REQ_CLUB_REWARD_INFO,this.reqRewardInfo),this.addEvent(s.Notify.Club.REQ_RANK_INFO,this.reqRankInfo),this.addEvent(s.Notify.Club.REQ_CLUB_DONATE_INFO,this.reqMemberDonation),this.addEvent(s.Notify.Club.REQ_RECV_CLUB_REWARD,this.reqRecvReward),this.addEvent(s.Notify.Club.REQ_WEEK_REWARD_INFO,this.reqWeekRewardInfo),this.addEvent(s.Notify.Club.REQ_RECV_WEEK_REWARD,this.reqRecvWeekReward),this.addEvent(s.Notify.Club.REQ_JOIN_CLUB_REWARD_PREVIEW,this.reqJoinClubRewardsPreview),this.addEvent(s.Notify.Club.REQ_RECV_REWARD_OF_JOIN_CLUB,this.reqRecvRewardOfJoinClub)},e.prototype.initSource=function(){t.prototype.initSource.call(this),p.DataProxy.getInstance().otherData.isGateConnected&&this.onGateLoginSucc()},Object.defineProperty(e.prototype,"clubData",{get:function(){return p.DataProxy.getInstance().club},enumerable:!1,configurable:!0}),e.prototype.onGateLoginSucc=function(){_.Logger.info("==== ClubMsgHandler onGateLoginSucc ==="),p.DataProxy.getInstance().club||(p.DataProxy.getInstance().club=new b.ClubDataProxy),p.DataProxy.getInstance().club.setClubData(new h.ClubData),p.DataProxy.getInstance().club.setMemberData(new C.ClubMemberData),this.requestBaseCfg()},e.prototype.requestBaseCfg=function(){this.ReqMyClubList(),this.ReqClubConfig(null),this.reqWeekRewardInfo(),this.reqJoinClubRewardsPreview()},e.prototype.getMainID=function(){return a.MAIN_MSG_ID.MAIN_MSG_CLUB_SERVER_ID},e.prototype.clear=function(){this.removeEvent()},e.prototype.getMsgHead=function(t,e){var o=t,i=void 0===e?o:e,n=new a.Msg_OtherServerHead;return n.dwGameID=o,n.dwGameTypeID=i,n.strUUID=this.userData.sessionId,n},e.prototype.ReqRecommendClubList=function(){var t=new y.Msg_CS_FamiliesID;t.dwFamID=0,this.sendRequest(t,this.getMainID(),R.MSG_CS_USER_GETRECOMFAMILIST,this.getMsgHead(this.SERVER_ID))},e.prototype.ReqSearchClub=function(t){var e=new y.Msg_CS_FamiliesData;e.dwFamID=t.clubId,e.chFamName=c.ComUtils.utf8StrToU8(t.clubName),this.sendRequest(e,this.getMainID(),R.MSG_CS_USER_GETFAMILIEINFO,this.getMsgHead(this.SERVER_ID))},e.prototype.ReqCreateClub=function(t){var e=new y.Msg_Families_Info;e.dwFamID=0,e.chFamName=c.ComUtils.utf8StrToU8(t.clubName),e.chFamNotice=c.ComUtils.utf8StrToU8(t.clubNotice),e.dwJoinType=t.joinType,e.dwDan=t.league,e.dwIconIndex=t.iconIdx||0,this.sendRequest(e,this.getMainID(),R.MSG_CS_USER_CREAMFAMILIES,this.getMsgHead(this.SERVER_ID))},e.prototype.ReqJoinClub=function(t){var e=new y.Msg_CS_JionFamilies;e.dwFamID=t.clubId,e.dwIntorducerID=0,e.dwJoinUserID=p.DataProxy.getInstance().userData.userId,e.dwType=0,this.sendRequest(e,this.getMainID(),R.MSG_CS_USER_JIONFAMILIES,this.getMsgHead(this.SERVER_ID))},e.prototype.ReqQuitClub=function(t){var e=new y.Msg_CS_FamiliesID;e.dwFamID=t.clubId,this.sendRequest(e,this.getMainID(),R.MSG_CS_USER_DELOROUTFAMILIES,this.getMsgHead(this.SERVER_ID))},e.prototype.ReqClubInfo=function(t){var e=new y.Msg_CS_FamiliesID;e.dwFamID=t.clubId,this.sendRequest(e,this.getMainID(),R.MSG_CS_USER_GETFAMINFO,this.getMsgHead(this.SERVER_ID))},e.prototype.ReqModifyClubInfo=function(t){var e=new y.Msg_CS_FamiliesSetUp;e.dwFamID=t.clubId,e.dwJoinType=t.joinType,e.dwDan=t.league,e.dwIconIndex=t.iconId,e.chFamNotice=c.ComUtils.utf8StrToU8(t.clubNotice),this.sendRequest(e,this.getMainID(),R.MSG_CS_USER_FAMILIESSETUP,this.getMsgHead(this.SERVER_ID))},e.prototype.ReqApplicationList=function(t){var e=new y.Msg_CS_FamiliesID;e.dwFamID=t.clubId,this.sendRequest(e,this.getMainID(),R.MSG_CS_USER_GETFAMILIESNOTICE,this.getMsgHead(this.SERVER_ID))},e.prototype.ReqAccept=function(t){var e=new y.Msg_CS_JionFamiliesResult;e.dwFamID=t.clubId,e.dwFamBoosID=this.userData.userId,e.dwJoinUserID=t.userId,e.dwStatus=t.opeCode,this.sendRequest(e,this.getMainID(),R.MSG_CS_USER_FAMBOSSAGREENOTICE,this.getMsgHead(this.SERVER_ID))},e.prototype.ReqChangeMemberJob=function(t){var e=new y.Msg_CS_FamBossOpMember;e.opType=new y.Msg_Families_OP,e.opType.dwFamID=t.clubId,e.opType.dwOpMemberID=t.opUserId,e.opType.dwTpye=t.opType,e.opType.dwOPUserID=this.userData.userId,e.opType.dwIdentity=t.job||d.ClubConst.Job.eMember,this.sendRequest(e,this.getMainID(),R.MSG_CS_USER_FAMBOSSDELMEMBER,this.getMsgHead(this.SERVER_ID))},e.prototype.ReqMyClubList=function(){this.sendRequest(null,this.getMainID(),R.MSG_CS_USER_GETALLFAMILIES,this.getMsgHead(this.SERVER_ID))},e.prototype.ReqMemberList=function(t){var e=new y.Msg_CS_FamiliesID;e.dwFamID=t.clubId,this.sendRequest(e,this.getMainID(),R.MSG_CS_USER_NEW_GETFAMILIESMEMBER,this.getMsgHead(this.SERVER_ID))},e.prototype.ReqClubConfig=function(){this.sendRequest(null,this.getMainID(),R.MSG_CS_USER_GETCLUBSYSCFG,this.getMsgHead(this.SERVER_ID))},e.prototype.onRespRecommendClubList=function(t){var e=t.data,o=this.clubData.getClubData().parseToRecomClubList(e.refamlist);this.dispatch(s.Notify.Club.RESP_RECOMMEND_CLUB_LIST,o)},e.prototype.onRespMyClubList=function(t){var e=t.data;if(!cc.js.isEmptyObject(e.fam_info)){this.clubData.getClubData().parseToMyClubList(e.fam_info);var o=this.clubData.getClubData().getMyClub();this.dispatch(s.Notify.Club.RESP_MY_CLUB,o),this.dispatch(u.ClubEvent.Base.UPDATE_CLUB,o)}},e.prototype.onRespCreateClub=function(t){var e=t.data;if(e.bIsTag){this.clubData.getClubData().parseToMyClubList([e.fam_info]);var o=this.clubData.getClubData().getMyClub();this.dispatch(u.ClubEvent.Base.CREATE_SUCC,o),this.dispatch(u.ClubEvent.Base.UPDATE_CLUB,o)}else w.ClubSvrErrorTips.toastTips(w.ClubSvrErrorTips.clubErrCodeCfg.createClub,e.dwERRCode)},e.prototype.onRespQuitClub=function(t){var e=t.data;this.dispatch(s.Notify.Club.RESP_LEAVE,e.dwFamID),e.bIsResul?(this.clubData.getClubData().parseToMyClubList([]),this.dispatch(u.ClubEvent.Base.LEAVE_SUCC),this.dispatch(u.ClubEvent.Home.DEL_CLUB,e.dwFamID)):w.ClubSvrErrorTips.toastTips(w.ClubSvrErrorTips.clubErrCodeCfg.quitClub)},e.prototype.onRespDismissClub=function(t){var e=t.data;this.dispatch(s.Notify.Club.RESP_LEAVE,e.dwFamID),e.bIsResul&&(this.clubData.getClubData().parseToMyClubList([]),this.dispatch(u.ClubEvent.Base.LEAVE_SUCC),this.dispatch(u.ClubEvent.Home.DEL_CLUB,e.dwFamID),w.ClubSvrErrorTips.toastTips(w.ClubSvrErrorTips.clubErrCodeCfg.dismissClub))},e.prototype.onRespSettingClubInfo=function(t){var e=t.data;if(0===e.dwERRCode){this.dispatch(s.Notify.Club.RESP_SETTING,e);var o=this.clubData.getClubData().getMyClub();o&&(o.notice=c.ComUtils.u8ToUTF8Str(e.chFamNotice),o.agreeType=e.dwJoinType,o.iconId=e.dwIconIndex,o.condition=e.dwDan),this.dispatch(u.ClubEvent.Base.UPDATE_CLUB,o)}},e.prototype.onRespApplicationList=function(t){var e=t.data,o=this.clubData.getMemberData().parseApplyList(e);this.dispatch(u.ClubEvent.Member.UPDATE_APPLY_LIST,o),this.dispatch(u.ClubEvent.Base.UPDATE_RED_DOT,{clubId:e.dwFamID,type:1,count:this.clubData.getMemberData().noticeCount(e.dwFamID)})},e.prototype.onStartSendMemberList=function(t){var e=t.data;this.clubData.getMemberData().clearMembers(e.dwFamID)},e.prototype.onEndSendMemberList=function(t){var e=t.data,o=this.clubData.getMemberData().getMembers(e.dwFamID);this.dispatch(u.ClubEvent.Member.UPDATE_MEMBER_LIST,o),this.clubData.getClubData().getMyClub()&&this.dispatch(u.ClubEvent.Member.ONLINE_PEOPLE,{memberNum:o.length,total:v.ClubHelper.getClubMemberCapacity()})},e.prototype.onRespClubMembers=function(t){var e=t.data;this.clubData.getMemberData().parseMemberList(e)},e.prototype.onRespOpeNewMember=function(t){var e=t.data;if(!1!==e.bISResul){var o=e.dwFamID,i=new d.ClubApplyItem({joinUserId:e.dwJoinUserID,reviewState:e.dwStatus}),n=this.clubData.getMemberData().alterApplyItem(o,i);this.dispatch(u.ClubEvent.Member.ALTER_APPLY,n),e.dwStatus==d.ClubConst.ReviewState.AGREE&&this.dispatch(s.Notify.Club.REQ_MEMBER_LIST,{clubId:o}),this.dispatch(u.ClubEvent.Base.UPDATE_RED_DOT,{clubId:e.dwFamID,type:1,count:this.clubData.getMemberData().noticeCount(e.dwFamID)})}else w.ClubSvrErrorTips.toastTips(w.ClubSvrErrorTips.clubErrCodeCfg.OprateJoin,e.dwERRCode)},e.prototype.onRespChangeMemberJob=function(t){var e=t.data;if(this.dispatch(s.Notify.Club.RESP_CHANGE_MEMBER_JOB,e),w.ClubSvrErrorTips.toastTips(w.ClubSvrErrorTips.clubErrCodeCfg.jobChange,e.dwERRCode),e.opType){var o=e.opType.dwFamID,i=e.opType.dwOpMemberID,n=this.clubData.getMemberData(),r=this.clubData.getClubData(),a=n.findMemberById(o,i);if(a)if(a.job=e.opType.dwIdentity,e.opType.dwTpye==d.ClubConst.OpMember.DEL){n.delMemberItem(o,i);var l=n.getMembers(o);this.dispatch(u.ClubEvent.Member.UPDATE_MEMBER_LIST,l);var p=r.getMyClub();p.memberNum--,a.onlineState==d.ClubConst.OnlineState.ONLINE&&p.onlinePeople--,this.dispatch(u.ClubEvent.Member.ONLINE_PEOPLE,{memberNum:l.length,total:v.ClubHelper.getClubMemberCapacity()})}else this.dispatch(u.ClubEvent.Member.ALTER_MEMBER,a)}},e.prototype.onRtnNoticeBeOpt=function(t){var e=t.data,o=e.dwFamID,i=e.dwOpMemberID,n=this.clubData.getMemberData(),r=this.clubData.getClubData();if(e.dwTpye==d.ClubConst.OpMember.DEL)i==p.DataProxy.getInstance().userData.userId&&(r.parseToMyClubList([]),w.ClubSvrErrorTips.toastTips(w.ClubSvrErrorTips.clubErrCodeCfg.dismissClub),this.dispatch(u.ClubEvent.Base.LEAVE_SUCC));else{var a=n.findMemberById(o,i);a&&(a.job=e.dwIdentity,this.dispatch(u.ClubEvent.Member.ALTER_MEMBER,a))}},e.prototype.onRespSearchClub=function(t){var e=t.data;if(e.bIsTag){var o=this.clubData.getClubData().parseSearchClub(e.fam_info);this.dispatch(s.Notify.Club.RESP_SEARCH,o)}else this.dispatch(s.Notify.Club.RESP_SEARCH,[]),f.ComUI.showToast(I.ClubI18n.i18n.recomm_search_nothing,1,2)},e.prototype.onRespRequestJoin=function(t){var e=t.data;e.bIsResult?this.ReqMyClubList():w.ClubSvrErrorTips.toastTips(w.ClubSvrErrorTips.clubErrCodeCfg.reqJoin,e.dwERRCode)},e.prototype.onNoticeNewMemberJoinClub=function(t){var e=t.data,o=e.dwFamID,i=new d.ClubApplyItem({joinUserId:e.dwFamID,reviewState:e.dwType});this.clubData.getMemberData().alterApplyItem(o,i),this.dispatch(u.ClubEvent.Base.UPDATE_RED_DOT,{clubId:e.dwFamID,type:e.dwType,count:1})},e.prototype.onNoticeJoinResult=function(t){var e=t.data;w.ClubSvrErrorTips.toastTips(w.ClubSvrErrorTips.clubErrCodeCfg.joinSucc);var o=e.fam_info;o&&(this.clubData.getClubData().parseToMyClubList([o]),this.dispatch(u.ClubEvent.Base.JOIN_SUCC)),this.ReqMyClubList(),this.dispatch(s.Notify.UserInfo.GET_USER_INFO)},e.prototype.onRtnConfig=function(t){var e=t.data;this.clubData.getClubData().parseClubCfg(e)},e.prototype.onRtnClubInfo=function(t){var e=t.data;if(e){var o=this.clubData.getClubData().parseClubInfo(e);this.dispatch(m.GuiEvent.Club.DISPLAY_CLUB_INFO,{clubInfo:o})}},e.prototype.reqClubBoxProgress=function(){this.sendRequest(null,this.getMainID(),R.MSG_CS_GET_CLUB_SCHEDULE,this.getMsgHead(this.SERVER_ID))},e.prototype.onRespClubBoxProgress=function(t){var e=t.data;this.dispatch(s.Notify.Club.RESP_CLUB_BOX_PROGRESS,e)},e.prototype.reqRewardInfo=function(){this.sendRequest(null,this.getMainID(),R.MSG_CS_GET_MY_REWARD_INFO,this.getMsgHead(this.SERVER_ID))},e.prototype.onRespRewardInfo=function(t){var e=t.data;this.clubData.setClubChestListData(e),this.dispatch(s.Notify.Club.RESP_CLUB_REWARD_INFO,e)},e.prototype.reqRankInfo=function(){this.sendRequest(null,this.getMainID(),R.MSG_CS_GET_CLUB_RANK,this.getMsgHead(this.SERVER_ID))},e.prototype.onRespRankInfo=function(t){var e=t.data;this.clubData.setClubRankData(e),this.dispatch(s.Notify.Club.RESP_RANK_INFO,e)},e.prototype.reqMemberDonation=function(t){var e=new y.MSG_CS_GetMemberDonation;e.dwType=t,this.sendRequest(e,this.getMainID(),R.MSG_CS_GET_MEMBERDONATION,this.getMsgHead(this.SERVER_ID))},e.prototype.onRespMemberDonation=function(t){var e=t.data;this.clubData.setMemberDonationRankData(e),this.dispatch(s.Notify.Club.RESP_CLUB_DONATE_INFO,e)},e.prototype.reqRecvReward=function(t){var e=new y.MSG_CS_GetMyReward;e.dwBoxId=t,this.sendRequest(e,this.getMainID(),R.MSG_CS_GET_MY_REWARD,this.getMsgHead(this.SERVER_ID))},e.prototype.onRespRecvReward=function(t){var e=t.data;0==e.dwErro&&(this.dispatch(s.Notify.Club.RESP_RECV_CLUB_REWARD,e),this.reqRewardInfo(),this.reqClubBoxProgress())},e.prototype.reqWeekRewardInfo=function(){this.sendRequest(null,this.getMainID(),R.MSG_CS_GET_CLUB_REWARD_INFO,this.getMsgHead(this.SERVER_ID))},e.prototype.onRespWeekRewardInfo=function(t){var e=t.data;this.clubData.setWeeklyReward(e),this.dispatch(s.Notify.Club.RESP_WEEK_REWARD_INFO,e)},e.prototype.reqRecvWeekReward=function(){this.reqMemberDonation(d.ClubConst.eDonationReqType.lastWeek),this.sendRequest(null,this.getMainID(),R.MSG_CS_GET_CLUB_REWARD,this.getMsgHead(this.SERVER_ID))},e.prototype.onRespRecvWeekReward=function(t){var e=this,o=t.data,i={};i.dwError=o.dwErro,i.clickCallBack=function(){e.dispatch(m.GuiEvent.Club.DISPLAY_WEEKLY_DOATION_LIST_VIEW)},o.boxreward&&(i.rewardList=g.ComFunctions.parseTableReward(o.boxreward.reward)),this.dispatch(m.GuiEvent.PopMsg.SHOW_TABLE_BOX_REWARD,i),this.reqWeekRewardInfo()},e.prototype.reqJoinClubRewardsPreview=function(){this.sendRequest(null,this.getMainID(),R.MSG_CS_GET_ENTER_CLUB_REWARD_INFO,this.getMsgHead(this.SERVER_ID))},e.prototype.onRespJoinClubRewardsCfg=function(t){var e=t.data;this.clubData.setRewardCfgOfJoinClub(e),this.dispatch(s.Notify.Club.RESP_JOIN_CLUB_REWARD_PREVIEW)},e.prototype.reqRecvRewardOfJoinClub=function(){this.sendRequest(null,this.getMainID(),R.MSG_CS_GET_ENTER_CLUB_REWARD,this.getMsgHead(this.SERVER_ID))},e.prototype.onRespRewardOfJoinClub=function(t){var e=t.data;this.reqJoinClubRewardsPreview();var o={};o.dwError=e.dwErro,o.rewardList=g.ComFunctions.parseTableReward(e.reward),this.dispatch(m.GuiEvent.PopMsg.SHOW_TABLE_BOX_REWARD,o)},e}(r.ProxyHandler);o.ClubMsgHandler=E,l.HandlerMgr.getInstance().addSubHandler(new E),cc._RF.pop()},{"../../../script/app/base/handler/HandlerMgr":void 0,"../../../script/app/base/handler/ProxyHandler":void 0,"../../../script/app/event/GuiEvent":void 0,"../../../script/app/event/Notify":void 0,"../../../script/app/model/ClubDataProxy":void 0,"../../../script/app/model/DataProxy":void 0,"../../../script/app/view/ComFunctions":void 0,"../../../script/app/view/ComUI":void 0,"../../../script/lib/utils/ComUtils":void 0,"../../../script/lib/utils/Logger":void 0,"../../../script/plugin/pb/protofile/CMD_ClubMsg":void 0,"../../../script/plugin/pb/protofile/GlobalMsgDef":void 0,"../config/ClubDef":"ClubDef","../config/ClubEvent":"ClubEvent","../config/ClubI18n":"ClubI18n","../config/ClubSvrErrorTips":"ClubSvrErrorTips","../logic/ClubHelper":"ClubHelper","../model/ClubData":"ClubData","../model/ClubMemberData":"ClubMemberData"}],ClubPopupMgr:[function(t,e,o){"use strict";cc._RF.push(e,"220e56BqDlPmYaTP6yps+BJ","ClubPopupMgr");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ClubPopupMgr=void 0;var a=t("./../../../script/app/base/ComPopupMgr"),s=t("./../../../script/app/const/Global"),l=t("../../../script/app/event/GuiEvent"),p=t("../../../script/app/base/BasePopupMr"),c=t("../config/ClubUIConfig"),u=t("../config/ClubEvent"),b=t("../../../script/app/event/Notify"),h=t("../../../script/lib/manager/PrefabItemMgr"),C=t("../../../script/app/model/DataProxy"),d=cc._decorator,f=d.ccclass,_=(d.property,d.requireComponent),m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.initEvent=function(){t.prototype.initEvent.call(this),this.bindEvent(l.GuiEvent.Club.DISPLAY_CLUB_CREATE_VIEW,this.onDisplayClubCreateView),this.bindEvent(l.GuiEvent.Club.DISPLAY_CLUB_INFO,this.onDisplayClubInfo),this.bindEvent(l.GuiEvent.Club.DISPLAY_CLUB_ICON_CHANGE_VIEW,this.onDisplayClubIconChangeView),this.bindEvent(l.GuiEvent.Club.DISPLAY_CLUB_SETTING_VIEW,this.onDisplayClubSettingView),this.bindEvent(l.GuiEvent.Club.DISPLAY_CLUB_APPLICATION_VIEW,this.onDisplayClubApplicationView),this.bindEvent(l.GuiEvent.Club.DISPLAY_CHEST_LIST_VIEW,this.onDisplayChestListView),this.bindEvent(l.GuiEvent.Club.DISPLAY_WEEKLY_DOATION_LIST_VIEW,this.onDisplayWeeklyDonationListView),this.bindEvent(l.GuiEvent.Club.DISPLAY_WEEKLY_REWARD_SIMPLE_VIEW,this.onDisplayWeeklyRewardSimpleView),this.bindEvent(l.GuiEvent.Club.DISPLAY_CLUB_GUIDE_VIEW,this.onDisplayClubGuideView),this.bindEvent(l.GuiEvent.Club.DISPLAY_WELCOME_VIEW,this.onDisplayClubWelcomeView),this.bindEvent(u.ClubEvent.Popup.MEMBER_MENU,this.doMemberOptMenu),this.bindEvent(b.Notify.IM.POP_HELP_REWARD,this.doHelpReward),this.bindEvent(b.Notify.IM.POP_CHOOSE_TABLE,this.onChooseTable),this.bindEvent(b.Notify.IM.POP_CHOOSE_CHIP,this.onChooseTableChip),this.bindEvent(b.Notify.IM.POP_RECORDER,this.onPopRecorder)},e.prototype.onCloseAll=function(){this.popupLoader.closeAll()},e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},e.prototype.isInClubView=function(){return C.DataProxy.getInstance().comData.getLobbySubViewType()===s.gLobbySubView.Club},e.prototype.onDisplayClubCreateView=function(t){var e=c.ClubUIConfig.popup.ClubCreateOrSetView;this.popupLoader.showPopup(e,s.gAssetBundleName.CLUB_RES,t)},e.prototype.onDisplayClubInfo=function(t){if(this.isInClubView()){var e=c.ClubUIConfig.popup.ClubInfoView;this.popupLoader.showPopup(e,s.gAssetBundleName.CLUB_RES,t)}},e.prototype.onDisplayClubIconChangeView=function(t){var e=c.ClubUIConfig.popup.ClubIconChangeView;this.popupLoader.showPopup(e,s.gAssetBundleName.CLUB_RES,t)},e.prototype.onDisplayClubSettingView=function(t){var e=c.ClubUIConfig.popup.ClubCreateOrSetView;this.popupLoader.showPopup(e,s.gAssetBundleName.CLUB_RES,t)},e.prototype.onDisplayClubApplicationView=function(t){var e=c.ClubUIConfig.popup.ClubApplicationView;this.popupLoader.showPopup(e,s.gAssetBundleName.CLUB_RES,t)},e.prototype.doMemberOptMenu=function(t){var e=c.ClubUIConfig.popup.ClubMbOptMenu;this.popupLoader.showPopup(e,s.gAssetBundleName.CLUB_RES,t)},e.prototype.doHelpReward=function(t){var e=h.PrefabItemMgr.getInstance().get("IMHelpRewardDlg",s.gAssetBundleName.IM_RES);this.popupLoader.showPopup(e,s.gAssetBundleName.IM_RES,t)},e.prototype.onChooseTable=function(t){var e=h.PrefabItemMgr.getInstance().get("IMChooseTableView",s.gAssetBundleName.IM_RES);this.popupLoader.showPopup(e,s.gAssetBundleName.IM_RES,t)},e.prototype.onChooseTableChip=function(t){var e=h.PrefabItemMgr.getInstance().get("IMChooseChipView",s.gAssetBundleName.IM_RES);this.popupLoader.showPopup(e,s.gAssetBundleName.IM_RES,t)},e.prototype.onPopRecorder=function(t){var e=h.PrefabItemMgr.getInstance().get("IMRecordVoice",s.gAssetBundleName.IM_RES);this.popupLoader.showPopup(e,s.gAssetBundleName.IM_RES,t)},e.prototype.onDisplayChestListView=function(t){var e=c.ClubUIConfig.popup.ClubChestListView;this.popupLoader.showPopup(e,s.gAssetBundleName.CLUB_RES,t)},e.prototype.onDisplayWeeklyDonationListView=function(t){var e=c.ClubUIConfig.popup.ClubWeeklyPrizeListView;this.popupLoader.showPopup(e,s.gAssetBundleName.CLUB_RES,t)},e.prototype.onDisplayWeeklyRewardSimpleView=function(t){var e=c.ClubUIConfig.popup.ClubWeeklyRewardSimpleView;this.popupLoader.showPopup(e,s.gAssetBundleName.CLUB_RES,t)},e.prototype.onDisplayClubGuideView=function(t){var e=c.ClubUIConfig.popup.ClubGuideView;this.popupLoader.showPopup(e,s.gAssetBundleName.CLUB_RES,t)},e.prototype.onDisplayClubWelcomeView=function(t){var e=c.ClubUIConfig.popup.ClubWelcomView;this.popupLoader.showPopup(e,s.gAssetBundleName.CLUB_RES,t)},r([f,_(a.ComPopupMgr)],e)}(p.BasePopupMr);o.ClubPopupMgr=m,cc._RF.pop()},{"../../../script/app/base/BasePopupMr":void 0,"../../../script/app/event/GuiEvent":void 0,"../../../script/app/event/Notify":void 0,"../../../script/app/model/DataProxy":void 0,"../../../script/lib/manager/PrefabItemMgr":void 0,"../config/ClubEvent":"ClubEvent","../config/ClubUIConfig":"ClubUIConfig","./../../../script/app/base/ComPopupMgr":void 0,"./../../../script/app/const/Global":void 0}],ClubRankEntry:[function(t,e,o){"use strict";cc._RF.push(e,"ededfjwj9RCbIxXsVSJ289g","ClubRankEntry");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ClubRankEntry=void 0;var a,s=t("../../../../script/app/model/DataProxy"),l=t("../../../../script/lib/base/Binder"),p=t("../../config/ClubI18n"),c=t("./ClubRankMainView");(function(t){t[t.clubView=0]="clubView",t[t.donationView=1]="donationView"})(a||(a={}));var u=cc._decorator,b=u.ccclass,h=u.property,C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spBg=null,e.btnBox=null,e.btnMyRank=null,e.btnClubRank=null,e.progressBar=null,e.labClaim=null,e.ndRedPot=null,e.ndWhat=null,e.SpFrameComplete=null,e.SpFrameInProgress=null,e.pfRankMainView=null,e}return n(e,t),e.prototype.getLogicName=function(){return"LClubRankEntry"},e.prototype.getLogic=function(){return this._logic},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.btnBox&&this.btnBox.node.on("click",this.onClickBox,this),this.btnMyRank&&this.btnMyRank.node.on("click",this.onClickMyRank,this),this.btnClubRank&&this.btnClubRank.node.on("click",this.onClickClubRank,this)},e.prototype.multiLanguage=function(){this.labClaim&&(this.labClaim.language=p.ClubI18n.makeLanguage(p.IClubI18n.k.club_com_claim))},e.prototype.onEnable=function(){this.getLogic().reqEntryData(),this.multiLanguage()},e.prototype.onClickBox=function(){this.getLogic().reqClubTaskData()},e.prototype.onClickMyRank=function(){this.showRankMainView(a.donationView)},e.prototype.onClickClubRank=function(){this.showRankMainView(a.clubView)},e.prototype.onProgressInfo=function(t){this.progressBar&&(this.progressBar.node.active=!t.bGetReward),t.bGetReward?this.setCanClaim():(this.setInProgress(),this.updateProgress(t.dwNowSchedule,t.dwAllSchedule))},e.prototype.onTaskRewardInfo=function(){var t=s.DataProxy.getInstance().club;this.setCanClaimCount(t.getCanRecvTaskCount()),this.showWhatTag(t.isAllTaskComplete())},e.prototype.onClubRankInfo=function(){var t=s.DataProxy.getInstance().club;this.setClubRankVisible(t.isInRank()),this.setMyRankVisible(!t.isInRank()),this.setClubRank(t.getMyClubRankOrder())},e.prototype.onMemberDonationInfo=function(){var t=s.DataProxy.getInstance().club;this.setMyRank(t.getMyDonationRankOrder())},e.prototype.updateProgress=function(t,e){if(this.progressBar){this.progressBar.progress=t/e;var o=this.progressBar.getComponentInChildren(cc.Label);o&&(o.string=t+"/"+e)}},e.prototype.setCanClaimCount=function(t){if(this.ndRedPot){var e=this.ndRedPot.getComponentInChildren(cc.Label);e&&(e.string=t.toString()),this.ndRedPot.active=t>0}},e.prototype.setCanClaim=function(){this.spBg&&(this.spBg.spriteFrame=this.SpFrameComplete),this.labClaim&&(this.labClaim.node.active=!0)},e.prototype.setInProgress=function(){this.spBg&&(this.spBg.spriteFrame=this.SpFrameInProgress),this.labClaim&&(this.labClaim.node.active=!1)},e.prototype.showWhatTag=function(t){this.ndWhat&&(this.ndWhat.active=t)},e.prototype.setMyRank=function(t){if(this.btnMyRank){var e=this.btnMyRank.getComponentInChildren(cc.Label);e&&(e.string=t.toString())}},e.prototype.setClubRank=function(t){if(this.btnClubRank){var e=this.btnClubRank.getComponentInChildren(cc.Label);e&&(e.string=t.toString())}},e.prototype.setMyRankVisible=function(t){this.btnMyRank&&(this.btnMyRank.node.active=t)},e.prototype.setClubRankVisible=function(t){this.btnClubRank&&(this.btnClubRank.node.active=t)},e.prototype.showRankMainView=function(t){var e=this.node.parent.parent;if(e){var o=e.getChildByName("rankView");if(o)return;this.pfRankMainView&&(o=cc.instantiate(this.pfRankMainView))&&e.addChild(o,1,"rankView");var i=o.getComponent(c.ClubRankMainView);i&&(t==a.clubView?i.switch2ClubRankView():i.switch2DonationRankView())}},e.prototype.onDisable=function(){var t=this.node.parent.parent;if(t){var e=t.getChildByName("rankView");e&&e.destroy()}},r([h({type:cc.Sprite,tooltip:"\u80cc\u666f"})],e.prototype,"spBg",void 0),r([h({type:cc.Button,tooltip:"\u5b9d\u7bb1\u6309\u94ae"})],e.prototype,"btnBox",void 0),r([h({type:cc.Button,tooltip:"\u6211\u7684\u6350\u732e\u6392\u540d\u6309\u94ae"})],e.prototype,"btnMyRank",void 0),r([h({type:cc.Button,tooltip:"\u4ff1\u4e50\u90e8\u6392\u540d\u6309\u94ae"})],e.prototype,"btnClubRank",void 0),r([h({type:cc.ProgressBar,tooltip:"\u8fdb\u5ea6\u6761"})],e.prototype,"progressBar",void 0),r([h({type:cc.Label,tooltip:"claim"})],e.prototype,"labClaim",void 0),r([h({type:cc.Node,tooltip:"\u7ea2\u70b9"})],e.prototype,"ndRedPot",void 0),r([h({type:cc.Node,tooltip:"\u95ee\u53f7"})],e.prototype,"ndWhat",void 0),r([h({type:cc.SpriteFrame,tooltip:"\u8fdb\u5ea6\u6ee1\u4e86\u65f6\u7684\u80cc\u666f\u56fe\u7247"})],e.prototype,"SpFrameComplete",void 0),r([h({type:cc.SpriteFrame,tooltip:"\u8fdb\u884c\u65f6\u7684\u80cc\u666f\u56fe\u7247"})],e.prototype,"SpFrameInProgress",void 0),r([h({type:cc.Prefab,tooltip:"\u6392\u540d\u5217\u8868\u4e3b\u9875"})],e.prototype,"pfRankMainView",void 0),r([b],e)}(l.BaseUI);o.ClubRankEntry=C,cc._RF.pop()},{"../../../../script/app/model/DataProxy":void 0,"../../../../script/lib/base/Binder":void 0,"../../config/ClubI18n":"ClubI18n","./ClubRankMainView":"ClubRankMainView"}],ClubRankListItem:[function(t,e,o){"use strict";cc._RF.push(e,"18100jyh35JVITFve5NiVCS","ClubRankListItem");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ClubRankListItem=void 0;var a=t("../../../../script/app/event/GuiEvent"),s=t("../../../../script/app/event/Notify"),l=t("../../../../script/app/model/DataProxy"),p=t("../../../../script/app/view/ComUI"),c=t("../../../../script/lib/base/CxComponent"),u=t("../../../../script/lib/utils/ComUtils"),b=cc._decorator,h=b.ccclass,C=b.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spBg=null,e.btnBox=null,e.spIcon=null,e.atlasIcons=null,e.labClubName=null,e.labDonation=null,e.labOrder=null,e.spOrder=null,e.framesOrder=[],e.bgMyClub=null,e.bgOtherClub=null,e.colorMyClub=new cc.Color,e.colorOtherClub=new cc.Color,e.mItemData=null,e}return n(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.btnBox&&this.btnBox.node.on("click",this.onClickBox,this),this.node&&this.node.on("click",this.onClickItem,this)},e.prototype.listEvent=function(){return new Map([])},e.prototype.updateItem=function(t,e){var o=e;this.mItemData=o,this.setClubName(u.ComUtils.u8ToUTF8Str(o.chFamName)),this.setClubIcon(o.dwIconIndex||1),this.setDonation(o.lDonation),this.setRankOrder(t+1),this.updateColor()},e.prototype.onClickBox=function(){var t=this.btnBox.node.convertToWorldSpaceAR(cc.v2(0,0));this.dispatch(a.GuiEvent.Club.DISPLAY_CLUB_REWARD_PREVIEW,{pos:t,rewards:this.mItemData.reward})},e.prototype.onClickItem=function(){this.dispatch(s.Notify.Club.REQ_CLUB_INFO,{clubId:this.mItemData.dwClubId})},e.prototype.setRankOrder=function(t){this.spOrder.node.active=!1,this.labOrder.node.active=!1;var e=this.framesOrder[t-1];e?this.spOrder&&(this.spOrder.node.active=!0,this.spOrder.spriteFrame=e):this.labOrder&&(this.labOrder.node.active=!0,this.labOrder.string=t.toString())},e.prototype.setClubIcon=function(t){this.spIcon&&(this.spIcon.spriteFrame=p.ComUI.getClubIcon(this.atlasIcons,t))},e.prototype.setClubName=function(t){this.labClubName&&(this.labClubName.string=t)},e.prototype.setDonation=function(t){this.labDonation&&(this.labDonation.string=t.toString())},e.prototype.updateColor=function(){var t=l.DataProxy.getInstance().club.getClubData().getMyClub();this.mItemData.dwClubId==t.ID?(this.spBg.spriteFrame=this.bgMyClub,this.labClubName.node.color=this.colorMyClub,this.labDonation.node.color=this.colorMyClub):(this.spBg.spriteFrame=this.bgOtherClub,this.labClubName.node.color=this.colorOtherClub,this.labDonation.node.color=this.colorOtherClub)},r([C({type:cc.Sprite,tooltip:"\u80cc\u666f"})],e.prototype,"spBg",void 0),r([C({type:cc.Button,tooltip:"\u5b9d\u7bb1\u6309\u94ae"})],e.prototype,"btnBox",void 0),r([C({type:cc.Sprite,tooltip:"\u4ff1\u4e50\u90e8\u56fe\u6807"})],e.prototype,"spIcon",void 0),r([C({type:cc.SpriteAtlas,tooltip:"\u4ff1\u4e50\u90e8\u56fe\u6807\u56fe\u96c6 "})],e.prototype,"atlasIcons",void 0),r([C({type:cc.Label,tooltip:"\u4ff1\u4e50\u90e8\u540d\u79f0"})],e.prototype,"labClubName",void 0),r([C({type:cc.Label,tooltip:"\u6350\u732e\u603b\u6570\u91cf"})],e.prototype,"labDonation",void 0),r([C({type:cc.Label,tooltip:"\u6392\u540d\u5e8f\u53f7"})],e.prototype,"labOrder",void 0),r([C({type:cc.Sprite,tooltip:"\u6392\u540d\u5e8f\u53f7"})],e.prototype,"spOrder",void 0),r([C({type:cc.SpriteFrame,tooltip:"\u6392\u540d\u56fe\u7247\u96c6"})],e.prototype,"framesOrder",void 0),r([C({type:cc.SpriteFrame,tooltip:"\u6211\u7684\u4ff1\u4e50\u90e8\u7684\u80cc\u666f\u56fe\u7247"})],e.prototype,"bgMyClub",void 0),r([C({type:cc.SpriteFrame,tooltip:"\u5176\u4ed6\u4ff1\u4e50\u90e8\u7684\u80cc\u666f\u56fe\u7247"})],e.prototype,"bgOtherClub",void 0),r([C({tooltip:"\u6211\u7684\u4ff1\u4e50\u90e8\u7684\u5b57\u4f53\u989c\u8272"})],e.prototype,"colorMyClub",void 0),r([C({tooltip:"\u5176\u4ed6\u4ff1\u4e50\u90e8\u7684\u5b57\u4f53\u989c\u8272"})],e.prototype,"colorOtherClub",void 0),r([h],e)}(c.CxComponent);o.ClubRankListItem=d,cc._RF.pop()},{"../../../../script/app/event/GuiEvent":void 0,"../../../../script/app/event/Notify":void 0,"../../../../script/app/model/DataProxy":void 0,"../../../../script/app/view/ComUI":void 0,"../../../../script/lib/base/CxComponent":void 0,"../../../../script/lib/utils/ComUtils":void 0}],ClubRankList:[function(t,e,o){"use strict";cc._RF.push(e,"13669G/s/xM1JU74UdsI/X3","ClubRankList");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ClubRankList=void 0;var a=t("./ClubComList"),s=cc._decorator,l=s.ccclass,p=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getLogicName=function(){return"LClubRankList"},e.prototype.getLogic=function(){return this.logic},e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},e.prototype.onEnable=function(){t.prototype.onEnable.call(this),this.getLogic().reqData()},r([l],e)}(a.ClubComList));o.ClubRankList=p,cc._RF.pop()},{"./ClubComList":"ClubComList"}],ClubRankMainView:[function(t,e,o){"use strict";cc._RF.push(e,"a5f1dBfHENNKrobzdsrAnD7","ClubRankMainView");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ClubRankMainView=void 0;var a=t("../../../../script/app/event/Notify"),s=t("../../../../script/app/view/ComUI"),l=t("../../../../script/lib/base/CxComponent"),p=t("../../config/ClubI18n"),c=cc._decorator,u=c.ccclass,b=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.toggleClubRank=null,e.toggleDonationRank=null,e.labLeftTime=null,e.pfClubRankList=null,e.pfClubDonationList=null,e.ndList=null,e.labToggleClubRank=[],e.labToggleDonationRank=[],e.clubRankList=null,e.memberDonationList=null,e}return n(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.toggleClubRank&&this.toggleClubRank.node.on("toggle",this.onClickClubRank,this),this.toggleDonationRank&&this.toggleDonationRank.node.on("toggle",this.onClickDonationRank,this),this.defaultToggle()},e.prototype.listEvent=function(){return new Map([[a.Notify.Club.RESP_RANK_INFO,this.onRespRankInfo]])},e.prototype.start=function(){this.toggleClubRank&&(this.toggleClubRank.node.width=.5*cc.winSize.width),this.toggleDonationRank&&(this.toggleDonationRank.node.width=.5*cc.winSize.width),this.multiLanguage()},e.prototype.multiLanguage=function(){this.labToggleClubRank.forEach(function(t){t.language=p.ClubI18n.makeLanguage(p.IClubI18n.k.rank_club_rank)}),this.labToggleDonationRank.forEach(function(t){t.language=p.ClubI18n.makeLanguage(p.IClubI18n.k.rank_donation_rank)})},e.prototype.onRespRankInfo=function(t){this.setLeftTime(t.dwTime)},e.prototype.onClickDonationRank=function(){this.switch2DonationRankView()},e.prototype.onClickClubRank=function(){this.switch2ClubRankView()},e.prototype.defaultToggle=function(){this.switch2ClubRankView()},e.prototype.switch2ClubRankView=function(){this.toggleDonationRank.uncheck(),this.toggleClubRank.check(),this.showDonationList(!1),this.showRankList(!0)},e.prototype.switch2DonationRankView=function(){this.toggleDonationRank.check(),this.toggleClubRank.uncheck(),this.showDonationList(!0),this.showRankList(!1)},e.prototype.showRankList=function(t){!this.clubRankList&&this.pfClubRankList&&this.ndList&&(this.clubRankList=cc.instantiate(this.pfClubRankList),this.ndList.addChild(this.clubRankList)),this.clubRankList&&(this.clubRankList.active=t)},e.prototype.showDonationList=function(t){!this.memberDonationList&&this.pfClubDonationList&&this.ndList&&(this.memberDonationList=cc.instantiate(this.pfClubDonationList),this.ndList.addChild(this.memberDonationList)),this.memberDonationList&&(this.memberDonationList.active=t)},e.prototype.setLeftTime=function(t){this.labLeftTime&&s.ComUI.StartCountDown(this.labLeftTime,"%s",t,null,"00:00:00")},r([b({type:cc.Toggle,tooltip:"\u5355\u9009\u6309\u94ae\uff1a\u4ff1\u4e50\u90e8\u6392\u540d"})],e.prototype,"toggleClubRank",void 0),r([b({type:cc.Toggle,tooltip:"\u5355\u9009\u6309\u94ae\uff1a\u6350\u732e\u6392\u540d"})],e.prototype,"toggleDonationRank",void 0),r([b({type:cc.Label,tooltip:"\u5012\u8ba1\u65f6"})],e.prototype,"labLeftTime",void 0),r([b({type:cc.Prefab})],e.prototype,"pfClubRankList",void 0),r([b({type:cc.Prefab})],e.prototype,"pfClubDonationList",void 0),r([b({type:cc.Node})],e.prototype,"ndList",void 0),r([b({type:cc.Label,tooltip:"toggle\u4ff1\u4e50\u90e8\u6392\u540d\u6807\u7b7e"})],e.prototype,"labToggleClubRank",void 0),r([b({type:cc.Label,tooltip:"toggle\u6350\u732e\u6392\u540d\u6807\u7b7e"})],e.prototype,"labToggleDonationRank",void 0),r([u],e)}(l.CxComponent);o.ClubRankMainView=h,cc._RF.pop()},{"../../../../script/app/event/Notify":void 0,"../../../../script/app/view/ComUI":void 0,"../../../../script/lib/base/CxComponent":void 0,"../../config/ClubI18n":"ClubI18n"}],ClubRecommendView:[function(t,e,o){"use strict";cc._RF.push(e,"0423bZtpu9Ovrf02aDLutGS","ClubRecommendView");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ClubRecommendView=void 0;var a=t("../../../../script/app/base/component/ComListView"),s=t("../../../../script/app/event/GuiEvent"),l=t("../../../../script/app/event/Notify"),p=t("../../../../script/app/view/ComFunctions"),c=t("../../../../script/app/view/ComUI"),u=t("../../../../script/lib/base/CxComponent"),b=t("../../config/ClubDef"),h=t("../../config/ClubI18n"),C=t("./ClubListItem"),d=cc._decorator,f=d.ccclass,_=d.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollView=null,e.pfListItem=null,e.editBox=null,e.btnSearch=null,e.btnCreate=null,e.mListData=null,e}return n(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.editBox&&(this.editBox.node.on("editing-did-ended",this.onEditEnded,this),this.editBox.node.on("text-changed",this.onEditChanged,this)),this.btnSearch&&this.btnSearch.node.on("click",this.searchClub,this),this.btnCreate&&this.btnCreate.node.on("click",this.createClub,this)},e.prototype.onEnable=function(){this.mutltiLanguage()},e.prototype.listEvent=function(){return new Map([[l.Notify.Club.RESP_RECOMMEND_CLUB_LIST,this.onShowList],[l.Notify.Club.RESP_SEARCH,this.onSearchResult]])},e.prototype.mutltiLanguage=function(){this.btnSearch&&(this.btnSearch.getComponentInChildren(cc.Label).language=h.ClubI18n.makeLanguage(h.IClubI18n.k.club_com_search)),this.btnCreate&&(this.btnCreate.getComponentInChildren(cc.Label).language=h.ClubI18n.makeLanguage(h.IClubI18n.k.club_com_create)),this.editBox&&(this.editBox.placeholderLabel.language=h.ClubI18n.makeLanguage(h.IClubI18n.k.recomm_search_placeHolder))},e.prototype.onShowList=function(t){var e=this;this.mListData=t,p.ComFunctions.performWithDelay(this.node,function(){e.initScrollView(t,b.ClubConst.ListViewType.eRecommend)},.1)},e.prototype.initScrollView=function(t,e){var o={scrollView:this.scrollView,content:this.scrollView.content,itemPrefab:this.pfListItem,itemClass:C.default,dataList:t,dataEx:{listType:e},space:6,top:0,bottom:0,createInterval:.05},i=this.node.getComponent(a.ComListView);null==i&&(i=this.node.addComponent(a.ComListView)),i.initParams(o),i.initScrollView(!0)},e.prototype.onEditChanged=function(){""===this.editBox.string&&this.initScrollView(this.mListData,b.ClubConst.ListViewType.eRecommend)},e.prototype.onEditEnded=function(){},e.prototype.searchClub=function(){var t=this.editBox.string;if(""!==t){var e={clubId:Number(t)||0,clubName:t};cc.log("\u8981\u641c\u7d22\u7684\u4ff1\u4e50\u90e8: ",e),this.dispatch(l.Notify.Club.REQ_SEARCH,e)}else c.ComUI.showToast(h.ClubI18n.i18n.recomm_search_tips,1,2)},e.prototype.onSearchResult=function(t){t&&t.length>0?this.initScrollView(t,b.ClubConst.ListViewType.eSearch):this.initScrollView([],b.ClubConst.ListViewType.eSearch)},e.prototype.searchNative=function(){var t=this.editBox.string,e=[];return this.mListData.forEach(function(o){o.ID.toString().search(t)>=0&&e.push(o)}),0==e.length&&this.mListData.forEach(function(o){o.name.search(t)>=0&&e.push(o)}),this.initScrollView(e,b.ClubConst.ListViewType.eRecommend),e.length>0},e.prototype.createClub=function(){this.dispatch(s.GuiEvent.Club.DISPLAY_CLUB_CREATE_VIEW,{powerConsume:200,leagueMax:10,isCreate:!0})},r([_({type:cc.ScrollView,tooltip:"\u5217\u8868"})],e.prototype,"scrollView",void 0),r([_({type:cc.Prefab,tooltip:"\u5217\u8868item\u9884\u5236\u4f53"})],e.prototype,"pfListItem",void 0),r([_({type:cc.EditBox,tooltip:"\u8f93\u5165\u6846"})],e.prototype,"editBox",void 0),r([_({type:cc.Button,tooltip:"\u641c\u7d22\u6309\u94ae"})],e.prototype,"btnSearch",void 0),r([_({type:cc.Button,tooltip:"\u521b\u5efa\u6309\u94ae"})],e.prototype,"btnCreate",void 0),r([f],e)}(u.CxComponent);o.ClubRecommendView=m,cc._RF.pop()},{"../../../../script/app/base/component/ComListView":void 0,"../../../../script/app/event/GuiEvent":void 0,"../../../../script/app/event/Notify":void 0,"../../../../script/app/view/ComFunctions":void 0,"../../../../script/app/view/ComUI":void 0,"../../../../script/lib/base/CxComponent":void 0,"../../config/ClubDef":"ClubDef","../../config/ClubI18n":"ClubI18n","./ClubListItem":"ClubListItem"}],ClubRewardPreview:[function(t,e,o){"use strict";cc._RF.push(e,"35daf8jVSFF2pX69qebA4H+","ClubRewardPreview");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ClubRewardPreview=void 0;var a=t("../../../../script/app/const/Global"),s=t("../../../../script/lib/base/CxComponent"),l=t("../../../../script/lib/utils/ComUtils"),p=cc._decorator,c=p.ccclass,u=p.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ndItems=null,e.ndGoldReward=null,e.ndPowerReward=null,e.ndPieceReward=null,e.ndJPQReward=null,e}return n(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.initView()},e.prototype.initView=function(){this.ndGoldReward&&(this.ndGoldReward.active=!1),this.ndPowerReward&&(this.ndPowerReward.active=!1),this.ndPieceReward&&(this.ndPieceReward.active=!1),this.ndJPQReward&&(this.ndJPQReward.active=!1),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchBegan,this),this.node._touchListener&&this.node._touchListener.setSwallowTouches(!1)},e.prototype.onTouchBegan=function(){this.close()},e.prototype.setRewardsInfo=function(t){var e=this;if(this.ndItems){var o=this.ndItems.parent.parent.convertToNodeSpaceAR(cc.v2(t.pos.x,t.pos.y));this.ndItems.setPosition(o),t.rewards.forEach(function(t){switch(t.dwType){case a.gShopHBType.GOLD:e.setGoldInfo(t.dwNum);break;case a.gShopHBType.POWER:e.setPowerInfo(t.dwNum);break;case a.gShopHBType.CHIPS:e.setPieceInfo(t.dwNum);break;case a.gShopHBType.DAO_JU:e.setJPQInfo(t.dwNum)}})}},e.prototype.setGoldInfo=function(t){this.setRewardInfo(this.ndGoldReward,t)},e.prototype.setPowerInfo=function(t){this.setRewardInfo(this.ndPowerReward,t)},e.prototype.setPieceInfo=function(t){this.setRewardInfo(this.ndPieceReward,t)},e.prototype.setJPQInfo=function(t){this.setRewardInfo(this.ndJPQReward,t)},e.prototype.setRewardInfo=function(t,e){t&&(t.active=!0,t.getComponentInChildren(cc.Label).string=l.ComUtils.formatGoldStr(e))},r([u({type:cc.Node,tooltip:"item\u6240\u5728\u8282\u70b9"})],e.prototype,"ndItems",void 0),r([u({type:cc.Node,tooltip:"\u91d1\u5e01\u5956\u52b1\u8282\u70b9"})],e.prototype,"ndGoldReward",void 0),r([u({type:cc.Node,tooltip:"\u4f53\u529b\u5956\u52b1\u8282\u70b9"})],e.prototype,"ndPowerReward",void 0),r([u({type:cc.Node,tooltip:"\u788e\u7247\u5956\u52b1\u8282\u70b9"})],e.prototype,"ndPieceReward",void 0),r([u({type:cc.Node,tooltip:"\u8bb0\u724c\u5668\u5956\u52b1\u8282\u70b9"})],e.prototype,"ndJPQReward",void 0),r([c],e)}(s.CxComponent);o.ClubRewardPreview=b,cc._RF.pop()},{"../../../../script/app/const/Global":void 0,"../../../../script/lib/base/CxComponent":void 0,"../../../../script/lib/utils/ComUtils":void 0}],ClubSvrErrorTips:[function(t,e,o){"use strict";cc._RF.push(e,"529c2ZyCxhIJKVLUxhpqFCt","ClubSvrErrorTips"),Object.defineProperty(o,"__esModule",{value:!0}),o.ClubSvrErrorTips=void 0;var i=t("../../../script/app/view/ComUI"),n=t("../../../script/lib/base/Language"),r=function(){function t(){}return t.toastTips=function(t,e){if(void 0===e&&(e=0),t){var o=t[e];if(o){var r=n.Language.getInstance().getLanguage();o[r]&&""!=o[r]&&i.ComUI.showToast(o[r],2,2)}else i.ComUI.showToast(String.format("unknow code = ({0})",e),2)}},t.clubErrCodeCfg={createClub:[{zh:"\u521b\u5efa\u6210\u529f",en:"Created the club successfully",it:"Creato il club con successo"},{zh:"\u73a9\u5bb6\u79bb\u5f00\u4ff1\u4e50\u90e8CD\u4e2d",en:"Can't join/create club too frequently",it:"Non riesco a unirmi/creare un club troppo frequentemente"},{zh:"\u73a9\u5bb6\u4ff1\u4e50\u90e8\u4e2a\u6570\u5df2\u8fbe\u5230\u4e0a\u9650",en:"Only one club can be added/created.",it:"\xc8 possibile aggiungere/creare un solo club."},{zh:"\u4ff1\u4e50\u90e8\u540d\u79f0\u91cd\u590d",en:"The club you have joined or created has reached the limit",it:"Il club a cui ti sei iscritto o creato ha raggiunto il limite"},{zh:"\u73a9\u5bb6\u4f53\u529b\u503c\u4e0d\u591f",en:"Lack of Tokens",it:"Mancanza di gettoni"},{zh:"\u4ff1\u4e50\u90e8\u540d\u79f0\u957f\u5ea6\u4e0d\u7b26",en:"The length of the name Within 10-50 characters",it:"La lunghezza del nome Entro 10-50 caratteri"},{zh:"\u4ff1\u4e50\u90e8\u516c\u544a\u957f\u5ea6\u4e0d\u7b26",en:"The length of notice No more than 200 characters",it:"La lunghezza dell'avviso Non pi\xf9 di 200 caratteri"},{zh:"\u73a9\u5bb6\u7b49\u7ea7\u592a\u4f4e",en:"Your level is too low",it:"Il tuo livello \xe8 troppo basso"}],reqJoin:[{zh:"\u52a0\u5165\u6210\u529f",en:"Successfully joined the club",it:"Entrato a far parte con successo del club"},{zh:"\u73a9\u5bb6\u79bb\u5f00\u4ff1\u4e50\u90e8CD\u4e2d",en:"Can't join/create club too frequently",it:"Non riesco a unirmi/creare un club troppo frequentemente"},{zh:"\u4ff1\u4e50\u90e8\u4e0d\u5b58\u5728",en:"The club does not exist",it:"Il club non esiste"},{zh:"\u4ff1\u4e50\u90e8\u6ee1\u5458",en:"The club is full and you cannot join.",it:"Il club \xe8 pieno e non puoi iscriverti."},{zh:"\u73a9\u5bb6\u6bb5\u4f4d\u592a\u4f4e",en:"Your rank is too low to join the club.",it:"Il tuo grado \xe8 troppo basso per entrare nel club."},{zh:"\u5df2\u7533\u8bf7,\u5f85\u5ba1\u6838",en:"You have applied to join the club",it:"Hai fatto domanda per entrare a far parte del club"},{zh:"\u5df2\u52a0\u5165\u8bf7\u91cd\u65b0\u767b\u9646\u4ff1\u4e50\u90e8",en:"Already joined the club, please log in to the game again.",it:"Gi\xe0 iscritto al club, accedi di nuovo al gioco."},{zh:"\u4f1a\u957f\u6216\u7ba1\u7406\u5458\u5df2\u62d2\u7edd",en:"Your application has been rejected.",it:"La tua richiesta \xe8 stata respinta."},{zh:"\u73a9\u5bb6\u4ff1\u4e50\u90e8\u4e2a\u6570\u5df2\u8fbe\u5230\u4e0a\u9650",en:"Only one club can be added/created.",it:"\xc8 possibile aggiungere/creare un solo club."},{zh:"\u5df2\u7533\u8bf7\u7b49\u5f85\u7ba1\u7406\u5458\u5ba1\u6838",en:"You have applied to join the club, please wait for review.",it:"Hai fatto domanda per entrare a far parte del club, attendi la revisione."},{zh:"\u73a9\u5bb6\u7b49\u7ea7\u592a\u4f4e",en:"Your level is too low",it:"Il tuo livello \xe8 troppo basso"}],quitClub:[{zh:"\u9000\u51fa\u4ff1\u4e50\u90e8\u6210\u529f",en:"You have left the club.",it:"Hai lasciato il club."},{zh:"\u9000\u51fa\u4ff1\u4e50\u90e8\u5931\u8d25",en:"Somthing wrong with leaving the club , please try again.",it:"Qualcosa non va nell'uscire dal club, riprova."}],dismissClub:[{zh:"\u4ff1\u4e50\u90e8\u5df2\u89e3\u6563",en:"The club has been closed",it:"Il club \xe8 stato chiuso"}],beKickOutClub:[{zh:"\u4f60\u5df2\u88ab\u8e22\u51fa\u4ff1\u4e50\u90e8",en:"You have been expelled from the club.",it:"Sei stato espulso dal club."}],OprateJoin:[{zh:"",en:"",it:""},{zh:"\u65e0\u6743\u9650",en:"You don't have permission to do that",it:"Non hai il permesso per farlo"},{zh:"\u4ff1\u4e50\u90e8\u5df2\u6ee1\u5458",en:"The club is full and you cannot join.",it:"Il club \xe8 pieno e non puoi iscriverti."},{zh:"\u73a9\u5bb6\u5df2\u8fdb\u5165\u5176\u5b83\u4ff1\u4e50\u90e8",en:"He/She has been in another club.",it:"\xc8 stato in un altro club."}],joinSucc:[{zh:"\u52a0\u5165\u4ff1\u4e50\u90e8\u6210\u529f",en:"Successfully joined the club.",it:"Entrato con successo nel club."}],jobChange:[{zh:"",en:"",it:""},{zh:"\u65e0\u6743\u9650",en:"You don't have permission to do that",it:"Non hai il permesso per farlo"},{zh:"\u8fbe\u7ba1\u7406\u5458\u4e2a\u6570\u4e0a\u9650",en:"The number of vice leagers has reached the upper limit.",it:"Il numero dei vice-leader ha raggiunto il limite massimo."}]},t}();o.ClubSvrErrorTips=r,cc._RF.pop()},{"../../../script/app/view/ComUI":void 0,"../../../script/lib/base/Language":void 0}],ClubUIConfig:[function(t,e,o){"use strict";cc._RF.push(e,"93fd7roPPhGK6lekplI84z0","ClubUIConfig");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ClubResConfig=o.ClubUIConfig=void 0;var r=t("../../../script/app/config/ResConfig"),a=t("../../../script/app/const/Global"),s=t("../../../script/lib/manager/ResManager");o.ClubUIConfig={prefab:{ClubMainView:new r.PrefabItem("ClubMainView","prefabs/mainView/ClubMainView",a.gLayerLevel.None,0)},popup:{ClubInfoView:new r.PrefabItem("ClubInfoView","prefabs/clubInfo/ClubInfoView",a.gLayerLevel.Popup,0),ClubCreateOrSetView:new r.PrefabItem("ClubCreateOrSetView","prefabs/createAndSetting/ClubCreateOrSetView",a.gLayerLevel.Popup,0),ClubIconChangeView:new r.PrefabItem("ClubIconChangeView","prefabs/icon/ClubIconChangeView",a.gLayerLevel.Popup,0),ClubApplicationView:new r.PrefabItem("ClubApplicationView","prefabs/application/ClubApplicationView",a.gLayerLevel.Popup,0),ClubMbOptMenu:new r.PrefabItem("ClubMbOptMenu","prefabs/member/ClubMbOptMenu",a.gLayerLevel.Popup,0),ClubChestListView:new r.PrefabItem("ClubChestListView","prefabs/chest/ClubChestListView",a.gLayerLevel.Popup,0),ClubWeeklyPrizeListView:new r.PrefabItem("ClubWeeklyPrizeListView","prefabs/reward/ClubWeeklyPrizeListView",a.gLayerLevel.Popup,0),ClubWeeklyRewardSimpleView:new r.PrefabItem("ClubWeeklyRewardSimpleView","prefabs/reward/ClubWeeklyRewardSimpleView",a.gLayerLevel.Popup,0),ClubGuideView:new r.PrefabItem("ClubGuideView","prefabs/welcome/ClubGuideView",a.gLayerLevel.Popup,0),ClubWelcomView:new r.PrefabItem("ClubWelcomView","prefabs/welcome/ClubWelcomView",a.gLayerLevel.Popup,0)},altas:[]};var l=function(t){function e(){var e=t.call(this)||this;return e.name=a.gAssetBundleName.CLUB_RES,e.tips="\u4ff1\u4e50\u90e8",e.dependency=[],e}return n(e,t),e.prototype.getRes=function(){return o.ClubUIConfig},e}(s.BundleConfig);o.ClubResConfig=l,s.default.getInstance().addBundleCfg(new l),cc._RF.pop()},{"../../../script/app/config/ResConfig":void 0,"../../../script/app/const/Global":void 0,"../../../script/lib/manager/ResManager":void 0}],ClubWeeklyPrizeListView:[function(t,e,o){"use strict";cc._RF.push(e,"ea839/j8SVIao8Cqvqn1BS1","ClubWeeklyPrizeListView");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ClubWeeklyPrizeListView=void 0;var a=t("../../../../script/app/model/DataProxy"),s=t("../../../../script/lib/base/Binder"),l=t("../../../../script/lib/base/PopupView"),p=t("../../config/ClubI18n"),c=cc._decorator,u=c.ccclass,b=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollView=null,e.pfItem=null,e.labRank=null,e.labName=null,e.labPrize=null,e.labDonation=null,e.btnISee=null,e}return n(e,t),e.prototype.getLogicName=function(){return"LClubWeeklyPrizeListView"},e.prototype.getLogic=function(){return this._logic},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.multiLanguage();var e=a.DataProxy.getInstance().club.getMemberDonationRankData();e&&e.tabItem.length>0?this.updateListView(e.tabItem):this.getLogic().test()},e.prototype.updateListView=function(t){this.getLogic().showListView(t,this.scrollView,this.pfItem)},e.prototype.multiLanguage=function(){var t=this.node.getComponent(l.PopupView);t&&t.setTitle(p.ClubI18n.makeLanguage(p.IClubI18n.k.club_title_rankPrize)),this.labRank&&(this.labRank.language=p.ClubI18n.makeLanguage(p.IClubI18n.k.rank_key_rank)),this.labName&&(this.labName.language=p.ClubI18n.makeLanguage(p.IClubI18n.k.rank_key_name)),this.labPrize&&(this.labPrize.language=p.ClubI18n.makeLanguage(p.IClubI18n.k.rank_key_prize)),this.labDonation&&(this.labDonation.language=p.ClubI18n.makeLanguage(p.IClubI18n.k.rank_key_donation)),this.btnISee&&(this.btnISee.getComponentInChildren(cc.Label).language=p.ClubI18n.makeLanguage(p.IClubI18n.k.rank_i_see))},r([b({type:cc.ScrollView,tooltip:"\u6eda\u52a8\u5217\u8868",override:!0})],e.prototype,"scrollView",void 0),r([b({type:cc.Prefab,tooltip:"\u5217\u8868item\u9884\u5236\u4f53",override:!0})],e.prototype,"pfItem",void 0),r([b({type:cc.Label,tooltip:"\u540d\u6b21"})],e.prototype,"labRank",void 0),r([b({type:cc.Label,tooltip:"\u540d\u79f0"})],e.prototype,"labName",void 0),r([b({type:cc.Label,tooltip:"\u5956\u52b1"})],e.prototype,"labPrize",void 0),r([b({type:cc.Label,tooltip:"\u6350\u732e"})],e.prototype,"labDonation",void 0),r([b({type:cc.Button,tooltip:"I SEE \u6309\u94ae"})],e.prototype,"btnISee",void 0),r([u],e)}(s.BaseUI);o.ClubWeeklyPrizeListView=h,cc._RF.pop()},{"../../../../script/app/model/DataProxy":void 0,"../../../../script/lib/base/Binder":void 0,"../../../../script/lib/base/PopupView":void 0,"../../config/ClubI18n":"ClubI18n"}],ClubWeeklyRewardSimpleView:[function(t,e,o){"use strict";cc._RF.push(e,"cbc27YbUwhILaPUW4EHbTsc","ClubWeeklyRewardSimpleView");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ClubWeeklyRewardSimpleView=void 0;var a=t("../../../../script/app/event/Notify"),s=t("../../../../script/lib/base/CxCompExt"),l=t("../../config/ClubI18n"),p=cc._decorator,c=p.ccclass,u=p.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labTitle=null,e.btnOpen=null,e.spLight=null,e.labRank=null,e}return n(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.btnOpen.node.on("click",this.onClickOpen,this),this.lighting(),this.multiLanguage()},e.prototype.multiLanguage=function(){this.labTitle&&(this.labTitle.language=l.ClubI18n.makeLanguage(l.IClubI18n.k.club_title_rankPrize)),this.btnOpen&&(this.btnOpen.getComponentInChildren(cc.Label).language=l.ClubI18n.makeLanguage(l.IClubI18n.k.club_com_open))},e.prototype.init=function(e){if(t.prototype.init.call(this,e),e){var o=e;this.setRankOrder(o.dwClubRank)}},e.prototype.onClickOpen=function(){this.dispatch(a.Notify.Club.REQ_RECV_WEEK_REWARD),this.close()},e.prototype.lighting=function(){this.spLight&&cc.tween(this.spLight.node).repeatForever(cc.tween().by(1,{angle:90})).start()},e.prototype.setRankOrder=function(t){this.labRank&&(this.labRank.string=t.toString())},r([u({type:cc.Label,tooltip:"\u6807\u9898"})],e.prototype,"labTitle",void 0),r([u({type:cc.Button,tooltip:"\u6253\u5f00\u6309\u94ae"})],e.prototype,"btnOpen",void 0),r([u({type:cc.Sprite,tooltip:"\u5149"})],e.prototype,"spLight",void 0),r([u({type:cc.Label,tooltip:"\u540d\u6b21"})],e.prototype,"labRank",void 0),r([c],e)}(s.CxCompExt);o.ClubWeeklyRewardSimpleView=b,cc._RF.pop()},{"../../../../script/app/event/Notify":void 0,"../../../../script/lib/base/CxCompExt":void 0,"../../config/ClubI18n":"ClubI18n"}],ClubWelcomView:[function(t,e,o){"use strict";cc._RF.push(e,"e1472Ecrk9HQYQiwRQ/UudR","ClubWelcomView");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ClubWelcomView=void 0;var a=t("../../../../script/app/const/Global"),s=t("../../../../script/app/event/Notify"),l=t("../../../../script/lib/base/CxCompExt"),p=t("../../../../script/lib/base/PopupView"),c=t("../../../../script/lib/utils/ComUtils"),u=t("../../config/ClubI18n"),b=cc._decorator,h=b.ccclass,C=b.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labGold=null,e.labPower=null,e.labGoldUnit=null,e.labPowerUnit=null,e.btnClaim=null,e}return n(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.multiLanguage(),this.btnClaim&&this.btnClaim.node.on("click",this.onClickClaim,this)},e.prototype.multiLanguage=function(){var t=this.getComponent(p.PopupView);t&&t.setTitle(u.ClubI18n.makeLanguage(u.IClubI18n.k.club_title_welcome)),this.btnClaim&&(this.btnClaim.getComponentInChildren(cc.Label).string=u.ClubI18n.makeLanguage(u.IClubI18n.k.club_com_claim)),this.labGoldUnit&&(this.labGoldUnit.language=u.ClubI18n.makeLanguage(u.IClubI18n.k.welcome_coins)),this.labPowerUnit&&(this.labPowerUnit.language=u.ClubI18n.makeLanguage(u.IClubI18n.k.welcome_tokens))},e.prototype.init=function(e){t.prototype.init.call(this,e),this.onUpdateView(e)},e.prototype.initEvent=function(){},e.prototype.onClickClaim=function(){this.dispatch(s.Notify.Club.REQ_RECV_REWARD_OF_JOIN_CLUB),this.close()},e.prototype.onUpdateView=function(t){var e=this.getRewarInfo(t.reward,a.gShopHBType.GOLD),o=this.getRewarInfo(t.reward,a.gShopHBType.POWER);this.labGold&&(this.labGold.string=c.ComUtils.formatGoldStr(e,1e5,0)),this.labPower&&(this.labPower.string=c.ComUtils.formatGoldStr(o,1e5,0))},e.prototype.getRewarInfo=function(t,e){if(t&&t.length>0)for(var o=0;o<t.length;o++){var i=t[o];if(i.dwType==e)return i.dwNum}return 0},r([C({type:cc.Label,tooltip:"\u91d1\u5e01"})],e.prototype,"labGold",void 0),r([C({type:cc.Label,tooltip:"\u4f53\u529b"})],e.prototype,"labPower",void 0),r([C({type:cc.Label,tooltip:"\u91d1\u5e01\u5355\u4f4d"})],e.prototype,"labGoldUnit",void 0),r([C({type:cc.Label,tooltip:"\u4f53\u529b\u5355\u4f4d"})],e.prototype,"labPowerUnit",void 0),r([C({type:cc.Button,tooltip:"\u9886\u53d6"})],e.prototype,"btnClaim",void 0),r([h],e)}(l.CxCompExt);o.ClubWelcomView=d,cc._RF.pop()},{"../../../../script/app/const/Global":void 0,"../../../../script/app/event/Notify":void 0,"../../../../script/lib/base/CxCompExt":void 0,"../../../../script/lib/base/PopupView":void 0,"../../../../script/lib/utils/ComUtils":void 0,"../../config/ClubI18n":"ClubI18n"}],LClubBaseInfoPanel:[function(t,e,o){"use strict";cc._RF.push(e,"604d8W1J8JERo3060UIwnMR","LClubBaseInfoPanel");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.LClubBaseInfoPanel=void 0;var r=t("../../../script/lib/base/Binder"),a=t("../config/ClubEvent"),s=t("./ClubHelper"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),Object.defineProperty(e.prototype,"ui",{get:function(){return this._ui},enumerable:!1,configurable:!0}),e.prototype.listEvent=function(){return new Map([[a.ClubEvent.Base.UPDATE_CLUB,this.onUpdate],[a.ClubEvent.Base.UPDATE_RED_DOT,this.onReddot],[a.ClubEvent.Member.ONLINE_PEOPLE,this.onPeopleNum]])},e.prototype.initUI=function(){var t=s.ClubHelper.getClubInfo();this.viewData=this.viewData||{},this.viewData.clubInfo=t,t?this.ui.setReddot(t.noticeCount>0):this.ui.setReddot(!1),this.initBaseInfo(t)},e.prototype.initBaseInfo=function(t){if(t){var e=this.ui;e.setClubName(t.name),e.setClubIcon(t.iconId||1),e.setClubMemberNum(t.memberNum,s.ClubHelper.getClubMemberCapacity())}},e.prototype.onUpdate=function(t){this.initBaseInfo(t)},e.prototype.onReddot=function(t){this.ui.setReddot(t.count>0)},e.prototype.onPeopleNum=function(t){this.ui.setClubMemberNum(t.memberNum,t.total)},e.NAME="LClubBaseInfoPanel",e}(r.BaseLogic);o.LClubBaseInfoPanel=l,cc._RF.pop()},{"../../../script/lib/base/Binder":void 0,"../config/ClubEvent":"ClubEvent","./ClubHelper":"ClubHelper"}],LClubChestListView:[function(t,e,o){"use strict";cc._RF.push(e,"7b6a4Ux2jlIlJ3bUVYKX92z","LClubChestListView");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.LClubChestListView=void 0;var r=t("../../../script/app/event/Notify"),a=t("../../../script/lib/base/Binder"),s=t("../../../script/app/base/component/ComListView"),l=t("../../../script/plugin/pb/protofile/CMD_ClubMsg"),p=t("../../../script/app/model/DataProxy"),c=t("../view/chest/ClubChestListItem"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.initUI=function(){var t=p.DataProxy.getInstance().club.getClubChestListData();t?this.onResp(t):this.reqData()},e.prototype.listEvent=function(){return this.mergeEvent(t.prototype.listEvent.call(this),new Map([[r.Notify.Club.RESP_CLUB_REWARD_INFO,this.onResp]]))},e.prototype.reqData=function(){this.dispatch(r.Notify.Club.REQ_CLUB_REWARD_INFO)},e.prototype.onResp=function(t){this.getUI().updateListView(this.addCustomData(t.tabBoxInfo))},e.prototype.test=function(){},e.prototype.showListView=function(t,e,o){var i={scrollView:e,content:e.content,itemPrefab:o,itemClass:c.ClubChestListItem,dataList:t,dataEx:t.length-1,space:5,top:0,bottom:0,createInterval:.05},n=this.getUI().node.getComponent(s.ComListView);null==n&&(n=this.getUI().node.addComponent(s.ComListView)),n.initParams(i),n.initScrollView(!0)},e.prototype.getTestData=function(){var t=new l.MSG_SC_SendMyRewardInfo;t.tabBoxInfo=[];for(var e=0;e<20;e++){var o={strExData:'\n\t\t{\n\t\t\t"id": "\u5b9d\u7bb1id",\n\t\t\t"reward": [\n\t\t\t\t{ "type": 3, "lownum": 5000, "heightnum": 10000 },\n\t\t\t\t{ "type": 5, "lownum": 50, "heightnum": 100 },\n\t\t\t\t{ "type": 10, "DaoJuId": 1, "num": 5, "DaoJuTime": 0 }\n\t\t\t]\n\t\t}\n\t\t',dwStatus:Math.floor(3*Math.random())+1,dwNowSchedule:Math.floor(100*Math.random()),dwAllSchedule:100,dwBoxId:0};t.tabBoxInfo.push(o)}return this.addCustomData(t.tabBoxInfo)},e.prototype.getUI=function(){return this._ui},e.prototype.addCustomData=function(t){var e=t.slice();return e.push(t[0]),e},e}(a.BaseLogic);o.LClubChestListView=u,cc._RF.pop()},{"../../../script/app/base/component/ComListView":void 0,"../../../script/app/event/Notify":void 0,"../../../script/app/model/DataProxy":void 0,"../../../script/lib/base/Binder":void 0,"../../../script/plugin/pb/protofile/CMD_ClubMsg":void 0,"../view/chest/ClubChestListItem":"ClubChestListItem"}],LClubChestMenu:[function(t,e,o){"use strict";cc._RF.push(e,"3b155USfP9EHYslghNWfi2U","LClubChestMenu");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.LClubChestMenu=void 0;var r=t("../../../script/app/event/Notify"),a=t("../../../script/app/model/DataProxy"),s=t("../../../script/lib/base/Binder"),l=t("./ClubHelper"),p=t("../../../script/app/event/GuiEvent"),c=t("../config/ClubEvent"),u=t("../../../script/app/view/CupAnimation"),b=t("../../../script/app/view/ComFunctions"),h=t("../../../script/app/const/Global"),C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._nowCups=0,e._needCups=0,e.cupAniData=null,e}return n(e,t),e.prototype.initUI=function(){},e.prototype.listEvent=function(){return this.mergeEvent(t.prototype.listEvent.call(this),new Map([[r.Notify.Club.RESP_CLUB_REWARD_INFO,this.onResp],[c.ClubEvent.Base.LEAVE_SUCC,this.onResp]]))},e.prototype.getUI=function(){return this._ui},e.prototype.onUpdateView=function(){var t=a.DataProxy.getInstance().club;if(l.ClubHelper.isMeJoinedClub()){if(a.DataProxy.getInstance().comData.isInGame()){var e=l.ClubHelper.getDonationTaskInProgress();return this._nowCups=e.dwNowSchedule-this.cupAniData.cupCount,this._nowCups=Math.max(this._nowCups,0),this._needCups=e.dwAllSchedule,this.getUI().switch2ProgressView(this._nowCups,this._needCups),void this.getUI().dispayCupIncreaseActions()}t.getCanRecvTaskCount()>0?this.getUI().switch2CompleteView():(e=l.ClubHelper.getDonationTaskInProgress(),this.getUI().switch2ProgressView(e.dwNowSchedule,e.dwAllSchedule))}else this.getUI().switch2NoClubView()},e.prototype.reqData=function(){this.dispatch(r.Notify.Club.REQ_CLUB_REWARD_INFO)},e.prototype.onClick=function(){if(l.ClubHelper.isMeJoinedClub())this.dispatch(p.GuiEvent.Club.DISPLAY_CHEST_LIST_VIEW);else if(a.DataProxy.getInstance().comData.isInGame()){if(!b.ComFunctions.isUnlock(h.gUnlcokTag.club,!1))return;a.DataProxy.getInstance().club.bClikcClubInGame=!0,this.dispatch(r.Notify.Game.EXIT_SCENE)}else this.dispatch(r.Notify.Club.ENTER_CLUB_MAIN_VIEW)},e.prototype.onResp=function(){this.onUpdateView()},e.prototype.onLanguageChange=function(){this.getUI().multiLanguage()},e.prototype.progressIncrease=function(t){void 0===t&&(t=1),this._nowCups+=t,this._nowCups>this._needCups&&(this._nowCups-=this._needCups),this.getUI().switch2ProgressView(this._nowCups,this._needCups)},e.prototype.displayFinishView=function(){a.DataProxy.getInstance().club.getClubChestFirstCanRecv()&&this.getUI().switch2CompleteView()},e.prototype.setActionData=function(t,e,o){var i=this;this.cupAniData||(this.cupAniData=new u.CupAnimationData),this.cupAniData.cupCount=t,this.cupAniData.fromPos=e,this.cupAniData.targetSize=o,this.cupAniData.increaseCB=function(){i.progressIncrease(1)},this.cupAniData.endCB=function(){i.displayFinishView()}},e.prototype.getAnimData=function(){return this.cupAniData},e}(s.BaseLogic);o.LClubChestMenu=C,cc._RF.pop()},{"../../../script/app/const/Global":void 0,"../../../script/app/event/GuiEvent":void 0,"../../../script/app/event/Notify":void 0,"../../../script/app/model/DataProxy":void 0,"../../../script/app/view/ComFunctions":void 0,"../../../script/app/view/CupAnimation":void 0,"../../../script/lib/base/Binder":void 0,"../config/ClubEvent":"ClubEvent","./ClubHelper":"ClubHelper"}],LClubComList:[function(t,e,o){"use strict";cc._RF.push(e,"fbe94J3GMlAM6fBmm7PXRrg","LClubComList");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.LClubComList=void 0;var r=t("../../../script/app/base/component/ComListView"),a=t("../../../script/app/event/GuiEvent"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getUI=function(){return this._ui},e.prototype.initUI=function(){},e.prototype.listEvent=function(){return this.mergeEvent(t.prototype.listEvent.call(this),new Map([[a.GuiEvent.Club.DISPLAY_CLUB_REWARD_PREVIEW,this.onDisplayRewardView]]))},e.prototype.getListItemClass=function(){return null},e.prototype.getExternData=function(){return null},e.prototype.onDisplayRewardView=function(t){this.getUI().showRewardPreview(t)},e.prototype.showListView=function(t,e,o){var i={scrollView:e,content:e.content,itemPrefab:o,itemClass:this.getListItemClass(),dataList:t,dataEx:this.getExternData(),space:5,top:0,bottom:0,createInterval:0},n=this.getUI().node.getComponent(r.ComListView);null==n&&(n=this.getUI().node.addComponent(r.ComListView)),n.initParams(i),n.initScrollView(!0)},e.prototype.removeListView=function(){var t=this.getUI().node.getComponent(r.ComListView);t&&t.clearItem()},e}(t("../../../script/lib/base/Binder").BaseLogic);o.LClubComList=s,cc._RF.pop()},{"../../../script/app/base/component/ComListView":void 0,"../../../script/app/event/GuiEvent":void 0,"../../../script/lib/base/Binder":void 0}],LClubCreateOrSet:[function(t,e,o){"use strict";cc._RF.push(e,"4d265qFHxdEHKjkSCYDkEYV","LClubCreateOrSet");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.LClubCreateOrSet=void 0;var r=t("../../../script/app/event/GuiEvent"),a=t("../../../script/app/event/Notify"),s=t("../../../script/app/model/DataProxy"),l=t("../../../script/app/view/ComUI"),p=t("../../../script/lib/base/Binder"),c=t("../../../script/lib/utils/ComUtils"),u=t("../config/ClubDef"),b=t("../config/ClubEvent"),h=t("../config/ClubI18n"),C=t("./ClubHelper"),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mJoinType=u.ClubConst.AgreeType.eAuto,e.mJoinCondition=1,e.mIconID=0,e.lengthMinClubName=10,e.lengthMaxClubName=50,e.lengthMinClubNotice=0,e.lengthMaxClubNotice=200,e.clubInfo=null,e}return n(e,t),Object.defineProperty(e.prototype,"ui",{get:function(){return this._ui},enumerable:!1,configurable:!0}),e.prototype.listEvent=function(){return this.mergeEvent(t.prototype.listEvent.call(this),new Map([[a.Notify.Club.RESP_LEAVE,this.close],[a.Notify.Club.RESP_SETTING,this.close],[b.ClubEvent.Base.CREATE_SUCC,this.close],[b.ClubEvent.Base.LEAVE_SUCC,this.close]]))},e.prototype.close=function(){this.ui.close(),this._ui=null},e.prototype.initUI=function(){this.viewData&&(this.clubInfo=this.viewData.clubInfo);var t=C.ClubHelper.getClubInfo(),e=s.DataProxy.getInstance().club.getClubData().mSysCfg;this.ui.initView(t),cc.js.isEmptyObject(t)?(this.ui.setPowerConsume(e.costps),this.ui.setClubNoticeEidtEnabled(!0)):this.ui.setClubNoticeEidtEnabled(C.ClubHelper.isOwnerOrAdmins(t.myJob))},e.prototype.checkEditInput=function(t,e,o,i){if(t&&t.node.active){var n=this.replaceSpaceChar(t.string),r=c.ComUtils.getMixtureStringLength(n);if(r<o||r>i)return l.ComUI.showToast(e,1,2),!1}return!0},e.prototype.checkClubNameEdit=function(){return this.checkEditInput(this.ui.editClubName,h.ClubI18n.i18n.create_tips_invalid_name,this.lengthMinClubName,this.lengthMaxClubName)},e.prototype.checkNoticeEdit=function(){return this.checkEditInput(this.ui.editNotice,h.ClubI18n.i18n.create_tips_invalid_notice,this.lengthMinClubNotice,this.lengthMaxClubNotice)},e.prototype.editClubNameDidEnded=function(){var t=this.ui.editClubName.string,e=c.ComUtils.getMixtureStringLength(t);e<this.lengthMinClubName?l.ComUI.showToast(String.format(h.ClubI18n.i18n.create_error_too_less_name,this.lengthMinClubName),1,2):e>this.lengthMaxClubName&&l.ComUI.showToast(String.format(h.ClubI18n.i18n.create_error_too_more_name,this.lengthMaxClubName),1,2)},e.prototype.editNoticeDidEnded=function(){var t=this.ui.editNotice.string,e=c.ComUtils.getMixtureStringLength(t);e<this.lengthMinClubNotice?l.ComUI.showToast(String.format(h.ClubI18n.i18n.create_error_too_less_notice,this.lengthMinClubNotice),1,2):e>this.lengthMaxClubNotice&&l.ComUI.showToast(String.format(h.ClubI18n.i18n.create_error_too_more_notice,this.lengthMaxClubNotice),1,2)},e.prototype.onClickCreate=function(){if(this.checkClubNameEdit()&&this.checkNoticeEdit()){var t=s.DataProxy.getInstance().club.getClubData().mSysCfg;s.DataProxy.getInstance().userData.powerInfo.dwCurPS<t.costps?this.dispatch(r.GuiEvent.PopMsg.DISPLAY_POWER_NOT_ENOUGH):(this.dispatch(a.Notify.Club.REQ_CREATE_CLUB,{clubName:this.replaceSpaceChar(this.ui.editClubName.string),clubNotice:this.replaceSpaceChar(this.ui.editNotice.string),joinType:this.ui.getJoinType(),league:this.ui.getJoinCondition(),iconIdx:this.mIconID}),this.ui.node.destroy())}},e.prototype.onClickConfirm=function(){if(this.checkNoticeEdit()){var t={clubId:C.ClubHelper.getClubInfo().ID,joinType:this.ui.getJoinType(),league:this.ui.getJoinCondition(),clubNotice:this.replaceSpaceChar(this.ui.editNotice.string),iconId:this.mIconID};this.dispatch(a.Notify.Club.REQ_SETTING,t)}},e.prototype.setIconID=function(t){this.mIconID=t},e.prototype.getIconID=function(){return this.mIconID},e.prototype.hasClubInfo=function(){return null!=this.clubInfo},e.prototype.replaceSpaceChar=function(t){return t.replace(/(^\s*)|(\s*$)/g,"")},e.NAME="LClubCreateOrSet",e}(p.BaseLogic);o.LClubCreateOrSet=d,cc._RF.pop()},{"../../../script/app/event/GuiEvent":void 0,"../../../script/app/event/Notify":void 0,"../../../script/app/model/DataProxy":void 0,"../../../script/app/view/ComUI":void 0,"../../../script/lib/base/Binder":void 0,"../../../script/lib/utils/ComUtils":void 0,"../config/ClubDef":"ClubDef","../config/ClubEvent":"ClubEvent","../config/ClubI18n":"ClubI18n","./ClubHelper":"ClubHelper"}],LClubDonationList:[function(t,e,o){"use strict";cc._RF.push(e,"6466dAwkytJKI3M0FbKe3Rl","LClubDonationList");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.LClubDonationList=void 0;var r=t("../../../script/app/event/Notify"),a=t("../../../script/lib/utils/ComUtils"),s=t("../view/rank/ClubDonationListItem"),l=t("./LClubComList"),p=t("../../../script/plugin/pb/protofile/CMD_ClubMsg"),c=t("../config/ClubDef"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.initUI=function(){},e.prototype.getListItemClass=function(){return s.ClubDonationListItem},e.prototype.getExternData=function(){return null},e.prototype.listEvent=function(){return this.mergeEvent(t.prototype.listEvent.call(this),new Map([[r.Notify.Club.RESP_CLUB_DONATE_INFO,this.onResp]]))},e.prototype.reqData=function(){this.dispatch(r.Notify.Club.REQ_CLUB_DONATE_INFO,c.ClubConst.eDonationReqType.thisWeek)},e.prototype.onResp=function(t){this.getUI().updateListView(t.tabItem)},e.prototype.getTestData=function(){var t=new p.MSG_SC_SendMemberDonation;t.tabItem=[];for(var e=0;e<15;e++){var o={dwRank:e,chNickName:a.ComUtils.utf8StrToU8("\u8fd9\u662f\u6d4b\u8bd5\u6570\u636e_"+e),dwUserID:e,dwExpLevel:88,dwDan1:10,dwDan2:2,lDonation:Math.floor(1e5*Math.random()),dwPrize:Math.floor(100*Math.random()),url:void 0,faceId:0,custFaceId:0};t.tabItem.push(o)}return t},e}(l.LClubComList);o.LClubDonationList=u,cc._RF.pop()},{"../../../script/app/event/Notify":void 0,"../../../script/lib/utils/ComUtils":void 0,"../../../script/plugin/pb/protofile/CMD_ClubMsg":void 0,"../config/ClubDef":"ClubDef","../view/rank/ClubDonationListItem":"ClubDonationListItem","./LClubComList":"LClubComList"}],LClubRankEntry:[function(t,e,o){"use strict";cc._RF.push(e,"462a6JaVaxMYa0++QAroqyt","LClubRankEntry");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.LClubRankEntry=void 0;var r=t("../../../script/app/event/Notify"),a=t("../../../script/lib/base/Binder"),s=t("../../../script/app/event/GuiEvent"),l=t("../config/ClubDef"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.t=0,e}return n(e,t),e.prototype.initUI=function(){},e.prototype.getUI=function(){return this._ui},e.prototype.listEvent=function(){return this.mergeEvent(t.prototype.listEvent.call(this),new Map([[r.Notify.Club.RESP_CLUB_BOX_PROGRESS,this.onProgressInfo],[r.Notify.Club.RESP_CLUB_REWARD_INFO,this.onTaskRewardInfo],[r.Notify.Club.RESP_RANK_INFO,this.onClubRankInfo],[r.Notify.Club.RESP_CLUB_DONATE_INFO,this.onMemberDonationInfo]]))},e.prototype.reqEntryData=function(){this.isInTimeCD()||(this.recordTimestamp(),this.dispatch(r.Notify.Club.REQ_CLUB_BOX_PROGRESS),this.dispatch(r.Notify.Club.REQ_CLUB_REWARD_INFO),this.dispatch(r.Notify.Club.REQ_RANK_INFO),this.dispatch(r.Notify.Club.REQ_CLUB_DONATE_INFO,l.ClubConst.eDonationReqType.thisWeek),this.dispatch(r.Notify.Club.REQ_JOIN_CLUB_REWARD_PREVIEW))},e.prototype.reqClubTaskData=function(){this.dispatch(s.GuiEvent.Club.DISPLAY_CHEST_LIST_VIEW)},e.prototype.onTaskRewardInfo=function(){this.getUI().onTaskRewardInfo()},e.prototype.onClubRankInfo=function(){this.getUI().onClubRankInfo()},e.prototype.onMemberDonationInfo=function(){this.getUI().onMemberDonationInfo()},e.prototype.onProgressInfo=function(t){this.getUI().onProgressInfo(t)},e.prototype.isInTimeCD=function(){var t=Date.now()-this.t;return cc.log("\u65f6\u95f4\u6233",t),t<5e3},e.prototype.recordTimestamp=function(){this.t=Date.now()},e}(a.BaseLogic);o.LClubRankEntry=p,cc._RF.pop()},{"../../../script/app/event/GuiEvent":void 0,"../../../script/app/event/Notify":void 0,"../../../script/lib/base/Binder":void 0,"../config/ClubDef":"ClubDef"}],LClubRankList:[function(t,e,o){"use strict";cc._RF.push(e,"7ef38TW0vZHkaK5t8Rq87m3","LClubRankList");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.LClubRankList=void 0;var r=t("../../../script/app/event/Notify"),a=t("../../../script/lib/utils/ComUtils"),s=t("../view/rank/ClubRankListItem"),l=t("./LClubComList"),p=t("../../../script/plugin/pb/protofile/CMD_ClubMsg"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.initUI=function(){},e.prototype.getListItemClass=function(){return s.ClubRankListItem},e.prototype.listEvent=function(){return this.mergeEvent(t.prototype.listEvent.call(this),new Map([[r.Notify.Club.RESP_RANK_INFO,this.onResp]]))},e.prototype.reqData=function(){this.dispatch(r.Notify.Club.REQ_RANK_INFO)},e.prototype.onResp=function(t){this.getUI().updateListView(t.tabRank)},e.prototype.getTestData=function(){var t=new p.MSG_SC_SendClubRank;t.tabRank=[];for(var e=0;e<20;e++){var o={dwRank:e,chFamName:a.ComUtils.utf8StrToU8("\u8fd9\u662f\u6d4b\u8bd5\u6570\u636e_"+e),dwIconIndex:0,lDonation:Math.floor(1e8*Math.random()),dwBoxId:0,reward:[],dwClubId:0};t.tabRank.push(o)}return t},e}(l.LClubComList);o.LClubRankList=c,cc._RF.pop()},{"../../../script/app/event/Notify":void 0,"../../../script/lib/utils/ComUtils":void 0,"../../../script/plugin/pb/protofile/CMD_ClubMsg":void 0,"../view/rank/ClubRankListItem":"ClubRankListItem","./LClubComList":"LClubComList"}],LClubWeeklyPrizeListView:[function(t,e,o){"use strict";cc._RF.push(e,"35b923YrLFG8aR54iUsGD2z","LClubWeeklyPrizeListView");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.LClubWeeklyPrizeListView=void 0;var r=t("../../../script/lib/base/Binder"),a=t("../../../script/app/base/component/ComListView"),s=t("../../../script/plugin/pb/protofile/CMD_ClubMsg"),l=t("../view/rank/ClubDonationListItem"),p=t("../../../script/lib/utils/ComUtils"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.initUI=function(){},e.prototype.listEvent=function(){return this.mergeEvent(t.prototype.listEvent.call(this),new Map([]))},e.prototype.test=function(){},e.prototype.showListView=function(t,e,o){var i={scrollView:e,content:e.content,itemPrefab:o,itemClass:l.ClubDonationListItem,dataList:t,dataEx:null,space:5,top:0,bottom:0,createInterval:0},n=this.getUI().node.getComponent(a.ComListView);null==n&&(n=this.getUI().node.addComponent(a.ComListView)),n.initParams(i),n.initScrollView(!0)},e.prototype.getTestData=function(){var t=new s.MSG_SC_SendMemberDonation;t.tabItem=[];for(var e=0;e<15;e++){var o={dwRank:e,chNickName:p.ComUtils.utf8StrToU8("test_"+e),dwUserID:e,dwExpLevel:88,dwDan1:10,dwDan2:2,lDonation:Math.floor(1e5*Math.random()),dwPrize:Math.floor(100*Math.random()),url:p.ComUtils.utf8StrToU8("http://www.baidu.com"),faceId:0,custFaceId:0};t.tabItem.push(o)}return t},e.prototype.getUI=function(){return this._ui},e}(r.BaseLogic);o.LClubWeeklyPrizeListView=c,cc._RF.pop()},{"../../../script/app/base/component/ComListView":void 0,"../../../script/lib/base/Binder":void 0,"../../../script/lib/utils/ComUtils":void 0,"../../../script/plugin/pb/protofile/CMD_ClubMsg":void 0,"../view/rank/ClubDonationListItem":"ClubDonationListItem"}]},{},["ClubDef","ClubEvent","ClubI18n","ClubSvrErrorTips","ClubUIConfig","ClubMsgHandler","ClubPopupMgr","ClubHelper","LClubBaseInfoPanel","LClubChestListView","LClubChestMenu","LClubComList","LClubCreateOrSet","LClubDonationList","LClubRankEntry","LClubRankList","LClubWeeklyPrizeListView","ClubData","ClubMemberData","ClubChestListItem","ClubChestListView","ClubChestMenu","ClubBaseInfoPanel","ClubListItem","ClubMainView","ClubRecommendView","ClubApplicationItem","ClubApplicationView","ClubMbOptMenu","ClubMemberItem","ClubMemberList","ClubComList","ClubDonationList","ClubDonationListItem","ClubRankEntry","ClubRankList","ClubRankListItem","ClubRankMainView","ClubRewardPreview","ClubWeeklyPrizeListView","ClubWeeklyRewardSimpleView","ClubCreateOrSetView","ClubIcon","ClubIconChangeView","ClubInfoView","ClubGuideView","ClubWelcomView"]);