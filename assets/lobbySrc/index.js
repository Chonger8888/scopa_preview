window.__require=function t(e,o,i){function n(a,p){if(!o[a]){if(!e[a]){var r=a.split("/");if(r=r[r.length-1],!e[r]){var c="function"==typeof __require&&__require;if(!p&&c)return c(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+a+"'")}a=r}var l=o[a]={exports:{}};e[a][0].call(l.exports,function(t){return n(e[a][1][t]||t)},l,l.exports,t,e,o,i)}return o[a].exports}for(var s="function"==typeof __require&&__require,a=0;a<i.length;a++)n(i[a]);return n}({BindAccountConfirm:[function(t,e,o){"use strict";cc._RF.push(e,"7b96agYRKZPQrVb3z0EKysk","BindAccountConfirm");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../script/app/const/Global"),p=t("../../../../script/app/event/Notify"),r=t("../../../../script/app/language/LanguageCfg"),c=t("../../../../script/app/view/ComUI"),l=t("../../../../script/lib/base/BottomBarView"),u=t("../../../../script/lib/base/CxComponent"),d=t("../../../../script/lib/utils/ComUtils"),y=t("../../../../script/lib/utils/Logger"),b=cc._decorator,h=b.ccclass,f=b.property,L=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pHeadNode=null,e.pNameLabel=null,e.pTipLabel=null,e.mBindInfo=null,e}return n(e,t),e.prototype.init=function(t){this.mBindInfo=t},e.prototype.initParams=function(){return{showSubBG:!1,showTitle:!1}},e.prototype.listEvent=function(){return new Map([[p.Notify.UserInfo.RTN_BIND_USER_ACCOUNT,this.onBindAccountResult]])},e.prototype.start=function(){this.initData(),this.initLayer()},e.prototype.initData=function(){if(this.mBindInfo){this.mToken=this.mBindInfo.token||"";var t=this.mBindInfo.userInfo;t&&(this.mName=t.name,this.mUrl=t.pictureUrl)}},e.prototype.initLayer=function(){var t=this;this.pNameLabel&&this.mName&&(this.pNameLabel.string=""+this.mName),this.pTipLabel&&(this.pTipLabel.string=d.ComUtils.getLang(r.LangKey.fb_bind_account_content)),this.mUrl&&this.dispatch(p.Notify.Head.CREATE_HEAD,{parent:this.pHeadNode,url:this.mUrl}),l.BottomBarView.setBottomBar(this.node,[{style:a.gColorStyle.GREEN,text:d.ComUtils.makeLang(r.LangKey.text_cancel),callback:function(){t.node.destroy()}},{style:a.gColorStyle.DARKBLUE,text:d.ComUtils.makeLang(r.LangKey.text_login),callback:function(){t.onBindConfirm()}}])},e.prototype.onBindConfirm=function(){this.mToken&&(c.ComUI.addLoading({time:5}),y.Logger.info("onBindConfirm() token="+this.mToken),y.Logger.info("onBindConfirm() name="+this.mName),y.Logger.info("onBindConfirm() url="+this.mUrl),this.dispatch(p.Notify.UserInfo.REQ_BIND_USER_ACCOUNT,{token:this.mToken,name:this.mName,url:this.mUrl,loginType:a.gLoginType.FaceBook}))},e.prototype.onBindAccountResult=function(t){c.ComUI.rmLoading(),0==t.code||(2==t.code?c.ComUI.showDialog({text:"Account already exists, please login again."}):c.ComUI.showDialog({text:d.ComUtils.getLang(r.LangKey.text_fail_bind_fb)})),this.node.destroy()},s([f(cc.Node)],e.prototype,"pHeadNode",void 0),s([f(cc.Label)],e.prototype,"pNameLabel",void 0),s([f(cc.Label)],e.prototype,"pTipLabel",void 0),s([h],e)}(u.CxComponent);o.default=L,cc._RF.pop()},{"../../../../script/app/const/Global":void 0,"../../../../script/app/event/Notify":void 0,"../../../../script/app/language/LanguageCfg":void 0,"../../../../script/app/view/ComUI":void 0,"../../../../script/lib/base/BottomBarView":void 0,"../../../../script/lib/base/CxComponent":void 0,"../../../../script/lib/utils/ComUtils":void 0,"../../../../script/lib/utils/Logger":void 0}],BindAccountLayer:[function(t,e,o){"use strict";cc._RF.push(e,"a285biheRVFcYvSEUXmSYpE","BindAccountLayer");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../script/app/event/GuiEvent"),p=t("../../../../script/app/language/LanguageCfg"),r=t("../../../../script/app/model/DataProxy"),c=t("../../../../script/app/module/login/view/LoginManager"),l=t("../../../../script/app/view/ComUI"),u=t("../../../../script/lib/base/CxComponent"),d=t("../../../../script/lib/utils/ComUtils"),y=cc._decorator,b=y.ccclass,h=y.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pGoldLabel=null,e.pTipLabel=null,e.mBindInfo=null,e}return n(e,t),e.prototype.initParams=function(){return{showSubBG:!1,showTitle:!1}},e.prototype.start=function(){this.setVerticalOffset(),this.initLayer()},e.prototype.initLayer=function(){this.mBindInfo=r.DataProxy.getInstance().userData.bindAccountInfo,this.mBindInfo&&(this.pGoldLabel&&(this.pGoldLabel.string=d.ComUtils.formatGoldStr(this.mBindInfo.rewardNum)),this.pTipLabel&&(this.pTipLabel.string=d.ComUtils.getLang(p.LangKey.fb_bind_account_tip),l.ComUI.getLabelSize(this.pTipLabel).width>this.pTipLabel.node.parent.width-60&&(this.pTipLabel.node.width=this.pTipLabel.node.parent.width-60,this.pTipLabel.enableWrapText=!0,this.pTipLabel.overflow=cc.Label.Overflow.RESIZE_HEIGHT,this.pTipLabel.horizontalAlign=cc.Label.HorizontalAlign.LEFT)))},e.prototype.onBindAccount=function(){var t=this;l.ComUI.addLoading({time:10}),c.LoginManager.getInstance().bindFBAccount(function(e){l.ComUI.rmLoading(),e&&e.ok?t.dispatch(a.GuiEvent.PopMsg.DISPLAY_BIND_CONFIRM,e):l.ComUI.showToast(d.ComUtils.getLang(p.LangKey.text_fail_bind_fb)),t.node.destroy()})},e.prototype.test=function(){this.dispatch(a.GuiEvent.PopMsg.DISPLAY_BIND_CONFIRM,{token:"abc",userInfo:{name:"myname",pictureUrl:"https://scontent-hkg4-2.xx.fbcdn.net/v/t1.30497-1/cp0/c15.0.50.50a/p50x50/84628273_176159830277856_972693363922829312_n.jpg?_nc_cat=1&ccb=2&_nc_sid=12b3be&_nc_ohc=NNh98FvJJdcAX8VHRpi&_nc_ht=scontent-hkg4-2.xx&tp=27&oh=c59f5e6b2b95b7812d7dc123e11b7aa1&oe=602F3E38"}})},s([h(cc.Label)],e.prototype,"pGoldLabel",void 0),s([h(cc.Label)],e.prototype,"pTipLabel",void 0),s([b],e)}(u.CxComponent);o.default=f,cc._RF.pop()},{"../../../../script/app/event/GuiEvent":void 0,"../../../../script/app/language/LanguageCfg":void 0,"../../../../script/app/model/DataProxy":void 0,"../../../../script/app/module/login/view/LoginManager":void 0,"../../../../script/app/view/ComUI":void 0,"../../../../script/lib/base/CxComponent":void 0,"../../../../script/lib/utils/ComUtils":void 0}],LobbyBottomMenu:[function(t,e,o){"use strict";cc._RF.push(e,"10affoRLf5KXoJYdcFZbK+A","LobbyBottomMenu");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LobbyBottomMenu=void 0;var a=t("../../../../script/app/const/AudioFile"),p=t("../../../../script/app/const/Global"),r=t("../../../../script/app/event/GuiEvent"),c=t("../../../../script/app/event/Notify"),l=t("../../../../script/app/language/LanguageCfg"),u=t("../../../../script/app/model/ActivityDataProxy"),d=t("../../../../script/app/model/DataProxy"),y=t("../../../../script/app/module/buryPoint/BuryPoint"),b=t("../../../../script/app/module/buryPoint/BuryPointUtils"),h=t("../../../../script/app/view/ComFunctions"),f=t("../../../../script/app/view/ComUI"),L=t("../../../../script/app/view/SettingLayer"),g=t("../../../../script/lib/base/CxComponent"),v=t("../../../../script/lib/base/NewTag"),_=t("../../../../script/lib/i18n/i18nHelper"),C=t("../../../../script/lib/utils/ComUtils"),m=t("../../model/LobbyEvent"),I=cc._decorator,E=I.ccclass,P=I.property,T=function(){function t(){}return t.refreshLockStatus=function(t,e){var o=h.ComFunctions.isUnlock(e),i=t.getChildByName("SpLock"),n=t.getChildByName("SpGray");i&&(i.active=!o),n&&(n.active=!o)},t.refreshNewStatus=function(t,e,o){var i=d.DataProxy.getInstance().otherData.isNewTagRead(e),n=t.getChildByName("ndNew");n&&(n.active=!i,i&&o&&(n.active=o()))},t.readNewTag=function(t){var e=t.getChildByName("ndNew");e&&e.getComponentInChildren(v.default).readNewTag()},t}(),S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnStore=null,e.btnMissions=null,e.toggleRank=null,e.toggleScopa=null,e.toggleTables=null,e.toggleClub=null,e.ndClubChestMenu=null,e.delayLock=!0,e.bInHome=p.gLobbySubView.Scopa,e}return n(e,t),e.prototype.listEvent=function(){return new Map([[c.Notify.Activity.CHANGE_REDDOT_NUM,this.onChangeRedDotNum],[r.GuiEvent.Anim.GET_PACK_UP_TABLE_POS,this.onGetTableTabPos],[c.Notify.Other.RESP_NEW_UNLOCK_INFO,this.onUpdateUnLockInfo],[c.Notify.Base.OPEN_USERINFO,this.onUpdateUnLockInfo],[c.Notify.Other.RESP_NEW_UNLOCK_READ_ST,this.onGetUnLockNewStatus],[c.Notify.Other.RESP_TABLES_NEW_ST,this.onGetUnLockNewStatus],[c.Notify.Club.ENTER_CLUB_MAIN_VIEW,this.onSwitch2Club]])},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.showClubChestMenu(!1)},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),this.mapRedDotCtlBtn=null},e.prototype.start=function(){var t=this;this.mapRedDotCtlBtn=new Map,this.btnStore&&this.btnStore.node.on("click",this.onClickShop,this),this.btnMissions&&this.btnMissions.node.on("click",this.onClickMissions,this),this.toggleScopa&&this.toggleScopa.node.on("toggle",this.onToggleScopaClick,this),this.toggleTables&&this.toggleTables.node.on("toggle",this.onToggleTablesClick,this),this.toggleRank&&this.toggleRank.node.on("toggle",this.onToggleRankClick,this),this.toggleClub&&this.toggleClub.node.on("toggle",this.onToggleClubClick,this),this.toggleScopa&&(this.setSubViewType(p.gLobbySubView.Scopa),this.toggleScopa.isChecked=!0),this.bindRedDotEvent(),d.DataProxy.getInstance().club.bClikcClubInGame&&(d.DataProxy.getInstance().club.bClikcClubInGame=!1,h.ComFunctions.performWithDelay(this.node,function(){t.dispatch(m.LobbyEvent.Click.CLICK_CLUB),t.onSwitch2Club()},.25))},e.prototype.setSubViewType=function(t){this.bInHome=t,d.DataProxy.getInstance().comData.setLobbySubViewType(t)},e.prototype.bindRedDotEvent=function(){if(this.toggleTables){this.mapRedDotCtlBtn.set(u.gRedDot.TABLES_REDDOT,[this.toggleTables.node]);var t=d.DataProxy.getInstance().tablesData.redPoint;f.ComUI.changeRedDot(this.toggleTables.node,t)}this.btnMissions&&this.mapRedDotCtlBtn.set(u.gRedDot.DAILY_TASK,[this.btnMissions.node])},e.prototype.onClickShop=function(){this.delayLock&&(C.ComUtils.delayLimit(this),this.dispatch(r.GuiEvent.PopMsg.DISPLAY_SHOP_LAYER),this.dispatch(m.LobbyEvent.Base.PLAY_LOBBY_EFFECT,a.AudioFile.Com.GO),b.BuryPointUtils.send(y.BuryPoint.Debug.Lobby.ClickStore))},e.prototype.onToggleRankClick=function(t){this.judgeClick(p.gUnlcokTag.rank)&&(T.readNewTag(this.toggleRank.node),this.showClubChestMenu(!1),t.isChecked&&this.bInHome!=p.gLobbySubView.Rank&&(this.dispatch(m.LobbyEvent.Base.PLAY_LOBBY_EFFECT,a.AudioFile.Com.GO),b.BuryPointUtils.send(y.BuryPoint.Debug.Lobby.ClickRank),this.dispatch(m.LobbyEvent.Click.CLICK_RANK),this.setSubViewType(p.gLobbySubView.Rank),f.ComUI.addLoading({type:1,cancelTime:3,time:10})))},e.prototype.onToggleScopaClick=function(t){this.showClubChestMenu(h.ComFunctions.isUnlock(p.gUnlcokTag.club)),t.isChecked&&this.bInHome!=p.gLobbySubView.Scopa&&(this.setSubViewType(p.gLobbySubView.Scopa),this.dispatch(m.LobbyEvent.Click.CLICK_HOME),this.dispatch(m.LobbyEvent.Base.PLAY_LOBBY_EFFECT,a.AudioFile.Com.GO),b.BuryPointUtils.send(y.BuryPoint.Debug.Lobby.ClickScopa))},e.prototype.onToggleTablesClick=function(t){this.judgeClick(p.gUnlcokTag.table)&&(T.readNewTag(this.toggleTables.node),this.showClubChestMenu(!1),t.isChecked&&this.bInHome!=p.gLobbySubView.Tables&&(this.setSubViewType(p.gLobbySubView.Tables),this.dispatch(m.LobbyEvent.Base.PLAY_LOBBY_EFFECT,a.AudioFile.Com.GO),b.BuryPointUtils.send(y.BuryPoint.Debug.Lobby.ClickTables),this.dispatch(m.LobbyEvent.Click.CLICK_TABLES)))},e.prototype.onToggleClubClick=function(t){this.judgeClick(p.gUnlcokTag.club,!1)&&(T.readNewTag(this.toggleClub.node),this.showClubChestMenu(!1),t.isChecked&&this.bInHome!=p.gLobbySubView.Club&&(this.setSubViewType(p.gLobbySubView.Club),this.dispatch(m.LobbyEvent.Base.PLAY_LOBBY_EFFECT,a.AudioFile.Com.GO),b.BuryPointUtils.send(y.BuryPoint.Debug.Lobby.ClickClub),this.dispatch(m.LobbyEvent.Click.CLICK_CLUB)))},e.prototype.onSwitch2Club=function(){this.setSubViewType(p.gLobbySubView.Club),T.readNewTag(this.toggleClub.node),this.showClubChestMenu(!1),this.toggleClub.check(),this.toggleRank.uncheck(),this.toggleScopa.uncheck(),this.toggleTables.uncheck()},e.prototype.onClickMore=function(){this.delayLock&&(C.ComUtils.delayLimit(this),this.dispatch(r.GuiEvent.PopMsg.DISPLAY_SETTING_LAYER,new L.SettingData(L.SettingType.LOBBY)),this.dispatch(m.LobbyEvent.Base.PLAY_LOBBY_EFFECT,a.AudioFile.Com.GO),b.BuryPointUtils.send(y.BuryPoint.Debug.Lobby.ClickMore))},e.prototype.onClickMissions=function(){this.delayLock&&(C.ComUtils.delayLimit(this),this.dispatch(r.GuiEvent.PopMsg.DISPLAY_MISSION_LAYER),this.dispatch(m.LobbyEvent.Base.PLAY_LOBBY_EFFECT,a.AudioFile.Com.GO),b.BuryPointUtils.send(y.BuryPoint.Debug.Lobby.ClickMissions))},e.prototype.onClickBoxShop=function(){this.delayLock&&(C.ComUtils.delayLimit(this),this.dispatch(r.GuiEvent.PopMsg.DISPLAY_SHOP_BOX_LAYER),this.dispatch(m.LobbyEvent.Base.PLAY_LOBBY_EFFECT,a.AudioFile.Com.GO),b.BuryPointUtils.send(y.BuryPoint.Debug.Lobby.ClickMissions))},e.prototype.onChangeRedDotNum=function(t){if(t&&this.mapRedDotCtlBtn){var e=this.mapRedDotCtlBtn.get(t.activityId);e&&e.forEach(function(e){f.ComUI.changeRedDot(e,t.redcount)})}},e.prototype.setRedDot=function(t,e){var o=t.getChildByName("reddot");o&&(o.active=e)},e.prototype.onClickHome=function(){this.setSubViewType(p.gLobbySubView.Scopa),this.toggleScopa&&(this.toggleScopa.isChecked=!0)},e.prototype.onClickTables=function(){this.setSubViewType(p.gLobbySubView.Tables),this.toggleTables&&(this.toggleTables.isChecked=!0)},e.prototype.onClickRank=function(){this.setSubViewType(p.gLobbySubView.Rank),this.toggleRank&&(this.toggleRank.isChecked=!0)},e.prototype.onGetTableTabPos=function(){this.toggleTables&&this.dispatch(r.GuiEvent.Anim.PUT_PACK_UP_TABLE_POS,{worldPos:this.toggleTables.node.convertToWorldSpaceAR(cc.Vec2.ZERO)})},e.prototype.onUpdateUnLockInfo=function(){T.refreshLockStatus(this.toggleTables.node,p.gUnlcokTag.table),T.refreshLockStatus(this.toggleRank.node,p.gUnlcokTag.rank),T.refreshLockStatus(this.toggleClub.node,p.gUnlcokTag.club),this.bInHome==p.gLobbySubView.Scopa&&this.showClubChestMenu(h.ComFunctions.isUnlock(p.gUnlcokTag.club))},e.prototype.onGetUnLockNewStatus=function(){T.refreshNewStatus(this.toggleTables.node,p.gUnlcokTag.table,function(){var t=d.DataProxy.getInstance().otherData.newTables;return!!(t&&t.length>0)}),T.refreshNewStatus(this.toggleRank.node,p.gUnlcokTag.rank,null),T.refreshNewStatus(this.toggleClub.node,p.gUnlcokTag.club,null)},e.prototype.judgeClick=function(t,e){if(void 0===e&&(e=!0),!h.ComFunctions.isUnlock(t,e)){var o=d.DataProxy.getInstance().otherData.getUnlockCfg(t);if(!o)return!1;var i=_.i18nHelper.getLanguage([l.LangKey.table_unlock_tips,o.dwLevel]);switch(f.ComUI.showToast(i,3,2),this.bInHome){case p.gLobbySubView.Scopa:this.toggleScopa.isChecked=!0;break;case p.gLobbySubView.Rank:this.toggleRank.isChecked=!0;break;case p.gLobbySubView.Club:this.toggleClub.isChecked=!0;break;case p.gLobbySubView.Tables:this.toggleTables.isChecked=!0}return!1}return!0},e.prototype.showClubChestMenu=function(t){this.ndClubChestMenu&&(this.ndClubChestMenu.active=t)},s([P(cc.Button)],e.prototype,"btnStore",void 0),s([P(cc.Button)],e.prototype,"btnMissions",void 0),s([P(cc.Toggle)],e.prototype,"toggleRank",void 0),s([P(cc.Toggle)],e.prototype,"toggleScopa",void 0),s([P(cc.Toggle)],e.prototype,"toggleTables",void 0),s([P(cc.Toggle)],e.prototype,"toggleClub",void 0),s([P({type:cc.Node,tooltip:"ClubChestMenu"})],e.prototype,"ndClubChestMenu",void 0),s([E],e)}(g.CxComponent);o.LobbyBottomMenu=S,cc._RF.pop()},{"../../../../script/app/const/AudioFile":void 0,"../../../../script/app/const/Global":void 0,"../../../../script/app/event/GuiEvent":void 0,"../../../../script/app/event/Notify":void 0,"../../../../script/app/language/LanguageCfg":void 0,"../../../../script/app/model/ActivityDataProxy":void 0,"../../../../script/app/model/DataProxy":void 0,"../../../../script/app/module/buryPoint/BuryPoint":void 0,"../../../../script/app/module/buryPoint/BuryPointUtils":void 0,"../../../../script/app/view/ComFunctions":void 0,"../../../../script/app/view/ComUI":void 0,"../../../../script/app/view/SettingLayer":void 0,"../../../../script/lib/base/CxComponent":void 0,"../../../../script/lib/base/NewTag":void 0,"../../../../script/lib/i18n/i18nHelper":void 0,"../../../../script/lib/utils/ComUtils":void 0,"../../model/LobbyEvent":"LobbyEvent"}],LobbyDeskBuild:[function(t,e,o){"use strict";cc._RF.push(e,"993eaZXKU5CT6KFSjAM+6H/","LobbyDeskBuild");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../script/app/const/Global"),p=t("../../../../script/app/view/deskbuild/DeskBuildMenu"),r=t("../../../../script/lib/base/CxComponent"),c=t("../../../../script/lib/utils/ComUtils"),l=t("../../model/LobbyEvent"),u=cc._decorator,d=u.ccclass,y=u.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ndMenu=null,e.pDeskBuildMenu=null,e.mIsInTable=!1,e}return n(e,t),e.prototype.listEvent=function(){return new Map([[l.LobbyEvent.Click.CLICK_HOME,this.onClickHome],[l.LobbyEvent.Click.CLICK_TABLES,this.onClickTables],[l.LobbyEvent.Click.CLICK_RANK,this.onClickRank]])},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.ndMenu&&(this.mMenuInitPos=cc.v2(this.ndMenu.position),this.pDeskBuildMenu=this.ndMenu.getComponentInChildren(p.default),this.pDeskBuildMenu&&this.pDeskBuildMenu.init({fromScene:a.gSceneType.Lobby,reddot:!1,name:"desk_build"}))},e.prototype.start=function(){this.displayLine(!0),this.ndMenu&&!this.mIsInTable&&c.ComUtils.playEnterAction(this.ndMenu,this.mMenuInitPos,"right_left",132,!1,.4)},e.prototype.onClickHome=function(){this.displayLine(!0),this.ndMenu&&(this.ndMenu.y=this.mMenuInitPos.y,this.ndMenu.x=this.mMenuInitPos.x,c.ComUtils.playEnterAction(this.ndMenu,this.mMenuInitPos,"right_left",132,!1,.4),this.pDeskBuildMenu&&this.pDeskBuildMenu.setInBuild(!1))},e.prototype.onClickTables=function(){this.mIsInTable=!0,this.displayLine(!1),this.ndMenu&&(this.ndMenu.stopAllActions(),this.ndMenu.y=this.mMenuInitPos.y+300,this.ndMenu.x=this.mMenuInitPos.x,this.pDeskBuildMenu&&this.pDeskBuildMenu.setInBuild(!0))},e.prototype.onClickRank=function(){this.mIsInTable=!0,this.displayLine(!1),this.ndMenu&&(this.ndMenu.stopAllActions(),this.ndMenu.y=this.mMenuInitPos.y+300,this.ndMenu.x=this.mMenuInitPos.x,this.pDeskBuildMenu&&this.pDeskBuildMenu.setInBuild(!0))},e.prototype.displayLine=function(t){this.pDeskBuildMenu&&this.pDeskBuildMenu.displayView({showLine:t})},s([y(cc.Node)],e.prototype,"ndMenu",void 0),s([d],e)}(r.CxComponent);o.default=b,cc._RF.pop()},{"../../../../script/app/const/Global":void 0,"../../../../script/app/view/deskbuild/DeskBuildMenu":void 0,"../../../../script/lib/base/CxComponent":void 0,"../../../../script/lib/utils/ComUtils":void 0,"../../model/LobbyEvent":"LobbyEvent"}],LobbyEffectLayer:[function(t,e,o){"use strict";cc._RF.push(e,"dfc2fKpYWFOFpK8yms8fO/r","LobbyEffectLayer");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LobbyEffectLayer=void 0;var a=t("./../../../../script/lib/base/CxComponent"),p=cc._decorator,r=p.ccclass,c=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),s([r],e)}(a.CxComponent));o.LobbyEffectLayer=c,cc._RF.pop()},{"./../../../../script/lib/base/CxComponent":void 0}],LobbyEvent:[function(t,e,o){"use strict";cc._RF.push(e,"2d3d6i3cgdPRL8LbB8Lqw+q","LobbyEvent"),Object.defineProperty(o,"__esModule",{value:!0}),o.LobbyEvent=void 0,function(t){(function(t){t.PLAY_LOBBY_MUSIC="lobby_play_lobby_music",t.PLAY_LOBBY_EFFECT="lobby_play_lobby_effect"})(t.Base||(t.Base={})),function(t){t.CLICK_SCOPA="lobby_click_scopa",t.CLICK_SCOPA_WILD="lobby_click_scopa_wild",t.CLICK_SCOPNE="lobby_click_scopne",t.CLICK_QUICK_START="lobby_click_quick_start",t.CLICK_TABLES="lobby_click_tables",t.CLICK_RANK="lobby_click_rank",t.CLICK_CLUB="lobby_click_club",t.CLICK_HOME="lobby_click_home",t.CLICK_TABLE_MAP="lobby_click_tablemap",t.CLICK_TABLE_BOX="lobby_click_table_box",t.CLICK_CD_TASK="lobby_clickcdtask",t.CLICK_BOX_SHOP="lobby_click_box_shop",t.CLICK_INVITE="lobby_click_invite",t.CLICK_LOTTERY="lobby_click_lottery"}(t.Click||(t.Click={})),(t.MainView||(t.MainView={})).FINGER="lobby_main_view_finger"}(o.LobbyEvent||(o.LobbyEvent={})),cc._RF.pop()},{}],LobbyFinger:[function(t,e,o){"use strict";cc._RF.push(e,"ca9afkXL7dNDrE3s5qe1Q6S","LobbyFinger");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LobbyFinger=void 0;var a=t("../../../../script/app/event/GuiEvent"),p=t("./../../../../script/lib/base/CxComponent"),r=cc._decorator,c=r.ccclass,l=r.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ndFinger=null,e}return n(e,t),e.prototype.listEvent=function(){return new Map([[a.GuiEvent.UI.SHOW_FINGER,this.show],[a.GuiEvent.UI.HIDE_FINGER,this.hide]])},e.prototype.start=function(){this.show({worldPos:cc.v2(300,400)})},e.prototype.show=function(t){if(t&&t.worldPos&&this.ndFinger){var e=this.ndFinger.parent.convertToNodeSpace(t.worldPos);this.ndFinger.x=e.x,this.ndFinger.y=e.y,this.ndFinger.active=!0}},e.prototype.hide=function(){this.ndFinger&&(this.ndFinger.active=!1)},s([l(cc.Node)],e.prototype,"ndFinger",void 0),s([c],e)}(p.CxComponent);o.LobbyFinger=u,cc._RF.pop()},{"../../../../script/app/event/GuiEvent":void 0,"./../../../../script/lib/base/CxComponent":void 0}],LobbyGameItem:[function(t,e,o){"use strict";cc._RF.push(e,"73880HsQbhCTKInd4W5nouK","LobbyGameItem");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../script/app/event/Notify"),p=t("../../../../script/lib/base/CxComponent"),r=t("../../../../script/lib/utils/ComUtils"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pSpriteAtlas=null,e.pMainSprite=null,e.pDiSprite=null,e.spPowerIcon=null,e.pBasePower=null,e.pBaseScore=null,e.pEnterScore=null,e.pGoldIcon=null,e.pPeiceIcon=null,e.pPeiceLabel=null,e.mCurGameType=0,e.mCurGrade=0,e.mCurConfig=null,e.maxPic=4,e}return n(e,t),e.prototype.start=function(){this.initView()},e.prototype.init=function(t){t&&(this.mCurGameType=t.gameType,this.mCurConfig=t.config)},e.prototype.initView=function(){if(this.mCurConfig&&this.mCurConfig.chClientData){var t=this.mCurConfig.chClientData;this.mCurGrade=this.mCurConfig.dwGradeType||0,this.initMainIcon(this.mCurGrade),this.initItemDi(this.mCurGrade),this.setBaseScore(t.basescore),this.setBasePower(t.consumeps),this.setScoreUpAndDown(t.ug,t.dg),this.setPeiceIcon(t.chipnum)}},e.prototype.setBaseScore=function(t){this.pBaseScore&&(this.pBaseScore.string=r.ComUtils.formatGoldStr(t,1e4,0))},e.prototype.setBasePower=function(t){this.pBasePower&&(this.pBasePower.string=""+t),t<=0&&this.spPowerIcon&&(this.spPowerIcon.node.parent.active=!1)},e.prototype.setScoreUpAndDown=function(t,e){this.pEnterScore&&(this.pEnterScore.string=this.getScoreText(t,e))},e.prototype.getScoreText=function(t,e){var o,i;return null==t||null==e?"":(i=r.ComUtils.formatGoldStr(e,1e5,0),o=r.ComUtils.formatGoldStr(t,1e5,0),0==t?""+i:i+"~"+o)},e.prototype.initMainIcon=function(t){if(this.pSpriteAtlas&&t){var e="lobby_game_item_"+t;if(t>this.maxPic){var o=t%4;0===o&&(o=1),e="lobby_game_item_"+o}var i=this.pSpriteAtlas.getSpriteFrame(e);i&&this.pMainSprite&&(this.pMainSprite.spriteFrame=i)}},e.prototype.initItemDi=function(t){if(this.pSpriteAtlas&&t){var e="lobby_game_di_"+t;if(t>this.maxPic){var o=t%4;0===o&&(o=1),e="lobby_game_di_"+o}var i=this.pSpriteAtlas.getSpriteFrame(e);i&&this.pDiSprite&&(this.pDiSprite.spriteFrame=i)}},e.prototype.setPeiceIcon=function(t){this.pPeiceIcon&&this.pPeiceLabel&&t&&t>0&&(this.pPeiceIcon.node.active=!0,this.pPeiceLabel.string="x"+t)},e.prototype.onEnterGame=function(){this.mCurConfig&&this.dispatch(a.Notify.MatchGame.MATCH_GAME_ID,{gameId:this.mCurConfig.dwGameID})},s([u(cc.SpriteAtlas)],e.prototype,"pSpriteAtlas",void 0),s([u(cc.Sprite)],e.prototype,"pMainSprite",void 0),s([u(cc.Sprite)],e.prototype,"pDiSprite",void 0),s([u(cc.Sprite)],e.prototype,"spPowerIcon",void 0),s([u(cc.Label)],e.prototype,"pBasePower",void 0),s([u(cc.Label)],e.prototype,"pBaseScore",void 0),s([u(cc.Label)],e.prototype,"pEnterScore",void 0),s([u(cc.Sprite)],e.prototype,"pGoldIcon",void 0),s([u(cc.Sprite)],e.prototype,"pPeiceIcon",void 0),s([u(cc.Label)],e.prototype,"pPeiceLabel",void 0),s([l],e)}(p.CxComponent);o.default=d,cc._RF.pop()},{"../../../../script/app/event/Notify":void 0,"../../../../script/lib/base/CxComponent":void 0,"../../../../script/lib/utils/ComUtils":void 0}],LobbyGameView:[function(t,e,o){"use strict";cc._RF.push(e,"440c8xn1mhEWriTBJ7zhLeu","LobbyGameView");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../script/app/base/component/ComSubLayer"),p=t("../../../../script/app/const/Global"),r=t("../../../../script/app/event/Notify"),c=t("../../../../script/app/language/LanguageCfg"),l=t("../../../../script/lib/utils/ComUtils"),u=t("./LobbyGameItem"),d=cc._decorator,y=d.ccclass,b=d.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pGameItem=null,e.pBtnLabel=null,e.pContainer=null,e.labDesc=null,e.mCurGameType=p.gHuskyGameType.SCOPA_GOLD,e.mViewList=null,e.mViewClass=null,e.mGameList=null,e}return n(e,t),e.prototype.initParams=function(){return{title:this.getGameName(),showSubBG:!1,titleColor:this.isWildGame()?1:0}},e.prototype.listEvent=function(){return new Map([[r.Notify.Base.UPDATE_CURRENCY,this.onUpdateGold]])},e.prototype.start=function(){this.setVerticalOffset(),this.initLayer()},e.prototype.onDestroy=function(){this.node.stopAllActions(),t.prototype.onDestroy.call(this)},e.prototype.onEnable=function(){this.mViewList&&this.updateViewList()},e.prototype.init=function(t){t&&(this.mCurGameType=t.gameType||p.gHuskyGameType.SCOPA_GOLD,this.mGameList=t.gameList)},e.prototype.getGameName=function(){var t="";switch(this.mCurGameType){case p.gHuskyGameType.SCOPA_GOLD:t="SCOPA";break;case p.gHuskyGameType.SCOPA_GOLD_WILD:case p.gHuskyGameType.SCOPA_GOLD_A:case p.gHuskyGameType.SCOPA_GOLD_CRAZY:case p.gHuskyGameType.SCOPA_GOLD_CRAZY_V3:t="SCOPA WILD";break;case p.gHuskyGameType.SCOPONE_GOLD:t="SCOPONE";break;default:t="SCOPA"}return t},e.prototype.isWildGame=function(){return this.mCurGameType!==p.gHuskyGameType.SCOPA_GOLD},e.prototype.initLayer=function(){this.initData(),this.pBtnLabel&&(this.pBtnLabel.string=l.ComUtils.getLang(c.LangKey.text_play_now)),this.labDesc&&(this.labDesc.node.active=this.isWildGame(),this.labDesc.string=l.ComUtils.getLang(c.LangKey.text_scopa_wild_tips)),this.initViewList()},e.prototype.initData=function(){this.mViewClass=new Array},e.prototype.initViewList=function(){if(this.mGameList&&this.mGameList.length>0)for(var t=0;t<this.mGameList.length;t++){var e=this.mGameList[t];if(e&&e.dwGameID){var o=cc.instantiate(this.pGameItem);if(o&&this.pContainer){this.pContainer.addChild(o);var i=o.getComponent(u.default);i&&(this.mViewClass.push(i),i.init({gameType:this.mCurGameType,config:e}))}}}},e.prototype.updateViewList=function(){},e.prototype.onUpdateGold=function(){this.updateViewList()},e.prototype.onClickQuickMenu=function(){this.mCurGameType&&this.dispatch(r.Notify.MatchGame.MATCH_QUICK_GAME,this.mCurGameType)},s([b(cc.Prefab)],e.prototype,"pGameItem",void 0),s([b(cc.Label)],e.prototype,"pBtnLabel",void 0),s([b(cc.Node)],e.prototype,"pContainer",void 0),s([b(cc.Label)],e.prototype,"labDesc",void 0),s([y],e)}(a.default);o.default=h,cc._RF.pop()},{"../../../../script/app/base/component/ComSubLayer":void 0,"../../../../script/app/const/Global":void 0,"../../../../script/app/event/Notify":void 0,"../../../../script/app/language/LanguageCfg":void 0,"../../../../script/lib/utils/ComUtils":void 0,"./LobbyGameItem":"LobbyGameItem"}],LobbyGoldInfo:[function(t,e,o){"use strict";cc._RF.push(e,"a5c806O035E97fMOOVt7IAI","LobbyGoldInfo");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../script/app/config/GameConfig"),p=t("../../../../script/app/event/GuiEvent"),r=t("../../../../script/app/event/Notify"),c=t("../../../../script/app/model/DataProxy"),l=t("../../../../script/lib/base/CxComponent"),u=t("../../../../script/lib/utils/ComUtils"),d=cc._decorator,y=d.ccclass,b=d.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pGoldLabel=null,e.pGoldIcon=null,e}return n(e,t),e.prototype.start=function(){this.initGoldInfo()},e.prototype.listEvent=function(){return new Map([[r.Notify.Base.UPDATE_CURRENCY,this.initGoldInfo],[r.Notify.Base.UPDATE_USERINFO,this.initGoldInfo],[r.Notify.UserInfo.UPDATE_USER_GOLD,this.initGoldInfo],[p.GuiEvent.Anim.AWARD_GET_ICON_POS,this.onPutAwardPosInfo]])},e.prototype.initGoldInfo=function(){var t=c.DataProxy.getInstance().userData.gold;if(null!=t){var e=u.ComUtils.formatGoldStr(t);this.pGoldLabel&&(this.pGoldLabel.string=e)}},e.prototype.onClick=function(){a.GameConfig.Release==a.ServerType.Release?this.dispatch(p.GuiEvent.PopMsg.DISPLAY_SHOP_LAYER):this.dispatch(p.GuiEvent.PopMsg.DISPLAY_TEST_GOLD)},e.prototype.onPutAwardPosInfo=function(){this.pGoldIcon&&this.dispatch(p.GuiEvent.Anim.AWARD_PUT_ICON_POS,{tPos:this.pGoldIcon.parent.convertToWorldSpaceAR(cc.v2(this.pGoldIcon.x,this.pGoldIcon.y)),node:this.pGoldIcon.parent.parent})},s([b(cc.Label)],e.prototype,"pGoldLabel",void 0),s([b(cc.Node)],e.prototype,"pGoldIcon",void 0),s([y],e)}(l.CxComponent);o.default=h,cc._RF.pop()},{"../../../../script/app/config/GameConfig":void 0,"../../../../script/app/event/GuiEvent":void 0,"../../../../script/app/event/Notify":void 0,"../../../../script/app/model/DataProxy":void 0,"../../../../script/lib/base/CxComponent":void 0,"../../../../script/lib/utils/ComUtils":void 0}],LobbyHandler:[function(t,e,o){"use strict";cc._RF.push(e,"12abappek1I0rnyLspgypN/","LobbyHandler");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.LobbyHandler=void 0;var s=t("./../../../script/app/model/DataProxy"),a=t("./../../../script/app/const/Global"),p=t("./../../../script/app/model/LocalDataProxy"),r=t("../../../script/app/event/Notify"),c=t("../../../script/app/platform/FcmSdk"),l=t("../../../script/app/base/handler/ProxyHandler"),u=t("../../../script/lib/utils/Logger"),d=t("./LobbyVoice"),y=t("../model/LobbyEvent"),b=t("../../../script/app/module/buryPoint/BuryPoint"),h=t("../../../script/app/module/buryPoint/BuryPointUtils"),f=t("../../../script/app/language/LanguageCfg"),L=t("../../../script/app/view/ComUI"),g=t("../../../script/lib/utils/ComUtils"),v=t("../../../script/app/event/GuiEvent"),_=t("../../../script/app/model/AdDataProxy"),C=t("../../../script/app/module/task/CMD_TaskMsg"),m=t("../../../script/plugin/pb/protofile/CMD_FFDMsg"),I=t("../../../script/app/view/ComFunctions"),E=t("../../../script/lib/i18n/i18nHelper"),P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lobbyVoice=null,e}return n(e,t),e.prototype.getName=function(){return"LobbyHandler"},e.prototype.onDestroy=function(){this.lobbyVoice&&(this.lobbyVoice.onDestroy(),delete this.lobbyVoice,this.lobbyVoice=null),t.prototype.release.call(this)},e.prototype.addHandler=function(){this.lobbyVoice=new d.LobbyVoice,this.dispatch(y.LobbyEvent.Base.PLAY_LOBBY_MUSIC),this.reqInfomation(),this.dispatch(r.Notify.AD.LOAD_BANNER,m.BannerType.HALL),this.dispatch(r.Notify.AD.SHOW_BANNER,m.BannerType.HALL)},e.prototype.initEvent=function(){t.prototype.initEvent.call(this),this.addEvent(r.Notify.Base.ON_RECONNET_TIP,this.onReconnetTip),this.addEvent(r.Notify.Gate.CONNECTED,this.onConnected),this.addEvent(y.LobbyEvent.Click.CLICK_SCOPA,this.onClickScopa),this.addEvent(y.LobbyEvent.Click.CLICK_SCOPA_WILD,this.onClickScopaWild),this.addEvent(y.LobbyEvent.Click.CLICK_SCOPNE,this.onClickScopne),this.addEvent(y.LobbyEvent.Click.CLICK_QUICK_START,this.onClickQuickStart),this.addEvent(y.LobbyEvent.Click.CLICK_TABLE_BOX,this.onClickTableBox),this.addEvent(y.LobbyEvent.Click.CLICK_INVITE,this.onClickInvite),this.addEvent(y.LobbyEvent.Click.CLICK_LOTTERY,this.onClickLottery),this.addEvent(r.Notify.Tables.RTN_TABLE_RECYCLE,this.onRtnTableBox),this.addEvent(r.Notify.Task.OPEN_SCOPA_CLASSIC,this.onClickScopa),this.addEvent(r.Notify.Task.OPEN_SCOPA_WILD,this.onClickScopaWild),this.addEvent(r.Notify.Lobby.SWICTH_VIEW,this.onLobbySwitchView)},e.prototype.reqOnAppResume=function(){this.dispatch(r.Notify.Other.GET_INVITE_INFO)},e.prototype.reqInfomation=function(){u.Logger.info("==== LobbyHandler reqInfomation ==="),this.dispatch(r.Notify.UserInfo.GET_USER_INFO),this.dispatch(r.Notify.UserInfo.GET_BIND_ACCOUNT_INFO),this.dispatch(r.Notify.UserInfo.REQ_USER_POWER_DATA),this.dispatch(r.Notify.Shop.REQ_BOX_SHOP_DATA_INFO),this.dispatch(r.Notify.Task.REQ_DAY_TASK_LIST),this.dispatch(r.Notify.Query.FIND_USER_ROOM),this.dispatch(r.Notify.Other.REQ_HALL_SHARE_CFG),this.dispatch(r.Notify.Activity.REQ_ACT_ON_OFF),this.dispatch(r.Notify.UserInfo.REQ_EXTSESSION_TIME),this.dispatch(r.Notify.Tables.REQ_TABLES_LIST),this.dispatch(r.Notify.Tables.REQ_NOT_GET_AWARD),this.dispatch(r.Notify.Other.REQ_MYSTERY_GIFT_DATA),this.dispatch(r.Notify.Other.GET_INVITE_INFO),this.dispatch(r.Notify.Other.REQ_STATISTICS_CONFIG),this.dispatch(r.Notify.Ranking.REQ_QUICK_UPGRADE_REWARD),this.dispatch(r.Notify.Other.REQ_TANG_KUANG_INFO),this.dispatch(r.Notify.GoldenPass.REQ_INFO),this.dispatch(r.Notify.FFD.REQ_OTHER_GG_INFO),this.dispatch(r.Notify.Other.REQ_LEVEL_UP),this.dispatch(r.Notify.Other.REQ_NEW_UNLOCK_READ_ST),this.dispatch(r.Notify.Other.REQ_TABLES_NEW_ST),this.dispatch(r.Notify.Shop.REQ_MIX_GIFT),this.dispatch(r.Notify.FFD.REQ_GG_TYPE),this.requestLobbyRedDot(),c.default.udpateFCMToken(),this.handleUnfinishedEvent()},e.prototype.requestLobbyRedDot=function(){this.dispatch(r.Notify.Tables.REQ_TABLE_RED_DOT),this.dispatch(r.Notify.Task.REQ_DAY_TASK_REDDOT,C.RedPointType.CD_TASK),this.dispatch(r.Notify.Task.REQ_DAY_TASK_REDDOT,C.RedPointType.DAILY_TASK),this.dispatch(r.Notify.FFD.REQ_RED_DOT,m.RedPointType.DAILY_LOTERY)},e.prototype.onReconnetTip=function(){L.ComUI.addLoading({time:10})},e.prototype.onConnected=function(){L.ComUI.rmLoading()},e.prototype.onClickScopa=function(){var t=s.DataProxy.getInstance().configData.getEntryGameTypeList()[0];s.DataProxy.getInstance().comData.setLobbySubView(a.gLobbySubView.Scopa),s.DataProxy.getInstance().comData.setLobbyGameType(t),h.BuryPointUtils.send(b.BuryPoint.Operation.Lobby.ScopaClick),this.dispatch(v.GuiEvent.PopMsg.DISPLAY_LOBBY_SELECT_GAME,{gameType:t,gameList:g.ComUtils.clone(this.configData.getGameConfigList(t))})},e.prototype.onClickScopaWild=function(){if(I.ComFunctions.isUnlock(a.gUnlcokTag.scopaWild)){var t=s.DataProxy.getInstance().configData.getEntryGameTypeList()[1];s.DataProxy.getInstance().comData.setLobbySubView(a.gLobbySubView.Scopa),s.DataProxy.getInstance().comData.setLobbyGameType(t),h.BuryPointUtils.send(b.BuryPoint.Operation.Lobby.ScopaClick),this.dispatch(v.GuiEvent.PopMsg.DISPLAY_LOBBY_SELECT_GAME,{gameType:t,gameList:g.ComUtils.clone(this.configData.getGameConfigList(t))})}else{var e=s.DataProxy.getInstance().otherData.getUnlockCfg(a.gUnlcokTag.scopaWild),o=E.i18nHelper.getLanguage([f.LangKey.table_unlock_tips,e.dwLevel]);L.ComUI.showToast(o,3,2)}},e.prototype.onClickScopne=function(){h.BuryPointUtils.send(b.BuryPoint.Operation.Lobby.ScopneClick),L.ComUI.showDialog({text:g.ComUtils.getLang(f.LangKey.text_coming_soon)})},e.prototype.onClickQuickStart=function(){this.dispatch(r.Notify.MatchGame.MATCH_QUICK_START),h.BuryPointUtils.send(b.BuryPoint.Operation.Lobby.QuickStart)},e.prototype.showFinger=function(){var t=new Date,e=this.localData.get(p.LocalStorageProxy.DailyFirstLogin,""),o=t.getFullYear()+"/"+g.ComUtils.pad(t.getMonth()+1,2)+"/"+g.ComUtils.pad(t.getDate(),2);e!==o&&(this.dispatch(y.LobbyEvent.MainView.FINGER,!0),this.localData.set(p.LocalStorageProxy.DailyFirstLogin,o))},e.prototype.onClickTableBox=function(){this.dispatch(r.Notify.Tables.REQ_TABLE_RECYCLE,{isPop:!0})},e.prototype.onRtnTableBox=function(t){t&&t.isPop&&this.dispatch(v.GuiEvent.PopMsg.SHOW_TABLE_BOX_LAYER,t)},e.prototype.onClickInvite=function(){var t=s.DataProxy.getInstance().inviteData.getInvitInfo();t?this.dispatch(v.GuiEvent.PopMsg.INVITE_USER,{tabRewardList:t.tabRewardList}):this.dispatch(r.Notify.Other.GET_INVITE_CFG)},e.prototype.onClickLottery=function(){var t=s.DataProxy.getInstance().adData.getRVSceneData(_.RVADSceneID.LOTTERY);this.dispatch(v.GuiEvent.PopMsg.DISPLAY_VIDEO_LOTTERY,t)},e.prototype.onLobbySwitchView=function(t){s.DataProxy.getInstance().comData.setLobbySubView(t)},e.prototype.handleUnfinishedEvent=function(){},e}(l.ProxyHandler);o.LobbyHandler=P,cc._RF.pop()},{"../../../script/app/base/handler/ProxyHandler":void 0,"../../../script/app/event/GuiEvent":void 0,"../../../script/app/event/Notify":void 0,"../../../script/app/language/LanguageCfg":void 0,"../../../script/app/model/AdDataProxy":void 0,"../../../script/app/module/buryPoint/BuryPoint":void 0,"../../../script/app/module/buryPoint/BuryPointUtils":void 0,"../../../script/app/module/task/CMD_TaskMsg":void 0,"../../../script/app/platform/FcmSdk":void 0,"../../../script/app/view/ComFunctions":void 0,"../../../script/app/view/ComUI":void 0,"../../../script/lib/i18n/i18nHelper":void 0,"../../../script/lib/utils/ComUtils":void 0,"../../../script/lib/utils/Logger":void 0,"../../../script/plugin/pb/protofile/CMD_FFDMsg":void 0,"../model/LobbyEvent":"LobbyEvent","./../../../script/app/const/Global":void 0,"./../../../script/app/model/DataProxy":void 0,"./../../../script/app/model/LocalDataProxy":void 0,"./LobbyVoice":"LobbyVoice"}],LobbyHeadInfo:[function(t,e,o){"use strict";cc._RF.push(e,"df1262IFGxD64VctMvcJeNp","LobbyHeadInfo");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LobbyHeadInfo=void 0;var a=t("../../../../script/app/const/AudioFile"),p=t("../../../../script/app/event/GuiEvent"),r=t("../../../../script/app/event/Notify"),c=t("../../../../script/app/model/DataProxy"),l=t("../../../../script/app/module/userInfo/UserInfoManager"),u=t("../../../../script/lib/base/CxComponent"),d=t("../../../../script/lib/utils/ComUtils"),y=t("../../../../script/lib/utils/Logger"),b=t("../../model/LobbyEvent"),h=cc._decorator,f=h.ccclass,L=h.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pSpriteAtlas=null,e.txtName=null,e.ndHead=null,e.spLevelBg=null,e.labTabLevel=null,e.mUserName="",e.mGender=0,e.mUserId=0,e.delayLock=!0,e}return n(e,t),e.prototype.listEvent=function(){return new Map([[r.Notify.Base.UPDATE_USERINFO,this.onUserInfo],[r.Notify.Base.OPEN_USERINFO,this.onUserHead],[r.Notify.UserInfo.UPDATE_USER_HEAD,this.onUserHead],[r.Notify.UserInfo.UPLOAD_USER_INFO,this.onUploadInfo],[r.Notify.Other.RESP_LEVEL_UP,this.onLevelUp]])},e.prototype.start=function(){var t=c.DataProxy.getInstance().userData;t&&(this.mUserName=t.userName,this.mGender=t.gender,this.initHead(t),this.initName(t),this.mUserId=t.userId)},e.prototype.initHead=function(t){this.dispatch(r.Notify.Head.CREATE_HEAD,{parent:this.ndHead,userId:t.userId,sex:t.gender,size:this.ndHead.getContentSize(),save:!0,faceId:t.faceId,url:t.headUrl,level:t.level,rankLever:t.rankLever||0,rankStartLever:t.rankStartLever||0}),this.labTabLevel&&(this.labTabLevel.string=""+t.tableLevel)},e.prototype.initName=function(t){if(this.mUserName=t.userName,this.mUserName){var e=d.ComUtils.subStr(this.mUserName,9);this.txtName&&e&&(this.txtName.string=e)}},e.prototype.onClickUserInfo=function(){if(y.Logger.info("onClickUserInfo()"),this.delayLock){d.ComUtils.delayLimit(this,1e3);var t=c.DataProxy.getInstance().userData;this.dispatch(p.GuiEvent.PopMsg.DISPLAY_INFO_DIALOG,{myUserId:this.mUserId,userId:this.mUserId,userName:t.userName,userGold:t.gold,totalTimes:t.dwJushuTotal,totalWins:t.dwWinCount,gameWinList:t.gameWinList,faceId:t.faceId,headUrl:t.headUrl,gender:t.gender,powerInfo:t.powerInfo,useTableId:t.useTableId,ownTableList:t.ownTableList,curTableId:t.useTableId,level:t.level,curExp:t.curExp,nextLvlExp:t.nextLvlExp,bIsGoldenPass:t.bIsGoldenPass,propsList:t.propsList,clubInfo:t.clubInfo}),this.dispatch(b.LobbyEvent.Base.PLAY_LOBBY_EFFECT,a.AudioFile.Com.GO)}},e.prototype.onUserInfo=function(t){this.mUserName===t.userName&&this.mGender===t.gender||(this.mUserName=t.userName,this.mGender=t.gender,this.onUploadInfo()),this.mComHead&&l.UserInfoManager.getInstance().updateMyHeadInfo(this.mComHead),this.initName(t),this.labTabLevel&&(this.labTabLevel.string=""+t.tableLevel)},e.prototype.onUserHead=function(t){var e=t||c.DataProxy.getInstance().userData;this.initHead(e)},e.prototype.onUploadInfo=function(){this.dispatch(r.Notify.UserInfo.UPLOAD_USER_NAME,this.mUserName),this.dispatch(r.Notify.UserInfo.UPLOAD_USER_GENDER,this.mGender)},e.prototype.onLevelUp=function(){cc.log("\u66f4\u65b0\u7528\u6237\u5934\u50cf\u4fe1\u606f")},s([L(cc.SpriteAtlas)],e.prototype,"pSpriteAtlas",void 0),s([L(cc.Label)],e.prototype,"txtName",void 0),s([L(cc.Node)],e.prototype,"ndHead",void 0),s([L(cc.Sprite)],e.prototype,"spLevelBg",void 0),s([L(cc.Label)],e.prototype,"labTabLevel",void 0),s([f],e)}(u.CxComponent);o.LobbyHeadInfo=g,cc._RF.pop()},{"../../../../script/app/const/AudioFile":void 0,"../../../../script/app/event/GuiEvent":void 0,"../../../../script/app/event/Notify":void 0,"../../../../script/app/model/DataProxy":void 0,"../../../../script/app/module/userInfo/UserInfoManager":void 0,"../../../../script/lib/base/CxComponent":void 0,"../../../../script/lib/utils/ComUtils":void 0,"../../../../script/lib/utils/Logger":void 0,"../../model/LobbyEvent":"LobbyEvent"}],LobbyHeadItem:[function(t,e,o){"use strict";cc._RF.push(e,"44027/ajw1NI6cmIDpXyfoR","LobbyHeadItem");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../script/app/const/Global"),p=t("../../../../script/app/event/Notify"),r=t("../../../../script/lib/base/CxComponent"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pHeadNode=null,e.pSelectIcon=null,e.mIndex=0,e.mSelectIndex=0,e.mCallback=null,e}return n(e,t),e.prototype.start=function(){this.initItem()},e.prototype.init=function(t){this.mIndex=t.index,this.mSelectIndex=t.select,this.mCallback=t.callback},e.prototype.initItem=function(){this.pHeadNode&&this.dispatch(p.Notify.Head.CREATE_HEAD,{parent:this.pHeadNode,faceId:this.mIndex+1,sex:a.Gender.BOY,isSelect:this.mIndex==this.mSelectIndex,size:cc.size(this.pHeadNode.width,this.pHeadNode.height)}),this.pSelectIcon&&(this.mIndex==this.mSelectIndex?this.pSelectIcon.active=!0:this.pSelectIcon.active=!1)},e.prototype.updateItem=function(t){this.mSelectIndex=t,this.initItem()},e.prototype.onClick=function(){this.mCallback&&this.mCallback(this.mIndex)},s([u(cc.Node)],e.prototype,"pHeadNode",void 0),s([u(cc.Node)],e.prototype,"pSelectIcon",void 0),s([l],e)}(r.CxComponent);o.default=d,cc._RF.pop()},{"../../../../script/app/const/Global":void 0,"../../../../script/app/event/Notify":void 0,"../../../../script/lib/base/CxComponent":void 0}],LobbyHeadModify:[function(t,e,o){"use strict";cc._RF.push(e,"42367traNZAUZ6MA1iDdExf","LobbyHeadModify");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../script/app/const/Global"),p=t("../../../../script/app/event/Notify"),r=t("../../../../script/app/language/LanguageCfg"),c=t("../../../../script/app/model/DataProxy"),l=t("../../../../script/app/view/ComUI"),u=t("../../../../script/lib/base/CxComponent"),d=t("../../../../script/lib/utils/ComUtils"),y=cc._decorator,b=y.ccclass,h=y.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pHeadItem=null,e.pContainer=null,e.pBtnText=null,e.mCurSelect=0,e.mClsList=new Array,e.delayLock=!0,e}return n(e,t),e.prototype.start=function(){this.setVerticalOffset(),this.initLayer()},e.prototype.initParams=function(){return{title:"",showTitle:!1,showSubBG:!1}},e.prototype.listEvent=function(){return new Map([[p.Notify.UserInfo.RTN_MODIFY_USER_FACE_ID,this.onUpdateResult]])},e.prototype.getDefaultSelect=function(){var t=0;return 0==(t=c.DataProxy.getInstance().userData.faceId||0)?t=(c.DataProxy.getInstance().userData.gender||a.Gender.BOY)==a.Gender.BOY?1:0:t-=1,t},e.prototype.initLayer=function(){var t=this;this.mCurSelect=this.getDefaultSelect();for(var e=0;e<9;e++){var o=cc.instantiate(this.pHeadItem);this.pContainer&&this.pContainer.addChild(o);var i=o.getComponent("LobbyHeadItem");i&&(this.mClsList.push(i),i.init({index:e,select:this.mCurSelect,callback:function(e){t.updateAllItem(e)}}))}d.ComUtils.setLangText(this.pBtnText,r.LangKey.user_confirm_change)},e.prototype.updateAllItem=function(t){var e=this;this.mCurSelect=t,this.mClsList&&this.mClsList.forEach(function(t){t&&t.updateItem&&t.updateItem(e.mCurSelect)})},e.prototype.onConfirmChange=function(){if(this.delayLock&&(d.ComUtils.delayLimit(this,1e3),this.mCurSelect>=0)){var t=this.mCurSelect+1;this.dispatch(p.Notify.UserInfo.UPLOAD_USER_FACE_ID,t)}},e.prototype.onUpdateResult=function(t){t?l.ComUI.showToast(d.ComUtils.getLang(r.LangKey.text_succ_modify_head)):l.ComUI.showToast(d.ComUtils.getLang(r.LangKey.text_fail_modify_head)),this.node.destroy()},s([h(cc.Prefab)],e.prototype,"pHeadItem",void 0),s([h(cc.Node)],e.prototype,"pContainer",void 0),s([h(cc.Label)],e.prototype,"pBtnText",void 0),s([b],e)}(u.CxComponent);o.default=f,cc._RF.pop()},{"../../../../script/app/const/Global":void 0,"../../../../script/app/event/Notify":void 0,"../../../../script/app/language/LanguageCfg":void 0,"../../../../script/app/model/DataProxy":void 0,"../../../../script/app/view/ComUI":void 0,"../../../../script/lib/base/CxComponent":void 0,"../../../../script/lib/utils/ComUtils":void 0}],LobbyMainView:[function(t,e,o){"use strict";cc._RF.push(e,"2224aIzc5VPIL/cvSnPHGaX","LobbyMainView");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./../../../../script/lib/utils/Display"),p=t("../../../../script/app/const/AudioFile"),r=t("../../../../script/app/const/Global"),c=t("../../../../script/app/event/Notify"),l=t("../../../../script/app/view/ComFunctions"),u=t("../../../../script/lib/base/CxComponent"),d=t("../../../../script/lib/base/Language"),y=t("../../../../script/lib/base/NewTag"),b=t("../../../../script/lib/utils/ComUtils"),h=t("../../../../script/lib/utils/Logger"),f=t("../../model/LobbyEvent"),L=cc._decorator,g=L.ccclass,v=L.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spkFinger=null,e.btnScopa=null,e.btnScopaWild=null,e.btnPlayNow=null,e.spLock=null,e.spGrayTag=null,e.spGrayMenu=null,e.spNew=null,e.mViewList=null,e}return n(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},e.prototype.start=function(){var t=this;h.Logger.info("LobbyMainView start()"),this.mBtnList=[this.btnScopa.node,this.btnScopaWild.node,this.btnPlayNow.node],this.mBtnInitPosList=new Map,this.mBtnList.forEach(function(e){if(e){var o=a.Display.cx-e.width/2;t.mBtnInitPosList.set(e.name,cc.v2(o,e.y))}}),this.doEnterAction(),this.onGetUnLockInfo(),this.onChangeLanguage()},e.prototype.listEvent=function(){return new Map([[f.LobbyEvent.MainView.FINGER,this.onShowFinger],[c.Notify.Other.RESP_NEW_UNLOCK_INFO,this.onGetUnLockInfo],[c.Notify.Base.OPEN_USERINFO,this.onGetUnLockInfo],[c.Notify.Base.CHANGE_LANGUAGE,this.onChangeLanguage]])},e.prototype.onClickScopa=function(){this.dispatch(c.Notify.Base.PLAY_EFFECT,{path:p.AudioFile.Com.GO}),this.dispatch(f.LobbyEvent.Click.CLICK_SCOPA)},e.prototype.onClickScopaWild=function(){this.spNew&&this.spNew.getComponent(y.default)&&this.spNew.getComponent(y.default).readNewTag(),this.dispatch(c.Notify.Base.PLAY_EFFECT,{path:p.AudioFile.Com.GO}),this.dispatch(f.LobbyEvent.Click.CLICK_SCOPA_WILD)},e.prototype.onClickScopone=function(){this.dispatch(c.Notify.Base.PLAY_EFFECT,{path:p.AudioFile.Com.GO}),this.dispatch(f.LobbyEvent.Click.CLICK_SCOPNE)},e.prototype.onClickQuickGame=function(){this.dispatch(c.Notify.Base.PLAY_EFFECT,{path:p.AudioFile.Com.GO}),this.dispatch(f.LobbyEvent.Click.CLICK_QUICK_START)},e.prototype.doEnterAction=function(){var t=this;if(this.mBtnList){var e=.2;this.mBtnList.forEach(function(o){o&&o.active&&(e+=.1,b.ComUtils.playEnterAction(o,t.mBtnInitPosList.get(o.name),"right_left",100,!1,e))})}},e.prototype.doExitAction=function(){var t=this;if(this.mBtnList){var e=.2;this.mBtnList.forEach(function(o){o&&o.active&&(e+=.1,b.ComUtils.playEnterAction(o,t.mBtnInitPosList.get(o.name),"right_left",-200,!1,e))})}},e.prototype.onShowFinger=function(t){if(this.spkFinger){var e=t||!1;this.spkFinger.node.active=e,this.spkFinger.paused=!e}},e.prototype.onGetUnLockInfo=function(){var t=l.ComFunctions.isUnlock(r.gUnlcokTag.scopaWild);this.spLock&&this.spGrayMenu&&this.spGrayTag&&(t?(this.spLock.node.active=!1,this.spGrayMenu.node.active=!1,this.spGrayTag.node.active=!1):(this.spLock.node.active=!0,this.spGrayMenu.node.active=!0,this.spGrayTag.node.active=!0))},e.prototype.onChangeLanguage=function(){var t="playnow_"+d.Language.getInstance().getLanguage();this.btnPlayNow.getComponent(sp.Skeleton).animation=t},s([v(sp.Skeleton)],e.prototype,"spkFinger",void 0),s([v(cc.Button)],e.prototype,"btnScopa",void 0),s([v(cc.Button)],e.prototype,"btnScopaWild",void 0),s([v(cc.Button)],e.prototype,"btnPlayNow",void 0),s([v(cc.Sprite)],e.prototype,"spLock",void 0),s([v(cc.Sprite)],e.prototype,"spGrayTag",void 0),s([v(cc.Sprite)],e.prototype,"spGrayMenu",void 0),s([v(cc.Sprite)],e.prototype,"spNew",void 0),s([g],e)}(u.CxComponent);o.default=_,cc._RF.pop()},{"../../../../script/app/const/AudioFile":void 0,"../../../../script/app/const/Global":void 0,"../../../../script/app/event/Notify":void 0,"../../../../script/app/view/ComFunctions":void 0,"../../../../script/lib/base/CxComponent":void 0,"../../../../script/lib/base/Language":void 0,"../../../../script/lib/base/NewTag":void 0,"../../../../script/lib/utils/ComUtils":void 0,"../../../../script/lib/utils/Logger":void 0,"../../model/LobbyEvent":"LobbyEvent","./../../../../script/lib/utils/Display":void 0}],LobbyPopupMgr:[function(t,e,o){"use strict";cc._RF.push(e,"4aa05AgLg9Cg5MyvUxYNCkS","LobbyPopupMgr");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LobbyPopupMgr=void 0;var a=t("./../../../script/app/base/ComPopupMgr"),p=t("./../../../script/app/const/Global"),r=t("../../../script/app/event/Notify"),c=t("../model/LobbyUIConfig"),l=t("../../../script/app/config/ResourceUIConfig"),u=t("../../../script/app/event/GuiEvent"),d=t("../../../script/app/model/DataProxy"),y=t("../../../script/lib/manager/PrefabItemMgr"),b=t("../../../script/app/base/BasePopupMr"),h=cc._decorator,f=h.ccclass,L=(h.property,h.requireComponent),g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.initEvent=function(){t.prototype.initEvent.call(this),this.bindEvent(u.GuiEvent.PopMsg.DISPLAY_SETTING_LAYER,this.onOpenSetting),this.bindEvent(u.GuiEvent.PopMsg.DISPLAY_LOBBY_SELECT_GAME,this.onOpenSelectGame),this.bindEvent(u.GuiEvent.PopMsg.DISPLAY_MODIFY_HEAD,this.onOpenModifyHead),this.bindEvent(u.GuiEvent.PopMsg.DISPLAY_TEST_GOLD,this.onOpenTestGold),this.bindEvent(u.GuiEvent.PopMsg.DISPLAY_MISSION_LAYER,this.onOpenTaskListLayer),this.bindEvent(u.GuiEvent.PopMsg.DISPLAY_BIND_ACCOUNT,this.onOpenBindAccount),this.bindEvent(u.GuiEvent.PopMsg.DISPLAY_BIND_CONFIRM,this.onOpenBindConfirm),this.bindEvent(u.GuiEvent.PopMsg.SHOW_TABLE_BOX_LAYER,this.onShowTableBoxLayer),this.bindEvent(u.GuiEvent.PopMsg.SHOW_TABLE_BOX_INFO,this.onShowTableBoxInfo),this.bindEvent(u.GuiEvent.PopMsg.DISPLAY_MYSTERY_GIFT_DLG,this.onShowMysteryGiftDlg),this.bindEvent(u.GuiEvent.PopMsg.INVITE_USER,this.onShowInviteUser),this.bindEvent(u.GuiEvent.PopMsg.INVITE_SUCCESS,this.onInviteSuccess),this.bindEvent(r.Notify.Ranking.OPEN_UPGRADE_CONFIGURATION,this.onRankCfg),this.bindEvent(u.GuiEvent.PopMsg.CLOSE_ALL,this.onCloseAll)},e.prototype.onCloseAll=function(){this.popupLoader.closeAll()},e.prototype.onOpenSetting=function(t){var e=l.ResourceUIConfig.popup.SettingLayer;this.popupLoader.showPopup(e,p.gAssetBundleName.RESOURCES,t)},e.prototype.onOpenSelectGame=function(t){var e=c.LobbyUIConfig.popup.LobbyGameView;this.popupLoader.showPopup(e,p.gAssetBundleName.LOBBY_RES,t)},e.prototype.onOpenModifyHead=function(t){var e=c.LobbyUIConfig.popup.LobbyHeadModify;this.popupLoader.showPopup(e,p.gAssetBundleName.LOBBY_RES,t)},e.prototype.onOpenTaskListLayer=function(t){if(!this.checkServerAutoPop(u.GuiEvent.PopMsg.DISPLAY_MISSION_LAYER,t)){t||(t={}),t.taskList=d.DataProxy.getInstance().taskData.getDayTaskList(),t.taskList||this.dispatch(r.Notify.Task.REQ_DAY_TASK_LIST);var e=l.ResourceUIConfig.popup.TaskListLayer;this.popupLoader.showPopup(e,p.gAssetBundleName.RESOURCES,t)}},e.prototype.onOpenBindAccount=function(t){var e=c.LobbyUIConfig.popup.BindAccountLayer;this.popupLoader.showPopup(e,p.gAssetBundleName.LOBBY_RES,t)},e.prototype.onOpenBindConfirm=function(t){var e=c.LobbyUIConfig.popup.BindAccountConfirm;this.popupLoader.showPopup(e,p.gAssetBundleName.LOBBY_RES,t)},e.prototype.onOpenTestGold=function(t){var e=c.LobbyUIConfig.popup.LobbyTestGold;this.popupLoader.showPopup(e,p.gAssetBundleName.LOBBY_RES,t)},e.prototype.onShowTableBoxLayer=function(t){var e=y.PrefabItemMgr.getInstance().get("TableBoxLayer",p.gAssetBundleName.TABLES_RES);this.popupLoader.showPopup(e,p.gAssetBundleName.TABLES_RES,t)},e.prototype.onShowTableBoxInfo=function(t){var e=y.PrefabItemMgr.getInstance().get("TableBoxInfo",p.gAssetBundleName.TABLES_RES);this.popupLoader.showPopup(e,p.gAssetBundleName.TABLES_RES,t)},e.prototype.onShowMysteryGiftDlg=function(t){if(!this.checkServerAutoPop(u.GuiEvent.PopMsg.DISPLAY_MYSTERY_GIFT_DLG,t)){var e=l.ResourceUIConfig.popup.MysteryGiftDlg;this.popupLoader.showPopup(e,p.gAssetBundleName.RESOURCES,t)}},e.prototype.onShowInviteUser=function(t){var e=l.ResourceUIConfig.popup.InviteUser;this.popupLoader.showPopup(e,p.gAssetBundleName.RESOURCES,t)},e.prototype.onInviteSuccess=function(t){if(!this.checkServerAutoPop(u.GuiEvent.PopMsg.INVITE_SUCCESS,t)){var e=l.ResourceUIConfig.popup.InviteSuccess;this.popupLoader.showPopup(e,p.gAssetBundleName.RESOURCES,t)}},e.prototype.onRankCfg=function(t){var e=l.ResourceUIConfig.popup.RankCfg;this.popupLoader.showPopup(e,p.gAssetBundleName.RESOURCES,t)},s([f,L(a.ComPopupMgr)],e)}(b.BasePopupMr);o.LobbyPopupMgr=g,cc._RF.pop()},{"../../../script/app/base/BasePopupMr":void 0,"../../../script/app/config/ResourceUIConfig":void 0,"../../../script/app/event/GuiEvent":void 0,"../../../script/app/event/Notify":void 0,"../../../script/app/model/DataProxy":void 0,"../../../script/lib/manager/PrefabItemMgr":void 0,"../model/LobbyUIConfig":"LobbyUIConfig","./../../../script/app/base/ComPopupMgr":void 0,"./../../../script/app/const/Global":void 0}],LobbyScene:[function(t,e,o){"use strict";cc._RF.push(e,"92edayAll5AUYPBqNoNbVQt","LobbyScene");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./../../../script/app/const/Global"),p=t("./../../../script/app/base/BaseScene"),r=t("../../../script/app/event/Notify"),c=t("../controller/LobbyHandler"),l=t("./main/LobbyMainView"),u=t("../../../script/lib/utils/Logger"),d=t("../../../script/app/platform/PyManager"),y=t("../../../script/app/module/buryPoint/BuryPointUtils"),b=t("../../../script/app/module/buryPoint/BuryPoint"),h=t("../model/LobbyUIConfig"),f=t("../model/LobbyEvent"),L=t("../../../script/app/event/GuiEvent"),g=t("../../../script/app/model/DataProxy"),v=t("../../../script/plugin/pb/protofile/CMD_OtherMsg"),_=t("../../../script/lib/base/PopUpLogic"),C=t("../../../script/app/view/rank/LobbyRankList"),m=t("../../../script/app/base/AsyncLoader"),I=cc._decorator,E=I.ccclass,P=I.property,T=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lobbyHandler=null,e.pfMainView=null,e.pfRank=null,e.pLobbyMainView=null,e.pRankLayer=null,e.clubNode=null,e.tableNode=null,e.tip=!1,e.curSubView=0,e}return n(e,t),e.prototype.getSceneName=function(){return"Lobby"},e.prototype.listEvent=function(){return new Map([[r.Notify.Base.ON_APP_RESUME,this.onAppResume],[r.Notify.Base.ON_APP_PAUSE,this.onAppPause],[f.LobbyEvent.Click.CLICK_HOME,this.onClickHome],[f.LobbyEvent.Click.CLICK_TABLES,this.onClickTables],[f.LobbyEvent.Click.CLICK_RANK,this.onClickRank],[f.LobbyEvent.Click.CLICK_CLUB,this.onClickClub],[r.Notify.Club.ENTER_CLUB_MAIN_VIEW,this.onClickClub],[r.Notify.Base.HIDE_LOBBY_SOME_LAYER,this.onHide],[r.Notify.Activity.RSP_ACT_ON_OFF,this.onActivityEntryEvent]])},e.prototype.onLoad=function(){this.mMapNode=new Map,this.mMapLoadParams=new Map,u.Logger.info("LobbyScene: onLoad()"),g.DataProxy.getInstance().comData.setInGame(!1),this.dispatch(L.GuiEvent.PopMsg.START_ACCEPT_POP),t.prototype.onLoad.call(this)},e.prototype.onDestroy=function(){this.lobbyHandler&&(this.lobbyHandler.onDestroy(),this.lobbyHandler=null),t.prototype.onDestroy.call(this),this.dispatch(r.Notify.AD.RM_BANNER)},e.prototype.start=function(){var t=this;u.Logger.info("LobbyScene: start()"),this.mMapLoadParams.set(a.gLobbySubView.Club,{pfName:"ClubMainView",parent:this.normalLayer,zIndex:h.LobbyZIndex.ClubView,bundleName:a.gAssetBundleName.CLUB_RES}),this.mMapLoadParams.set(a.gLobbySubView.Tables,{pfName:"TableListLayer",parent:this.normalLayer,zIndex:h.LobbyZIndex.TablesView,bundleName:a.gAssetBundleName.TABLES_RES}),y.BuryPointUtils.send(b.BuryPoint.Operation.Lobby.ShowLobbyView),this.initHandler(),this.initLobbyView(),this.scheduleOnce(function(){d.default.queryPurchaseOrder(),d.default.checkLocalOrderIdIsFinished(),t.dispatch(r.Notify.Other.PRE_LOAD_GAME_RES)},3),_.PopUpLogic.getInstance().resetConfigForLobby()},e.prototype.initHandler=function(){this.lobbyHandler=new c.LobbyHandler},e.prototype.initLobbyView=function(){var t=this;u.Logger.info("initLobbyView()"),this.mountPrefab((new Map).set(a.gAssetBundleName.LOBBY_RES,h.LobbyUIConfig),function(){t.dispatch(r.Notify.Base.HANDLER_ORIGIN)}),this.switchLobbyView(a.gLobbySubView.Scopa)},e.prototype.onAppResume=function(t){var e=this;if(cc.log(" -------- \u5207\u5230\u524d\u53f0, \u5f00\u542f"),this.dispatch(L.GuiEvent.PopMsg.START_ACCEPT_POP),this.unschedule(this.popAuoLayer),this.scheduleOnce(this.popAuoLayer,2),t.interval>=1e4){var o=t.callSdk?5:.1;this.scheduleOnce(function(){e.lobbyHandler&&e.lobbyHandler.reqOnAppResume()},o)}this.scheduleOnce(function(){e.lobbyHandler&&e.lobbyHandler.handleUnfinishedEvent()},1)},e.prototype.onAppPause=function(){cc.log("-------- \u5207\u5230\u540e\u53f0, \u5f00\u542f")},e.prototype.popAuoLayer=function(){cc.log("-------- \u65f6\u95f4\u5230\u4e86, \u5173\u95ed"),this.dispatch(L.GuiEvent.PopMsg.AUTO_POP_VIEW)},e.prototype.switchLobbyView=function(t){if(this.dispatch(r.Notify.Lobby.SWICTH_VIEW,t),this.curSubView!==t)switch(this.curSubView=t,this.diplayScopa(!1),this.diplayRank(!1),this.diplayTables(!1),this.diplayClub(!1),t){case a.gLobbySubView.Scopa:this.diplayScopa(!0);break;case a.gLobbySubView.Tables:this.diplayTables(!0);break;case a.gLobbySubView.Rank:this.diplayRank(!0),this.diplayClub(!1);break;case a.gLobbySubView.Club:this.diplayScopa(!1),this.diplayTables(!1),this.diplayRank(!1),this.diplayClub(!0);break;case a.gLobbySubView.Club:this.diplayClub(!0)}},e.prototype.diplayScopa=function(t){if(!this.pLobbyMainView&&this.pfMainView&&t){var e=cc.instantiate(this.pfMainView);e&&(this.pLobbyMainView=e.getComponent(l.default),this.normalLayer.addChild(e,h.LobbyZIndex.MainView))}this.pLobbyMainView&&(this.pLobbyMainView.node.active=t,t&&(this.lobbyHandler.showFinger(),this.pLobbyMainView.doEnterAction()))},e.prototype.diplayTables=function(t){this.displayView(a.gLobbySubView.Tables,t)},e.prototype.diplayRank=function(t){if(!this.pRankLayer&&this.pfRank&&t){var e=cc.instantiate(this.pfRank);e&&(this.pRankLayer=e.getComponent(C.default),this.normalLayer.addChild(e,h.LobbyZIndex.TablesView))}this.pRankLayer&&(this.pRankLayer.node.active=t,t&&(this.tip?(this.dispatch(r.Notify.Other.REQ_STATISTICS_CONFIG),this.dispatch(r.Notify.Ranking.REQ_SEGMENT_COMPETITION_LIST)):this.tip=!0))},e.prototype.diplayClub=function(t){this.displayView(a.gLobbySubView.Club,t)},e.prototype.onClickHome=function(){this.switchLobbyView(a.gLobbySubView.Scopa)},e.prototype.onClickTables=function(){this.switchLobbyView(a.gLobbySubView.Tables)},e.prototype.onClickRank=function(){this.switchLobbyView(a.gLobbySubView.Rank)},e.prototype.onClickClub=function(){this.switchLobbyView(a.gLobbySubView.Club)},e.prototype.onHide=function(t){[this.normalLayer,this.effectLayer,this.replayLayer].every(function(e){e&&(e.active=!t)})},e.prototype.onActivityEntryEvent=function(){g.DataProxy.getInstance().activityData.getEntryIsOpen(v.ActivityId.PAILEISELECT_ACTIVITY)&&g.DataProxy.getInstance().userData.isNewPlayer&&g.DataProxy.getInstance().userData.cardSkinId<=0&&this.dispatch(L.GuiEvent.PopMsg.DISPLAY_CARD_SKIN_GUIDE_LAYER)},e.prototype.displayView=function(t,e){var o=this.mMapNode.get(t);if(o)o.active=e;else{var i=this.mMapLoadParams.get(t);if(i&&i.parent&&(o=i.parent.getChildByName(i.pfName)))return this.mMapNode.set(t,o),void(o.active=e);!o&&e&&this.mMapLoadParams.has(t)&&m.AsyncLoader.load(this.mMapLoadParams.get(t))}},e.prototype.onSwitchView=function(){},s([P(cc.Prefab)],e.prototype,"pfMainView",void 0),s([P(cc.Prefab)],e.prototype,"pfRank",void 0),s([E],e)}(p.BaseScene);o.default=T,cc._RF.pop()},{"../../../script/app/base/AsyncLoader":void 0,"../../../script/app/event/GuiEvent":void 0,"../../../script/app/event/Notify":void 0,"../../../script/app/model/DataProxy":void 0,"../../../script/app/module/buryPoint/BuryPoint":void 0,"../../../script/app/module/buryPoint/BuryPointUtils":void 0,"../../../script/app/platform/PyManager":void 0,"../../../script/app/view/rank/LobbyRankList":void 0,"../../../script/lib/base/PopUpLogic":void 0,"../../../script/lib/utils/Logger":void 0,"../../../script/plugin/pb/protofile/CMD_OtherMsg":void 0,"../controller/LobbyHandler":"LobbyHandler","../model/LobbyEvent":"LobbyEvent","../model/LobbyUIConfig":"LobbyUIConfig","./../../../script/app/base/BaseScene":void 0,"./../../../script/app/const/Global":void 0,"./main/LobbyMainView":"LobbyMainView"}],LobbyTablesList:[function(t,e,o){"use strict";cc._RF.push(e,"21db2qC+ohP7YiSmWI+PUz7","LobbyTablesList");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../script/app/config/ResConfig"),p=t("../../../../script/app/const/Global"),r=t("../../../../script/app/view/ComUI"),c=t("../../../../script/lib/base/CxComponent"),l=t("../../../../script/lib/manager/ResManager"),u=cc._decorator,d=u.ccclass,y=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){cc.log("LobbyTablesList(): onLoad()"),this.preloadTablesRes()},e.prototype.start=function(){},e.prototype.preloadTablesRes_old=function(){var t={bundleName:p.gAssetBundleName.TABLES_RES,prefab:{TableListLayer:new a.PrefabItem("TableListLayer","prefabs/TableListLayer",0,0)}},e=t.prefab,o=t.bundleName,i=this,n=function(t){if(e.hasOwnProperty(t)){var n=e[t];l.default.getInstance().loadPrefab(n.path,o,function(t,e){if(t)cc.error("preloadTablesRes fail "+n.path);else if(e&&cc.isValid(i)){var o=cc.instantiate(e);o&&i.node.addChild(o)}})}};for(var s in e)n(s)},e.prototype.preloadTablesRes=function(){var t={bundleName:p.gAssetBundleName.TABLES_RES,prefabList:["TableListLayer"]};r.ComUI.loadPrefabFromBundle(this.node,t.bundleName,t.prefabList)},s([d],e)}(c.CxComponent));o.default=y,cc._RF.pop()},{"../../../../script/app/config/ResConfig":void 0,"../../../../script/app/const/Global":void 0,"../../../../script/app/view/ComUI":void 0,"../../../../script/lib/base/CxComponent":void 0,"../../../../script/lib/manager/ResManager":void 0}],LobbyTestGold:[function(t,e,o){"use strict";cc._RF.push(e,"e46d4D9itNCXZgvdFzvDnKE","LobbyTestGold");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../script/app/event/Notify"),p=t("../../../../script/app/view/ComUI"),r=t("../../../../script/lib/base/CxComponent"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pEditBox=null,e}return n(e,t),e.prototype.start=function(){},e.prototype.initParams=function(){return{title:"Test"}},e.prototype.onClick=function(){if(this.pEditBox){var t=this.pEditBox.string;if(null==t||""==t)return void p.ComUI.showDialog({text:"Please enter the correct number\uff01"});var e=Number(t);if(!Number.isNaN(e)&&Number.isSafeInteger(e)){if(e>1e6||e<0)return void p.ComUI.showDialog({text:"Please enter the correct number\uff01"});this.dispatch(a.Notify.Other.OTHER_TEST_GOLD,e),this.node.destroy()}else p.ComUI.showDialog({text:"Please enter the correct number\uff01"})}},s([u(cc.EditBox)],e.prototype,"pEditBox",void 0),s([l],e)}(r.CxComponent);o.default=d,cc._RF.pop()},{"../../../../script/app/event/Notify":void 0,"../../../../script/app/view/ComUI":void 0,"../../../../script/lib/base/CxComponent":void 0}],LobbyTopMenu:[function(t,e,o){"use strict";cc._RF.push(e,"eb1b6Fo1iJC/596Y0eYxqFj","LobbyTopMenu");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LobbyTopMenu=void 0;var a=t("../../../../script/app/const/AudioFile"),p=t("../../../../script/app/const/Global"),r=t("../../../../script/app/event/GuiEvent"),c=t("../../../../script/app/event/Notify"),l=t("../../../../script/app/language/LanguageCfg"),u=t("../../../../script/app/model/ActivityDataProxy"),d=t("../../../../script/app/model/DataProxy"),y=t("../../../../script/app/module/buryPoint/BuryPoint"),b=t("../../../../script/app/module/buryPoint/BuryPointUtils"),h=t("../../../../script/app/view/ComUI"),f=t("../../../../script/lib/base/CxComponent"),L=t("../../../../script/lib/i18n/i18nHelper"),g=t("../../../../script/lib/utils/ComUtils"),v=t("../../../../script/lib/utils/Logger"),_=t("../../../../script/lib/utils/ScreenAdapter"),C=t("../../../activitySrc/goldenPass/view/GoldenPassMenu"),m=t("../../model/LobbyEvent"),I=cc._decorator,E=I.ccclass,P=I.property,T=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pBtnLayout=null,e.pTimeLabel=null,e.pTimeIcon=null,e.pTimeReward=null,e.pBtnSale=null,e.pBtnLottery=null,e.pBtnCDTask=null,e.pBtnInvite=null,e.btnMissions=null,e.pfGoldenPassMenu=null,e.layoutNode=null,e.ndHome=null,e.ndTable=null,e.ndBox=null,e.ndExchangeBox=null,e.labLottery=null,e.labInvite=null,e.labTimeCD=null,e.labSale=null,e.delayLock=!0,e.mTimeTask=null,e.mCurTime=0,e}return n(e,t),e.prototype.listEvent=function(){return new Map([[c.Notify.Task.RTN_TASK_TIME_REWARD_INFO,this.onGetTimeTaskInfo],[c.Notify.Base.ON_APP_RESUME,this.onAppResume],[r.GuiEvent.UI.DISPLAY_MENU_SPECIAL_SALE,this.displaySpecialSaleMenu],[c.Notify.Lobby.SWICTH_VIEW,this.switchBtnView],[c.Notify.Activity.RSP_ACT_ON_OFF,this.onActivityEntryEvent],[c.Notify.Activity.CHANGE_REDDOT_NUM,this.onChangeRedDotNum],[c.Notify.Tables.RTN_TABLE_RED_DOT,this.onChangeTableBox],[c.Notify.Base.CHANGE_LANGUAGE,this.onChangeLanguage],[c.Notify.Shop.RTN_MIX_GIFT,this.onGetMixGift],[c.Notify.GoldenPass.RESP_GOLDEN_BONUS_REDPOINT,this.onRefreshCDPoint],[c.Notify.Base.RESTART_TIME_CD,this.onRestartTimeCD]])},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this)},e.prototype.start=function(){this.mapOFCtlBtn=new Map,this.mapRedDotCtlBtn=new Map,this.switchBtnView(p.gLobbySubView.Scopa),this.initTimeTask(),this.initSpecialSale(),this.displayGoldenPassMenu(),this.ndHome&&_.ScreenAdapter.paddingTop(this.ndHome),this.ndTable&&_.ScreenAdapter.paddingTop(this.ndTable),this.ndBox&&this.ndBox.on("click",this.onClickBoxShop,this),this.ndExchangeBox&&this.ndExchangeBox.on("click",this.onClickTableBox,this),this.pBtnLottery&&this.pBtnLottery.node.on("click",this.onClickLottery,this),this.pBtnInvite&&this.pBtnInvite.node.on("click",this.onClickInvite,this),this.btnMissions&&this.btnMissions.node.on("click",this.onClickMissions,this),this.bindRedDotAndOFEvent(),this.multiLang(),d.DataProxy.getInstance().activityData.getAllEntryData()&&this.onActivityEntryEvent(d.DataProxy.getInstance().activityData.getAllEntryData()),this.onLabTimeCD()},e.prototype.onLabTimeCD=function(){var t=this,e=d.DataProxy.getInstance().shopData.mMixGiftData;e&&this.labTimeCD&&(e.dwTime<=0?this.labTimeCD.node.parent.active=!1:h.ComUI.StartTimeCountDown(this.labTimeCD,e.dwTime,function(){t.labTimeCD.node.parent.active=!1}))},e.prototype.multiLang=function(){this.labLottery&&(this.labLottery.language=L.i18nHelper.getLanguage(l.LangKey.activity_btn_lottery_txt)),this.labInvite&&(this.labInvite.language=L.i18nHelper.getLanguage(l.LangKey.activity_btn_invite_txt))},e.prototype.switchBtnView=function(t){if(this.ndHome&&this.ndTable)switch(t){case p.gLobbySubView.Scopa:this.ndHome.active=!0,this.ndTable.active=!1;break;case p.gLobbySubView.Tables:this.ndHome.active=!1,this.ndTable.active=!0,this.refreshBoxBtnView();break;case p.gLobbySubView.Rank:case p.gLobbySubView.Club:case p.gLobbySubView.Club:this.ndHome.active=!1,this.ndTable.active=!1}},e.prototype.refreshBoxBtnView=function(){this.initBoxShop(),this.initExchangeBox()},e.prototype.bindRedDotAndOFEvent=function(){if(this.pBtnLottery){this.mapOFCtlBtn.set(u.gActivityEntry.MRCJ_ACTIVITY,[this.pBtnLottery.node]),this.mapRedDotCtlBtn.set(u.gRedDot.DAILY_LOTTERY,[this.pBtnLottery.node]);var t=d.DataProxy.getInstance().adData.getRedDotCount(u.gRedDot.DAILY_LOTTERY);h.ComUI.changeRedDot(this.pBtnLottery.node,t)}this.ndExchangeBox&&(this.mapRedDotCtlBtn.set(u.gRedDot.TABLES_REDDOT,[this.ndExchangeBox]),t=d.DataProxy.getInstance().tablesData.redPoint,h.ComUI.changeRedDot(this.ndExchangeBox,t)),this.btnMissions&&this.mapRedDotCtlBtn.set(u.gRedDot.DAILY_TASK,[this.btnMissions.node])},e.prototype.onClickGoldHelp=function(){v.Logger.info("onClickGoldHelp()"),this.delayLock&&(g.ComUtils.delayLimit(this,1e3),this.dispatch(r.GuiEvent.PopMsg.DISPLAY_BONUS),this.dispatch(m.LobbyEvent.Base.PLAY_LOBBY_EFFECT,a.AudioFile.Com.GO),b.BuryPointUtils.send(y.BuryPoint.Debug.Lobby.ClickCLAM))},e.prototype.onClickSpecialSale=function(){v.Logger.info("onClickSpecialSale()"),this.delayLock&&(g.ComUtils.delayLimit(this,1e3),this.dispatch(c.Notify.Shop.REQ_MIX_GIFT),this.dispatch(m.LobbyEvent.Base.PLAY_LOBBY_EFFECT,a.AudioFile.Com.GO),this.dispatch(r.GuiEvent.PopMsg.DISPLAY_SHOP_SPECIAL_SALE),b.BuryPointUtils.send(y.BuryPoint.Debug.Lobby.ClickSpecialSale))},e.prototype.onClickLottery=function(){v.Logger.info("onClickLottery()"),this.delayLock&&(g.ComUtils.delayLimit(this,1e3),this.dispatch(m.LobbyEvent.Base.PLAY_LOBBY_EFFECT,a.AudioFile.Com.GO),this.dispatch(m.LobbyEvent.Click.CLICK_LOTTERY),b.BuryPointUtils.send(y.BuryPoint.Debug.Lobby.ClickLottery))},e.prototype.onClickTableBox=function(){this.delayLock&&(cc.log("\u70b9\u51fb\u4e86tableBox"),g.ComUtils.delayLimit(this),this.dispatch(c.Notify.Base.PLAY_EFFECT,{path:a.AudioFile.Com.GO}),this.dispatch(m.LobbyEvent.Click.CLICK_TABLE_BOX),b.BuryPointUtils.send(y.BuryPoint.Debug.Lobby.ClickTableBox))},e.prototype.onClickBoxShop=function(){this.delayLock&&(cc.log("\u6253\u5f00box\u5546\u57ce"),g.ComUtils.delayLimit(this),this.dispatch(r.GuiEvent.PopMsg.DISPLAY_SHOP_BOX_LAYER),this.dispatch(m.LobbyEvent.Base.PLAY_LOBBY_EFFECT,a.AudioFile.Com.GO),b.BuryPointUtils.send(y.BuryPoint.Debug.Lobby.ClickMissions))},e.prototype.onClickInvite=function(){this.delayLock&&(g.ComUtils.delayLimit(this,1e3),this.dispatch(m.LobbyEvent.Base.PLAY_LOBBY_EFFECT,a.AudioFile.Com.GO),this.dispatch(m.LobbyEvent.Click.CLICK_INVITE),b.BuryPointUtils.send(y.BuryPoint.Debug.Lobby.ClickInvite))},e.prototype.initSpecialSale=function(){var t=!1,e=d.DataProxy.getInstance().otherData.tangKuangInfo;e&&e.bShowFuFei&&(t=!0),this.displaySpecialSaleMenu(t)},e.prototype.displaySpecialSaleMenu=function(t){this.pBtnSale&&(this.pBtnSale.node.active=t),this.displayGoldenPassMenu()},e.prototype.initTimeTask=function(){this.sendGetTimeTaskInfo()},e.prototype.TaskLabTimeCD=function(t){var e=this;void 0===t&&(t=!0),null!=this.mCurTime&&null!=this.mCurTime&&h.ComUI.StartTimeCountDown(this.pTimeLabel,this.mCurTime,function(){e.pTimeLabel.string="CLAIM",e.pTimeIcon&&(e.pTimeIcon.node.active=!1),e.pTimeReward&&(e.pTimeReward.node.active=!0),t?(d.DataProxy.getInstance().taskData.setTaskRedPoint(u.gRedDot.CD_TASK,1),e.dispatch(c.Notify.Activity.CHANGE_REDDOT_NUM,{activityId:u.gRedDot.CD_TASK,redcount:1})):e.dispatch(c.Notify.GoldenPass.REQ_GOLDEN_BONUS_REDPOINT)})},e.prototype.getTimeString=function(t){return t<10?"0"+t:""+t},e.prototype.sendGetTimeTaskInfo=function(){v.Logger.info("LobbyTopMenu: sendGetTimeTaskInfo()"),this.dispatch(c.Notify.Task.REQ_TASK_TIME_REWARD_INFO)},e.prototype.onAppResume=function(){var t=this;this.scheduleOnce(function(){t.dispatch(c.Notify.Task.REQ_TASK_TIME_REWARD_INFO)},1)},e.prototype.onGetTimeTaskInfo=function(){this.onRestartTimeCD()},e.prototype.onActivityEntryEvent=function(t){var e=this;t&&this.mapOFCtlBtn&&(t.forEach(function(t,o){var i=e.mapOFCtlBtn.get(o);i&&i.forEach(function(o){e.setBtnState(o,t)})}),this.displayGoldenPassMenu())},e.prototype.setBtnState=function(t,e){t.active=e.bOnOff,e.strInfo&&(t.info=e.strInfo)},e.prototype.onChangeRedDotNum=function(t){if(cc.log("\u6539\u53d8\u7ea2\u70b9\u6570",t),t&&this.mapRedDotCtlBtn){var e=this.mapRedDotCtlBtn.get(t.activityId);if(e&&e.forEach(function(e){h.ComUI.changeRedDot(e,t.redcount)}),t.activityId==u.gRedDot.CD_TASK){var o=d.DataProxy.getInstance().glodenPassData.getRedPoint().dwRedPointNum;cc.log("cd \u7ea2\u70b9\u6570",o);var i=t.redcount+o;h.ComUI.changeRedDot(this.pBtnCDTask.node,i)}}},e.prototype.onChangeTableBox=function(t){if(this.ndExchangeBox&&t){var e=t.redPoint||0;h.ComUI.changeRedDot(this.ndExchangeBox,e)}},e.prototype.displayGoldenPassMenu=function(){var t="goldenPassMenu",e=this.layoutNode.getChildByName(t);if(!e&&this.layoutNode&&this.pfGoldenPassMenu&&((e=cc.instantiate(this.pfGoldenPassMenu)).getComponent(C.default).setOpenFromGame(!1),this.layoutNode.addChild(e,1,t)),e){var o=0;this.layoutNode.children.forEach(function(t){t.active&&(t.zIndex=2*o++)}),e.zIndex=1}},e.prototype.initBoxShop=function(){if(this.ndBox){var t=d.DataProxy.getInstance().shopData.getBoxShopData();t?(this.ndBox.active=!0,t.bIsHongDian?(this.setRedDot(this.ndBox,!0),this.playBoxAction()):(this.setRedDot(this.ndBox,!1),this.ndBox.stopAllActions(),this.ndBox.scale=1)):this.ndBox.active=!1}},e.prototype.initExchangeBox=function(){if(this.ndExchangeBox){var t=d.DataProxy.getInstance().tablesData.redPoint;t&&t>0&&this.setRedDot(this.ndExchangeBox,!0)}},e.prototype.playBoxAction=function(){this.ndBox.stopAllActions(),this.ndBox.scale=1,cc.tween(this.ndBox).delay(2).repeatForever(cc.tween().to(.16,{scale:.9}).to(.17,{scale:1}).to(.17,{scale:.9}).to(.16,{scale:1}).to(.17,{scale:.9}).to(.17,{scale:1}).delay(4)).start()},e.prototype.setRedDot=function(t,e){var o=t.getChildByName("reddot");o&&(o.active=e)},e.prototype.onChangeLanguage=function(){this.multiLang()},e.prototype.onGetMixGift=function(){this.onLabTimeCD()},e.prototype.onRefreshCDPoint=function(){var t=d.DataProxy.getInstance().glodenPassData.getRedPoint().dwRedPointNum,e=d.DataProxy.getInstance().taskData.getTaskRedPoint(u.gRedDot.CD_TASK);cc.log("\u5237\u65b0 \u7ea2\u70b9\u6570",t);var o=e+t;h.ComUI.changeRedDot(this.pBtnCDTask.node,o)},e.prototype.onRestartTimeCD=function(){var t=d.DataProxy.getInstance().glodenPassData.getGoldenBonusData(),e=t&&t.dwTime||0,o=d.DataProxy.getInstance().taskData.getTimeTaskInfo().iSurplusTime,i=!0;e>0&&o>0?(e<o&&(i=!1),this.mCurTime=Math.min(e,o)):e>0?(this.mCurTime=e,i=!1):this.mCurTime=o,cc.log("\u5012\u8ba1\u65f6, goldenBonusTime",e),cc.log("\u5012\u8ba1\u65f6, taskTime",o),this.TaskLabTimeCD(i)},e.prototype.onClickMissions=function(){this.delayLock&&(g.ComUtils.delayLimit(this),this.dispatch(r.GuiEvent.PopMsg.DISPLAY_MISSION_LAYER),this.dispatch(m.LobbyEvent.Base.PLAY_LOBBY_EFFECT,a.AudioFile.Com.GO),b.BuryPointUtils.send(y.BuryPoint.Debug.Lobby.ClickMissions))},s([P(cc.Node)],e.prototype,"pBtnLayout",void 0),s([P(cc.Label)],e.prototype,"pTimeLabel",void 0),s([P(cc.Sprite)],e.prototype,"pTimeIcon",void 0),s([P(cc.Sprite)],e.prototype,"pTimeReward",void 0),s([P({type:cc.Button,tooltip:"\u6bcf\u65e5\u793c\u5305"})],e.prototype,"pBtnSale",void 0),s([P({type:cc.Button,tooltip:"\u62bd\u5956"})],e.prototype,"pBtnLottery",void 0),s([P({type:cc.Button,tooltip:"\u5012\u8ba1\u65f6"})],e.prototype,"pBtnCDTask",void 0),s([P({type:cc.Button,tooltip:"\u9080\u8bf7"})],e.prototype,"pBtnInvite",void 0),s([P({type:cc.Button,tooltip:"\u4efb\u52a1"})],e.prototype,"btnMissions",void 0),s([P({type:cc.Prefab,tooltip:"goldenPass"})],e.prototype,"pfGoldenPassMenu",void 0),s([P(cc.Node)],e.prototype,"layoutNode",void 0),s([P({type:cc.Node,tooltip:"\u5927\u5385\u89c6\u56fe\u8282\u70b9"})],e.prototype,"ndHome",void 0),s([P({type:cc.Node,tooltip:"table\u89c6\u56fe\u8282\u70b9"})],e.prototype,"ndTable",void 0),s([P({type:cc.Node,tooltip:"box\u8282\u70b9"})],e.prototype,"ndBox",void 0),s([P({type:cc.Node,tooltip:"exchangeBox\u8282\u70b9"})],e.prototype,"ndExchangeBox",void 0),s([P({type:cc.Label,tooltip:"lottery \u6587\u5b57\u6807\u7b7e"})],e.prototype,"labLottery",void 0),s([P({type:cc.Label,tooltip:"invite \u6587\u5b57\u6807\u7b7e"})],e.prototype,"labInvite",void 0),s([P({type:cc.Label,tooltip:"\u5012\u8ba1\u65f6 \u6587\u5b57\u6807\u7b7e"})],e.prototype,"labTimeCD",void 0),s([P({type:cc.Label,tooltip:"sale \u6587\u5b57\u6807\u7b7e"})],e.prototype,"labSale",void 0),s([E],e)}(f.CxComponent);o.LobbyTopMenu=T,cc._RF.pop()},{"../../../../script/app/const/AudioFile":void 0,"../../../../script/app/const/Global":void 0,"../../../../script/app/event/GuiEvent":void 0,"../../../../script/app/event/Notify":void 0,"../../../../script/app/language/LanguageCfg":void 0,"../../../../script/app/model/ActivityDataProxy":void 0,"../../../../script/app/model/DataProxy":void 0,"../../../../script/app/module/buryPoint/BuryPoint":void 0,"../../../../script/app/module/buryPoint/BuryPointUtils":void 0,"../../../../script/app/view/ComUI":void 0,"../../../../script/lib/base/CxComponent":void 0,"../../../../script/lib/i18n/i18nHelper":void 0,"../../../../script/lib/utils/ComUtils":void 0,"../../../../script/lib/utils/Logger":void 0,"../../../../script/lib/utils/ScreenAdapter":void 0,"../../../activitySrc/goldenPass/view/GoldenPassMenu":void 0,"../../model/LobbyEvent":"LobbyEvent"}],LobbyTopRightMenu:[function(t,e,o){"use strict";cc._RF.push(e,"929ceskCNFKiKQrsile8nLp","LobbyTopRightMenu");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LobbyTopRightMenu=void 0;var a=t("../../../../script/app/const/AudioFile"),p=t("../../../../script/app/const/Global"),r=t("../../../../script/app/event/GuiEvent"),c=t("../../../../script/app/event/Notify"),l=t("../../../../script/app/language/LanguageCfg"),u=t("../../../../script/app/model/ActivityDataProxy"),d=t("../../../../script/app/model/DataProxy"),y=t("../../../../script/app/module/buryPoint/BuryPoint"),b=t("../../../../script/app/module/buryPoint/BuryPointUtils"),h=t("../../../../script/app/platform/FaceBookSdk"),f=t("../../../../script/app/view/SettingLayer"),L=t("../../../../script/lib/base/CxComponent"),g=t("../../../../script/lib/i18n/i18nHelper"),v=t("../../../../script/lib/utils/ComUtils"),_=t("../../../../script/lib/utils/Logger"),C=t("../../../../script/lib/utils/ScreenAdapter"),m=t("../../../../script/plugin/pb/protofile/CMD_OtherMsg"),I=t("../../model/LobbyEvent"),E=cc._decorator,P=E.ccclass,T=E.property,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnMore=null,e.pBtnFB=null,e.pBtnService=null,e.pFbLabel=null,e.labSupport=null,e.delayLock=!0,e}return n(e,t),e.prototype.listEvent=function(){return new Map([[c.Notify.Activity.RSP_ACT_ON_OFF,this.onActivityEntryEvent],[I.LobbyEvent.Click.CLICK_HOME,this.onClickHome],[c.Notify.UserInfo.RTN_BIND_ACCOUNT_INFO,this.onUpdateAccount],[r.GuiEvent.UI.DISPLAY_BIND_ACCOUNT_MENU,this.displayFBMenu],[c.Notify.Base.CHANGE_LANGUAGE,this.onChangeLanguage],[c.Notify.Activity.CHANGE_REDDOT_NUM,this.onChangeRedDotNum],[c.Notify.Lobby.SWICTH_VIEW,this.onSwitchView]])},e.prototype.start=function(){this.mapCtlBtn=new Map,this.mapCtlBtn.set(u.gRedDot.SETTING,[this.btnMore.node]),this.bInHome=!0,this.btnMore&&(this.btnMore.node.on("click",this.onClickMore,this),C.ScreenAdapter.paddingTop(this.btnMore.node)),this.pBtnFB&&(this.pBtnFB.node.on("click",this.onClickFB,this),C.ScreenAdapter.paddingTop(this.pBtnFB.node)),this.pBtnService&&(this.pBtnService.node.on("click",this.onClickService,this),C.ScreenAdapter.paddingTop(this.pBtnService.node)),this.bindBtnOnOffEvent(),d.DataProxy.getInstance().activityData.getAllEntryData()&&this.onActivityEntryEvent(d.DataProxy.getInstance().activityData.getAllEntryData()),this.initBindAccount(),this.multiLang()},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),this.mapCtlBtn=null},e.prototype.onClickHome=function(){this.bInHome=!0},e.prototype.multiLang=function(){this.labSupport&&(this.labSupport.language=g.i18nHelper.getLanguage(l.LangKey.activity_btn_support_txt))},e.prototype.bindBtnOnOffEvent=function(){},e.prototype.onClickMore=function(){this.delayLock&&(v.ComUtils.delayLimit(this),this.dispatch(r.GuiEvent.PopMsg.DISPLAY_SETTING_LAYER,new f.SettingData(f.SettingType.LOBBY)),this.dispatch(I.LobbyEvent.Base.PLAY_LOBBY_EFFECT,a.AudioFile.Com.GO),b.BuryPointUtils.send(y.BuryPoint.Debug.Lobby.ClickMore))},e.prototype.onClickBoxShop=function(){this.delayLock&&(v.ComUtils.delayLimit(this),this.dispatch(I.LobbyEvent.Click.CLICK_BOX_SHOP),this.dispatch(I.LobbyEvent.Base.PLAY_LOBBY_EFFECT,a.AudioFile.Com.GO),b.BuryPointUtils.send(y.BuryPoint.Debug.Lobby.ClickBoxShop))},e.prototype.onActivityEntryEvent=function(t){var e=this;if(t&&this.mapCtlBtn&&(t.forEach(function(t,o){var i=e.mapCtlBtn.get(o);i&&i.forEach(function(o){e.setBtnState(o,t)})}),d.DataProxy.getInstance().activityData.getEntryIsOpen(m.ActivityId.PAILEISELECT_ACTIVITY)&&!d.DataProxy.getInstance().userData.isNewPlayer&&0==d.DataProxy.getInstance().userData.cardSkinId)){var o={activityId:u.gRedDot.SETTING,redcount:d.DataProxy.getInstance().otherData.cardSkinRedPoint.dwRedPointNum||1};this.onChangeRedDotNum(o)}},e.prototype.setBtnState=function(t,e){this.bInHome||(t.active=e.bOnOff),e.strInfo&&(t.info=e.strInfo)},e.prototype.onChangeRedDotNum=function(t){var e=this;if(t&&this.mapCtlBtn){var o=this.mapCtlBtn.get(t.activityId);o&&o.forEach(function(o){e.changeRedDot(o,t.redcount)})}},e.prototype.changeRedDot=function(t,e){var o;if(e){if(o=t.getChildByName("reddot")){o.active=!0;var i=o.getComponentInChildren(cc.Label);e>1?(i.node.active=!0,i.string=""+e):i.node.active=!1}}else(o=t.getChildByName("reddot"))&&(o.active=!1)},e.prototype.displayFBMenu=function(t){this.pBtnFB&&(this.pBtnFB.node.active=t)},e.prototype.onUpdateAccount=function(){this.initBindAccount()},e.prototype.initBindAccount=function(){var t=!1,e=d.DataProxy.getInstance().userData.bindAccountInfo;e&&e.rewardNum&&(this.pFbLabel&&(this.pFbLabel.string=v.ComUtils.formatGoldStr(e.rewardNum)),e.isBind||(t=!0)),this.pBtnFB&&(this.pBtnFB.node.active=t)},e.prototype.onClickService=function(){_.Logger.info("onClickService()"),this.delayLock&&(v.ComUtils.delayLimit(this,1e3),this.dispatch(I.LobbyEvent.Base.PLAY_LOBBY_EFFECT,a.AudioFile.Com.GO),h.FaceBookSdk.openFBUrl(),b.BuryPointUtils.send(y.BuryPoint.Debug.Lobby.ClickSupport))},e.prototype.onClickFB=function(){_.Logger.info("onClickFB()"),this.delayLock&&(v.ComUtils.delayLimit(this,1e3),this.dispatch(r.GuiEvent.PopMsg.DISPLAY_BIND_ACCOUNT),this.dispatch(I.LobbyEvent.Base.PLAY_LOBBY_EFFECT,a.AudioFile.Com.GO),b.BuryPointUtils.send(y.BuryPoint.Debug.Lobby.ClickFBBind))},e.prototype.onClickInvite=function(){_.Logger.info("onClickInvite()"),this.delayLock&&(v.ComUtils.delayLimit(this,1e3),this.dispatch(I.LobbyEvent.Base.PLAY_LOBBY_EFFECT,a.AudioFile.Com.GO),this.dispatch(I.LobbyEvent.Click.CLICK_INVITE),b.BuryPointUtils.send(y.BuryPoint.Debug.Lobby.ClickInvite))},e.prototype.onChangeLanguage=function(){this.multiLang()},e.prototype.show=function(){this.node.active=!0},e.prototype.hide=function(){this.node.active=!1},e.prototype.onSwitchView=function(t){switch(t){case p.gLobbySubView.Scopa:case p.gLobbySubView.Tables:this.show();break;case p.gLobbySubView.Rank:case p.gLobbySubView.Club:this.hide()}},s([T(cc.Button)],e.prototype,"btnMore",void 0),s([T(cc.Button)],e.prototype,"pBtnFB",void 0),s([T(cc.Button)],e.prototype,"pBtnService",void 0),s([T(cc.Label)],e.prototype,"pFbLabel",void 0),s([T(cc.Label)],e.prototype,"labSupport",void 0),s([P],e)}(L.CxComponent);o.LobbyTopRightMenu=S,cc._RF.pop()},{"../../../../script/app/const/AudioFile":void 0,"../../../../script/app/const/Global":void 0,"../../../../script/app/event/GuiEvent":void 0,"../../../../script/app/event/Notify":void 0,"../../../../script/app/language/LanguageCfg":void 0,"../../../../script/app/model/ActivityDataProxy":void 0,"../../../../script/app/model/DataProxy":void 0,"../../../../script/app/module/buryPoint/BuryPoint":void 0,"../../../../script/app/module/buryPoint/BuryPointUtils":void 0,"../../../../script/app/platform/FaceBookSdk":void 0,"../../../../script/app/view/SettingLayer":void 0,"../../../../script/lib/base/CxComponent":void 0,"../../../../script/lib/i18n/i18nHelper":void 0,"../../../../script/lib/utils/ComUtils":void 0,"../../../../script/lib/utils/Logger":void 0,"../../../../script/lib/utils/ScreenAdapter":void 0,"../../../../script/plugin/pb/protofile/CMD_OtherMsg":void 0,"../../model/LobbyEvent":"LobbyEvent"}],LobbyTopUserInfo:[function(t,e,o){"use strict";cc._RF.push(e,"83ba4ygnpFF1LsqoTIog/II","LobbyTopUserInfo");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LobbyTopUserInfo=void 0;var a=t("../../../../script/app/const/Global"),p=t("../../../../script/app/event/Notify"),r=t("../../../../script/app/view/com/ComGoldInfo"),c=t("../../../../script/app/view/com/ComPowerInfo"),l=t("../../../../script/lib/utils/ScreenAdapter"),u=t("./../../../../script/lib/base/CxComponent"),d=t("./LobbyHeadInfo"),y=cc._decorator,b=y.ccclass,h=y.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pHeadInfo=null,e.pGoldInfo=null,e.pPowerInfo=null,e}return n(e,t),e.prototype.listEvent=function(){return new Map([[p.Notify.Lobby.SWICTH_VIEW,this.onSwitchView]])},e.prototype.start=function(){this.pHeadInfo&&l.ScreenAdapter.paddingTop(this.pHeadInfo.node),this.pGoldInfo&&l.ScreenAdapter.paddingTop(this.pGoldInfo.node),this.pPowerInfo&&l.ScreenAdapter.paddingTop(this.pPowerInfo.node)},e.prototype.show=function(){this.node.active=!0},e.prototype.hide=function(){this.node.active=!1},e.prototype.onSwitchView=function(t){switch(t){case a.gLobbySubView.Scopa:case a.gLobbySubView.Tables:this.show();break;case a.gLobbySubView.Rank:case a.gLobbySubView.Club:this.hide()}},s([h(d.LobbyHeadInfo)],e.prototype,"pHeadInfo",void 0),s([h(r.default)],e.prototype,"pGoldInfo",void 0),s([h(c.default)],e.prototype,"pPowerInfo",void 0),s([b],e)}(u.CxComponent);o.LobbyTopUserInfo=f,cc._RF.pop()},{"../../../../script/app/const/Global":void 0,"../../../../script/app/event/Notify":void 0,"../../../../script/app/view/com/ComGoldInfo":void 0,"../../../../script/app/view/com/ComPowerInfo":void 0,"../../../../script/lib/utils/ScreenAdapter":void 0,"./../../../../script/lib/base/CxComponent":void 0,"./LobbyHeadInfo":"LobbyHeadInfo"}],LobbyTree:[function(t,e,o){"use strict";cc._RF.push(e,"ab8b6N1CKZAk6e2bWz4qIg9","LobbyTree");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LobbyTree=void 0;var a=t("../../../../script/lib/base/CxComponent"),p=cc._decorator,r=p.ccclass,c=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),s([r],e)}(a.CxComponent));o.LobbyTree=c,cc._RF.pop()},{"../../../../script/lib/base/CxComponent":void 0}],LobbyUIConfig:[function(t,e,o){"use strict";cc._RF.push(e,"dbe7bwZB2hO75WQkTQt0fUj","LobbyUIConfig");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.LobbyBundleConfig=o.LobbyUIConfig=o.LobbyZIndex=void 0;var s,a=t("./../../../script/app/const/Global"),p=t("../../../script/app/config/ResConfig"),r=t("../../../script/lib/manager/ResManager");(function(t){t[t.BG=1]="BG",t[t.MainView=2]="MainView",t[t.TablesView=3]="TablesView",t[t.ClubView=3]="ClubView",t[t.BttomMenu=4]="BttomMenu",t[t.DeskBuildMenu=5]="DeskBuildMenu",t[t.TopRightMenu=4]="TopRightMenu",t[t.TopUserInfo=5]="TopUserInfo",t[t.TopMenu=6]="TopMenu",t[t.GoldenPassMenu=7]="GoldenPassMenu",t[t.Effct=100]="Effct"})(s=o.LobbyZIndex||(o.LobbyZIndex={})),o.LobbyUIConfig={bunldleName:a.gAssetBundleName.LOBBY_RES,prefab:{LobbyBottomMenu:new p.PrefabItem("LobbyBottomMenu","prefab/view/LobbyBottomMenu",a.gLayerLevel.Normal,s.BttomMenu),LobbyTopMenu:new p.PrefabItem("LobbyTopMenu","prefab/view/LobbyTopMenu",a.gLayerLevel.Normal,s.TopMenu),LobbyTopRightMenu:new p.PrefabItem("LobbyTopRightMenu","prefab/view/LobbyTopRightMenu",a.gLayerLevel.Normal,s.TopRightMenu),LobbyTopUserInfo:new p.PrefabItem("LobbyTopUserInfo","prefab/view/LobbyTopUserInfo",a.gLayerLevel.Normal,s.TopUserInfo),LobbyEffectLayer:new p.PrefabItem("LobbyEffectLayer","prefab/view/other/LobbyEffectLayer",a.gLayerLevel.Normal,s.Effct),LobbyTree:new p.PrefabItem("LobbyTree","prefab/view/LobbyTree",a.gLayerLevel.Normal,s.BG)},altas:["altas/LobbyRoom"],popup:{LobbyGameView:new p.PrefabItem("LobbyGameView","prefab/view/LobbyGameView",a.gLayerLevel.Popup,0),LobbyUserLayer:new p.PrefabItem("LobbyUserLayer","prefab/view/LobbyUserLayer",a.gLayerLevel.Popup,p.PopupZIndex.userInfo),LobbyHeadModify:new p.PrefabItem("LobbyHeadModify","prefab/view/LobbyHeadModify",a.gLayerLevel.Popup,p.PopupZIndex.userInfo+1),LobbyTestGold:new p.PrefabItem("LobbyTestGold","prefab/view/other/LobbyTestGold",a.gLayerLevel.Popup,0),BindAccountLayer:new p.PrefabItem("BindAccountLayer","prefab/view/bind/BindAccountLayer",a.gLayerLevel.Popup,p.PopupZIndex.userInfo+1),BindAccountConfirm:new p.PrefabItem("BindAccountConfirm","prefab/view/bind/BindAccountConfirm",a.gLayerLevel.Popup,0)}};var c=function(t){function e(){var e=t.call(this)||this;return e.name=a.gAssetBundleName.LOBBY_RES,e.tips="\u5927\u5385",e.dependency=[a.gAssetBundleName.LOBBY_SRC,a.gAssetBundleName.TABLES_RES,a.gAssetBundleName.ACTIVITY_RES],e}return n(e,t),e.prototype.getRes=function(){return o.LobbyUIConfig},e}(r.BundleConfig);o.LobbyBundleConfig=c,r.default.getInstance().addBundleCfg(new c),cc._RF.pop()},{"../../../script/app/config/ResConfig":void 0,"../../../script/lib/manager/ResManager":void 0,"./../../../script/app/const/Global":void 0}],LobbyUserLayer:[function(t,e,o){"use strict";cc._RF.push(e,"880aaEbJa1JTqzbYbvm1VJl","LobbyUserLayer");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../script/app/const/Global"),p=t("../../../../script/app/event/GuiEvent"),r=t("../../../../script/app/event/Notify"),c=t("../../../../script/app/language/LanguageCfg"),l=t("../../../../script/app/model/DataProxy"),u=t("../../../../script/app/module/login/view/LoginManager"),d=t("../../../../script/app/view/ComUI"),y=t("../../../../script/lib/base/CxComponent"),b=t("../../../../script/lib/utils/ComUtils"),h=cc._decorator,f=h.ccclass,L=h.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pHeadNode=null,e.pNameLabel=null,e.pGoldLabel=null,e.pPowerLabel=null,e.pIDLabel=null,e.pModBtn=null,e.pTotalWinTitle=null,e.pTotalWinInfo=null,e.pGame1_Title=null,e.pGame1_Info=null,e.pGame2_Title=null,e.pGame2_Info=null,e.delayLock=!0,e}return n(e,t),e.prototype.start=function(){this.initLayer(),this.dispatch(r.Notify.UserInfo.GET_USER_INFO)},e.prototype.initParams=function(){return{title:"",showTitle:!1,showSubBG:!1}},e.prototype.listEvent=function(){return new Map([[r.Notify.Base.UPDATE_USERINFO,this.onUserInfo]])},e.prototype.initLayer=function(){this.initLang();var t=l.DataProxy.getInstance().userData;if(t){if(this.pNameLabel&&(this.pNameLabel.string=t.userName,t.bIsGoldenPass&&d.ComUI.LabelToGolden(this.pNameLabel)),this.pGoldLabel&&(this.pGoldLabel.string=""+t.gold),this.pPowerLabel&&t.powerInfo&&(this.pPowerLabel.string=""+t.powerInfo.dwCurPS),this.pIDLabel&&(this.pIDLabel.string="id:"+t.userId),this.pHeadNode&&this.dispatch(r.Notify.Head.CREATE_HEAD,{parent:this.pHeadNode,userId:t.userId,sex:t.gender,size:cc.size(this.pHeadNode.width,this.pHeadNode.height),save:!0,faceId:t.faceId,url:t.headUrl,level:t.level,rankLever:t.rankLever||0,rankStartLever:t.rankStartLever||0}),this.pModBtn){var e=!1,o=u.LoginManager.getInstance().getLoginType();o!=a.gLoginType.YK&&o!=a.gLoginType.Apple||t.bindAccountInfo&&(e=!t.bindAccountInfo.isBind),this.pModBtn.node.active=e}this.pTotalWinInfo&&(this.pTotalWinInfo.string=this.getWinInfo(t.dwJushuTotal,t.dwWinCount));for(var i=[this.pGame1_Info,this.pGame2_Info],n=t.gameWinList,s=0;s<i.length;s++){var p=i[s],c=n[s];if(p){var y=c&&c.total||0,b=c&&c.win||0;p.string=this.getWinInfo(y,b)}}}},e.prototype.initLang=function(){b.ComUtils.setLangText(this.pTotalWinTitle,c.LangKey.user_total_wins),b.ComUtils.setLangText(this.pGame1_Title,c.LangKey.user_scopa_wins),b.ComUtils.setLangText(this.pGame2_Title,c.LangKey.user_scopone_wins)},e.prototype.getWinInfo=function(t,e){var o=0;return t>0&&(o=Math.floor(e/t*100)),e+"("+o+"%)"},e.prototype.onUserInfo=function(){this.initLayer()},e.prototype.onClickModify=function(){this.delayLock&&(b.ComUtils.delayLimit(this,1e3),this.dispatch(p.GuiEvent.PopMsg.DISPLAY_MODIFY_HEAD))},s([L(cc.Node)],e.prototype,"pHeadNode",void 0),s([L(cc.Label)],e.prototype,"pNameLabel",void 0),s([L(cc.Label)],e.prototype,"pGoldLabel",void 0),s([L(cc.Label)],e.prototype,"pPowerLabel",void 0),s([L(cc.Label)],e.prototype,"pIDLabel",void 0),s([L(cc.Button)],e.prototype,"pModBtn",void 0),s([L(cc.Label)],e.prototype,"pTotalWinTitle",void 0),s([L(cc.Label)],e.prototype,"pTotalWinInfo",void 0),s([L(cc.Label)],e.prototype,"pGame1_Title",void 0),s([L(cc.Label)],e.prototype,"pGame1_Info",void 0),s([L(cc.Label)],e.prototype,"pGame2_Title",void 0),s([L(cc.Label)],e.prototype,"pGame2_Info",void 0),s([f],e)}(y.CxComponent);o.default=g,cc._RF.pop()},{"../../../../script/app/const/Global":void 0,"../../../../script/app/event/GuiEvent":void 0,"../../../../script/app/event/Notify":void 0,"../../../../script/app/language/LanguageCfg":void 0,"../../../../script/app/model/DataProxy":void 0,"../../../../script/app/module/login/view/LoginManager":void 0,"../../../../script/app/view/ComUI":void 0,"../../../../script/lib/base/CxComponent":void 0,"../../../../script/lib/utils/ComUtils":void 0}],LobbyVoice:[function(t,e,o){"use strict";cc._RF.push(e,"c5494+yygpJmKkhGUMqQvDN","LobbyVoice"),Object.defineProperty(o,"__esModule",{value:!0}),o.LobbyVoice=void 0;var i=t("../../../script/app/const/AudioFile"),n=t("../../../script/app/event/Notify"),s=t("../../../script/lib/event/EventDispatcher"),a=t("../model/LobbyEvent"),p=function(){function t(){var t=this;this.BG_MUSIC=i.AudioFile.Lobby.BG_MUSIC;var e=this.listEvent();e&&e.size>0&&e.forEach(function(e,o){s.EventDispatcher.getInstance().add(o,e,t,0)})}return t.prototype.listEvent=function(){return new Map([[a.LobbyEvent.Base.PLAY_LOBBY_MUSIC,this.onPlayBgMusic],[a.LobbyEvent.Base.PLAY_LOBBY_EFFECT,this.playOtherEffect]])},t.prototype.onDestroy=function(){s.EventDispatcher.getInstance().remove(this)},t.prototype.dispatch=function(t,e){s.EventDispatcher.getInstance().dispatch(t,e)},t.prototype.onPlayBgMusic=function(t){void 0===t&&(t=this.BG_MUSIC),this.dispatch(n.Notify.Base.PLAY_MUSIC,{path:t})},t.prototype.playOtherEffect=function(t){this.dispatch(n.Notify.Base.PLAY_EFFECT,{path:t})},t}();o.LobbyVoice=p,cc._RF.pop()},{"../../../script/app/const/AudioFile":void 0,"../../../script/app/event/Notify":void 0,"../../../script/lib/event/EventDispatcher":void 0,"../model/LobbyEvent":"LobbyEvent"}]},{},["LobbyHandler","LobbyVoice","LobbyEvent","LobbyUIConfig","LobbyPopupMgr","LobbyScene","BindAccountConfirm","BindAccountLayer","LobbyBottomMenu","LobbyDeskBuild","LobbyGoldInfo","LobbyHeadInfo","LobbyMainView","LobbyTopMenu","LobbyTopRightMenu","LobbyTopUserInfo","LobbyEffectLayer","LobbyFinger","LobbyTestGold","LobbyTree","LobbyGameItem","LobbyGameView","LobbyTablesList","LobbyHeadItem","LobbyHeadModify","LobbyUserLayer"]);